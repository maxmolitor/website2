(function () {
    'use strict';

    class Frame {

        constructor(x = 0, y = 0, w = 0, h = 0) {
            this.x = x;
            this.y = y;
            this.w = w;
            this.h = h;
            this.scale = 1;
        }
    }

    class View extends Frame {
        /* Base class for virtual views which arrange thumbnails. */

        clear() {
            app.scene.clear();
        }

        adjust() {
            let xx= (this.movableX) ? this.x : 0;
            let yy = (this.movableY) ? this.y : 0;
            let scale = this.scale;
            app.scene.reset(xx, yy, scale);
        }
    //
    //     save(x, y, scale) {
    //         console.log("save")
    //         this.scale = scale
    //         this.x = x
    //         this.y = y
    //     }

        get movableX() {
            return false
        }

        get movableY() {
            return false
        }

        resize(w, h) {
            this.w = w;
            this.h = h;
            app.resizeStage(w, h);
        }
    }

    class Overview extends View {

        layout(w, h) {
            if (app.timebar)
                app.timebar.clear();
            let tx = 0, ty = 0;
            let start = 0, index = 0;
            let dx = 2, dy = 4;
            let hh = app.wantedThumbHeight;
            app.allData.forEach(function (d) {
                let scale = d.scaledWidth / d.width;
                let ww = d.scaledWidth * (hh /  d.scaledHeight);
                let wwdx = ww + dx;
                if (tx+wwdx > w) {
                    let delta = (w - tx) / ((index - start) - 1);
                    let j = 0;
                    for(let i=start; i<index; i++) {
                        app.allData[i].x += j*delta;
                        j++;
                    }
                    tx = 0;
                    ty += hh + dy;
                    start = index;
                }
                d.x = tx;
                d.y = ty;
                d.width = ww;
                d.height = hh;
                tx += wwdx;
                index++;
            });
            this.resize(w-8, Math.min(h - 66, ty + hh));
        }
    }

    class FontInfo {

        static get small() {
            return {fontFamily : 'Arial',
                fontSize: 14,
                stroke: 'black',
                fill : 'white'}
        }

        static get normal() {
            return {fontFamily : 'Arial',
                fontSize: 24,
                stroke: 'black',
                fill : 'white'}
        }

        static get centered()  {
            return { fontFamily : 'Arial',
                fontSize: 24,
                stroke: 'black',
                align : 'center',
                fill : 'white'}
        }
    }

    class LabeledGraphics extends PIXI.Graphics {

        constructor() {
            super();
            this.labels = new Map();
        }

        ensureLabel(key, label, attrs, fontInfo=FontInfo.small) {
            if (!this.labels.has(key)) {
                let text = new PIXI.Text(label, fontInfo);
                this.labels.set(key, text);
                this.addChild(text);
            }
            let text = this.labels.get(key);
            for(let k in attrs) {
                text[k] = attrs[k];
            }
            if (label != text.text)
                text.text = label;
            text.anchor.y = 0.5;
            switch(attrs.align) {
                case 'right':
                    text.anchor.x = 1;
                    break
                case 'center':
                    text.anchor.x = 0.5;
                    break
                default:
                    text.anchor.x = 0;
                    break
            }
            text.visible = true;
            return text
        }

        clear() {
            super.clear();
            for(let key of this.labels.keys()) {
                let label = this.labels.get(key);
                label.visible = false;
            }
        }
    }

    function lerp(start, stop, amt) {
        return amt * (stop-start) + start
    }

    class TimeScrollbar extends LabeledGraphics {

        constructor() {
            super();
            this.inset = 32;
            this.years = [-300, 0, 500, 1000, 1500, 1600, 1700, 1800, 1900, 2000];
            this.dot = new PIXI.Graphics();
            this.dot.beginFill(0xFFFFFF, 1);
            this.dot.drawCircle(0, 0, 4);
            this.addChild(this.dot);
            this.setup();
        }

        clear() {
            super.clear();
            this.dot.visible = false;
        }

        setup() {
            let start = this.onDragStart.bind(this);
            let move = this.onDragMove.bind(this);
            let end = this.onDragEnd.bind(this);
            this.interactive = true;
            this.on('mousedown', start)
                .on('touchstart', start)
                .on('mouseup', end)
                .on('mouseupoutside', end)
                .on('touchend', end)
                .on('touchendoutside', end)
                .on('mousemove', move)
                .on('touchmove', move);
        }

        onDragStart(event) {
            // store a reference to the data
            // the reason for this is because of multitouch
            // we want to track the movement of this particular touch
            this.data = event.data;
            this.dragging = true;
            let p = this.data.getLocalPosition(this.parent);
            this.moveDot(p.x);
        }

        onDragEnd(event) {
            this.dragging = false;
            this.data = null;
        }

        onDragMove(event) {
            if (this.dragging) {
                let p = this.data.getLocalPosition(this.parent);
                this.moveDot(p.x);
            }
        }

        yearToX(t, start, end, w, inset) {
            let value = t / (end - start);
            return lerp(inset, w-inset, value)
        }

        moveDot(x) {
            let inset = this.inset;
            let timeline = app.currentView;
            let start = timeline.yearToX(-320);
            let end = timeline.yearToX(2010);
            if (x < inset)
                x = inset;
            if (x > this.wantedWidth-inset)
                x = this.wantedWidth-inset;
            this.dot.x = x;
            x = x - inset;
            let w = this.wantedWidth - (2*inset);
            let ratio = x / w;
            let sceneX = ratio * ((end - start) - this.wantedWidth);
            app.scene.x = -sceneX;
        }

        timelineToDotX(xPos) {
            let inset = this.inset;
            let timeline = app.timeline;
            let start = timeline.yearToX(this.years[0]);
            let end = timeline.yearToX(this.years[9]);
            let w = this.wantedWidth;
            let x = inset + (-xPos - start) / (end - start) * (w - (2*inset));
            if (x < inset)
                x = inset;
            if (x > this.wantedWidth-inset)
                x = this.wantedWidth-inset;
            return x
        }

        sceneMoved(x) {
            this.dot.x = this.timelineToDotX(x);
        }

        layout(timeline, w, h, bottom) {
            let inset = this.inset;
            this.clear();
            this.beginFill(0x000000);
            this.drawRect(0, bottom-22, w, 44);

            this.lineStyle(1, 0xFFFFFF);
            this.moveTo(inset, bottom);
            this.lineTo(w-inset, bottom);
            let start = timeline.yearToX(this.years[0]);
            let end = timeline.yearToX(this.years[9]);
            for(let year of this.years) {
                let t = timeline.yearToX(year);
                let x = this.yearToX(t, start, end, w, inset);
                let label = this.ensureLabel('key'+year, year.toString(), {align: 'center'});
                label.x = x;
                label.y = bottom - 12;
            }
            this.dot.visible = true;
            this.dot.y = bottom;
            this.wantedWidth = w;
            let xx = this.timelineToDotX(app.timeline.x);
            this.dot.x = xx;
        }
    }

    class Timeline extends View {

        constructor() {
            super();
            this.startYear = -320;

            this.epochLabels = ['ANTIKE',
                'MITTELALTER',
                'RENAISSANCE',
                'EUROPÄISCHER BAROCK',
                'BAROCK IM NORDEN EUROPAS',
                '18. JAHRHUNDERT',
                'ROMANTIK & MODERNE'];

            this.extraLabels = [
                [0, '• Christi Geburt'],
                [780, '• Christianisierung Nordwestdeutschlands'],
                [1130, '• Heinrich der Löwe'],
                [1492, '• Entdeckung Amerikas'],

                [1517, '• Beginn der Reformation'],
                [1618, '• Beginn des Dreißigjährigen Krieges'],
                [1648, '• Ende des Dreißigjährigen Krieges'],

                [1633, '• Geburt Herzog Anton Ulrichs'],
                [1694, '• Einweihung des Schlosses Salzdahlum'],
                [1714, '• Tod Herzog Anton Ulrichs'],
                [1754, '• Eröffnung des Herzog Anton Ulrich-Museums'],
                [1789, '• Französische Revolution'],
                [1806, '• Napoleonische Besetzung, Zeitweise Überführung der Bestände in den Louvre'],
                [1887, '• Eröffnung des Neubaus des HAUM'],
                [1914, '• Erster Weltkrieg'],
                [1939, '• Zweiter Weltkrieg']];

            this.epochColors = [[0xFFFFFF, 'black'],  // [ background color, font color ]
                [0x3333CC, 'white' ],
                [0xF76B00, 'white' ],
                [0xCE1018, 'white' ],
                [0xA5B531, 'white'],
                [0x639CAD, 'white'],
                [0xFFFFFF, 'black' ]];

            this.renaissanceStarts = 1450;
            this.modernStarts = 1800;

            this.epochStarts = [-320, 600, 1450, 1600, 1608, 1700, 1800];
            this.epochEnds = [600, 1450, 1600, 1680, 1700, 1800, 2010];
            this.epochNumLabels = [3, 2, 4, 3, 3, 3, 3];
            this.epochTimeResolution = [100, 100, 10, 10, 10, 10, 10];
        }

        get movableX() {
            return true
        }

        yearToX(year) {
            year -= this.startYear;
            let newness = this.renaissanceStarts - this.startYear;
            let modern = this.modernStarts  - this.startYear;

            const oldSize = 1.0;
            const newSize = 17.5;
            const modernSize = 10.0;

            let startNew = newness * oldSize;
            if (year < newness)
                return year * oldSize

            if (year > modern)
                return startNew + (modern-newness) * newSize + (year - modern) * modernSize

            return startNew + (year-newness) * newSize
        }


        smallFont(color) {
            return {fontFamily : 'Arial',
                fontSize: 14,
                stroke: color,
                fill : color}
        }


        layoutEpochs(w, h, bottom) {
            let graphics = app.scene;
            let last = this.yearToX(2010);
            let y = bottom - 32;
            let i = 0;
            let lastEnd = 0;
            for(let epoch of this.epochLabels) {
                let offsetY = 0;
                let [color, fontColor] = this.epochColors[i];
                let start = this.yearToX(this.epochStarts[i]);
                let end = this.yearToX(this.epochEnds[i]);
                if (start < lastEnd)
                    offsetY = -14;
                graphics.lineStyle(14, color);
                graphics.moveTo(start, y+offsetY);
                graphics.lineTo(end, y+offsetY);
                let numLabels = this.epochNumLabels[i];
                let xx = start;
                let delta = (end - start) / (numLabels-1);

                let key = this.epochLabels[i];
                for(let j=0; j<numLabels; j++) {
                    let align = 'center';
                    let offsetX = 0;
                    if (j == 0) {
                        align = 'left';
                        offsetX = 4;
                    }
                    if (j == numLabels-1) {
                        align = 'right';
                        offsetX = -4;
                    }
                    let label = graphics.ensureLabel('epoch'+key+j, key,
                                                        {align: align},
                                                        this.smallFont(fontColor));
                    label.x = xx + offsetX;
                    label.y = y + offsetY;
                    xx += delta;
                }

                graphics.lineStyle(1, color, 0.2);
                let resolution = this.epochTimeResolution[i];
                let t1 = this.epochStarts[i];
                let first = t1 - (t1 % 100);

                for(let t=first; t<this.epochEnds[i]; t+=resolution) {
                    if (t < t1)
                        continue
                    let x = this.yearToX(t);
                    graphics.moveTo(x, y+offsetY);
                    graphics.lineTo(x, 0);
                    let label = graphics.ensureLabel('year'+t, t.toString(),
                                                        {align: 'left'},
                                                        this.smallFont('gray'));
                    label.x = x + 4;
                    label.y = 7;
                }

                i++;
                lastEnd = end;
            }
            for(let [year, key] of this.extraLabels) {
                let x = this.yearToX(year);
                let label = graphics.ensureLabel('extra'+year, key,
                                                        {align: 'left'},
                                                        this.smallFont('gray'));
                label.x = x;
                label.y = 44;
            }
        }

        layout(w, h) {
            const margin = 4;
            let maxX = 0;
            let baseY = h - 160;
            let yy = baseY - 100;
            let r = new Frame();
            // Layout thumbnails
            app.allData.forEach((d) => {
                let ww = d.scaledWidth;
                let hh = d.scaledHeight;
                let year = d.year;
                let x = this.yearToX(year);
                let y = yy;
                if ((x < r.x + r.w) && (y > r.y - r.h)) {
                    y = r.y - r.h - margin;
                }
                if (y < 100) {
                    y = yy;
                }
                r = new Frame(x, y, ww, hh);
                d.x = x;
                d.y = y;
                d.width = ww;
                d.height = hh;
                maxX = Math.max(x + ww, maxX);
            });
            let bottom = baseY + 32;
            app.timebar.layout(this, w, h, bottom);
            this.layoutEpochs(w, h, bottom);
            this.resize(maxX, bottom);
        }
    }

    class MapView extends View   {

        constructor() {
            super();
            this.map = PIXI.Sprite.fromImage('./Lageplan2.png');
        }

        clear() {
            super.clear();
            this.map.visible = false;
        }

        get movableX() {
            return true
        }

        get movableY() {
            return true
        }

        layout(w, h) {
            this.map.visible = true;
            app.scene.addChildAt(this.map, 0);
            app.timebar.clear();
            let baseY = h - 32;
            this.resize(2048, baseY + 32);

            app.allData.forEach(function (d) {
                let ww = d.scaledWidth * 0.75;
                let hh = d.scaledHeight * 0.75;
                d.x = d.mapX - ww /2;
                d.y = d.mapY - hh /2;
                d.width = ww;
                d.height = hh;
            });
        }
    }

    class CategoryView extends View {

        layout(w, h) {
            if (app.timebar)
                app.timebar.clear();
            let baseY = h - 32;
            this.resize(w, baseY + 32);

            //rescale background image
            /*this.ratio = this.backgroundImg.width / app.width
            //console.log("rescaling bgImage (layout)",this.backgroundImg.width,app.width,this.ratio)
            this.backgroundImg.width = app.width
            this.backgroundImg.height = this.backgroundImg.height / this.ratio*/

            this.viewHeight = app.height * 0.85; //that's really a rough estimate...
            this.ratio = this.backgroundImg.height / this.viewHeight;
            this.backgroundImg.height = this.viewHeight;
            this.backgroundImg.width = this.backgroundImg.width / this.ratio;
            if(this.offsetX)
                this.oldOffsetX = this.offsetX;
            else
                this.oldOffsetX = 0;
            this.offsetX = (app.width - this.backgroundImg.width) / 2;
            this.backgroundImg.x = this.offsetX;


            //add background to stage
            app.stage.addChildAt(this.bgSprite,0);
            let bgRectangle = new PIXI.Graphics();
            bgRectangle.beginFill(0x000000);
            bgRectangle.drawRect(0,0,app.width,app.height);
            bgRectangle.endFill();
            this.bgSprite.addChildAt(bgRectangle,0);
            //this.bgSprite.y = app.height * 0.05

            //resize thumbs
            app.allData.forEach(function (d) {
                //this.thumbScaleFactor = 2048 / app.width
                this.thumbScaleFactor = 1280 / this.viewHeight;
                let thumbSizeScaled = 205 / this.thumbScaleFactor;
                let scaleFactorToCurrentSize = thumbSizeScaled / d.scaledHeight;
                let ww = d.scaledWidth * scaleFactorToCurrentSize;
                let hh = d.scaledHeight * scaleFactorToCurrentSize;
                d.width = ww;
                d.height = hh;
            },this);

            //position thumbs
            app.allData.forEach(function (d) {
                let key = parseInt(d.ref);
                //console.log("finding position for artwork:",key)
                //console.log(this.positions[key])
                let target = this.positions[key];
                if(target == undefined) {
                    d.x = -d.width;
                    d.y = 0;
                }
                else {
                    d.x = (target.x / this.thumbScaleFactor) + this.offsetX;
                    d.y = target.y / this.thumbScaleFactor;
                    //d.y += app.height * 0.05
                }

            },this);

            //position and scale info icons
            for(let i = 0; i < 3; i++){
                this.categoryInfoIcons[i].x -= this.oldOffsetX;
                this.categoryInfoIcons[i].width /= this.ratio;
                this.categoryInfoIcons[i].height /= this.ratio;
                this.categoryInfoIcons[i].x /= this.ratio;
                this.categoryInfoIcons[i].y /= this.ratio;
                this.categoryInfoIcons[i].x += this.offsetX;
            }

            this.clearInfo();

        }

        clear() {
            super.clear();
            app.stage.removeChild(this.bgSprite);
        }

        init(backgroundUrl, positionsUrl, categoryUrl){
            //init background image
            this.bgSprite = new PIXI.Sprite();
            this.backgroundImg = PIXI.Sprite.fromImage(backgroundUrl);
            this.bgSprite.addChildAt(this.backgroundImg,0);

            //init artwork positions
            let positionsText = this.readTextFile(positionsUrl, false);
            let positionsLines = positionsText.split("\n");
            let positionsDict = {};

            positionsLines.forEach(function(entry){
                let curLine = entry.split("\t");
                if(curLine[0] != "")
                    positionsDict[curLine[0]] = new Point(curLine[1],curLine[2]);
            });

            this.positions = positionsDict;

            //init description texts and info icons
            let categoryXml = this.readTextFile(categoryUrl, true);

            let headers = categoryXml.getElementsByTagName("h1");
            let bodies = categoryXml.getElementsByTagName("body");
            let infoXPositions = categoryXml.getElementsByTagName("infoX");
            let infoYPositions = categoryXml.getElementsByTagName("infoY");

            this.categoryInfoIcons = [];
            this.categoryHeaders = [];
            this.categoryDescriptions = [];
            this.categoryInfoIconPositions = [];
            for(let i = 0; i < 3; i++){
                let tmpIcon = PIXI.Sprite.fromImage("./icon_info_1x.png");
                tmpIcon.interactive = true;
                this.categoryInfoIcons[i] = tmpIcon;
                this.bgSprite.addChild(tmpIcon);
                tmpIcon.click = this.infoSelected.bind(this);
                tmpIcon.tap = this.infoSelected.bind(this);

                let tmpPos = new Point(infoXPositions[i].childNodes[0].nodeValue, infoYPositions[i].childNodes[0].nodeValue);
                this.categoryHeaders[i] = headers[i].childNodes[0].nodeValue;
                this.categoryDescriptions[i] = bodies[i].childNodes[1].nodeValue;
                this.categoryInfoIconPositions[i] = tmpPos;
                this.categoryInfoIcons[i].x = tmpPos.x;
                this.categoryInfoIcons[i].y = tmpPos.y;
                this.categoryInfoIcons[i].id = 'catInfoIcon';
            }
            //console.log(this.categoryHeaders)
            //console.log(this.categoryDescriptions[0])

            this.currentInfoIdx = -1;

        }

        infoSelected(event) {
            //console.log("info selected",event)

            let d = event.target;
            let idx = this.categoryInfoIcons.indexOf(d);

            //category info views
            this.infoBg = new PIXI.Graphics;
            this.infoBg.beginFill(0x000000,0.8);
            this.infoBg.drawRect((this.backgroundImg.width / 3) * idx, 0, this.backgroundImg.width / 3, this.backgroundImg.height * 1.1);
            this.infoBg.endFill();
            this.infoBg.x = this.offsetX;

            //text
            let h1style = new PIXI.TextStyle({
                fontFamily: 'Arial',
                fontSize: this.backgroundImg.width / 50,
                //fontWeight: 'bold',
                fill: 'white',
                align: 'left',
                wordWrap: true,
                wordWrapWidth: 440,
                dropShadow: true,
                dropShadowColor: '#000000',
                dropShadowBlur: 4
            });
            let h1 = new PIXI.Text(this.categoryHeaders[idx], h1style);
            //let h1 = new PIXI.Text("hello", h1style)
            h1.x = (this.backgroundImg.width / 3) * idx + this.backgroundImg.width / 24;
            //h1.y = this.backgroundImg.height / 11
            //this.infoBg.addChild(h1)

            let infoTextStyle = new PIXI.TextStyle({
                fontFamily: 'Arial',
                fontSize: this.backgroundImg.width / 60,
                //fontWeight: 'bold',
                fill: 'white',
                align: 'left',
                wordWrap: true,
                wordWrapWidth: (this.backgroundImg.width / 3.75),
                dropShadow: true,
                dropShadowColor: '#000000',
                dropShadowBlur: 4
            });
            let body = new PIXI.Text(this.categoryDescriptions[idx], infoTextStyle);
            //let h1 = new PIXI.Text("hello", h1style)
            body.x = (this.backgroundImg.width / 3) * idx + this.backgroundImg.width / 24;
            //body.y = this.backgroundImg.height / 7
            body.y = this.backgroundImg.height / 10;
            this.infoBg.addChild(body);

            if(this.currentInfoIdx != idx){
                app.stage.addChild(this.infoBg);
                this.currentInfoIdx = idx;

                //logging
                app.log("category info opened",{id: (idx+1).toString()});

                this.infoListener = this.clearInfo.bind(this);
                window.document.addEventListener('mousedown',this.infoListener,false);
                window.document.addEventListener('touchstart',this.infoListener,false);
            }
            else{
                this.currentInfoIdx = -1;
            }

        }

        clearInfo(event) {

            if(app.stage.children.indexOf(this.infoBg) !== -1){
                window.document.removeEventListener('mousedown',this.infoListener);
                window.document.removeEventListener('touchstart',this.infoListener);
                app.stage.removeChild(this.infoBg);

                //logging
                app.log("category info closed","");

                //console.log(this.categoryInfoIcons[this.currentInfoIdx].containsPoint(new PIXI.Point(event.pageX,event.pageY)))
                //console.log(event.pageX,event.pageY,this.categoryInfoIcons[this.currentInfoIdx].x,this.categoryInfoIcons[this.currentInfoIdx].y)
                //console.log(this.categoryInfoIcons[this.currentInfoIdx].width,this.categoryInfoIcons[this.currentInfoIdx].height)
                //console.log(this.categoryInfoIcons[this.currentInfoIdx].containsPoint(new PIXI.Point(event.pageX,event.pageY-64)))

                if(!this.categoryInfoIcons[this.currentInfoIdx].containsPoint(new PIXI.Point(event.pageX,event.pageY-64))){
                    this.currentInfoIdx = -1;
                }


            }

        }

        readTextFile(file,targetIsXml)
        {
            let rawFile = new XMLHttpRequest();
            let response;
            rawFile.open("GET", file, false);
            rawFile.onreadystatechange = function ()
            {
                if(rawFile.readyState === 4)
                {
                    if(rawFile.status === 200 || rawFile.status == 0)
                    {
                        if(targetIsXml)
                            response = rawFile.responseXML;
                        else
                            response = rawFile.responseText;
                    }
                }
            };
            rawFile.send(null);
            return response
        }

    }

    class Point {
        constructor(x, y) {
            this.x = x;
            this.y = y;
        }
    }

    //
    // description:		module offers local logging in indexedDB
    // author:			Leibniz-Institut für Wissensmedien Tübingen, Andre Klemke
    //

    class LocalLogger {
        constructor() {
            this.db = null;
            this.dbrequest = null;
            //window.iwmstudy.logger = this;
        }

        init() {
            this.dbrequest = indexedDB.open('iwmstudy', 1);
            this.dbrequest.addEventListener(
                'upgradeneeded',
                this.dbUpdateNeeded.bind(this)
            );
            this.dbrequest.addEventListener('success', this.dbOpened.bind(this));
            this.dbrequest.addEventListener('error', console.log('error:',this.dbrequest.error));
        }

        dbUpdateNeeded(event) {
            // event for db creation or modification
            console.log('local DB created or modified');
            this.db = this.dbrequest.result;
            if (!this.db.objectStoreNames.contains('pagevisit')) {
                let store = this.db.createObjectStore('pagevisit', {
                    keyPath: 'key',
                    autoIncrement: true
                });
                store.createIndex(
                    'pagevisit_index1',
                    ['studyid', 'runid', 'userid', 'pagecounter', 'pageid'],
                    {unique: false}
                );
                store.createIndex(
                    'pagevisit_index2',
                    ['studyid', 'runid', 'userid', 'dataavailable'],
                    {unique: false}
                );
                store.createIndex(
                    'pagevisit_index3',
                    ['studyid', 'dataavailable'],
                    {unique: false}
                );
                store.createIndex(
                    'pagevisit_index4',
                    ['studyid', 'runid', 'userid', 'pageid'],
                    {unique: false}
                );
            }
            if (!this.db.objectStoreNames.contains('run')) {
                let store = this.db.createObjectStore('run', {
                    keyPath: 'key',
                    autoIncrement: true
                });
                store.createIndex('run_index1', 'studyid', {unique: false});
            }
            if (!this.db.objectStoreNames.contains('user')) {
                let store = this.db.createObjectStore('user', {
                    keyPath: 'key',
                    autoIncrement: true
                });
                store.createIndex('user_index1', 'userid', {unique: false});
            }
            if (!this.db.objectStoreNames.contains('message')) {
                let store = this.db.createObjectStore('message', {
                    keyPath: 'key',
                    autoIncrement: true
                });
            }
            if (!this.db.objectStoreNames.contains('log')) {
                let store = this.db.createObjectStore('log', {
                    keyPath: 'key',
                    autoIncrement: true
                });
                store.createIndex('log_index1', 'studyid', {unique: false});
                store.createIndex('log_index2', ['studyid', 'timestamp'], {
                    unique: false
                });
            }
            if (!this.db.objectStoreNames.contains('loganonymous')) {
                let store = this.db.createObjectStore('loganonymous', {
                    keyPath: 'key',
                    autoIncrement: true
                });
            }
        }

        dbOpened(event) {
            console.log('local DB openend');
            this.db = this.dbrequest.result;
        }

        getPagevisitData(studyid, runid, userid, pageid, formid, callback) {
            console.log(`get pagevisit data ${pageid} ${formid}`);
            let trans = this.db.transaction(['pagevisit'], 'readonly');
            let store = trans.objectStore('pagevisit');
            let index = store.index('pagevisit_index4');
            let request = index.openCursor(
                IDBKeyRange.only([studyid, runid, userid, pageid])
            );
            let formvalue;
            let relatedpagecounter = 0;
            request.onsuccess = function(evt) {
                let cursor = evt.target.result;
                if (cursor) {
                    if (cursor.value.pagecounter > relatedpagecounter) {
                        relatedpagecounter = cursor.value.pagecounter;
                        formvalue = null;
                        if (cursor.value.dataavailable == 1) {
                            if (cursor.value.data.hasOwnProperty(formid)) {
                                formvalue = cursor.value.data[formid];
                            }
                        }
                    }
                    cursor.continue();
                } else {
                    //self only implemented
                    callback(`self.${pageid}.${formid}`, formvalue);
                }
            };
        }

        createRun(studyid, conditionid, neededuser, userid, expversion) {
            console.log(
                `creating run for user ${userid} with condition ${conditionid}`
            );
            let lastrunid = 0;
            let trans = this.db.transaction(['run'], 'readonly');
            let store = trans.objectStore('run');
            let index = store.index('run_index1');
            let request = index.openCursor(IDBKeyRange.only(studyid));
            request.onsuccess = function(evt) {
                let cursor = evt.target.result;
                if (cursor) {
                    if (cursor.value.runid > lastrunid) {
                        lastrunid = cursor.value.runid;
                    }
                    cursor.continue();
                } else {
                    let dbitem = {
                        studyid: studyid,
                        runid: lastrunid + 1,
                        conditionid: conditionid,
                        expversion: expversion,
                        neededuser: neededuser,
                        currentuser: [userid],
                        currentpage: null,
                        pagehistory: null,
                        pagemetadata: null,
                        pagegroupmetadata: null,
                        runtimedata: null
                    };
                    let trans = iwmstudy.logger.db.transaction(['run'], 'readwrite');
                    let store = trans.objectStore('run');
                    let request = store.put(dbitem);
                    request.onsuccess = function(evt) {
                        console.log(`run created`);
                        let event = new CustomEvent('runready', {
                            detail: {runid: lastrunid + 1}
                        });
                        window.dispatchEvent(event);
                    };
                }
            };
        }

        createMessage(studyid, runid, target, source, mode, type, data) {}

        notifyForAddedUser(studyid, runid) {}

        checkMessages(studyid, runid, user) {}

        getRun(studyid, runid) {}

        getRunUser(studyid, runid) {}

        getOpenRun(studyid) {
            console.log('check for open run');
            let event = new CustomEvent('openrunresult', {
                detail: {runfound: false, runid: '0', condition: '', neededuser: 1}
            });
            window.dispatchEvent(event);
        }

        getExistingOwnRun(studyid, userid) {}

        addUserToRun(studyid, runid, userid) {
            console.log(`adding user ${userid} to run ${runid}`);
            let event = new CustomEvent('runready', {detail: {runid: runid}});
            window.dispatchEvent(event);
        }

        userSynced(studyid, runid, syncid) {}

        getUserRole(userid, password, study) {}

        getHash(datastring) {
            let bitArray = sjcl.hash.sha256.hash(datastring);
            let digest_sha256 = sjcl.codec.hex.fromBits(bitArray);
            return digest_sha256
        }

        registerUser(userid, password, email, study, role) {
            console.log('registerUser');
            let trans = this.db.transaction(['user'], 'readonly');
            let store = trans.objectStore('user');
            let index = store.index('user_index1');
            let request = index.openCursor(IDBKeyRange.only(userid));
            request.onsuccess = function(evt) {
                let cursor = evt.target.result;
                if (cursor) {
                    console.log(`userid already exists`);
                    let event = new CustomEvent('userregistrationfailed', {
                        detail: {cause: 'exists'}
                    });
                    window.dispatchEvent(event);
                } else {
                    let roles = {};
                    roles[study] = role;
                    let dbitem = {
                        userid: userid,
                        passwordhash: iwmstudy.logger.getHash(password),
                        email: email,
                        roles: roles
                    };
                    let trans = iwmstudy.logger.db.transaction(
                        ['user'],
                        'readwrite'
                    );
                    let store = trans.objectStore('user');
                    let request = store.put(dbitem);
                    request.onsuccess = function(evt) {
                        console.log(`user created`);
                        let event = new CustomEvent('userregistrationsucceeded', {
                            detail: null
                        });
                        window.dispatchEvent(event);
                    };
                }
            };
        }

        checkUserLogin(userid, password, study) {}

        addStudyToUser(userid, study, role) {}

        getLastPagecounter(studyid, runid, userid) {}

        pageEntered(
            studyid,
            runid,
            userid,
            pagecounter,
            pageid,
            syncid,
            timestamp,
            pagehistory
        ) {
            let dbitem = {
                studyid: studyid,
                runid: runid,
                userid: userid,
                pagecounter: pagecounter,
                pageid: pageid,
                syncid: syncid,
                starttime: timestamp,
                endtime: null,
                data: null,
                dataavailable: 0
            };
            let trans = this.db.transaction(['pagevisit'], 'readwrite');
            let store = trans.objectStore('pagevisit');
            let request = store.put(dbitem);
            request.onsuccess = function(evt) {
                console.log(`logged page ${pageid} entered`);
            };
        }

        pageLeft(
            studyid,
            runid,
            userid,
            pagecounter,
            pageid,
            timestamp,
            data,
            pagemetadata,
            pagegroupmetadata,
            runtimedatachanged,
            runtimedata
        ) {
            let trans = this.db.transaction(['pagevisit'], 'readwrite');
            let store = trans.objectStore('pagevisit');
            let index = store.index('pagevisit_index1');
            let request = index.openCursor(
                IDBKeyRange.only([studyid, runid, userid, pagecounter, pageid])
            );
            request.onsuccess = function(evt) {
                let cursor = evt.target.result;
                if (cursor) {
                    //fuer alle passenden Datensaetze (hier nur einer)
                    console.log(`logging ${pageid} pagedata`);
                    let item = cursor.value;
                    item.endtime = timestamp;
                    item.data = data;
                    if (Object.keys(data).length > 0) {
                        item.dataavailable = 1;
                    }
                    let request2 = cursor.update(item);
                    request2.onsuccess = function() {
                        console.log(`logging successfull ${pageid} ${data}`);
                    };
                    cursor.continue();
                }
            };
        }

        logAction(
            studyid,
            runid,
            userid,
            pagecounter,
            pageid,
            timestamp,
            elapsedtime,
            action,
            data
        ) {
            if (this.db === null) {
                console.warn('logAction db is null: Fix this error');
                return
            }
            let dbitem = {
                studyid: studyid,
                runid: runid,
                userid: userid,
                pagecounter: pagecounter,
                pageid: pageid,
                timestamp: timestamp,
                elapsedtime: elapsedtime,
                action: action,
                data: data
            };
            let trans = this.db.transaction(['log'], 'readwrite');
            let store = trans.objectStore('log');
            let request = store.put(dbitem);
            request.onsuccess = function(evt) {
                console.log(`logged action ${action}`);
            };
            //console.log(dbitem)
        }

        loganonymous(studyid, anonymousrunid, pageid, type, value) {}

        getAllRunData(studyid) {}
    }

    class Events {

        static stop(event) {
            event.preventDefault();
            event.stopPropagation();
        }

        static extractPoint(event) {
            switch(event.constructor.name) {
                case 'TouchEvent':
                    for (let i=0; i<event.targetTouches.length; i++) {
                        let t = event.targetTouches[i];
                        return {x: t.clientX, y: t.clientY}
                    }
                    break
                default:
                    return {x: event.clientX, y: event.clientY}
            }
        }

        static isMouseDown(event) {
            // Attempts to clone the which attribute of events failed in WebKit. May
            // be this is a bug or a security feature. Workaround: we introduce
            // a mouseDownSubstitute attribute that can be assigned to cloned
            // events after instantiation.
            if (Reflect.has(event, 'mouseDownSubstitute'))
                return event.mouseDownSubstitute
            return event.buttons || event.which
        }

        static extractTouches(targets) {
            let touches = [];
            for (let i=0; i<targets.length; i++) {
                let t = targets[i];
                touches.push({
                    targetSelector: this.selector(t.target),
                    identifier: t.identifier,
                    screenX: t.screenX,
                    screenY: t.screenY,
                    clientX: t.clientX,
                    clientY: t.clientY,
                    pageX: t.pageX,
                    pageY: t.pageY
                });
            }
            return touches
        }

        static createTouchList(targets) {
            let touches = [];
            for (let i=0; i<targets.length; i++) {
                let t = targets[i];
                let touchTarget = document.elementFromPoint(t.pageX, t.pageY);
                let touch = new Touch(undefined, touchTarget, t.identifier,
                                        t.pageX, t.pageY, t.screenX, t.screenY);
                touches.push(touch);
            }
            return new TouchList(...touches)
        }

        static extractEvent(timestamp, event) {
            let targetSelector = this.selector(event.target);
            let infos = { type: event.type,
                time: timestamp,
                constructor: event.constructor,
                data: {
                    targetSelector: targetSelector,
                    view: event.view,
                    mouseDownSubstitute: event.buttons || event.which, // which cannot be cloned directly
                    bubbles: event.bubbles,
                    cancelable: event.cancelable,
                    screenX: event.screenX,
                    screenY: event.screenY,
                    clientX: event.clientX,
                    clientY: event.clientY,
                    layerX: event.layerX,
                    layerY: event.layerY,
                    pageX: event.pageX,
                    pageY: event.pageY,
                    ctrlKey: event.ctrlKey,
                    altKey: event.altKey,
                    shiftKey: event.shiftKey,
                    metaKey: event.metaKey}
            };
            if (event.type.startsWith('touch')) {
                // On Safari-WebKit the TouchEvent has layerX, layerY coordinates
                let data = infos.data;
                data.targetTouches = this.extractTouches(event.targetTouches);
                data.changedTouches = this.extractTouches(event.changedTouches);
                data.touches = this.extractTouches(event.touches);
            }
            if (Events.debug) {
                Events.extracted.push(this.toLine(event));
            }
            return infos
        }

        static cloneEvent(type, constructor, data) {
            if (type.startsWith('touch')) {
                // We need to find target from layerX, layerY
                //var target = document.querySelector(data.targetSelector)
                // elementFromPoint(data.layerX, data.layerY)
                //data.target = target
                data.targetTouches = this.createTouchList(data.targetTouches);
                data.changedTouches = this.createTouchList(data.changedTouches);
                data.touches = this.createTouchList(data.touches);
            }
            // We need to find target from pageX, pageY which are only
            // available after construction. They seem to getter items.

            let clone = Reflect.construct(constructor, [type, data]);
            clone.mouseDownSubstitute = data.mouseDownSubstitute;
            return clone
        }

        static simulateEvent(type, constructor, data) {
            data.target = document.querySelector(data.targetSelector);
            let clone = this.cloneEvent(type, constructor, data);
            if (data.target != null) {
                data.target.dispatchEvent(clone);
            }
            if (Events.debug) {
                Events.simulated.push(this.toLine(clone));
            }
        }

        static toLine(event) {
            return `${event.type} #${event.target.id} ${event.clientX} ${event.clientY}`
            let result = event.type;
            let selector = this.selector(event.target);
            result += ' selector: ' + selector;
            if (event.target != document.querySelector(selector))
                console.log('Cannot resolve', selector);
            let keys = ['layerX', 'layerY', 'pageX', 'pageY', 'clientX', 'clientY'];
            for(let key of keys) {
                try {
                    result += ' ' + key + ':' + event[key];
                }
                catch(e) {
                    console.log('Invalid key: ' + key);
                }
            }
            return result
        }

        static compareExtractedWithSimulated() {
            if (this.extracted.length != this.simulated.length) {
                alert('Unequal length of extracted [' + this.extracted.length +
                        '] and simulated events [' + this.simulated.length + '].');
            }
            else {
                for(let i=0; i<this.extracted.length; i++) {
                    var extracted = this.extracted[i];
                    var simulated = this.simulated[i];
                    if (extracted != simulated) {
                        console.log('Events differ:' + extracted + '|' + simulated);
                    }
                }
            }
        }

        static selector(context) {
            return OptimalSelect.select(context)
        }

        static reset() {
            this.extracted = [];
            this.simulated = [];
        }

        static resetSimulated() {
            this.simulated = [];
        }

        static showExtractedEvents(event) {
            if (!event.shiftKey) {
                return
            }
            if (this.popup == null) {
                let element = document.createElement('div');
                Elements.setStyle(element, { position: 'absolute',
                    width: '480px',
                    height: '640px',
                    overflow: 'auto',
                    backgroundColor: 'lightgray'});
                document.body.appendChild(element);
                this.popup = element;
            }
            this.popup.innerHTML = '';
            for(let line of this.extracted) {
                let div = document.createElement('div');
                div.innerHTML = line;
                this.popup.appendChild(div);
            }
            let div = document.createElement('div');
            div.innerHTML = '------------ Simulated -----------';
            this.popup.appendChild(div);
            for(let line of this.simulated) {
                let div = document.createElement('div');
                div.innerHTML = line;
                this.popup.appendChild(div);
            }
            Elements.setStyle(this.popup,
                    { left: event.clientX + 'px', top: event.clientY + 'px'} );
        }
    }

    Events.popup = null;

    Events.debug = true;
    Events.extracted = [];
    Events.simulated = [];

    /* globals WebKitPoint */

    /** Tests whether an object is empty
     * @param {Object} obj - the object to be tested
     * @return {boolean}
     */
    function isEmpty(obj) {
        // > isEmpty({})
        // true
        for (let i in obj) {
            return false
        }
        return true
    }

    /** Returns an id that is guaranteed to be unique within the livetime of the
     * application
     * @return {string}
     */
    let _idGenerator = 0;
    function getId() {
        return 'id' + _idGenerator++
    }

    /** Static methods to compute 2D points with x and y coordinates.
     */
    class Points {
        static length(a) {
            return Math.sqrt(a.x * a.x + a.y * a.y)
        }

        static normalize(p) {
            let len = this.length(p);
            return this.multiplyScalar(p, 1 / len)
        }

        static mean(a, b) {
            return {x: (a.x + b.x) / 2, y: (a.y + b.y) / 2}
        }

        static subtract(a, b) {
            return {x: a.x - b.x, y: a.y - b.y}
        }

        static multiply(a, b) {
            return {x: a.x * b.x, y: a.y * b.y}
        }

        static multiplyScalar(a, b) {
            return {x: a.x * b, y: a.y * b}
        }

        static add(a, b) {
            return {x: a.x + b.x, y: a.y + b.y}
        }

        static negate(p) {
            return {x: -p.x, y: -p.y}
        }

        static angle(p1, p2) {
            return Math.atan2(p1.y - p2.y, p1.x - p2.x)
        }

        static arc(p, alpha, radius) {
            return {
                x: p.x + radius * Math.cos(alpha),
                y: p.y + radius * Math.sin(alpha)
            }
        }

        static distance(a, b) {
            let dx = a.x - b.x;
            let dy = a.y - b.y;
            return Math.sqrt(dx * dx + dy * dy)
        }

        static fromPageToNode(element, p) {
            //    if (window.webkitConvertPointFromPageToNode) {
            //             return window.webkitConvertPointFromPageToNode(element,
            //                                                     new WebKitPoint(p.x, p.y))
            //         }
            return window.convertPointFromPageToNode(element, p.x, p.y)
        }

        static fromNodeToPage(element, p) {
            //  if (window.webkitConvertPointFromNodeToPage) {
            //             return window.webkitConvertPointFromNodeToPage(element,
            //                                                     new WebKitPoint(p.x, p.y))
            //         }
            return window.convertPointFromNodeToPage(element, p.x, p.y)
        }
    }

    /** Static methods to compute angles.
     */
    class Angle {
        static normalize(angle) {
            let twoPI = Math.PI * 2.0;
            while (angle > Math.PI) {
                angle -= twoPI;
            }
            while (angle < -Math.PI) {
                angle += twoPI;
            }
            return angle
        }

        static normalizeDegree(angle) {
            let full = 360.0;
            while (angle > 180.0) {
                angle -= full;
            }
            while (angle < -180.0) {
                angle += full;
            }
            return angle
        }

        static diff(a, b) {
            return Angle.normalize(Math.atan2(Math.sin(a - b), Math.cos(a - b)))
        }

        static degree2radian(degree) {
            return Math.PI * degree / 180.0
        }

        static radian2degree(rad) {
            return 180.0 / Math.PI * rad
        }
    }

    class Elements$1 {
        static setStyle(element, styles) {
            for (let key in styles) {
                element.style[key] = styles[key];
            }
        }

        static addClass(element, cssClass) {
            element.classList.add(cssClass);
        }

        static removeClass(element, cssClass) {
            element.classList.remove(cssClass);
        }

        static toggleClass(element, cssClass) {
            element.classList.toggle(cssClass);
        }

        static hasClass(element, cssClass) {
            return element.classList.contains(cssClass)
        }
    }

    class MapProxy {
        /* This class is needed if we want to use the interaction classes
        in Firefox 45.8 and modern Browsers.

        A workaround for https://github.com/babel/babel/issues/2334
      */
        constructor() {
            this.map = new Map();
        }

        get size() {
            return this.map.size
        }

        get(key) {
            return this.map.get(key)
        }

        set(key, value) {
            return this.map.set(key, value)
        }

        delete(key) {
            return this.map.delete(key)
        }

        clear() {
            return this.map.clear()
        }

        has(key) {
            return this.map.has(key)
        }

        keys() {
            return this.map.keys()
        }

        values() {
            return this.map.values()
        }

        entries() {
            return this.map.entries()
        }

        forEach(func) {
            this.map.forEach(func);
        }
    }

    /* Based om https://gist.github.com/cwleonard/e124d63238bda7a3cbfa */
    class Polygon {
        /*
         *  This is the Polygon constructor. All points are center-relative.
         */
        constructor(center) {
            this.points = new Array();
            this.center = center;
        }

        /*
         *  Point x and y values should be relative to the center.
         */
        addPoint(p) {
            this.points.push(p);
        }

        /*
         *  Point x and y values should be absolute coordinates.
         */
        addAbsolutePoint(p) {
            this.points.push({x: p.x - this.center.x, y: p.y - this.center.y});
        }

        /*
         * Returns the number of sides. Equal to the number of vertices.
         */
        getNumberOfSides() {
            return this.points.length
        }

        /*
         * rotate the polygon by a number of radians
         */
        rotate(rads) {
            for (let i = 0; i < this.points.length; i++) {
                let x = this.points[i].x;
                let y = this.points[i].y;
                this.points[i].x = Math.cos(rads) * x - Math.sin(rads) * y;
                this.points[i].y = Math.sin(rads) * x + Math.cos(rads) * y;
            }
        }

        /*
         *  The draw function takes as a parameter a Context object from
         *  a Canvas element and draws the polygon on it.
         */
        draw(context, {lineWidth = 2, stroke = '#000000', fill = null} = {}) {
            context.beginPath();
            context.moveTo(
                this.points[0].x + this.center.x,
                this.points[0].y + this.center.y
            );
            for (let i = 1; i < this.points.length; i++) {
                context.lineTo(
                    this.points[i].x + this.center.x,
                    this.points[i].y + this.center.y
                );
            }
            context.closePath();
            context.lineWidth = lineWidth;
            if (stroke) {
                context.strokeStyle = stroke;
                context.stroke();
            }
            if (fill) {
                context.fillStyle = fill;
                context.fill();
            }
        }

        absolutePoints() {
            let result = new Array();
            for (let p of this.points) {
                result.push(Points.add(p, this.center));
            }
            return result
        }

        flatAbsolutePoints() {
            let result = new Array();
            for (let p of this.points) {
                let a = Points.add(p, this.center);
                result.push(a.x);
                result.push(a.y);
            }
            return result
        }

        /*
         *  This function returns true if the given point is inside the polygon,
         *  and false otherwise.
         */
        containsPoint(pnt) {
            let nvert = this.points.length;
            let testx = pnt.x;
            let testy = pnt.y;

            let vertx = new Array();
            for (let q = 0; q < this.points.length; q++) {
                vertx.push(this.points[q].x + this.center.x);
            }

            let verty = new Array();
            for (let w = 0; w < this.points.length; w++) {
                verty.push(this.points[w].y + this.center.y);
            }

            let i,
                j = 0;
            let c = false;
            for (i = 0, j = nvert - 1; i < nvert; j = i++) {
                if (
                    verty[i] > testy != verty[j] > testy &&
                    testx <
                        (vertx[j] - vertx[i]) *
                            (testy - verty[i]) /
                            (verty[j] - verty[i]) +
                            vertx[i]
                )
                    c = !c;
            }
            return c
        }

        multiplyScalar(scale) {
            let center = Points.multiplyScalar(this.center, scale);
            let clone = new Polygon(center);
            for (let p of this.points) {
                clone.addPoint(Points.multiplyScalar(p, scale));
            }
            return clone
        }

        /*
         *  To detect intersection with another Polygon object, this
         *  function uses the Separating Axis Theorem. It returns false
         *  if there is no intersection, or an object if there is. The object
         *  contains 2 fields, overlap and axis. Moving the polygon by overlap
         *  on axis will get the polygons out of intersection.
         */
        intersectsWith(other) {
            let axis = {x: 0, y: 0};
            let tmp, minA, maxA, minB, maxB;
            let side, i;
            let smallest = null;
            let overlap = 99999999;

            /* test polygon A's sides */
            for (side = 0; side < this.getNumberOfSides(); side++) {
                /* get the axis that we will project onto */
                if (side == 0) {
                    axis.x =
                        this.points[this.getNumberOfSides() - 1].y -
                        this.points[0].y;
                    axis.y =
                        this.points[0].x -
                        this.points[this.getNumberOfSides() - 1].x;
                } else {
                    axis.x = this.points[side - 1].y - this.points[side].y;
                    axis.y = this.points[side].x - this.points[side - 1].x;
                }

                /* normalize the axis */
                tmp = Math.sqrt(axis.x * axis.x + axis.y * axis.y);
                axis.x /= tmp;
                axis.y /= tmp;

                /* project polygon A onto axis to determine the min/max */
                minA = maxA = this.points[0].x * axis.x + this.points[0].y * axis.y;
                for (i = 1; i < this.getNumberOfSides(); i++) {
                    tmp = this.points[i].x * axis.x + this.points[i].y * axis.y;
                    if (tmp > maxA) maxA = tmp;
                    else if (tmp < minA) minA = tmp;
                }
                /* correct for offset */
                tmp = this.center.x * axis.x + this.center.y * axis.y;
                minA += tmp;
                maxA += tmp;

                /* project polygon B onto axis to determine the min/max */
                minB = maxB =
                    other.points[0].x * axis.x + other.points[0].y * axis.y;
                for (i = 1; i < other.getNumberOfSides(); i++) {
                    tmp = other.points[i].x * axis.x + other.points[i].y * axis.y;
                    if (tmp > maxB) maxB = tmp;
                    else if (tmp < minB) minB = tmp;
                }
                /* correct for offset */
                tmp = other.center.x * axis.x + other.center.y * axis.y;
                minB += tmp;
                maxB += tmp;

                /* test if lines intersect, if not, return false */
                if (maxA < minB || minA > maxB) {
                    return false
                } else {
                    let o = maxA > maxB ? maxB - minA : maxA - minB;
                    if (o < overlap) {
                        overlap = o;
                        smallest = {x: axis.x, y: axis.y};
                    }
                }
            }

            /* test polygon B's sides */
            for (side = 0; side < other.getNumberOfSides(); side++) {
                /* get the axis that we will project onto */
                if (side == 0) {
                    axis.x =
                        other.points[other.getNumberOfSides() - 1].y -
                        other.points[0].y;
                    axis.y =
                        other.points[0].x -
                        other.points[other.getNumberOfSides() - 1].x;
                } else {
                    axis.x = other.points[side - 1].y - other.points[side].y;
                    axis.y = other.points[side].x - other.points[side - 1].x;
                }

                /* normalize the axis */
                tmp = Math.sqrt(axis.x * axis.x + axis.y * axis.y);
                axis.x /= tmp;
                axis.y /= tmp;

                /* project polygon A onto axis to determine the min/max */
                minA = maxA = this.points[0].x * axis.x + this.points[0].y * axis.y;
                for (i = 1; i < this.getNumberOfSides(); i++) {
                    tmp = this.points[i].x * axis.x + this.points[i].y * axis.y;
                    if (tmp > maxA) maxA = tmp;
                    else if (tmp < minA) minA = tmp;
                }
                /* correct for offset */
                tmp = this.center.x * axis.x + this.center.y * axis.y;
                minA += tmp;
                maxA += tmp;

                /* project polygon B onto axis to determine the min/max */
                minB = maxB =
                    other.points[0].x * axis.x + other.points[0].y * axis.y;
                for (i = 1; i < other.getNumberOfSides(); i++) {
                    tmp = other.points[i].x * axis.x + other.points[i].y * axis.y;
                    if (tmp > maxB) maxB = tmp;
                    else if (tmp < minB) minB = tmp;
                }
                /* correct for offset */
                tmp = other.center.x * axis.x + other.center.y * axis.y;
                minB += tmp;
                maxB += tmp;

                /* test if lines intersect, if not, return false */
                if (maxA < minB || minA > maxB) {
                    return false
                } else {
                    let o = maxA > maxB ? maxB - minA : maxA - minB;
                    if (o < overlap) {
                        overlap = o;
                        smallest = {x: axis.x, y: axis.y};
                    }
                }
            }
            return {overlap: overlap + 0.001, axis: smallest}
        }

        static fromPoints(points) {
            let min = {x: Number.MAX_VALUE, y: Number.MAX_VALUE};
            let max = {x: Number.MIN_VALUE, y: Number.MIN_VALUE};
            for (let p of points) {
                min.x = Math.min(p.x, min.x);
                max.x = Math.max(p.x, max.x);
                min.y = Math.min(p.y, min.y);
                max.y = Math.max(p.y, max.y);
            }
            let center = Points.mean(min, max);
            let polygon = new Polygon(center);
            for (let p of points) {
                polygon.addAbsolutePoint(p);
            }
            return polygon
        }
    }

    // In order to test this interface implementation run jsc interface.js

    class Interface {
        // Abstract interface that should be extended in interface subclasses.
        // By convention all interfaces should start with an upper 'I'

        static implementationError(klass) {
            let interfaceKeys = Reflect.ownKeys(this.prototype);
            let classKeys = Reflect.ownKeys(klass.prototype);
            for(let key of interfaceKeys) {
                let interfaceDesc = this.prototype[key];
                let classDesc = klass.prototype[key];
                if (typeof(classDesc) == 'undefined')
                    return 'Missing ' + key
            }
            return null
        }

        static implementedBy(klass) {
            // In the first step only checks whether the methods of this
            // interface are all implemented by the given class
            let error = this.implementationError(klass);
            return error == null
        }

            // TODO: Specify optional methods
    //     static optionalMethods() {
    //         return [this.onMouseWheel]
    //     }
    }

    /** Interaction patterns

        See interaction.html for explanation
    */

    class IInteractionTarget extends Interface {
        capture(event) {
            return typeof true
        }

        onStart(event, interaction) {}
        onMove(event, interaction) {}
        onEnd(event, interaction) {}

        onMouseWheel(event) {}
    }

    class IInteractionMapperTarget extends Interface {
        capture(event) {
            return typeof true
        }

        findTarget(event, local, global) {
            return IInteractionTarget
        }
    }

    class PointMap extends MapProxy {
        // Collects touch points, mouse coordinates, etc. as key value pairs.
        // Keys are pointer and touch ids, the special "mouse" key.
        // Values are points, i.e. all objects with numeric x and y properties.
        constructor(points = {}) {
            super();
            for (let key in points) {
                this.set(key, points[key]);
            }
        }

        toString() {
            let points = [];
            for (let key of this.keys()) {
                let value = this.get(key);
                points.push(`${key}:{x:${value.x}, y:${value.y}}`);
            }
            let attrs = points.join(', ');
            return `[PointMap ${attrs}]`
        }

        clone() {
            let result = new PointMap();
            for (let key of this.keys()) {
                let value = this.get(key);
                result.set(key, {x: value.x, y: value.y});
            }
            return result
        }

        farthests() {
            if (this.size == 0) {
                return null
            }
            let pairs = [];
            for (let p of this.values()) {
                for (let q of this.values()) {
                    pairs.push([p, q]);
                }
            }
            let sorted = pairs.sort((a, b) => {
                return Points.distance(b[0], b[1]) - Points.distance(a[0], a[1])
            });
            return sorted[0]
        }

        mean() {
            if (this.size == 0) {
                return null
            }
            let x = 0.0,
                y = 0.0;
            for (let p of this.values()) {
                x += p.x;
                y += p.y;
            }
            return {x: x / this.size, y: y / this.size}
        }
    }

    class InteractionDelta {
        constructor(x, y, zoom, rotate, about) {
            this.x = x;
            this.y = y;
            this.zoom = zoom;
            this.rotate = rotate;
            this.about = about;
        }

        toString() {
            let values = [];
            for (let key of Object.keys(this)) {
                let value = this[key];
                if (key == 'about') {
                    values.push(`${key}:{x:${value.x}, y:${value.y}}`);
                } else {
                    values.push(`${key}:${value}`);
                }
            }
            let attrs = values.join(', ');
            return `[InteractionDelta ${attrs}]`
        }
    }

    class InteractionPoints {
        constructor(parent = null) {
            this.parent = parent;
            this.current = new PointMap();
            this.previous = new PointMap();
            this.start = new PointMap();
            this.ended = new PointMap();
            this.timestamps = new Map();
        }

        moved(key) {
            let current = this.current.get(key);
            let previous = this.previous.get(key);
            return Points.subtract(current, previous)
        }

        move() {
            let current = this.current.mean();
            let previous = this.previous.mean();
            return Points.subtract(current, previous)
        }

        delta() {
            var current = [];
            var previous = [];
            for (let key of this.current.keys()) {
                let c = this.current.get(key);
                if (this.previous.has(key)) {
                    let p = this.previous.get(key);
                    current.push(c);
                    previous.push(p);
                }
            }
            if (current.length >= 2) {
                if (current.length > 2) {
                    current = this.current.farthests();
                    previous = this.previous.farthests();
                }
                let c1 = current[0];
                let c2 = current[1];

                let p1 = previous[0];
                let p2 = previous[1];

                let cm = Points.mean(c1, c2);
                let pm = Points.mean(p1, p2);

                let delta = Points.subtract(cm, pm);
                let zoom = 1.0;
                let distance1 = Points.distance(p1, p2);
                let distance2 = Points.distance(c1, c2);
                if (distance1 != 0 && distance2 != 0) {
                    zoom = distance2 / distance1;
                }
                let angle1 = Points.angle(c2, c1);
                let angle2 = Points.angle(p2, p1);
                let alpha = Angle.diff(angle1, angle2);
                return new InteractionDelta(delta.x, delta.y, zoom, alpha, cm)
            } else if (current.length == 1) {
                let delta = Points.subtract(current[0], previous[0]);
                return new InteractionDelta(delta.x, delta.y, 1.0, 0.0, current[0])
            }
            return null
        }

        update(key, point) {
            // Returns true iff the key is new
            this.current.set(key, point);
            if (!this.start.has(key)) {
                this.start.set(key, point);
                this.previous.set(key, point);
                this.timestamps.set(key, performance.now());
                return true
            }
            return false
        }

        updatePrevious() {
            for (let key of this.current.keys()) {
                this.previous.set(key, this.current.get(key));
            }
        }

        stop(key, point) {
            if (this.current.has(key)) {
                this.current.delete(key);
                this.previous.delete(key);
                this.ended.set(key, point);
            }
        }

        finish(key, point) {
            this.current.delete(key);
            this.previous.delete(key);
            this.start.delete(key);
            this.timestamps.delete(key);
            this.ended.delete(key);
        }

        isFinished() {
            return this.current.size == 0
        }

        isNoLongerTwoFinger() {
            return this.previous.size > 1 && this.current.size < 2
        }

        isTap(key) {
            return this.parent.isTap(key)
        }

        isLongPress(key) {
            return this.parent.isLongPress(key)
        }
    }

    class Interaction extends InteractionPoints {
        constructor(tapDistance = 10, longPressTime = 500.0) {
            super();
            this.tapDistance = tapDistance;
            this.longPressTime = longPressTime;
            this.targets = new Map();
            this.subInteractions = new Map(); // target:Object : InteractionPoints
        }

        stop(key, point) {
            super.stop(key, point);
            for (let points of this.subInteractions.values()) {
                points.stop(key, point);
            }
        }

        addTarget(key, target) {
            this.targets.set(key, target);
            this.subInteractions.set(target, new InteractionPoints(this));
        }

        removeTarget(key) {
            let target = this.targets.get(key);
            this.targets.delete(key);
            // Only remove target if no keys are refering to the target
            let remove = true;
            for (let t of this.targets.values()) {
                if (target === t) {
                    remove = false;
                }
            }
            if (remove) {
                this.subInteractions.delete(target);
            }
        }

        finish(key, point) {
            super.finish(key, point);
            this.removeTarget(key);
        }

        mapInteraction(points, aspects, mappingFunc) {
            // Map centrally registered points to target interactions
            // Returns an array of [target, updated subInteraction] pairs
            let result = new Map();
            for (let key in points) {
                if (this.targets.has(key)) {
                    let target = this.targets.get(key);
                    if (this.subInteractions.has(target)) {
                        let interaction = this.subInteractions.get(target);
                        for (let aspect of aspects) {
                            let pointMap = this[aspect];
                            let point = pointMap.get(key);
                            let mapped = mappingFunc(point);
                            interaction[aspect].set(key, mapped);
                        }
                        result.set(target, interaction);
                    }
                }
            }
            return result
        }

        isTap(key) {
            let ended = this.ended.get(key);
            let start = this.start.get(key);
            if (
                start &&
                ended &&
                Points.distance(ended, start) < this.tapDistance
            ) {
                let t1 = this.timestamps.get(key);
                let tookLong = performance.now() > t1 + this.longPressTime;
                if (tookLong) {
                    return false
                }
                return true
            }
            return false
        }

        isAnyTap() {
            for (let key of this.ended.keys()) {
                if (this.isTap(key)) return true
            }
            return false
        }

        isLongPress(key) {
            let ended = this.ended.get(key);
            let start = this.start.get(key);
            if (
                start &&
                ended &&
                Points.distance(ended, start) < this.tapDistance
            ) {
                let t1 = this.timestamps.get(key);
                let tookLong = performance.now() > t1 + this.longPressTime;
                if (tookLong) {
                    return true
                }
                return false
            }
            return false
        }

        isAnyLongPress() {
            for (let key of this.ended.keys()) {
                if (this.isLongPress(key)) return true
            }
            return false
        }

        isStylus(key) {
            return key === 'stylus'
        }
    }

    class InteractionDelegate {
        // Long press: http://stackoverflow.com/questions/1930895/how-long-is-the-event-onlongpress-in-the-android
        // Stylus support: https://w3c.github.io/touch-events/

        constructor(
            element,
            target,
            {mouseWheelElement = null, debug = false} = {}
        ) {
            this.debug = debug;
            this.interaction = new Interaction();
            this.element = element;
            this.mouseWheelElement = mouseWheelElement || element;
            this.target = target;
            this.setupInteraction();
        }

        setupInteraction() {
            if (this.debug) {
                let error = this.targetInterface.implementationError(
                    this.target.constructor
                );
                if (error != null) {
                    throw new Error('Expected IInteractionTarget: ' + error)
                }
            }
            this.setupTouchInteraction();
            this.setupMouseWheelInteraction();
        }

        get targetInterface() {
            return IInteractionTarget
        }

        setupTouchInteraction() {
            let element = this.element;
            let useCapture = true;
            if (window.PointerEvent) {
                if (this.debug) console.log('Pointer API' + window.PointerEvent);
                element.addEventListener(
                    'pointerdown',
                    e => {
                        if (this.debug) console.log('pointerdown', e.pointerId);
                        if (this.capture(e)) {
                            element.setPointerCapture(e.pointerId);
                            this.onStart(e);
                        }
                    },
                    useCapture
                );
                element.addEventListener(
                    'pointermove',
                    e => {
                        if (this.debug) console.log('pointermove', e.pointerId);
                        if (
                            e.pointerType == 'touch' ||
                            (e.pointerType == 'mouse' && Events.isMouseDown(e))
                        ) {
                            // this.capture(e) &&
                            if (this.debug)
                                console.log('pointermove captured', e.pointerId);
                            this.onMove(e);
                        }
                    },
                    useCapture
                );
                element.addEventListener(
                    'pointerup',
                    e => {
                        if (this.debug) console.log('pointerup');
                        this.onEnd(e);
                        element.releasePointerCapture(e.pointerId);
                    },
                    useCapture
                );
                element.addEventListener(
                    'pointercancel',
                    e => {
                        if (this.debug) console.log('pointercancel');
                        this.onEnd(e);
                        element.releasePointerCapture(e.pointerId);
                    },
                    useCapture
                );
                element.addEventListener(
                    'pointerleave',
                    e => {
                        if (this.debug) console.log('pointerleave');
                        if (e.target == element) this.onEnd(e);
                    },
                    useCapture
                );
            } else if (window.TouchEvent) {
                if (this.debug) console.log('Touch API');
                element.addEventListener(
                    'touchstart',
                    e => {
                        if (this.debug)
                            console.log('touchstart', this.touchPoints(e));
                        if (this.capture(e)) {
                            for (let touch of e.changedTouches) {
                                this.onStart(touch);
                            }
                        }
                    },
                    useCapture
                );
                element.addEventListener(
                    'touchmove',
                    e => {
                        if (this.debug)
                            console.log('touchmove', this.touchPoints(e), e);
                        for (let touch of e.changedTouches) {
                            this.onMove(touch);
                        }
                        for (let touch of e.targetTouches) {
                            this.onMove(touch);
                        }
                    },
                    useCapture
                );
                element.addEventListener(
                    'touchend',
                    e => {
                        if (this.debug) console.log('touchend', this.touchPoints(e));
                        for (let touch of e.changedTouches) {
                            this.onEnd(touch);
                        }
                    },
                    useCapture
                );
                element.addEventListener(
                    'touchcancel',
                    e => {
                        if (this.debug)
                            console.log(
                                'touchcancel',
                                e.targetTouches.length,
                                e.changedTouches.length
                            );
                        for (let touch of e.changedTouches) {
                            this.onEnd(touch);
                        }
                    },
                    useCapture
                );
            } else {
                if (this.debug) console.log('Mouse API');

                element.addEventListener(
                    'mousedown',
                    e => {
                        if (this.debug) console.log('mousedown', e);
                        if (this.capture(e)) this.onStart(e);
                    },
                    useCapture
                );
                element.addEventListener(
                    'mousemove',
                    e => {
                        // Dow we only use move events if the mouse is down?
                        // HOver effects have to be implemented by other means
                        // && Events.isMouseDown(e))

                        if (Events.isMouseDown(e))
                            if (this.debug)
                                // this.capture(e) &&
                                console.log('mousemove', e);
                        this.onMove(e);
                    },
                    useCapture
                );
                element.addEventListener(
                    'mouseup',
                    e => {
                        if (this.debug) console.log('mouseup', e);
                        this.onEnd(e);
                    },
                    true
                );
                element.addEventListener(
                    'mouseout',
                    e => {
                        if (e.target == element) this.onEnd(e);
                    },
                    useCapture
                );
            }
        }

        touchPoints(event) {
            let result = [];
            for (let touch of event.changedTouches) {
                result.push(this.extractPoint(touch));
            }
            return result
        }

        setupMouseWheelInteraction() {
            this.mouseWheelElement.addEventListener(
                'mousewheel',
                this.onMouseWheel.bind(this),
                true
            );
            this.mouseWheelElement.addEventListener(
                'DOMMouseScroll',
                this.onMouseWheel.bind(this),
                true
            );
        }

        onMouseWheel(event) {
            if (this.capture(event) && this.target.onMouseWheel) {
                this.target.onMouseWheel(event);
            }
        }

        onStart(event) {
            let extracted = this.extractPoint(event);
            this.updateInteraction(event, extracted);
            this.target.onStart(event, this.interaction);
        }

        onMove(event) {
            let extracted = this.extractPoint(event, 'all');
            this.updateInteraction(event, extracted);
            this.target.onMove(event, this.interaction);
            this.interaction.updatePrevious();
        }

        onEnd(event) {
            let extracted = this.extractPoint(event, 'changedTouches');
            this.endInteraction(event, extracted);
            this.target.onEnd(event, this.interaction);
            this.finishInteraction(event, extracted);
        }

        capture(event) {
            let captured = this.target.capture(event);
            return captured
        }

        getPosition(event) {
            return {x: event.clientX, y: event.clientY}
        }

        extractPoint(event, touchEventKey = 'all') {
            // 'targetTouches'
            let result = {};
            switch (event.constructor.name) {
                case 'MouseEvent':
                    let buttons = event.buttons || event.which;
                    if (buttons) result['mouse'] = this.getPosition(event);
                    break
                case 'PointerEvent':
                    result[event.pointerId.toString()] = this.getPosition(event);
                    break
                case 'Touch':
                    let id =
                        event.touchType === 'stylus'
                            ? 'stylus'
                            : event.identifier.toString();
                    result[id] = this.getPosition(event);
                    break
                //             case 'TouchEvent':
                //                 // Needs to be observed: Perhaps changedTouches are all we need. If so
                //                 // we can remove the touchEventKey default parameter
                //                 if (touchEventKey == 'all') {
                //                     for(let t of event.targetTouches) {
                //                         result[t.identifier.toString()] = this.getPosition(t)
                //                     }
                //                     for(let t of event.changedTouches) {
                //                         result[t.identifier.toString()] = this.getPosition(t)
                //                     }
                //                 }
                //                 else {
                //                     for(let t of event.changedTouches) {
                //                         result[t.identifier.toString()] = this.getPosition(t)
                //                     }
                //                 }
                //                 break
                default:
                    break
            }
            return result
        }

        interactionStarted(event, key, point) {
            // Callback: can be overwritten
        }

        interactionEnded(event, key, point) {
            // Callback: can be overwritten
        }

        interactionFinished(event, key, point) {}

        updateInteraction(event, extracted) {
            for (let key in extracted) {
                let point = extracted[key];
                if (this.interaction.update(key, point)) {
                    this.interactionStarted(event, key, point);
                }
            }
        }

        endInteraction(event, ended) {
            for (let key in ended) {
                let point = ended[key];
                this.interaction.stop(key, point);
                this.interactionEnded(event, key, point);
            }
        }

        finishInteraction(event, ended) {
            for (let key in ended) {
                let point = ended[key];
                this.interaction.finish(key, point);
                this.interactionFinished(event, key, point);
            }
        }
    }

    class InteractionMapper extends InteractionDelegate {
        /* A special InteractionDelegate that maps events to specific parts of
        the interaction target. The InteractionTarget must implement a findTarget
        method that returns an object implementing the IInteractionTarget interface.

        If the InteractionTarget also implements a mapPositionToPoint method this
        is used to map the points to the local coordinate space of the the target.

        This makes it easier to lookup elements and relate events to local
        positions.
        */

        constructor(
            element,
            target,
            {tapDistance = 10, longPressTime = 500.0, mouseWheelElement = null} = {}
        ) {
            super(element, target, {tapDistance, longPressTime, mouseWheelElement});
        }

        get targetInterface() {
            return IInteractionMapperTarget
        }

        mapPositionToPoint(point) {
            if (this.target.mapPositionToPoint) {
                return this.target.mapPositionToPoint(point)
            }
            return point
        }

        interactionStarted(event, key, point) {
            if (this.target.findTarget) {
                let local = this.mapPositionToPoint(point);
                let found = this.target.findTarget(event, local, point);
                if (found != null) {
                    this.interaction.addTarget(key, found);
                }
            }
        }

        onMouseWheel(event) {
            if (this.capture(event)) {
                if (this.target.findTarget) {
                    let point = this.getPosition(event);
                    let local = this.mapPositionToPoint(point);
                    let found = this.target.findTarget(event, local, point);
                    if (found != null && found.onMouseWheel) {
                        found.onMouseWheel(event);
                        return
                    }
                }
                if (this.target.onMouseWheel) {
                    this.target.onMouseWheel(event);
                }
            }
        }

        onStart(event) {
            let extracted = this.extractPoint(event);
            this.updateInteraction(event, extracted);
            let mapped = this.interaction.mapInteraction(
                extracted,
                ['current', 'start'],
                this.mapPositionToPoint.bind(this)
            );
            for (let [target, interaction] of mapped.entries()) {
                target.onStart(event, interaction);
            }
        }

        onMove(event) {
            let extracted = this.extractPoint(event, 'all');

            this.updateInteraction(event, extracted);
            let mapped = this.interaction.mapInteraction(
                extracted,
                ['current', 'previous'],
                this.mapPositionToPoint.bind(this)
            );
            for (let [target, interaction] of mapped.entries()) {
                target.onMove(event, interaction);
                interaction.updatePrevious();
            }
            this.interaction.updatePrevious();
        }

        onEnd(event) {
            let extracted = this.extractPoint(event, 'changedTouches');
            this.endInteraction(event, extracted);
            let mapped = this.interaction.mapInteraction(
                extracted,
                ['ended'],
                this.mapPositionToPoint.bind(this)
            );
            for (let [target, interaction] of mapped.entries()) {
                target.onEnd(event, interaction);
            }
            this.finishInteraction(event, extracted);
        }
    }

    window.InteractionMapper = InteractionMapper;

    /** Report capabilities with guaranteed values.
     */
    class Capabilities {

        /** Returns the browser userAgent.
        @return {string}
        */
        static get userAgent() {
            return navigator.userAgent || 'Unknown Agent'
        }

        /** Tests whether the app is running on a mobile device.
        Implemented as a readonly attribute.
        @return {boolean}
        */
        static get isMobile() {
            return (/Mobi/.test(navigator.userAgent))
        }

        /** Tests whether the app is running on a iOS device.
        Implemented as a readonly attribute.
        @return {boolean}
        */
        static get isIOS() {
            return (/iPad|iPhone|iPod/.test(navigator.userAgent)) && !window.MSStream
        }

         /** Tests whether the app is running in a Safari environment.
        See https://stackoverflow.com/questions/7944460/detect-safari-browser
        Implemented as a readonly attribute.
        @return {boolean}
        */
        static get isSafari() {
            return navigator.vendor && navigator.vendor.indexOf('Apple') > -1 &&
                   navigator.userAgent && !navigator.userAgent.match('CriOS')
        }


        /** Returns the display resolution. Necessary for retina displays.
        @return {number}
        */
        static get devicePixelRatio() {
            return window.devicePixelRatio || 1
        }

        /** Returns true if the device is a multi-touch table. This method is currently not universal usable and not sure!
        @return {boolean}
        */
        static get isMultiTouchTable() {
            return Capabilities.devicePixelRatio > 2 && Capabilities.isMobile === false && /Windows/i.test(Capabilities.userAgent)
        }

        /** Returns true if mouse events are supported
        @return {boolean}
        */
        static supportsMouseEvents() {
            return typeof(window.MouseEvent) != 'undefined'
        }

        /** Returns true if touch events are supported
        @return {boolean}
        */
        static supportsTouchEvents() {
            return typeof(window.TouchEvent) != 'undefined'
        }

        /** Returns true if pointer events are supported
        @return {boolean}
        */
        static supportsPointerEvents() {
            return typeof(window.PointerEvent) != 'undefined'
        }

        /** Returns true if DOM templates are supported
        @return {boolean}
        */
        static supportsTemplate() {
            return 'content' in document.createElement('template');
        }
    }

    /** Basic tests for Capabilities.
     */
    class CapabilitiesTests {

        static testConfirm() {
            let bool = confirm('Please confirm');
            document.getElementById('demo').innerHTML = (bool) ? 'Confirmed' : 'Not confirmed';
        }

        static testPrompt() {
            let person = prompt('Please enter your name', 'Harry Potter');
            if (person != null) {
                demo.innerHTML =
                'Hello ' + person + '! How are you today?';
            }
        }

        static testUserAgent() {
            let agent = 'User-agent: ' + Capabilities.userAgent;
            user_agent.innerHTML = agent;
        }

        static testDevicePixelRatio() {
            let value = 'Device Pixel Ratio: ' + Capabilities.devicePixelRatio;
            device_pixel_ratio.innerHTML = value;
        }

        static testMultiTouchTable() {
            let value = 'Is the device a multi-touch table? ' + Capabilities.isMultiTouchTable;
            multi_touch_table.innerHTML = value;
        }

        static testSupportedEvents() {
            let events = [];
            if (Capabilities.supportsMouseEvents()) {
                events.push('MouseEvents');
            }
            if (Capabilities.supportsTouchEvents()) {
                events.push('TouchEvents');
            }
            if (Capabilities.supportsPointerEvents()) {
                events.push('PointerEvents');
            }
            supported_events.innerHTML = 'Supported Events: ' + events.join(', ');
        }

        static testAll() {
            this.testUserAgent();
            this.testDevicePixelRatio();
            this.testMultiTouchTable();
            this.testSupportedEvents();
        }
    }

    /* Optional global variables, needed in DocTests. */
    window.Capabilities = Capabilities;
    window.CapabilitiesTests = CapabilitiesTests;

    /**
     * A base class for scatter specific events.
     *
     * @constructor
     * @param {name} String - The name of the event
     * @param {target} Object - The target of the event
     */
    class BaseEvent {
        constructor(name, target) {
            this.name = name;
            this.target = target;
        }
    }

    // Event types
    const START = 'onStart';
    const UPDATE = 'onUpdate';
    const END = 'onEnd';
    const ZOOM = 'onZoom';

    /**
     * A scatter event that describes how the scatter has changed.
     *
     * @constructor
     * @param {target} Object - The target scatter of the event
     * @param {optional} Object - Optional parameter
     */
    class ScatterEvent extends BaseEvent {
        constructor(
            target,
            {
                translate = {x: 0, y: 0},
                scale = null,
                rotate = 0,
                about = null,
                fast = false,
                type = null
            } = {}
        ) {
            super('scatterTransformed', {target: target});
            this.translate = translate;
            this.scale = scale;
            this.rotate = rotate;
            this.about = about;
            this.fast = fast;
            this.type = type;
        }

        toString() {
            return (
                "Event('scatterTransformed', scale: " +
                this.scale +
                ' about: ' +
                this.about.x +
                ', ' +
                this.about.y +
                ')'
            )
        }
    }

    /**
     * A scatter resize event that describes how the scatter has changed.
     *
     * @constructor
     * @param {target} Object - The target scatter of the event
     * @param {optional} Object - Optional parameter
     */
    class ResizeEvent extends BaseEvent {
        constructor(target, {width = 0, height = 0} = {}) {
            super('scatterResized', {width: width, height: height});
            this.width = width;
            this.height = height;
        }

        toString() {
            return (
                'Event(scatterResized width: ' +
                this.width +
                'height: ' +
                this.height +
                ')'
            )
        }
    }

    /**
     * A abstract base class that implements the throwable behavior of a scatter
     * object.
     *
     * @constructor
     */
    class Throwable {
        constructor({
            movableX = true,
            movableY = true,
            throwVisibility = 44,
            throwDamping = 0.95,
            autoThrow = true
        } = {}) {
            this.movableX = movableX;
            this.movableY = movableY;
            this.throwVisibility = throwVisibility;
            this.throwDamping = throwDamping;
            this.autoThrow = autoThrow;
            this.velocities = [];
            this.velocity = null;
            this.timestamp = null;
        }

        observeVelocity() {
            this.lastframe = performance.now();
        }

        addVelocity(delta, buffer = 5) {
            let t = performance.now();
            let dt = t - this.lastframe;
            this.lastframe = t;
            let velocity = {t: t, dt: dt, dx: delta.x, dy: delta.y};
            this.velocities.push(velocity);
            while (this.velocities.length > buffer) {
                this.velocities.shift();
            }
        }

        meanVelocity(milliseconds = 30) {
            this.addVelocity({x: 0, y: 0});
            let sum = {x: 0, y: 0};
            let count = 0;
            let t = 0;
            for (let i = this.velocities.length - 1; i > 0; i--) {
                let v = this.velocities[i];
                t += v.dt;
                let nv = {x: v.dx / v.dt, y: v.dy / v.dt};
                sum = Points.add(sum, nv);
                count += 1;
                if (t > milliseconds) {
                    break
                }
            }
            if (count === 0) return sum // empty vector
            return Points.multiplyScalar(sum, 1 / count)
        }

        killAnimation() {
            this.velocity = null;
            this.velocities = [];
        }

        startThrow() {
            this.velocity = this.meanVelocity();
            if (this.velocity != null) {
                // Call next velocity to ansure that specializations
                // that use keepOnStage are called
                this.velocity = this.nextVelocity(this.velocity);
                if (this.autoThrow) this.animateThrow(performance.now());
            } else {
                this.onDragComplete();
            }
        }

        animateThrow(time) {
            if (this.velocity != null) {
                let t = performance.now();
                let dt = t - this.lastframe;
                this.lastframe = t;
                // console.log("animateThrow", dt)
                let next = this.nextVelocity(this.velocity);
                let prevLength = Points.length(this.velocity);
                let nextLength = Points.length(next);
                if (nextLength > prevLength) {
                    let factor = nextLength / prevLength;
                    next = Points.multiplyScalar(next, 1 / factor);
                    console.log('Prevent acceleration', factor, this.velocity, next);
                }
                this.velocity = next;
                let d = Points.multiplyScalar(this.velocity, dt);
                this._move(d);
                this.onDragUpdate(d);
                if (dt == 0 || this.needsAnimation()) {
                    requestAnimationFrame(this.animateThrow.bind(this));
                    return
                } else {
                    if (this.isOutside()) {
                        requestAnimationFrame(this.animateThrow.bind(this));
                    }
                }
            }
            this.onDragComplete();
        }

        needsAnimation() {
            return Points.length(this.velocity) > 0.01
        }

        nextVelocity(velocity) {
            // Must be overwritten: computes the changed velocity. Implement
            // damping, collison detection, etc. here
            return Points.multiplyScalar(velocity, this.throwDamping)
        }

        _move(delta) {}

        onDragComplete() {}

        onDragUpdate(delta) {}
    }

    class AbstractScatter extends Throwable {
        constructor({
            minScale = 0.1,
            maxScale = 1.0,
            startScale = 1.0,
            autoBringToFront = true,
            autoThrow = true,
            translatable = true,
            scalable = true,
            rotatable = true,
            resizable = false,
            movableX = true,
            movableY = true,
            throwVisibility = 44,
            throwDamping = 0.95,
            overdoScaling = 1,
            mouseZoomFactor = 1.1,
            rotationDegrees = null,
            rotation = null,
            onTransform = null
        } = {}) {
            if (rotationDegrees != null && rotation != null) {
                throw new Error('Use rotationDegrees or rotation but not both')
            } else if (rotation != null) {
                rotationDegrees = Angle.radian2degree(rotation);
            } else if (rotationDegrees == null) {
                rotationDegrees = 0;
            }
            super({
                movableX,
                movableY,
                throwVisibility,
                throwDamping,
                autoThrow
            });
            this.startRotationDegrees = rotationDegrees;
            this.startScale = startScale; // Needed to reset object
            this.minScale = minScale;
            this.maxScale = maxScale;
            this.overdoScaling = overdoScaling;
            this.translatable = translatable;
            this.scalable = scalable;
            this.rotatable = rotatable;
            this.resizable = resizable;
            this.mouseZoomFactor = mouseZoomFactor;
            this.autoBringToFront = autoBringToFront;
            this.dragging = false;
            this.onTransform = onTransform != null ? [onTransform] : null;
        }

        addTransformEventCallback(callback) {
            if (this.onTransform == null) {
                this.onTransform = [];
            }
            this.onTransform.push(callback);
        }

        startGesture(interaction) {
            this.bringToFront();
            this.killAnimation();
            this.observeVelocity();
            return true
        }

        gesture(interaction) {
            let delta = interaction.delta();
            if (delta != null) {
                this.addVelocity(delta);
                this.transform(delta, delta.zoom, delta.rotate, delta.about);
                if (delta.zoom != 1) this.interactionAnchor = delta.about;
            }
        }

        get polygon() {
            let w2 = this.width * this.scale / 2;
            let h2 = this.height * this.scale / 2;
            let center = this.center;
            let polygon = new Polygon(center);
            polygon.addPoint({x: -w2, y: -h2});
            polygon.addPoint({x: w2, y: -h2});
            polygon.addPoint({x: w2, y: h2});
            polygon.addPoint({x: -w2, y: h2});
            polygon.rotate(this.rotation);
            return polygon
        }

        isOutside() {
            let stagePolygon = this.containerPolygon;
            let polygon = this.polygon;
            let result = stagePolygon.intersectsWith(polygon);
            return result === false || result.overlap < this.throwVisibility
        }

        recenter() {
            // Return a small vector that guarantees that the scatter is moving
            // towards the center of the stage
            let center = this.center;
            let target = this.container.center;
            let delta = Points.subtract(target, center);
            return Points.normalize(delta)
        }

        nextVelocity(velocity) {
            return this.keepOnStage(velocity)
        }

        bouncing() {
            // Implements the bouncing behavior of the scatter. Moves the scatter
            // to the center of the stage if the scatter is outside the stage or
            // not within the limits of the throwVisibility.

            let stagePolygon = this.containerPolygon;
            let polygon = this.polygon;
            let result = stagePolygon.intersectsWith(polygon);
            if (result === false || result.overlap < this.throwVisibility) {
                let cv = this.recenter();
                let recentered = false;
                while (result === false || result.overlap < this.throwVisibility) {
                    polygon.center.x += cv.x;
                    polygon.center.y += cv.y;
                    this._move(cv);
                    result = stagePolygon.intersectsWith(polygon);
                    recentered = true;
                }
                return recentered
            }
            return false
        }

        keepOnStage(velocity, collision = 0.5) {
            let stagePolygon = this.containerPolygon;
            if (!stagePolygon) return
            let polygon = this.polygon;
            let bounced = this.bouncing();
            if (bounced) {
                let stage = this.containerBounds;
                let x = this.center.x;
                let y = this.center.y;
                let dx = this.movableX ? velocity.x : 0;
                let dy = this.movableY ? velocity.y : 0;
                let factor = this.throwDamping;
                // if (recentered) {
                if (x < 0) {
                    dx = -dx;
                    factor = collision;
                }
                if (x > stage.width) {
                    dx = -dx;
                    factor = collision;
                }
                if (y < 0) {
                    dy = -dy;
                    factor = collision;
                }
                if (y > stage.height) {
                    dy = -dy;
                    factor = collision;
                }
                // }
                return Points.multiplyScalar({x: dx, y: dy}, factor)
            }
            return super.nextVelocity(velocity)
        }

        endGesture(interaction) {
            //this.startThrow()
        }

        rotateDegrees(degrees, anchor) {
            let rad = Angle.degree2radian(degrees);
            this.rotate(rad, anchor);
        }

        rotate(rad, anchor) {
            this.transform({x: 0, y: 0}, 1.0, rad, anchor);
        }

        move(d, {animate = 0} = {}) {
            if (this.translatable) {
                if (animate > 0) {
                    let startPos = this.position;
                    TweenLite.to(this, animate, {
                        x: '+=' + d.x,
                        y: '+=' + d.y,
                        /* scale: scale, uo: not defined, why was this here? */
                        onUpdate: e => {
                            let p = this.position;
                            let dx = p.x - startPos.x;
                            let dy = p.x - startPos.y;
                            this.onMoved(dx, dy);
                        }
                    });
                } else {
                    this._move(d);
                    this.onMoved(d.x, d.y);
                }
            }
        }

        moveTo(p, {animate = 0} = {}) {
            let c = this.origin;
            let delta = Points.subtract(p, c);
            this.move(delta, {animate: animate});
        }

        centerAt(p, {animate = 0} = {}) {
            let c = this.center;
            let delta = Points.subtract(p, c);
            this.move(delta, {animate: animate});
        }

        zoom(
            scale,
            {
                animate = 0,
                about = null,
                delay = 0,
                x = null,
                y = null,
                onComplete = null
            } = {}
        ) {
            let anchor = about || this.center;
            if (scale != this.scale) {
                if (animate > 0) {
                    TweenLite.to(this, animate, {
                        scale: scale,
                        delay: delay,
                        onComplete: onComplete,
                        onUpdate: this.onZoomed.bind(this)
                    });
                } else {
                    this.scale = scale;
                    this.onZoomed(anchor);
                }
            }
        }

        _move(delta) {
            this.x += this.movableX ? delta.x : 0;
            this.y += this.movableX ? delta.y : 0;
        }

        transform(translate, zoom, rotate, anchor) {
            let delta = {
                x: this.movableX ? translate.x : 0,
                y: this.movableY ? translate.y : 0
            };
            if (this.resizable) var vzoom = zoom;
            if (!this.translatable) delta = {x: 0, y: 0};
            if (!this.rotatable) rotate = 0;
            if (!this.scalable) zoom = 1.0;
            if (zoom == 1.0 && rotate == 0) {
                this._move(delta);
                if (this.onTransform != null) {
                    let event = new ScatterEvent(this, {
                        translate: delta,
                        scale: this.scale,
                        rotate: 0,
                        about: anchor,
                        fast: false,
                        type: UPDATE
                    });
                    this.onTransform.forEach(function(f) {
                        f(event);
                    });
                }
                return
            }
            let origin = this.rotationOrigin;
            let beta = Points.angle(origin, anchor);
            let distance = Points.distance(origin, anchor);
            let newScale = this.scale * zoom;

            let minScale = this.minScale / this.overdoScaling;
            let maxScale = this.maxScale * this.overdoScaling;
            if (newScale < minScale) {
                newScale = minScale;
                zoom = newScale / this.scale;
            }
            if (newScale > maxScale) {
                newScale = maxScale;
                zoom = newScale / this.scale;
            }

            let newOrigin = Points.arc(anchor, beta + rotate, distance * zoom);
            let extra = Points.subtract(newOrigin, origin);
            let offset = Points.subtract(anchor, origin);
            this._move(offset);
            this.scale = newScale;
            this.rotation += rotate;
            offset = Points.negate(offset);
            offset = Points.add(offset, extra);
            offset = Points.add(offset, translate);
            this._move(offset);

            if (this.onTransform != null) {
                let event = new ScatterEvent(this, {
                    translate: delta,
                    scale: newScale,
                    rotate: rotate,
                    about: anchor
                });
                this.onTransform.forEach(function(f) {
                    f(event);
                });
            }
            if (this.resizable) {
                this.resizeAfterTransform(vzoom);
            }
        }

        resizeAfterTransform(zoom) {
            // Overwrite this in subclasses.
        }

        validScale(scale) {
            scale = Math.max(scale, this.minScale);
            scale = Math.min(scale, this.maxScale);
            return scale
        }

        animateZoomBounce(dt = 1) {
            if (this.zoomAnchor != null) {
                let zoom = 1;
                let amount = Math.min(0.01, 0.3 * dt / 100000.0);
                if (this.scale < this.minScale) zoom = 1 + amount;
                if (this.scale > this.maxScale) zoom = 1 - amount;
                if (zoom != 1) {
                    this.transform({x: 0, y: 0}, zoom, 0, this.zoomAnchor);
                    requestAnimationFrame(dt => {
                        this.animateZoomBounce(dt);
                    });
                    return
                }
                this.zoomAnchor = null;
            }
        }

        checkScaling(about, delay = 0) {
            this.zoomAnchor = about;
            clearTimeout(this.animateZoomBounce.bind(this));
            setTimeout(this.animateZoomBounce.bind(this), delay);
        }

        onMouseWheel(event) {
            if (event.claimedByScatter) {
                if (event.claimedByScatter != this) return
            }
            this.killAnimation();
            this.targetScale = null;
            let direction = event.detail < 0 || event.wheelDelta > 0;
            let globalPoint = {x: event.clientX, y: event.clientY};
            let centerPoint = this.mapPositionToContainerPoint(globalPoint);
            if (event.shiftKey) {
                let degrees = direction ? 5 : -5;
                let rad = Angle.degree2radian(degrees);
                return this.transform({x: 0, y: 0}, 1.0, rad, centerPoint)
            }
            const zoomFactor = this.mouseZoomFactor;
            let zoom = direction ? zoomFactor : 1 / zoomFactor;
            this.transform({x: 0, y: 0}, zoom, 0, centerPoint);
            this.checkScaling(centerPoint, 200);

            if (this.onTransform != null) {
                let event = new ScatterEvent(this, {
                    translate: {x: 0, y: 0},
                    scale: this.scale,
                    rotate: 0,
                    about: null,
                    fast: false,
                    type: ZOOM
                });
                this.onTransform.forEach(function(f) {
                    f(event);
                });
            }
        }

        onStart(event, interaction) {
            if (this.startGesture(interaction)) {
                this.dragging = true;
                this.interactionAnchor = null;
            }
            if (this.onTransform != null) {
                let event = new ScatterEvent(this, {
                    translate: {x: 0, y: 0},
                    scale: this.scale,
                    rotate: 0,
                    about: null,
                    fast: false,
                    type: START
                });
                this.onTransform.forEach(function(f) {
                    f(event);
                });
            }
        }

        onMove(event, interaction) {
            if (this.dragging) {
                this.gesture(interaction);
            }
        }

        onEnd(event, interaction) {
            if (interaction.isFinished()) {
                this.endGesture(interaction);
                this.dragging = false;
                for (let key of interaction.ended.keys()) {
                    if (interaction.isTap(key)) {
                        let point = interaction.ended.get(key);
                        this.onTap(event, interaction, point);
                    }
                }
                if (this.onTransform != null) {
                    let event = new ScatterEvent(this, {
                        translate: {x: 0, y: 0},
                        scale: this.scale,
                        rotate: 0,
                        about: null,
                        fast: false,
                        type: END
                    });
                    this.onTransform.forEach(function(f) {
                        f(event);
                    });
                }
            }
            let about = this.interactionAnchor;
            if (about != null) {
                this.checkScaling(about, 100);
            }
        }

        onTap(event, interaction, point) {}

        onDragUpdate(delta) {
            if (this.onTransform != null) {
                let event = new ScatterEvent(this, {
                    fast: true,
                    translate: delta,
                    scale: this.scale,
                    about: this.currentAbout,
                    type: null
                });
                this.onTransform.forEach(function(f) {
                    f(event);
                });
            }
        }

        onDragComplete() {
            if (this.onTransform) {
                let event = new ScatterEvent(this, {
                    scale: this.scale,
                    about: this.currentAbout,
                    fast: false,
                    type: null
                });
                this.onTransform.forEach(function(f) {
                    f(event);
                });
            }
        }

        onMoved(dx, dy, about) {
            if (this.onTransform != null) {
                let event = new ScatterEvent(this, {
                    translate: {x: dx, y: dy},
                    about: about,
                    fast: true,
                    type: null
                });
                this.onTransform.forEach(function(f) {
                    f(event);
                });
            }
        }

        onZoomed(about) {
            if (this.onTransform != null) {
                let event = new ScatterEvent(this, {
                    scale: this.scale,
                    about: about,
                    fast: false,
                    type: null
                });
                this.onTransform.forEach(function(f) {
                    f(event);
                });
            }
        }
    }

    /** A container for scatter objects, which uses a single InteractionMapper
     * for all children. This reduces the number of registered event handlers
     * and covers the common use case that multiple objects are scattered
     * on the same level.
     */
    class DOMScatterContainer {
        /**
         * @constructor
         * @param {DOM node} element - DOM element that receives events
         * @param {Bool} stopEvents -  Whether events should be stopped or propagated
         * @param {Bool} claimEvents - Whether events should be marked as claimed
         *                             if findTarget return as non-null value.
         * @param {Bool} touchAction - CSS to set touch action style, needed to prevent
         *                              pointer cancel events. Use null if the
         *                              the touch action should not be set.
         */
        constructor(
            element,
            {stopEvents = 'auto', claimEvents = true, touchAction = 'none'} = {}
        ) {
            this.element = element;
            if (stopEvents === 'auto') {
                if (Capabilities.isSafari) {
                    document.addEventListener(
                        'touchmove',
                        event => this.preventPinch(event),
                        false
                    );
                    stopEvents = false;
                } else {
                    stopEvents = true;
                }
            }
            this.stopEvents = stopEvents;
            this.claimEvents = claimEvents;
            if (touchAction !== null) {
                Elements$1.setStyle(element, {touchAction});
            }
            this.scatter = new Map();
            this.delegate = new InteractionMapper(element, this, {
                mouseWheelElement: window
            });

            if (typeof debugCanvas !== 'undefined') {
                requestAnimationFrame(dt => {
                    this.showTouches(dt);
                });
            }
        }

        showTouches(dt) {
            let resolution = window.devicePixelRatio;
            let canvas = debugCanvas;
            let current = this.delegate.interaction.current;
            let context = canvas.getContext('2d');
            let radius = 20 * resolution;
            context.clearRect(0, 0, canvas.width, canvas.height);
            context.fillStyle = 'rgba(0, 0, 0, 0.3)';
            context.lineWidth = 2;
            context.strokeStyle = '#003300';
            for (let [key, point] of current.entries()) {
                let local = point;
                context.beginPath();
                context.arc(
                    local.x * resolution,
                    local.y * resolution,
                    radius,
                    0,
                    2 * Math.PI,
                    false
                );
                context.fill();
                context.stroke();
            }
            requestAnimationFrame(dt => {
                this.showTouches(dt);
            });
        }

        preventPinch(event) {
            event = event.originalEvent || event;
            if (event.scale !== 1) {
                event.preventDefault();
            }
        }

        add(scatter) {
            this.scatter.set(scatter.element, scatter);
        }

        capture(event) {
            if (event.target == this.element && this.stopEvents) Events.stop(event);
            return true
        }

        mapPositionToPoint(point) {
            return Points.fromPageToNode(this.element, point)
        }

        isDescendant(parent, child, clickable = false) {
            if (parent == child) return true
            let node = child.parentNode;
            while (node != null) {
                if (!clickable && node.onclick) {
                    return false
                }
                if (node == parent) {
                    return true
                }
                node = node.parentNode;
            }
            return false
        }

        findTarget(event, local, global) {
            /*** Note that elementFromPoint works with clientX, clientY, not pageX, pageY
            The important point is that event should not be used, since the TouchEvent
            points are hidden in sub objects.
            ***/
            let found = document.elementFromPoint(global.x, global.y);
            for (let target of this.scatter.values()) {
                if (this.isDescendant(target.element, found)) {
                    if (this.stopEvents) Events.stop(event);
                    if (this.claimEvents) event.claimedByScatter = target;
                    return target
                }
            }
            return null
        }

        get center() {
            let r = this.bounds;
            let w2 = r.width / 2;
            let h2 = r.height / 2;
            return {x: w2, y: h2}
        }

        get bounds() {
            return this.element.getBoundingClientRect()
        }

        get polygon() {
            let r = this.bounds;
            let w2 = r.width / 2;
            let h2 = r.height / 2;
            let center = {x: w2, y: h2};
            let polygon = new Polygon(center);
            polygon.addPoint({x: -w2, y: -h2});
            polygon.addPoint({x: w2, y: -h2});
            polygon.addPoint({x: w2, y: h2});
            polygon.addPoint({x: -w2, y: h2});
            return polygon
        }
    }

    let zIndex = 1000;

    class DOMScatter extends AbstractScatter {
        constructor(
            element,
            container,
            {
                startScale = 1.0,
                minScale = 0.1,
                maxScale = 1.0,
                overdoScaling = 1.5,
                autoBringToFront = true,
                translatable = true,
                scalable = true,
                rotatable = true,
                movableX = true,
                movableY = true,
                rotationDegrees = null,
                rotation = null,
                onTransform = null,
                transformOrigin = 'center center',
                // extras which are in part needed
                x = 0,
                y = 0,
                width = null,
                height = null,
                resizable = false,
                simulateClick = false,
                verbose = true,
                onResize = null,
                touchAction = 'none',
                throwVisibility = 44,
                throwDamping = 0.95,
                autoThrow = true
            } = {}
        ) {
            super({
                minScale,
                maxScale,
                startScale,
                overdoScaling,
                autoBringToFront,
                translatable,
                scalable,
                rotatable,
                movableX,
                movableY,
                resizable,
                rotationDegrees,
                rotation,
                onTransform,
                throwVisibility,
                throwDamping,
                autoThrow
            });
            if (container == null || width == null || height == null) {
                throw new Error('Invalid value: null')
            }
            this.element = element;
            this.x = x;
            this.y = y;
            this.meanX = x;
            this.meanY = y;
            this.width = width;
            this.height = height;
            this.throwVisibility = Math.min(width, height, throwVisibility);
            this.container = container;
            this.simulateClick = simulateClick;
            this.scale = startScale;
            this.rotationDegrees = this.startRotationDegrees;
            this.transformOrigin = transformOrigin;
            this.initialValues = {
                x: x,
                y: y,
                width: width,
                height: height,
                scale: startScale,
                rotation: this.startRotationDegrees,
                transformOrigin: transformOrigin
            };
            // For tweenlite we need initial values in _gsTransform
            TweenLite.set(element, this.initialValues);
            this.onResize = onResize;
            this.verbose = verbose;
            if (touchAction !== null) {
                Elements$1.setStyle(element, {touchAction});
            }
            container.add(this);
        }

        /** Returns geometry data as object. **/
        getState() {
            return {
                scale: this.scale,
                x: this.x,
                y: this.y,
                rotation: this.rotation
            }
        }

        get rotationOrigin() {
            return this.center
        }

        get x() {
            return this._x
        }

        get y() {
            return this._y
        }

        set x(value) {
            this._x = value;
            TweenLite.set(this.element, {x: value});
        }

        set y(value) {
            this._y = value;
            TweenLite.set(this.element, {y: value});
        }

        get position() {
            let transform = this.element._gsTransform;
            let x = transform.x;
            let y = transform.y;
            return {x, y}
        }

        get origin() {
            let p = this.fromNodeToPage(0, 0);
            return Points.fromPageToNode(this.container.element, p)
        }

        get bounds() {
            let stage = this.container.element.getBoundingClientRect();
            let rect = this.element.getBoundingClientRect();
            return {
                top: rect.top - stage.top,
                left: rect.left - stage.left,
                width: rect.width,
                height: rect.height
            }
        }

        get center() {
            let r = this.bounds;
            let w2 = r.width / 2;
            let h2 = r.height / 2;
            if (this.resizable) {
                w2 *= this.scale;
                h2 *= this.scale;
            }
            var x = r.left + w2;
            var y = r.top + h2;
            return {x, y}
        }

        set rotation(radians) {
            let rad = radians; // Angle.normalize(radians)
            let degrees = Angle.radian2degree(rad);
            TweenLite.set(this.element, {rotation: degrees});
            this._rotation = rad;
        }

        set rotationDegrees(degrees) {
            let deg = degrees; // Angle.normalizeDegree(degrees)
            TweenLite.set(this.element, {rotation: deg});
            this._rotation = Angle.degree2radian(deg);
        }

        get rotation() {
            return this._rotation
        }

        get rotationDegrees() {
            return this._rotation
        }

        set scale(scale) {
            TweenLite.set(this.element, {
                scale: scale,
                transformOrigin: this.transformOrigin
            });
            this._scale = scale;
        }

        get scale() {
            return this._scale
        }

        get containerBounds() {
            return this.container.bounds
        }

        get containerPolygon() {
            return this.container.polygon
        }

        mapPositionToContainerPoint(point) {
            return this.container.mapPositionToPoint(point)
        }

        capture(event) {
            return true
        }

        reset() {
            TweenLite.set(this.element, this.initialValues);
        }

        hide() {
            TweenLite.to(this.element, 0.1, {
                display: 'none',
                onComplete: e => {
                    this.element.parentNode.removeChild(this.element);
                }
            });
        }

        show() {
            TweenLite.set(this.element, {display: 'block'});
        }

        showAt(p, rotationDegrees) {
            TweenLite.set(this.element, {
                display: 'block',
                x: p.x,
                y: p.y,
                rotation: rotationDegrees,
                transformOrigin: this.transformOrigin
            });
        }

        bringToFront() {
            // this.element.parentNode.appendChild(this.element)
            // uo: On Chome and Electon appendChild leads to flicker
            TweenLite.set(this.element, {zIndex: zIndex++});
        }

        toggleVideo(element) {
            if (element.paused) {
                element.play();
            } else {
                element.pause();
            }
        }

        onTap(event, interaction, point) {
            if (this.simulateClick) {
                let p = Points.fromPageToNode(this.element, point);
                let iframe = this.element.querySelector('iframe');
                if (iframe) {
                    let doc = iframe.contentWindow.document;
                    let element = doc.elementFromPoint(p.x, p.y);
                    if (element == null) {
                        return
                    }
                    switch (element.tagName) {
                        case 'VIDEO':
                            console.log(element.currentSrc);
                            if (PopupMenu) {
                                PopupMenu.open(
                                    {
                                        Fullscreen: () =>
                                            window.open(element.currentSrc),
                                        Play: () => element.play()
                                    },
                                    {x, y}
                                );
                            } else {
                                this.toggleVideo(element);
                            }
                            break
                        default:
                            element.click();
                    }
                }
            }
        }

        isDescendant(parent, child) {
            let node = child.parentNode;
            while (node != null) {
                if (node == parent) {
                    return true
                }
                node = node.parentNode;
            }
            return false
        }

        fromPageToNode(x, y) {
            return Points.fromPageToNode(this.element, {x, y})
        }

        fromNodeToPage(x, y) {
            return Points.fromNodeToPage(this.element, {x, y})
        }

        _move(delta) {
            // UO: We need to keep TweenLite's _gsTransform and the private
            // _x and _y attributes aligned
            let x = this.element._gsTransform.x;
            let y = this.element._gsTransform.y;
            if (this.movableX) {
                x += delta.x;
            }
            if (this.movableY) {
                y += delta.y;
            }
            this._x = x;
            this._y = y;
            TweenLite.set(this.element, {x: x, y: y});
        }

        resizeAfterTransform(zoom) {
            let w = this.width * this.scale;
            let h = this.height * this.scale;
            TweenLite.set(this.element, {width: w, height: h});
            if (this.onResize) {
                let event = new ResizeEvent(this, {width: w, height: h});
                this.onResize(event);
            }
        }
    }

    /** A container for scatter objects, which uses a single InteractionMapper
     * for all children. This reduces the number of registered event handlers
     * and covers the common use case that multiple objects are scattered
     * on the same level.
     */
    class ScatterContainer extends PIXI.Graphics {

        /**
        * @constructor
        * @param {PIXI.Renderer} renderer - PIXI renderer, needed for hit testing
        * @param {Bool} stopEvents - Whether events should be stopped or propagated
        * @param {Bool} claimEvents - Whether events should be marked as claimed
        *                             if findTarget return as non-null value.
        * @param {Bool} showBounds - Show bounds for debugging purposes.
        * @param {Bool} showTouches - Show touches and pointer for debugging purposes.
        * @param {Color} backgroundColor - Set background color if specified.
        * @param {PIXIApp} application - Needed if showBounds is true to register
        *                                update handler.
        */
        constructor(renderer, {stopEvents = true,
                                claimEvents = true,
                                showBounds = false,
                                showPolygon = false,
                                showTouches = false,
                                backgroundColor = null,
                                application = null} = {}) {
            super();
            this.renderer = renderer;
            this.stopEvents = stopEvents;
            this.claimEvents = claimEvents;
            this.delegate = new InteractionMapper(this.eventReceiver, this);
            this.showBounds = showBounds;
            this.showTouches = showTouches;
            this.showPolygon = showPolygon;
            this.backgroundColor = backgroundColor;
            if (application && (showBounds || showTouches || showPolygon)) {
                application.ticker.add((delta) => this.update(delta), this);
            }
            if (backgroundColor) {
                this.updateBackground();
            }
        }

        updateBackground() {
            this.clear();
            this.beginFill(this.backgroundColor, 1);
            this.drawRect(0, 0, this.bounds.width, this.bounds.height);
            this.endFill();
        }

        get eventReceiver() {
            return this.renderer.plugins.interaction.interactionDOMElement
        }

        get bounds() {
           // let r = this.eventReceiver.getBoundingClientRect()
            let x = 0; // r.left
            let y = 0; // r.top
            let w = app.width;
            let h = app.height;
            if (app.fullscreen && app.monkeyPatchMapping) {
                    let fixed = this.mapPositionToPoint({x : w, y: 0});
                if (fixed.x < w) {
                    w = fixed.x;
                }
                if (fixed.y > 0) {
                    y += fixed.y;
                    h -= fixed.y;
                }
            }
            return new PIXI.Rectangle(x, y, w, h)
        }

        get center() {
            let r = this.bounds;
            return { x: r.width / 2, y: r.height / 2}
        }

        get polygon() {
            let r = this.bounds;
            let w2 = r.width/2;
            let h2 = r.height/2;
            let center = {x: w2, y: h2};
            let polygon = new Polygon(center);
            polygon.addPoint({x: -w2, y: -h2});
            polygon.addPoint({x: w2, y: -h2});
            polygon.addPoint({x: w2, y: h2});
            polygon.addPoint({x: -w2, y: h2});
            return polygon
        }

        update(dt) {
            this.clear();
            this.lineStyle(1, 0x0000FF);
            if (this.showBounds) {
                for(let child of this.children) {
                    if (child.scatter) {
                        //let {x, y, width, height} = child.scatter.throwBounds()
                        // new PIXI.Rectangle(x, y, width, height)
                        this.drawShape(child.scatter.bounds);
                        let center =  child.scatter.center;
                        this.drawCircle(center.x, center.y, 4);
                        this.drawCircle(child.scatter.x, child.scatter.y, 4);
                    }
                }
                this.lineStyle(2, 0x0000FF);
                this.drawShape(this.bounds);
            }
            if (this.showPolygon) {
                this.lineStyle(2, 0xFF0000);
                for(let child of this.children) {
                    if(child.scatter){
                    let polygon = child.scatter.polygon;
                    let shape = new PIXI.Polygon(polygon.flatAbsolutePoints());
                    shape.close();
                    this.drawShape(shape);
                    }
                }
            }
            if (this.showTouches) {
                let current = this.delegate.interaction.current;
                for(let [key, point] of current.entries()) {
                    let local = this.mapPositionToPoint(point);
                    this.drawCircle(local.x, local.y, 12);
                }
            }
        }

        capture(event) {
            if (this.stopEvents)
                Events.stop(event);
            return true
        }

        fakeInteractionEvent(point, key) {
            return { data: { global: point, key: key }}
        }

        findHitScatter(data, displayObject, hit) {
        //     if (hit) {
    //             console.log("findHitScatter", displayObject)
    //         }
            if (hit && this.hitScatter === null && typeof(displayObject) != undefined) {
                this.hitScatter = (displayObject.scatter) ? displayObject.scatter : null;
            }
        }

        mapPositionToPoint(point) {
            let local = new PIXI.Point();
            let interactionManager = this.renderer.plugins.interaction;
            interactionManager.mapPositionToPoint(local, point.x, point.y);
            return local
        }

        /**
         * New method hitTest implemented (in InteractionManager, since 4.5.0).
         * See https://github.com/pixijs/pixi.js/pull/3878
         */
        findTarget(event, local, global) {
            if (event.claimedByScatter) {
                return null
            }
            this.hitScatter = null;
            let interactionManager = this.renderer.plugins.interaction;
            let fakeEvent = this.fakeInteractionEvent(local);
            interactionManager.processInteractive(fakeEvent,
                    this,
                    this.findHitScatter.bind(this), true);
            if (this.claimEvents)
                event.claimedByScatter = this.hitScatter;
            return this.hitScatter
        }

        findTargetNew(event, local, global) {
            // UO: still problematic. Does not find non interactive elements
            // which are needed for some stylus applications
            if (event.claimedByScatter) {
                return null
            }
            this.hitScatter = null;
            let interactionManager = this.renderer.plugins.interaction;
            let displayObject = interactionManager.hitTest(local, this);
            if (displayObject != null && displayObject.scatter != null)
                this.hitScatter = displayObject.scatter;
            if (this.claimEvents)
                event.claimedByScatter = this.hitScatter;
            return this.hitScatter
        }


        onStart(event, interaction) {

        }

        onMove(event, interaction) {

        }

        onEnd(event, interaction) {
            for(let key of interaction.ended.keys()) {
                let point = interaction.ended.get(key);
                if (interaction.isLongPress(key)) {
                    this.onLongPress(key, point);
                }
                if (interaction.isTap(key)) {
                    this.onTap(key, point);
                }
            }
        }

        onTap(key, point) {
            console.info('ScatterContainer.onTap');
        }

        onLongPress(key, point) {
            console.info('ScatterContainer.onLongPress');
        }

        bringToFront(displayObject) {
            this.addChild(displayObject);
        }
    }

    /** A wrapper for child elements of a ScatterContainer. Can be used
     *  to combine scattered objects with non-scattered objects. Any
     *  PIXI.DisplayObject can be wrapped.
     */
    class DisplayObjectScatter extends AbstractScatter {

        constructor(displayObject, renderer,
                        { x=null, y=null,
                            minScale=0.1,
                            maxScale=1.0,
                            startScale=1.0,
                            autoBringToFront=true,
                            translatable=true, scalable=true, rotatable=true, resizable=false,
                            movableX=true,
                            movableY=true,
                            throwVisibility=44,
                            throwDamping = 0.95,
                            autoThrow=true,
                            rotationDegrees=null,
                            rotation=null,
                            onTransform = null } = {}) {
            // For the simulation of named parameters,
            // see: http://exploringjs.com/es6/ch_parameter-handling.html
            super({ minScale, maxScale,
                            startScale,
                            autoBringToFront,
                            translatable, scalable, rotatable, resizable,
                            movableX, movableY, throwVisibility, throwDamping,
                            autoThrow,
                            rotationDegrees, rotation,
                            onTransform });
            this.displayObject = displayObject;
            this.displayObject.scatter = this;
            this.renderer = renderer;
            this.scale = startScale;
            this.rotationDegrees = this.startRotationDegrees;
            this.x = x;
            this.y = y;
        }

        /** Returns geometry data as object. **/
        getState() {
            return {
                scale: this.scale,
                x: this.x,
                y: this.y,
                rotation: this.rotation
            }
        }

        setup() {
            this.setupMouseWheelInteraction();
        }

        roundPixel(value) {
            // UO: Should be obsolete because Renderer supports roundPixels by default
            return value
            let res = this.renderer.resolution;
            return Math.round(value * res) / res
        }

        get container() {
            return this.displayObject.parent
        }

        get x() {
            return this.position.x
        }

        set x(value) {
            this.position.x = value;
        }

        get y() {
            return this.position.y
        }

        set y(value) {
            this.position.y = value;
        }

        get polygon() {
            let polygon = new Polygon(this.center);
            let w2 = this.width / 2;
            let h2 = this.height / 2;
            polygon.addPoint({x: -w2, y: -h2});
            polygon.addPoint({x: w2, y: -h2});
            polygon.addPoint({x: w2, y: h2});
            polygon.addPoint({x: -w2, y: h2});
            polygon.rotate(this.rotation);
            return polygon
        }

        get containerBounds() {
            return this.displayObject.parent.bounds
        }

        get containerPolygon() {
            return this.displayObject.parent.polygon
        }

        get position()  {
            return this.displayObject.position
        }

        set position(value) {
            console.log("set position");
            this.displayObject.position = value;
        }

        get scale()  {
            return this.displayObject.scale.x
        }

        set scale(value) {
            this.displayObject.scale.x = value;
            this.displayObject.scale.y = value;
        }

        get width() {
            return this.displayObject.width
        }

        get height() {
            return this.displayObject.height
        }

        get bounds() {
            return this.displayObject.getBounds()
        }

        get pivot() {
            return this.displayObject.pivot
        }

        get rotation()  {
            return this.displayObject.rotation
        }

        set rotation(value)  {
            this.displayObject.rotation = value;
        }

        get rotationDegrees()  {
            return Angle.radian2degree(this.displayObject.rotation)
        }

        set rotationDegrees(value)  {
            this.displayObject.rotation = Angle.degree2radian(value);
        }

        get center() {
            let w2 = this.width/2;
            let h2 = this.height/2;
            let dist = Math.sqrt(w2*w2 + h2*h2);
            let angle = Points.angle({x: w2, y: h2}, {x: 0, y: 0});
            let p = this.displayObject.x;
            let c = Points.arc(this.position, this.rotation + angle, dist);
            return c // Points.subtract(c, this.pivot)
        }

        get rotationOrigin() {
            // In PIXI the default rotation and scale origin is the position
            return this.position // Points.add(this.position, this.pivot)
        }

        mapPositionToContainerPoint(point) {
            return this.displayObject.parent.mapPositionToPoint(point)
        }

        capture(event) {
            return true
        }

        bringToFront() {
            if (this.autoBringToFront) {
                let scatterContainer = this.displayObject.parent;
                scatterContainer.bringToFront(this.displayObject);
            }
        }

        validScale(scale) {
            scale = Math.max(scale, this.minScale);
            scale = Math.min(scale, this.maxScale);
            return scale
        }

        get containerPolygon() {
            return this.displayObject.parent.polygon
        }

    }

    class CardLoader {
        constructor(
            src,
            {
                x = 0,
                y = 0,
                width = 1000,
                height = 800,
                maxWidth = null,
                maxHeight = null,
                scale = 1,
                minScale = 0.5,
                maxScale = 1.5,
                rotation = 0
            } = {}
        ) {
            this.src = src;
            this.x = x;
            this.y = y;
            this.scale = scale;
            this.rotation = 0;
            this.maxScale = maxScale;
            this.minScale = minScale;
            this.wantedWidth = width;
            this.wantedHeight = height;
            this.maxWidth = maxWidth != null ? maxWidth : window.innerWidth;
            this.maxHeight = maxHeight != null ? maxHeight : window.innerHeight;
            this.addedNode = null;
        }

        unload() {
            if (this.addedNode) {
                this.addedNode.remove();
                this.addedNode = null;
            }
        }
    }

    function isEven(n) {
        return n % 2 == 0
    }

    /**
     * A utility class that describes a quad tree of tiles. Each tile on a given
     * level has up to four corresponding tiles on the next level. A TileQuadNode
     * uses the attributes nw (i.e. northwest), ne, sw, se to link to the
     * quad nodes on the next level. The previous attributes links to the quad
     * one level below that holds the given quad as nw, ne, sw, or se.
     * We use this node class because we need a representation of tiles that are
     * needed but not loaded yet to compute tiles which can be abandoned to reduce
     * the memory pressure.
     *
     * @constructor
     * @param {level} Number - The level the quad node belongs to
     * @param {col} Number - The col of the quad
     * @param {row} Number - The level the quad node belongs to
     * @param {url} String - The level the quad node belongs to
     */
    class TileQuadNode {
        constructor(level, col, row, url) {
            this.level = level;
            this.col = col;
            this.row = row;
            this.url = url;
            this.nw = null;
            this.ne = null;
            this.sw = null;
            this.se = null;
            this.previous = null;
        }

        /** Return True if this node has no successors and can be used as
        an indicator of tiles to free.
        **/
        noQuads() {
            if (this.previous === null) return false
            return (
                this.nw === null &&
                this.ne === null &&
                this.sw === null &&
                this.se === null
            )
        }

        /** Unlink the given quad node

        * @param {node} TileQuadNode - The TileQuadNode to remove
        **/
        unlink(node) {
            if (this.nw === node) this.nw = null;
            if (this.ne === node) this.ne = null;
            if (this.sw === node) this.sw = null;
            if (this.se === node) this.se = null;
        }

        /** Link this quad node to the given previous node. Use the north
        * and west flags to address nw, ne, sw, and se.

        * @param {node} TileQuadNode - The TileQuadNode to remove
        * @param {north} Boolean - Link to north (true) or south (false)
        * @param {west} Boolean - Link to west (true) or east (false)
        **/
        link(north, west, previous) {
            this.previous = previous;
            if (north) {
                if (west) {
                    previous.nw = this;
                } else {
                    previous.ne = this;
                }
            } else {
                if (west) {
                    previous.sw = this;
                } else {
                    previous.se = this;
                }
            }
        }
    }

    /** The current Tile implementation simply uses PIXI.Sprites.
     *
     * BTW: PIXI.extras.TilingSprite is not appropriate. It should be used for
     * repeating patterns.
     **/
    class Tile extends PIXI.Sprite {
        constructor(texture) {
            super(texture);
        }
    }

    /**
     * A Tile Loader component that can be plugged into a Tiles Layer.
     */
    class TileLoader {
        constructor(tiles) {
            this.debug = false;
            this.tiles = tiles;
            this.setup();
        }

        /** Setup collections and instance vars. */
        setup() {
            this.map = new Map(); // Map {url : [ col, row]}
            this.loading = new Set(); // Set url
            this.loaded = new Map(); // Map {url : sprite }
            this.loadQueue = [];
        }

        /** Schedules a tile url for loading. The loading itself must be triggered
        by a call to loadOneTile or loadAll

        * @param {String} url - the url of the texture / tile
        * @param {Number} col - the tile col
        * @param {Number} row - the tile row
        **/
        schedule(url, col, row) {
            if (this.loaded.has(url)) return false
            if (this.loading.has(url)) return false
            this.map.set(url, [col, row]);
            this.loading.add(url);
            this.loadQueue.push(url);
            return true
        }

        /** Cancels loading by clearing the load queue **/
        cancel() {
            this.loadQueue = [];
            this.loading.clear();
        }

        /** Destroys alls collections. **/
        destroy() {
            this.setup();
        }

        /** Private method. Informs the tile layer about a texture for a given url.
         * Creates the sprite for the loaded texture and informs the tile layer.
         * @param {String} url - the url
         * @param {Object} texture - the loaded resource
         **/
        _textureAvailable(url, col, row, texture) {
            let tile = new Tile(texture);
            this.loaded.set(url, tile);
            this.tiles.tileAvailable(tile, col, row, url);
        }
    }

    /**
     * A Tile Loader component that can be plugged into a Tiles Layer.
     * Uses the PIXI Loader but can be replaced with othe loaders implementing
     * the public methods without underscore.
     * Calls the Tiles.tileAvailable method if the sprite is available.
     **/
    class PIXITileLoader extends TileLoader {

        constructor(tiles, compression) {
            super(tiles);
            this.loader = new PIXI.loaders.Loader();
            this.loader.on('load', this._onLoaded.bind(this));
            this.loader.on('error', this._onError.bind(this));
            if (compression) {
                this.loader.pre(PIXI.compressedTextures.imageParser());
            }
        }

        schedule(url, col, row) {
            // Overwritten schedule to avoid BaseTexture and Texture already loaded errors.
            let texture = PIXI.utils.TextureCache[url];
            if (texture) {
                if (this.debug) console.log('Texture already loaded', texture);
                this._textureAvailable(url, col, row, texture);
                return false
            }
            let base = PIXI.utils.BaseTextureCache[url];
            if (base) {
                if (this.debug) console.log('BaseTexture already loaded', base);
                let texture = new PIXI.Texture(base);
                this._textureAvailable(url, col, row, texture);
                return false
            }
            return super.schedule(url, col, row)
        }

        /** Load one and only one of the scheduled tiles **/
        loadOneTile() {
            this._loadOneTile();
        }

        /** Load all scheduled tiles **/
        loadAll() {
            this._loadAllTiles();
        }

        /** Destroys the loader completly **/
        destroy() {
            this.loader.reset();
            super.destroy();
        }

        _onError(loader, error) {
            console.warn('Cannot load', error);
        }

        /** Private method. Called by the PIXI loader after each successfull
         * loading of a single tile.
         * Creates the sprite for the loaded texture and informs the tile layer.
         * @param {Object} loader - the loader instance
         * @param {Object} resource - the loaded resource with url and texture attr
         **/
        _onLoaded(loader, resource) {
            try {
                let [col, row] = this.map.get(resource.url);
                this._textureAvailable(resource.url, col, row, resource.texture);
            }
            catch(err) {
                console.warn("Texture unavailable: " + err.message);
            }
        }

        /** Private method: loads one tile from the queue. **/
        _loadOneTile(retry = 1) {
            //console.log("_loadOneTile")
            if (this.loader.loading) {
                setTimeout(() => {
                    this._loadOneTile();
                }, retry);
                return
            }
            if (this.loadQueue.length > 0) {
                let url = this.loadQueue.pop();
                this.loader.add(url, url);
                this.loader.load();
            }
        }

        /** Private method: loads all tiles from the queue in batches. Batches are
        helpfull to avoid loading tiles that are no longer needed because the
        user has already zoomed to a different level.**/
        _loadAllTiles(batchSize = 8, retry = 16) {
            if (this.loadQueue.length > 0) {
                if (this.loader.loading) {
                    //console.log("Loader busy", this.loadQueue.length)
                    setTimeout(() => {
                        this._loadAllTiles();
                    }, retry);
                    return
                }
                let i = 0;
                let urls = [];
                while (i < batchSize && this.loadQueue.length > 0) {
                    let url = this.loadQueue.pop();
                    if (!this.loaded.has(url)) {
                        urls.push(url);
                        i += 1;
                    }
                }
                this.loader.add(urls).load(() => this._loadAllTiles());
            }
        }
    }

    class WorkerTileLoader extends TileLoader {

        constructor(tiles) {
            super(tiles);
            let worker = this.worker = new Worker("../../lib/pixi/tileloader.js");
            worker.onmessage = (event) => {
                if (event.data.success) {
                     let {url, col, row, buffer} = event.data;
                     //console.log("WorkerTileLoader.loaded", url, buffer)
                     let CompressedImage = PIXI.compressedTextures.CompressedImage;
                     let compressed = CompressedImage.loadFromArrayBuffer(buffer, url);
                     let base = new PIXI.BaseTexture(compressed);
                     let texture = new PIXI.Texture(base);
                     this._textureAvailable(url, col, row, texture);
                }
             };
        }

        loadOne() {
            if (this.loadQueue.length > 0) {
                let url = this.loadQueue.pop();
                let [col, row] = this.map.get(url);
                let tile = [col, row, url];
                this.worker.postMessage({command: "load", tiles: [tile]});
            }
        }

        loadAll() {
            let tiles = [];
            while(this.loadQueue.length > 0) {
                let url = this.loadQueue.pop();
                let [col, row] = this.map.get(url);
                tiles.push([col, row, url]);
            }
            this.worker.postMessage({command: "load", tiles});
        }

        cancel() {
            super.cancel();
            this.worker.postMessage({command: "abort"});
        }

        destroy() {
            this.worker.postMessage({command: "abort"});
            this.worker.terminate();
            this.worker = null;
            super.destroy();
        }
    }
    /**
     * A layer of tiles that represents a zoom level of a DeepZoomImage as a grid
     * of sprites.
     * @constructor
     * @param {number} level - the zoom level of the tile layer
     * @param {DeepZoomImage} view - the zoomable image the layer belongs to
     * @param {number} scale - the scale of the tile layer
     * @param {number} cols - the number of columns of the layer
     * @param {number} rows - the number of rows of the layer
     * @param {number} width - the width of the layer in pixel
     * @param {number} height - the height of the layer in pixel
     * @param {number} tileSize - the size of a single tile in pixel
     * @param {number} overlap - the overlap of the tiles in pixel
     * @param {number} fadeInTime - time needed to fade in tiles if TweenLite is set
     **/
    class Tiles extends PIXI.Container {
        constructor(
            level,
            view,
            scale,
            cols,
            rows,
            width,
            height,
            tileSize,
            overlap,
            fadeInTime = 0.25
        ) {
            super();
            this.debug = false;
            this.showGrid = false;
            this.view = view;
            this.level = level;
            this.cols = cols;
            this.rows = rows;
            this.pixelWidth = width;
            this.pixelHeight = height;
            this.tileSize = tileSize;
            this.overlap = overlap;
            this.needed = new Map(); // url as key, [col, row] as value
            this.requested = new Set();
            this.available = new Map();
            this.scale.set(scale, scale);
            this.tileScale = scale;
            this.fadeInTime = fadeInTime;
            this.keep = false;
            if (this.view.preferWorker && view.info.compression.length>0)
                this.loader = new WorkerTileLoader(this);
            else
                this.loader = new PIXITileLoader(this, view.info.compression);
            this.interactive = false;
            this._highlight = null;
            this.pprint();
        }

        /** Tests whether all tiles are loaded. **/
        isComplete() {
            return this.cols * this.rows === this.children.length
        }

        /** Returns the highligh graphics layer for debugging purposes.
         **/
        get highlight() {
            if (this._highlight == null) {
                let graphics = new PIXI.Graphics();
                graphics.beginFill(0xffff00, 0.1);
                graphics.lineStyle(2, 0xffff00);
                graphics.drawRect(1, 1, tileSize - 2, tileSize - 2);
                graphics.endFill();
                graphics.interactive = false;
                this._highlight = graphics;
            }
            return this._highlight
        }

        /** Helper method pretty printing debug information. **/
        pprint() {
            console.log(
                'Tiles level: ' +
                    this.level +
                    ' scale: ' +
                    this.scale.x +
                    ' cols: ' +
                    this.cols +
                    ' rows: ' +
                    this.rows +
                    ' w: ' +
                    this.pixelWidth +
                    ' h: ' +
                    this.pixelHeight +
                    ' tsize:' +
                    this.tileSize
            );
        }

        /** Computes the tile position and obeys the overlap.
         * @param {number} col - The column of the tile
         * @param {number} row - The row of the tile
         * @returns {PIXI.Point} obj
         **/
        tilePosition(col, row) {
            let x = col * this.tileSize;
            let y = row * this.tileSize;
            let overlap = this.overlap;
            if (col != 0) {
                x -= overlap;
            }
            if (row != 0) {
                y -= overlap;
            }
            return new PIXI.Point(x, y)
        }

        /** Computes the tile size without overlap
         * @param {number} col - The column of the tile
         * @param {number} row - The row of the tile
         * @returns {PIXI.Point} obj
         **/
        tileDimensions(col, row) {
            let w = this.tileSize;
            let h = this.tileSize;
            let pos = this.tilePosition(col, row);
            if (col == this.cols - 1) {
                w = this.pixelWidth - pos.x;
            }
            if (row == this.rows - 1) {
                h = this.pixelHeight - pos.y;
            }
            return new PIXI.Point(w, h)
        }

        /** Method to support debugging. Highlights the specified tile at col, row **/
        highlightTile(col, row) {
            if (col > -1 && row > -1 && col < this.cols && row < this.rows) {
                let graphics = this.highlight;
                let dim = this.tileDimensions(col, row);
                graphics.position = this.tilePosition(col, row);
                graphics.clear();
                graphics.beginFill(0xff00ff, 0.1);
                graphics.lineStyle(2, 0xffff00);
                graphics.drawRect(1, 1, dim.x - 2, dim.y - 2);
                graphics.endFill();
                this.addChild(this.highlight);
            } else {
                this.removeChild(this.highlight);
            }
        }

        /** Loads the tiles for the given urls and adds the tiles as sprites.
         * @param {array} urlpos - An array of URL, pos pairs
         * @param {boolean} onlyone - Loads only on tile at a time if true
         **/
        loadTiles(urlpos, onlyone, refCol, refRow) {
            if (this.showGrid) {
                this.highlightTile(refCol, refRow);
            }
            urlpos.forEach(d => {
                let [url, col, row] = d;
                if (this.loader.schedule(url, col, row)) {
                    if (onlyone) {
                        return this.loader.loadOneTile()
                    }
                }
            });
            this.loader.loadAll();
        }

        /** Private method: add a red border to a tile for debugging purposes. **/
        _addTileBorder(tile, col, row) {
            let dim = this.tileDimensions(col, row);
            let graphics = new PIXI.Graphics();
            graphics.beginFill(0, 0);
            graphics.lineStyle(2, 0xff0000);
            graphics.drawRect(1, 1, dim.x - 2, dim.y - 2);
            graphics.endFill();
            tile.addChild(graphics);
        }

        /** Adds a tile. **/
        addTile(tile, col, row, url) {
            if (this.available.has(url)) return
            this.addChild(tile);
            this.available.set(url, tile);
        }

        //    * Remove a tile. **/
        //     removeTile(col, row, url) {
        //         if (this.available.has(url)) {
        //             let tile = this.available.get(url)
        //             this.removeChild(tile)
        //             tile.destroy(true)
        //             if (this.debug) console.log("Destroyed tile", url)
        //             this.available.delete(url)
        //         }
        //     }

        /** Called by the loader after each successfull loading of a single tile.
         * Adds the sprite to the tile layer.
         * @param {Object} tile - the loaded tile sprite
         * @param {Number} col - the col position
         * @param {Number} row - the rowposition
         **/
        tileAvailable(tile, col, row, url) {
            let pos = this.tilePosition(col, row);
            if (this.showGrid) {
                this._addTileBorder(tile, col, row);
            }
            tile.position = pos;
            tile.interactive = false;
            if (TweenMax) {
                tile.alpha = 0;
                TweenMax.to(tile, this.fadeInTime, {alpha: this.alpha});
            }
            this.addTile(tile, col, row, url);
        }

        /** Destroys the tiles layer and    destroys the loader. Async load calls are
         * cancelled.
         **/
        destroy() {
            this.loader.destroy();
            app.renderer.textureGC.unload(this);
            super.destroy(true); // Calls destroyChildren
            this.available.clear();
        }

        /* Destroys the tiles which are not with the bounds of the app to free
        * memory.
        **/
        destroyTiles(quadTrees) {
            let count = 0;
            for (let [url, tile] of this.available.entries()) {
                if (!quadTrees.has(url)) {
                    this.removeChild(tile);
                    tile.destroy(true);
                    this.requested.delete(url);
                    this.available.delete(url);
                    count += 1;
                }
            }
            if (count && this.debug)
                console.log('destroyObsoleteTiles', this.level, count);
        }

        tintTiles(quadTrees) {
            for (let [url, tile] of this.available.entries()) {
                if (!quadTrees.has(url)) tile.tint = 0xff0000;
            }
        }

        untintTiles() {
            for (let [url, tile] of this.available.entries()) {
                tile.tint = 0xffffff;
            }
        }
    }

    /**
    * The main class of a deeply zoomable image that is represented by a hierarchy
    * of tile layers for each zoom level. This gives the user the impression that
    * even huge pictures (up to gigapixel-images) can be zoomed instantaneously,
    * since the tiles at smaller levels are scaled immediately and overloaded by
    * more detailed tiles at the larger level as fast as possible.

    * @constructor
    * @param {DeepZoomInfo} deepZoomInfo - Information extracted from a JSON-Object
    */
    class DeepZoomImage extends PIXI.Container {
        constructor(
            deepZoomInfo,
            {
                debug = false,
                shadow = false,
                center = false,
                highResolution = true,
                autoLoadTiles = true,
                preferWorker = false,
                minimumLevel = 0,
                alpha = 1
            } = {}
        ) {
            super();
            this.debug = debug;
            this.shadow = shadow;
            this.preferWorker = preferWorker;
            this.resolution = highResolution
                ? Math.round(window.devicePixelRatio)
                : 1;
            this.alpha = alpha;
            this.fastLoads = 0;
            this.autoLoadTiles = autoLoadTiles;
            this.minimumLevel = minimumLevel;
            this.quadTrees = new Map(); // url as keys, TileQuadNodes as values
            this.setup(deepZoomInfo, center);
            if (debug) {
                console.log('DeepZoomImage.constructor', minimumLevel);
                console.log("   prefers worker loader");
            }
        }

        /** Reads the DeepZoomInfo object and initializes all tile layers.
         * Called by the constructor.
         * Creates the sprite for the loaded texture and add the sprite to the tile
         * layer.
         * @param {Object} deepZoomInfo - the DeepZoomInfo instance
         * @param {boolean} center - If true ensures that the pivot is set to the center
         **/
        setup(deepZoomInfo, center) {
            this.info = deepZoomInfo;
            this.interactive = true;
            this.tileLayers = {};

            this._foreground = null;
            this.tileContainer = new PIXI.Container();
            this.tileContainer.interactive = false;
            let [w, h] = this.baseSize;
            if (this.shadow) {
                this.filters = [new PIXI.filters.DropShadowFilter(45, 3)];
            }
            this.addChild(this.tileContainer);

            if (deepZoomInfo.clip) {
                let mask = new PIXI.Graphics();
                mask.beginFill(1, 1);
                mask.drawRect(0, 0, w, h);
                mask.endFill();
                this.mask = mask;
                this.addChild(mask);
                this.minimumLevel = deepZoomInfo.baseLevel;
            }
            this.currentLevel = Math.max(this.minimumLevel, deepZoomInfo.baseLevel);
            if (this.autoLoadTiles) {
                this.setupTiles(center);
            }
        }

        /** Default setup method for tiles. Loads all tiles of the current level.
        Can be overwritten in subclasses.
        @param {boolean} center - If true ensures that the pivot is set to the center
        **/
        setupTiles(center = false) {
            // First load background tile
            let tiles = this.ensureAllTiles(this.currentLevel);
            if (center) {
                this.pivot.set(w / 2, h / 2);
            }
            let scaleLevel = this.levelForScale(1);
            this.ensureAllTiles(scaleLevel);
        }

        removeTileQuadNode(level, col, row, url) {
            if (this.quadTrees.has(url)) {
                let quad = this.quadTrees.get(url);
                this.tileQuadRemoved(quad);
                this.quadTrees.delete(url);
            }
        }

        addTileQuadNode(level, col, row, url) {
            if (this.quadTrees.has(url)) return this.quadTrees.get(url)
            let quad = new TileQuadNode(level, col, row, url);
            this.quadTrees.set(url, quad);
            this.tileQuadAdded(quad);
            return quad
        }

        tileQuadRemoved(quad) {
            let below = quad.previous;
            // if (this.debug) console.log("tileQuadRemoved", quad)
            if (below) {
                below.unlink(quad);
                if (below.noQuads()) {
                    if (this.debug) console.log('Removed tile below');
                    let levelBelow = quad.level - 1;
                    if (levelBelow < this.minimumLevel) return
                    let c = Math.floor(quad.col / 2);
                    let r = Math.floor(quad.row / 2);
                    let urlBelow = this.info.urlForTile(levelBelow, c, r);
                    if (this.quadTrees.has(urlBelow)) {
                        this.removeTileQuadNode(levelBelow, c, r, urlBelow);
                    }
                }
            }
        }

        tileQuadAdded(quad) {
            let levelBelow = quad.level - 1;
            if (levelBelow < this.minimumLevel) return
            //if (this.debug) console.log("tileQuadAdded", quad)
            let c = Math.floor(quad.col / 2);
            let r = Math.floor(quad.row / 2);
            let urlBelow = this.info.urlForTile(levelBelow, c, r);
            let below = null;
            if (!this.quadTrees.has(urlBelow)) {
                below = this.addTileQuadNode(levelBelow, c, r, urlBelow);
                quad.link(isEven(quad.row), isEven(quad.col), below);
            }
        }

        /** Returns the tile layer level that corresponds to the given scale.
         * @param {number} scale - the scale factor
         **/
        levelForScale(scale) {
            let level = Math.round(Math.log2(scale * this.resolution)); // Math.floor(Math.log2(event.scale))+1
            let newLevel = this.info.baseLevel + Math.max(level, 0);
            return Math.min(newLevel, this.info.maxLoadableLevel)
        }


        /** Adds a tile layer to the DeepZoomImage.
         * @param {string} key - the access key
         * @param {Tiles} tiles - the tile layer object
         **/
        addTiles(key, tiles) {
            this.tileContainer.addChild(tiles);
            this.tileLayers[key] = tiles;
        }

        /** Getter for PIXI.Container foreground layer.
         * Adds a PIXI.Container if necessary.
         **/
        get foreground() {
            if (this._foreground == null) {
                this._foreground = new PIXI.Container();
                this.addChild(this._foreground);
            }
            return this._foreground
        }

        /** Getter for the DeepZoomInfo base level size.
         **/
        get baseSize() {
            return this.info.getDimensions(this.info.baseLevel)
        }

        /** Getter for the current scaled size in pixels.
         **/
        get pixelSize() {
            let [w, h] = this.baseSize;
            return [w * this.scale.x, h * this.scale.y]
        }

        /** Getter for the max scale factor.
         **/
        get maxScale() {
            let delta = this.info.maxLevel - this.info.baseLevel;
            return Math.pow(2, delta) / this.resolution * 2
        }

        /** Getter for the current width.
         **/
        get width() {
            return this.pixelSize[0]
        }

        /** Getter for the current height.
         **/
        get height() {
            return this.pixelSize[1]
        }

        /** Overrides PIXI.Container.hitArea()
         * Allows to optimize the hit testing. Container with hit areas are directly
         * hit tested without consideration of children.
         */
        get hitArea() {
            return this
        }

        /** Overrides PIXI.Container.contains()
         * Allows to optimize the hit testing.
         */
        contains(x, y) {
            let [w, h] = this.baseSize;
            return x >= 0 && x <= w && y >= 0 && y <= h
        }

        /** Overrides PIXI.Container._calculateBounds()
         * Only considers the base size and reduces the calculation to a single
         * rect.
         */
        _calculateBounds() {
            let [w, h] = this.baseSize;
            this._bounds.addFrame(this.transform, 0, 0, w, h);
        }

        /** Overrides PIXI.Container.calculateBounds()
         * Skips the children and only considers the deep zoom base size. Calls
         * the also overwritten _calculateBounds method.
         */
        calculateBounds() {
            this._bounds.clear();
            this._calculateBounds();
            this._lastBoundsID = this._boundsID;
        }

        /** Returns a single sprite that can be used a thumbnail representation of
         * large images.
         * @return {Sprite} sprite - A sprite with a single tile texture
         */
        thumbnail() {
            return new PIXI.Sprite.fromImage(this.info.baseURL)
        }

        /** Returns a list of all tiles of a given level.
         * @param {Tiles} tiles - the grid of tiles
         * @param {number} level - The zoom level of the grid
         * @return {Array[]} - An array of [url, col, row] arrays
         **/
        allTiles(tiles, level) {
            let result = [];
            for (let col = 0; col < tiles.cols; col++) {
                for (let row = 0; row < tiles.rows; row++) {
                    let url = this.info.urlForTile(level, col, row);
                    result.push([url, col, row]);
                }
            }
            return result
        }

        /** Loads all tiles that are needed to fill the app bounds.
         * @param {Tiles} tiles - the grid of tiles
         * @param {number} level - The zoom level of the grid
         * @param {boolean} debug
         * @return {Array[]} - An array of [url, col, row] arrays
         */
        neededTiles(tiles, level, debug = false) {
            let result = [];
            let tsize = tiles.tileSize;
            let domBounds = app.view.getBoundingClientRect();
            let maxWidth = domBounds.width;
            let maxHeight = domBounds.height;
            let offset = tsize;
            let bounds = new PIXI.Rectangle(
                -offset,
                -offset,
                maxWidth + 2 * offset,
                maxHeight + 2 * offset
            );
            let scaledTileSize = tsize * tiles.tileScale;
            let pointInWindow = new PIXI.Point();

            let worldTransform = this.worldTransform;
            let worldCenter = new PIXI.Point(maxWidth / 2, maxWidth / 2);

            let tilesCenter = this.toLocal(worldCenter);
            /* UO: we need a toLocal call here since the transform may need an update
            which is guaranteed by the toLocal method. */
            let centerCol = Math.round(tilesCenter.x / scaledTileSize);
            let centerRow = Math.round(tilesCenter.y / scaledTileSize);

            let maxTilesWidth =
                Math.ceil(maxWidth / tiles.tileSize / 2 + 6) * this.resolution;
            let maxTilesHeight =
                Math.ceil(maxHeight / tiles.tileSize / 2 + 4) * this.resolution;

            let startCol = Math.max(0, centerCol - maxTilesWidth);
            let endCol = Math.min(tiles.cols, centerCol + maxTilesWidth);

            let startRow = Math.max(0, centerRow - maxTilesHeight);
            let endRow = Math.min(tiles.rows, centerRow + maxTilesHeight);

            for (let col = startCol; col < endCol; col++) {
                let cx = (col + 0.5) * scaledTileSize;
                for (let row = startRow; row < endRow; row++) {
                    let cy = (row + 0.5) * scaledTileSize;
                    let tileCenter = new PIXI.Point(cx, cy);
                    // This replaces the more traditional this.toGlobal(center, pointInWindow, true)
                    worldTransform.apply(tileCenter, pointInWindow);
                    if (bounds.contains(pointInWindow.x, pointInWindow.y)) {
                        let url = this.info.urlForTile(level, col, row);
                        result.push([url, col, row]);
                    }
                }
            }
            return result
        }

        /** Returns all changed tiles for a given level.
         * @param {Tiles} tiles - the grid of tiles
         * @param {number} level - The zoom level of the grid
         * @return { added: Array[], removed: Array[]} - An object with added and removed [url, col, row] arrays
         */
        changedTiles(tiles, level) {
            if (this.debug) console.time('changedTiles');
            let changed = {added: [], removed: []};
            if (!tiles.isComplete()) {
                let newNeeded = new Map();
                let needed = this.neededTiles(tiles, level);
                needed.forEach(d => {
                    let [url, col, row] = d;
                    newNeeded.set(url, [col, row]);
                    if (!tiles.requested.has(url)) {
                        changed.added.push(d);
                    }
                });
                for (let url of tiles.needed.keys()) {
                    if (!newNeeded.has(url)) {
                        let [col, row] = tiles.needed.get(url);
                        changed.removed.push([url, col, row]);
                    }
                }
                tiles.needed = newNeeded;
                if (this.debug) console.log(newNeeded);
            }
            if (this.debug) console.timeEnd('changedTiles');

            return changed
        }

        /** Populates all tiles for a given level.
         * @param {Tiles} tiles - the grid of tiles
         * @param {number} level - The zoom level of the grid
         */
        populateAllTiles(tiles, level) {
            let all = this.allTiles(tiles, level);
            for (let [url, col, row] of all) {
                this.addTileQuadNode(level, col, row, url);
            }
            tiles.loadTiles(all, false, 0, 0);
        }

        /** Loads all tiles that are needed to fill the browser window.
         * If the optional about parameter is provided (as a point with col as x,
         * and row as y attr) the tiles are sorted by the distance to this point.
         *
         * @param {Tiles} tiles - the grid of tiles
         * @param {number} level - The zoom level of the grid
         * Optional parameter:
         * @param {boolean} onlyone - if true only one tile is loaded
         * @param {PIXI.Point} about - point of interaction
         */
        populateTiles(tiles, level, {onlyone = false, about = null} = {}) {
            let changed = this.changedTiles(tiles, level);
            let removed = changed.removed;
            for (let [url, col, row] of removed) {
                this.removeTileQuadNode(level, col, row, url);
            }
            let added = changed.added;
            if (added.length == 0) return
            for (let [url, col, row] of added) {
                this.addTileQuadNode(level, col, row, url);
            }
            let referenceCol = -1;
            let referenceRow = -1;
            if (about != null) {
                // We want to load tiles in the focus of the user first, therefore
                // we sort according to the distance of the focus of interaction
                let refPoint = this.toLocal(about);
                let scaledTileSize = tiles.tileSize * tiles.tileScale;

                referenceCol = Math.floor(refPoint.x / scaledTileSize);
                referenceRow = Math.floor(refPoint.y / scaledTileSize);

                let ref = new PIXI.Point(referenceCol, referenceRow);

                // Note: The array must be sorted in a way that the nearest tiles
                // are at the end of the array since the load queue uses Array.push
                // Array.pop

                added.sort((a, b) => {
                    let aa = new PIXI.Point(a[1], a[2]);
                    let bb = new PIXI.Point(b[1], b[2]);
                    let da = Points.distance(aa, ref);
                    let db = Points.distance(bb, ref);
                    return db - da
                });
                //console.log("sorted populateTiles",  referenceCol, referenceRow, missing)
            }
            //console.log("populateTiles " +  missing.length)
            tiles.loadTiles(added, onlyone, referenceCol, referenceRow);
        }

        /** Private method: creates all tiles for a given level.
         * @param {number} level - The zoom level of the grid
         * @return {Tiles} - tiles
         */
        _createTiles(key, level) {
            let [cols, rows, w, h] = this.info.dimensions(level);
            let increasedLevels = level - this.info.baseLevel;
            let invScale = Math.pow(0.5, increasedLevels);
            let tiles = new Tiles(
                level,
                this,
                invScale,
                cols,
                rows,
                w,
                h,
                this.info.tileSize,
                this.info.overlap
            );
            this.addTiles(key, tiles);
            if (this.info.clip) {
                let rest = this.info.rests[level];
                if (rest) {
                    let x = rest.restCol * this.info.tileSize * invScale;
                    let y = rest.restRow * this.info.tileSize * invScale;
                    tiles.x = -x;
                    tiles.y = -y;
                }
            }
            return tiles
        }

        /** Ensures that all needed tiles of a given level are loaded. Creates
         * a new Tiles layer if necessary
         * @param {number} level - The zoom level of the grid
         * @return {Tiles} tiles
         */
        ensureTiles(level, about) {
            let key = level.toString();
            if (key in this.tileLayers) {
                let tiles = this.tileLayers[key];
                this.populateTiles(tiles, level, {about: about});
                return tiles
            }
            let tiles = this._createTiles(key, level);
            this.populateTiles(tiles, level, {about: about});
            //console.log("ensureTiles", level)
            return tiles
        }

        untintTiles(level) {
            let key = level.toString();
            if (key in this.tileLayers) {
                let tiles = this.tileLayers[key];
            }
        }

        /** Ensures that all tiles of a given level are loaded.
         * @param {number} level - The zoom level of the grid
         */
        ensureAllTiles(level) {
            let key = level.toString();
            if (key in this.tileLayers) {
                let tiles = this.tileLayers[key];
                this.populateAllTiles(tiles, level);
                tiles.keep = true;
                return
            }
            let tiles = this._createTiles(key, level);
            this.populateAllTiles(tiles, level);
            tiles.keep = true;
            return tiles
        }

        /** Destroys all tiles above a given level to ensure that the memory can
         * be reused.
         * @param {number} level - The zoom level of the grid
         */
        destroyTilesAboveLevel(level) {
            Object.keys(this.tileLayers).forEach(key => {
                let tiles = this.tileLayers[key];
                if (tiles.level > level && !tiles.keep) {
                    for (let url of tiles.available.keys()) {
                        let quad = this.quadTrees.get(url);
                        if (quad) this.removeTileQuadNode(quad);
                    }
                    this.tileContainer.removeChild(tiles);
                    tiles.destroy();
                    delete this.tileLayers[key];
                }
            });
        }

        destroyTiles() {
            return
            // UO: This is buggy
            Object.keys(this.tileLayers).forEach(key => {
                let tiles = this.tileLayers[key];
                if (!tiles.keep) tiles.destroyTiles(this.quadTrees);
            });
        }

        /* Tint all tiles
        * @param {number} level - The zoom level of the grid
        */
        tintTilesBelowLevel(level) {
            Object.keys(this.tileLayers).forEach(key => {
                let tiles = this.tileLayers[key];
                if (tiles.level < level) {
                    tiles.tintTiles(this.quadTrees);
                }
            });
        }

        _eventLevel(event) {
            return this.levelForScale(event.scale)
        }

        /** A callback function that can be used by a Scatter view to inform
         * the zoomable image that it has been moved, rotated or scaled, and should
         * load tiles accordingly.
         * @param {PIXI.Point} translated - the movement of the scatter
         * @param {number} scale - the zoom factor
         * @param {PIXI.Point} about - the anchor point of the zoom
         * @param {boolean} fast - informs the callback to return as fast as possible,
         *  i.e. after loading a single tile
         * @param {boolean} debug - log debug infos
         */
        transformed(event) {
            let key = this.currentLevel.toString();
            let currentTiles = this.tileLayers[key];
            if (event.fast) {
                this.fastLoads += 1;
                this.populateTiles(currentTiles, this.currentLevel, {
                    onlyone: false,
                    about: event.about
                });
                this.destroyTiles();
                return
            }
            if (event.scale == null) {
                this.ensureTiles(this.currentLevel, event.about);
                return
            }
            let newLevel = Math.max(this._eventLevel(event), this.minimumLevel);
            if (newLevel != this.currentLevel) {
                if (!currentTiles.keep) currentTiles.loader.cancel();
                this.destroyTilesAboveLevel(newLevel);
                if (this.debug) this.tintTilesBelowLevel(newLevel);
                this.destroyTiles();
                let tiles = this.ensureTiles(newLevel, event.about);
                tiles.untintTiles();
                this.currentLevel = newLevel;
            } else {
                this.ensureTiles(this.currentLevel, event.about);
                this.destroyTiles();
            }

            if (this._foreground) {
                this.addChild(this._foreground);
            }
        }
    }

    //import {getId} from './utils.js'

    class CardLoader$1 {
        constructor(
            src,
            {
                x = 0,
                y = 0,
                width = 1000,
                height = 800,
                maxWidth = null,
                maxHeight = null,
                scale = 1,
                minScale = 0.5,
                maxScale = 1.5,
                rotation = 0
            } = {}
        ) {
            this.src = src;
            this.x = x;
            this.y = y;
            this.scale = scale;
            this.rotation = 0;
            this.maxScale = maxScale;
            this.minScale = minScale;
            this.wantedWidth = width;
            this.wantedHeight = height;
            this.maxWidth = maxWidth != null ? maxWidth : window.innerWidth;
            this.maxHeight = maxHeight != null ? maxHeight : window.innerHeight;
            this.addedNode = null;
        }

        unload() {
            if (this.addedNode) {
                this.addedNode.remove();
                this.addedNode = null;
            }
        }
    }

    class ImageLoader$1 extends CardLoader$1 {
        load(domNode) {
            return new Promise((resolve, reject) => {
                let isImage = domNode instanceof HTMLImageElement;
                let image = isImage ? domNode : document.createElement('img');
                image.onload = e => {
                    if (!isImage) {
                        domNode.appendChild(image);
                        this.addedNode = image;
                    }
                    this.wantedWidth = image.naturalWidth;
                    this.wantedHeight = image.naturalHeight;

                    let scaleW = this.maxWidth / image.naturalWidth;
                    let scaleH = this.maxHeight / image.naturalHeight;
                    this.scale = Math.min(this.maxScale, Math.min(scaleW, scaleH));
                    image.setAttribute('draggable', false);
                    image.width = image.naturalWidth;
                    image.height = image.naturalHeight;
                    resolve(this);
                };
                image.onerror = e => {
                    reject(this);
                };
                image.src = this.src;
            })
        }
    }

    class DOMFlip$1 {
        constructor(
            domScatterContainer,
            flipTemplate,
            frontLoader,
            backLoader,
            {
                autoLoad = false,
                center = null,
                preloadBack = false,
                translatable = true,
                scalable = true,
                rotatable = true,
                onFront = null,
                onBack = null,
                onClose = null,
                onUpdate = null,
                onRemoved = null
            } = {}
        ) {
            this.domScatterContainer = domScatterContainer;
            this.id = getId();
            this.flipTemplate = flipTemplate;
            this.frontLoader = frontLoader;
            this.backLoader = backLoader;
            this.translatable = translatable;
            this.scalable = scalable;
            this.rotatable = rotatable;
            this.onFrontFlipped = onFront;
            this.onBackFlipped = onBack;
            this.onClose = onClose;
            this.onRemoved = onRemoved;
            this.onUpdate = onUpdate;
            this.center = center;
            this.preloadBack = preloadBack;
            if (autoLoad) {
                this.load();
            }
        }

        load() {
            return new Promise((resolve, reject) => {
                let t = this.flipTemplate;
                let dom = this.domScatterContainer.element;
                let wrapper = t.content.querySelector('.flipWrapper');
                wrapper.id = this.id;
                let clone = document.importNode(t.content, true);
                dom.appendChild(clone);
                // We cannot use the document fragment itself because it
                // is not part of the main dom tree. After the appendChild
                // call we can access the new dom element by id
                this.cardWrapper = dom.querySelector('#' + this.id);
                let front = this.cardWrapper.querySelector('.front');
                this.frontLoader.load(front).then(loader => {
                    this.frontLoaded(loader).then(resolve);
                });
            })
        }

        frontLoaded(loader) {
            return new Promise((resolve, reject) => {
                let scatter = new DOMScatter(
                    this.cardWrapper,
                    this.domScatterContainer,
                    {
                        x: loader.x,
                        y: loader.y,
                        startScale: loader.scale,
                        scale: loader.scale,
                        maxScale: loader.maxScale,
                        minScale: loader.minScale,
                        width: loader.wantedWidth,
                        height: loader.wantedHeight,
                        rotation: loader.rotation,
                        translatable: this.translatable,
                        scalable: this.scalable,
                        rotatable: this.rotatable
                    }
                );
                if (this.center) {
                    scatter.centerAt(this.center);
                }

                let flippable = new DOMFlippable$1(this.cardWrapper, scatter, this);
                let back = this.cardWrapper.querySelector('.back');

                if (this.preloadBack) {
                    this.backLoader.load(back).then(loader => {
                        this.setupFlippable(flippable, loader);
                    });
                }
                this.flippable = flippable;
                resolve(this);
            })
        }

        centerAt(p) {
            this.center = p;
            this.flippable.centerAt(p);
        }

        zoom(scale) {
            this.flippable.zoom(scale);
        }

        setupFlippable(flippable, loader) {
            flippable.wantedWidth = loader.wantedWidth;
            flippable.wantedHeight = loader.wantedHeight;
            flippable.wantedScale = loader.scale;
            flippable.minScale = loader.minScale;
            flippable.maxScale = loader.maxScale;
            flippable.scaleButtons();
        }

        start({duration = 1.0, targetCenter = null} = {}) {
            //console.log('DOMFlip.start', targetCenter)
            if (this.preloadBack) this.flippable.start({duration, targetCenter});
            else {
                let back = this.cardWrapper.querySelector('.back');
                let flippable = this.flippable;
                this.backLoader.load(back).then(loader => {
                    this.setupFlippable(flippable, loader);
                    flippable.start({duration, targetCenter});
                });
            }
        }

        fadeOutAndRemove() {
            TweenLite.to(this.cardWrapper, 0.2, {
                opacity: 0,
                onComplete: () => {
                    this.cardWrapper.remove();
                }
            });
        }

        closed() {
            if (!this.preloadBack) {
                this.backLoader.unload();
            }
        }
    }

    class DOMFlippable$1 {
        constructor(element, scatter, flip) {
            // Set log to console.log or a custom log function
            // define data structures to store our touchpoints in

            this.element = element;
            this.flip = flip;
            this.card = element.querySelector('.flipCard');
            this.front = element.querySelector('.front');
            this.back = element.querySelector('.back');
            this.flipped = false;
            this.scatter = scatter;
            this.onFrontFlipped = flip.onFrontFlipped;
            this.onBackFlipped = flip.onBackFlipped;
            this.onClose = flip.onClose;
            this.onRemoved = flip.onRemoved;
            this.onUpdate = flip.onUpdate;
            scatter.addTransformEventCallback(this.scatterTransformed.bind(this));
            console.log('lib.DOMFlippable', 5000);
            TweenLite.set(this.element, {perspective: 5000});
            TweenLite.set(this.card, {transformStyle: 'preserve-3d'});
            TweenLite.set(this.back, {rotationY: -180});
            TweenLite.set([this.back, this.front], {
                backfaceVisibility: 'hidden',
                perspective: 5000
            });
            TweenLite.set(this.front, {visibility: 'visible'});
            this.infoBtn = element.querySelector('.infoBtn');
            this.backBtn = element.querySelector('.backBtn');
            this.closeBtn = element.querySelector('.closeBtn');
            /* Buttons are not guaranteed to exist. */
            if (this.infoBtn) {
                this.infoBtn.onclick = () => {
                    this.flip.start();
                    //logging
                    app.log("image flipped to back",{id: flip.flippable.data.number});
                };
                this.show(this.infoBtn);
            }
            if (this.backBtn) {
                this.backBtn.onclick = () => {
                    this.start();
                    //logging
                    app.log("image flipped to front",{id: flip.flippable.data.number});
                };
            }
            if (this.closeBtn) {
                this.closeBtn.onclick = () => {
                    this.close();
                    
                };
                this.show(this.closeBtn);
            }
            this.scaleButtons();
            this.bringToFront();
        }

        close() {
            this.hide(this.infoBtn);
            this.hide(this.closeBtn);
            if (this.onClose) {
                this.onClose(this);
                this.flip.closed();
                //logging
                app.log("image closed via button",{id: this.flip.flippable.data.number});
            } else {
                this.scatter.zoom(0.1, {
                    animate: 0.5,
                    onComplete: () => {
                        this.element.remove();
                        this.flip.closed();
                        if (this.onRemoved) {
                            this.onRemoved.call(this);
                        }
                    }
                });
            }
        }

        showFront() {
            TweenLite.set(this.front, {visibility: 'visible'});
        }

        centerAt(p) {
            this.scatter.centerAt(p);
        }

        zoom(scale) {
            this.scatter.zoom(scale);
        }

        get buttonScale() {
            let iscale = 1.0;
            if (this.scatter != null) {
                iscale = 1.0 / this.scatter.scale;
            }
            return iscale
        }

        scaleButtons() {
            TweenLite.set([this.infoBtn, this.backBtn, this.closeBtn], {
                scale: this.buttonScale
            });
        }

        bringToFront() {
            this.scatter.bringToFront();
            TweenLite.set(this.element, {zIndex: DOMScatter.zIndex++});
        }

        clickInfo() {
            this.bringToFront();
            this.infoBtn.click();
        }

        scatterTransformed(event) {
            this.scaleButtons();
        }

        targetRotation(alpha) {
            let ortho = 90;
            let rest = alpha % ortho;
            let delta = 0.0;
            if (rest > ortho / 2.0) {
                delta = ortho - rest;
            } else {
                delta = -rest;
            }
            return delta
        }

        infoValues(info) {
            let startX = this.element._gsTransform.x;
            let startY = this.element._gsTransform.y;
            let startAngle = this.element._gsTransform.rotation;
            let startScale = this.element._gsTransform.scaleX;
            let w = this.element.style.width;
            let h = this.element.style.height;
            console.log(info, startX, startY, startAngle, startScale, w, h);
        }

        show(element) {
            if (element) {
                TweenLite.set(element, {visibility: 'visible', display: 'initial'});
            }
        }

        hide(element) {
            if (element) {
                TweenLite.set(element, {visibility: 'hidden', display: 'none'});
            }
        }

        start({duration = 1.0, targetCenter = null} = {}) {
            this.bringToFront();
            if (!this.flipped) {
                this.startX = this.element._gsTransform.x;
                this.startY = this.element._gsTransform.y;
                this.startAngle = this.element._gsTransform.rotation;
                this.startScale = this.element._gsTransform.scaleX;
                this.startWidth = this.element.style.width;
                this.startHeight = this.element.style.height;
                this.scatterStartWidth = this.scatter.width;
                this.scatterStartHeight = this.scatter.height;
                this.show(this.back);
                this.hide(this.infoBtn);
                this.hide(this.closeBtn);
            } else {
                this.show(this.front);
                this.hide(this.backBtn);
            }
            let {scalable, translatable, rotatable} = this.scatter;
            this.saved = {scalable, translatable, rotatable};
            this.scatter.scalable = false;
            this.scatter.translatable = false;
            this.scatter.rotatable = false;
            this.scatter.killAnimation();

            this.flipped = !this.flipped;
            let targetY = this.flipped ? 180 : 0;
            let targetZ = this.flipped
                ? this.startAngle + this.targetRotation(this.startAngle)
                : this.startAngle;
            let targetScale = this.flipped ? this.wantedScale : this.startScale;
            let w = this.flipped ? this.wantedWidth : this.startWidth;
            let h = this.flipped ? this.wantedHeight : this.startHeight;
            let dw = this.wantedWidth - this.scatter.width;
            let dh = this.wantedHeight - this.scatter.height;
            let tc = targetCenter;
            let xx = tc != null ? tc.x - w / 2 : this.startX - dw / 2;
            let yy = tc != null ? tc.y - h / 2 : this.startY - dh / 2;
            let x = this.flipped ? xx : this.startX;
            let y = this.flipped ? yy : this.startY;

            // console.log("DOMFlippable.start", this.flipped, targetCenter, x, y, this.saved)
            let onUpdate = this.onUpdate !== null ? () => this.onUpdate(this) : null;
            TweenLite.to(this.card, duration, {
                rotationY: targetY,
                ease: Power3.easeOut,
                transformOrigin: '50% 50%',
                onUpdate,
                onComplete: e => {
                    if (this.flipped) {
                        //this.hide(this.front)
                        this.show(this.backBtn);
                        if (this.onFrontFlipped) {
                            this.onFrontFlipped(this);
                        }
                    } else {
                        //this.hide(this.back)
                        if (this.onBackFlipped == null) {
                            this.show(this.infoBtn);
                            this.show(this.closeBtn);
                        } else {
                            this.onBackFlipped(this);
                        }
                        this.flip.closed();
                    }
                    this.scatter.scale = targetScale;
                    this.scaleButtons();
                    this.scatter.rotationDegrees = targetZ;
                    this.scatter.width = this.flipped ? w : this.scatterStartWidth;
                    this.scatter.height = this.flipped ? h : this.scatterStartHeight;

                    let {scalable, translatable, rotatable} = this.saved;
                    this.scatter.scalable = scalable;
                    this.scatter.translatable = translatable;
                    this.scatter.rotatable = rotatable;
                },
                force3D: true
            });

            // See https://greensock.com/forums/topic/7997-rotate-the-shortest-way/
            TweenLite.to(this.element, duration / 2, {
                scale: targetScale,
                ease: Power3.easeOut,
                rotationZ: targetZ + '_short',
                transformOrigin: '50% 50%',
                width: w,
                height: h,
                x: x,
                y: y,
                onComplete: e => {
                    if (this.flipped) {
                        this.hide(this.front);
                    } else {
                        this.hide(this.back);
                    }
                }
            });
        }
    }

    /** A Popup that shows text labels, images, or html
     */
    class Popup {
        /**
        * The constructor.
        * @constructor
        * @param {DOM Element} parent - The DOM parent element.
        * @param {Object} content - A dict object with type strings (text, img, html) as keys
        *                            and corresponding values.
        * @param {string} fontSize - Describes the font size as CSS value
        * @param {string} fontFamily - Describes the font family as CSS value
        * @param {number || string} padding - Describes the padding as CSS value
        * @param {number || string} notchSize - Describes the size of the notch (callout) as CSS value
        * @param {string} backgroundColor  - The color of the background as CSS value
        * @param {string} normalColor  - The color of textitems as CSS value
        * @param {boolean} autoClose  - Autoclose the Popup on tap
        */
        constructor({parent = null,
                        content = null,
                        fontSize='1em',
                        fontFamily='Arial',
                        padding=16,
                        notchSize=10,
                        switchPos=false,
                        maxWidth=800,
                        backgroundColor='#EEE',
                        normalColor='#444',
                        notchPosition='bottomLeft',
                        autoClose=true} = {}) {
            this.padding = padding;
            this.notchPosition = notchPosition;
            this.notchSize = notchSize;
            this.switchPos = switchPos;
            this.fontSize = fontSize;
            this.fontFamily = fontFamily;
            this.maxWidth = maxWidth;
            this.normalColor = normalColor;
            this.backgroundColor = backgroundColor;
            this.autoClose = autoClose;
            this.parent = parent || document.body;
            if (content) {
                this.show(content);
            }
        }

        /** Setup menu with a dictionary of content types and contents.
         * @param {Object} content - A dict object with type strings (text, img, html) as keys
        *                            and corresponding values.
         * @return {Popup} this
         */
        setup(content) {
            this.content = content;
            this.items = {};
            this.element = document.createElement('div');
            Elements$1.addClass(this.element, 'unselectable');
            this.notch = document.createElement('div');
            Elements$1.setStyle(this.notch, this.notchStyle());
            for(let key in content) {
                switch(key) {
                    case 'text':
                        let text = document.createElement('span');
                        this.element.appendChild(text);
                        text.innerHTML = content[key];
                        Elements$1.setStyle(text, {color: this.normalColor});
                        Elements$1.addClass(text, 'unselectable');
                        Elements$1.addClass(text, 'PopupContent');
                        break
                    case 'img':
                        alert("img to be implemented");
                        break
                    case 'html':
                        let div = document.createElement('div');
                        this.element.appendChild(div);
                        div.innerHTML = content[key];
                        Elements$1.addClass(div, 'PopupContent');
                        break
                    default:
                        alert("Unexpected content type: " + key);
                        break
                }
            }
            this.element.appendChild(this.notch);
            this.parent.appendChild(this.element);
            Elements$1.setStyle(this.element, this.defaultStyle());
            console.log("Popup.setup", this.defaultStyle());
            this.layout();
            return this
        }

        /** Layout the menu items
         */
        layout() {

        }

        /** Close and remove the Popup from the DOM tree.
        */
        close() {
            this.parent.removeChild(this.element);
            if (Popup.openPopup == this) {
                Popup.openPopup = null;
            }
        }

        /** Shows the Popup with the given commands at the specified point.
         * @param {Object} content - A dict object with type strings (text, img, html) as keys
         *                            and corresponding values.
         * @param {Point} point - The position as x, y coordinates {px}.
         * @return {Popup} this
        */
        showAt(content, point) {
            this.show(content);
            this.placeAt(point);
            return this
        }

        placeAt(point) {
            let x = point.x;
            let y = point.y;
            let rect = this.element.getBoundingClientRect();
            let h = rect.bottom-rect.top;
            /* TODO: Implement different notchPositions */
            switch(this.notchPosition) {
                case "bottomLeft":
                    x -= this.padding;
                    x -= this.notchSize;
                    y -= (this.notchSize+h);
                    Elements$1.setStyle(this.element,
                         { left: x + 'px', top: y + 'px'} );
                    break

                case "topLeft":
                    x -= this.padding;
                    x -= this.notchSize;
                    y += this.notchSize;
                    Elements$1.setStyle(this.element,
                        { left: x + 'px', top: y + 'px'} );
                    break
                default:
                    Elements$1.setStyle(this.element,
                        { left: x + 'px', top: y + 'px'} );
                    break
            }
        }

        /** Shows the Popup with the given commands at the current position.
         * @param {Object} content - A dict object with type strings (text, img, html) as keys
         *                            and corresponding values.
         * @return {Popup} this
         */
        show(content) {
            this.setup(content);
            return this
        }

        /** Configuration object. Return default styles as CSS values.
        */
        defaultStyle() {
            let padding = this.padding;
            return {
                borderRadius: Math.round(this.padding / 2) + 'px',
                backgroundColor: this.backgroundColor,
                padding: this.padding + 'px',
                maxWidth: this.maxWidth + 'px',
                boxShadow: '0 10px 15px rgba(0, 0, 0, 0.3)',
                position: 'absolute',
                fontFamily : this.fontFamily,
                fontSize: this.fontSize,
                stroke: 'black',
                fill : 'white'}
        }

        /** Configuration object. Return notch styles as CSS values.
        */
        notchStyle() {
            switch(this.notchPosition) {
                case "bottomLeft":
                    return {
                        width: 0,
                        height: 0,
                        boxShadow: '0 12px 15px rgba(0, 0, 0, 0.1)',
                        bottom: -this.notchSize + 'px', // '-10px',
                        position: 'absolute',
                        borderTop: this.notchSize + 'px solid ' + this.backgroundColor,
                        borderRight: this.notchSize + 'px solid transparent',
                        borderLeft: this.notchSize + 'px solid transparent',
                        borderBottom: 0
                    }
                case "topLeft":
                    return {
                        width: 0,
                        height: 0,
                        top: -this.notchSize + 'px',
                        position: 'absolute',
                        borderBottom: this.notchSize + 'px solid ' + this.backgroundColor,
                        borderRight: this.notchSize + 'px solid transparent',
                        borderLeft: this.notchSize + 'px solid transparent',
                        borderTop: 0
                    }
                default:
                    return {
                        width: 0,
                        height: 0,
                        boxShadow: '0 12px 15px rgba(0, 0, 0, 0.1)',
                        bottom: -this.notchSize + 'px', // '-10px',
                        position: 'absolute',
                        borderTop: this.notchSize + 'px solid ' + this.backgroundColor,
                        borderRight: this.notchSize + 'px solid transparent',
                        borderLeft: this.notchSize + 'px solid transparent',
                        borderBottom: 0
                    }
            }
        }

        /** Convenient static methods to show and reuse a Popup implemented
         * as a class variable.
         * @param {Object} content - A dict object with type strings (text, img, html) as keys
         *                            and corresponding values.
         * @param {Point} point - The position as x, y coordinates {px}.
         * @param {boolean} autoClose - Autoclose the menu after selecting an item.
         */
        static open(content, point, {parent = null,
                        fontSize='1em',
                        fontFamily='Arial',
                        padding=16,
                        notchSize=10,
                        switchPos=false,
                        maxWidth=800,
                        backgroundColor='#EEE',
                        normalColor='#444',
                        autoClose=true} = {}) {
            if (Popup.openPopup) {
                this.closePopup();
                return
            }
            if (parent !== null) {
                point = convertPointFromPageToNode(parent, point.x, point.y);
            }
            let notchPosition = 'bottomLeft';
            if (point.y < 50) {
                if(switchPos)notchPosition = 'topLeft';
            }
            let popup = new Popup({parent, fontSize, padding, notchSize, switchPos,
                                    maxWidth, backgroundColor, normalColor,
                                    notchPosition, autoClose});
            popup.showAt(content, point);
            Popup.openPopup = popup;
            /*if (autoClose) {
                window.addEventListener('mousedown', (e) => this.closePopup(e), true)
                window.addEventListener('touchstart', (e) => this.closePopup(e), true)
                window.addEventListener('pointerdown', (e) => this.closePopup(e), true)
            }*/
            Popup.closeEventListener = (e) => { if (this.eventOutside(e))
                                                            this.closePopup(e);};
            if (autoClose) {
                window.addEventListener('mousedown', Popup.closeEventListener, true);
                window.addEventListener('touchstart', Popup.closeEventListener, true);
                window.addEventListener('pointerdown', Popup.closeEventListener, true);
            }
        }

        static eventOutside(e) {
            return !Elements$1.hasClass(e.target, 'PopupContent')
        }

        /** Convenient static methods to close the Popup implemented
         * as a class variable.
         */
        static closePopup(e) {
            if (Popup.openPopup) {
                Popup.openPopup.close();
            }
        }
    }

    /* Class variable */
    Popup.openPopup = null;

    /*** Base parser for loading EyeVisit-style XML. Converts the XML into
     * an internal JSON format that in turn is converted into a HTML 5 representation
     * of EyeVisit cards.
     *
     * Defines the base API for processing the XML.
    ***/

    class XMLParser {

      constructor(path) {
        this.path = path;
        let basePath = this.removeLastSegment(this.path);
        this.basePath = this.removeLastSegment(basePath);
      }

      removeLastSegment(path) {
        let to = path.lastIndexOf('/');
        return path.substring(0, to)
      }

      extractLastSegment(path) {
        let to = path.lastIndexOf('/');
        return path.substring(to + 1, path.length)
      }

      /*** Loads the XML from the given path. ***/
      loadXML() {
        return new Promise((resolve, reject) => {
          $.ajax({
            type: "GET",
            url: this.path,
            dataType: "xml",
            success: (xml) => {
              resolve(xml);
            },
            error: (e) => {
              console.warn("Error loading " + this.path, e);
              reject();
            }
          });
        })
      }

      /*** Entry point, loads and parses the XML. Returns a promise that
        completes if all sub objects are loaded and converted into a single
        DOM tree and to add.***/
      loadParseAndCreateDOM() {
        return new Promise((resolve, reject) => {
            this.loadXML().then((xml) => {
                this.parseXML(xml).then((json) => {
                    let domTree = this.createDOM(json);
                    resolve(domTree);
                }).catch((reason) => {
                    console.warn("parseXML failed", reason);
                    reject(reason);
                });
            }).catch((reason) => {
                console.warn("loadXML failed", reason);
                reject(reason);
            });
        })
      }

      loadAndParseXML() {
        return new Promise((resolve, reject) => {
          this.loadXML().then((xml) => {
            this.parseXML(xml).then((json) => {
                 resolve(json);
            }).catch((reason) => {
                console.warn("parseXML in loadAndParseXML failed", reason);
                reject(reason);
            });
          }).catch((reason) => {
                console.warn("loadXML in loadAndParseXML failed", reason);
                reject(reason);
          });
        })
      }

      /*** Parse the received XML into a JSON structure. Returns a promise. ***/
      parseXML(xmldat) {
        console.warn("Needs to be overwritten");
      }

      /*** Create DOM nodes from JSON structure. Returns a promise. ***/
      createDOM(json) {
        console.warn("Needs to be overwritten");
      }
    }

    class XMLIndexParser extends XMLParser {

      constructor(path, { width= window.innerWidth,
                          height= window.innerHeight,
                          //assetsPath= '../../var/eyevisit/',
                          assetsPath = './cards/',
                          colors = { artist:'#b0c6b2',
                                     thema:'#c3c0d1',
                                     details:'#dec1b2',
                                     leben_des_kunstwerks: '#e1dea7',
                                     komposition: '#bebebe',
                                     licht_und_farbe: '#90a2ab',
                                     extra_info: '#c8d9d7',
                                     extra: '#c8d9d7',
                                     extrainfo: '#c8d9d7',
                                     artwork: '#e1dea7',
                                     technik: '#d9b3bd'
                                  }
                         } = {}) {
        super(path);
        this.width = width;
        this.height = height;
        this.assetsPath = assetsPath;
        this.colors = colors;
      }

      parseXML(xmldat) {
        return new Promise((resolve, reject) => {
          let indexdat = {
            cards: [],
            cardsources: []
          };
          let data = $(xmldat).find('data');
          for (let key of['thumbnail',
            'artist',
            'title',
            'misc',
            'description',
            'year',
            'nr',
            'annotation']) {
            indexdat[key] = data.find(key).html();
          }
          let promises = [];
          data.find('card').each((i, card) => {
            let src = $(card).attr('src');
            indexdat.cardsources.push(src);
            let parser = new XMLCardParser(this.basePath + '/' + src);
            let subCard = parser.loadAndParseXML().then((json) => {
              indexdat.cards.push(json);
            });
            promises.push(subCard);
          });
          Promise.all(promises).then((result) => {
            resolve(indexdat);
          });
        })
      }

      createDOM(tree) {

        let targetnode = document.createElement('div');
        $(targetnode).attr('id', tree.nr);

        let clone = $("#BACK").html();
        $(targetnode).append(clone);
        clone = $(targetnode).children().last();

        $($(clone).find('header img')).attr('src', this.assetsPath + tree.thumbnail);
        $($(clone).find('.artist')).append(tree.artist);
        $($(clone).find('.title')).append(tree.title);
        $($(clone).find('.misc')).append(tree.misc);
        $($(clone).find('.description')).append(tree.description);

        if (tree.annotation != null) {
          $($(clone)).find('.annotation').append(tree.annotation);
        }

        for (var i = 0; i < tree.cards.length; i++) {
          let id = tree.cardsources[i].match(/[^/]*$/, '')[0].replace('.xml', '');
          let cardclone = $("#CARD").html();
          $(clone).find('main').append(cardclone);
          cardclone = $(clone).find('main').children().last();
          cardclone.attr('id', id);
          this.createCardDOM(tree.cards[i], cardclone);
        }

        this.setupIndex(targetnode);
        return targetnode
      }

      createCardDOM(tree, targetnode) {

        if (tree.template == 2) {
          targetnode.find('#leftcol').addClass('wide');
          targetnode.find('#rightcol').addClass('narrow');
        }

        let colct = 2;

        if (tree.template == 3) {
          targetnode.find('.wrapper').append("<div id='bottomcol'></div>");
          // set leftcol/rightcol height
          // set bottom col styles
          colct = 3;
        }

        targetnode.find('.titlebar').append('<p>' + tree.header + '</p>');
        targetnode.find('.titlebar').css({'background': this.colors[tree.type]});
        targetnode.find('.preview').append('<p>' + tree.preview + '</p>');
        for (var index = 1; index < colct+1; index++) {

          let targetcol = targetnode.find('.wrapper').children()[index];
          let sourcecol = targetnode.find('.wrapper').children()[index].id;
          //console.log(sourcecol)

          while (tree[sourcecol].length > 0) {

            let node = tree[sourcecol].pop();

            if (node.type == "text") {
              let clone = $("#TEXT").html();
              $(targetcol).append(clone).find(".text").last().append(node.html);
            }

            if (node.type == "singleimage") {

              let clone = $("#SINGLEIMAGE").html();
              $(targetcol).append(clone);
              clone = $(targetcol).children().last();

              let ratio = this.getRatio(this.assetsPath + node.source);
              let h = (node.maxheight / 670) * this.height;
              let w = h * ratio;

              $(clone).css({
                'height': h,
                'width': w
              });

              $($(clone).children('.mainimg')).attr('src', this.assetsPath + node.source);
              $(clone).attr('id', node.id);
              $($(clone).children('.zoomicon')).attr('id', node.iconid);

              $(clone).children('figcaption.cap').append(node.cap); // uo: already replaced in parseXML .replace("&lt;", "<").replace("&gt;", ">")
              $(clone).children('figcaption.zoomcap').append(node.zoomcap);

              // show image highlights
              let highlights = node.highlights;
              node = "";
              
              /*while (highlights.length > 0) {
              
                let highlight = highlights.pop()
                node += "<a id='" + highlight.id.replace(/\./g, "_") + "' class='detail' href='#' data-target='" + highlight.target + "' data-radius = '" + highlight.radius + "' style='" + highlight.style + "' ></a>"
                //console.log('highlight with radius: ',highlight.radius, highlight.target)
              }*/

              $(clone).append(node);
            }

            if (node.type == "video") {

              let targetsrc = node.source.replace('f4v', 'mp4');

              let clone = $("#VIDEO").html();
              $(targetcol).append(clone);
              clone = $(targetcol).children().last();

              $(clone).css({
                'max-height': (node.maxheight / 670) * this.height
              });
              $($(clone).children('video').children('source')).attr('src', this.assetsPath + targetsrc);

              $(clone).attr('id', node.id);
              $($(clone).children('.zoomicon')).attr('id', node.iconid);
              $(clone).children('figcaption.cap').append(node.cap); // uo: already replaced in parseXML .replace("&lt;", "<").replace("&gt;", ">"))
              $(clone).children('figcaption.zoomcap').append(node.zoomcap);

              $(clone).append(node);
            }

            if (node.type == "space") {
              $(targetcol).append($("#SPACE").html());
              let clone = $(targetcol).children().last();
              $(clone).css({height: node.height});
            }

            if (node.type == "groupimage") {

              let clone = $("#GROUPIMAGE").html();
              $(targetcol).append(clone);
              clone = $(targetcol).children().last();

              $(clone).css({
                'height': (node.maxheight / 670) * this.height
              });

              let len = Object.keys(node.figures).length;
              if(len > 2){
                let diff = len - 2;
                while(diff > 0){
                  let gr_figure = $("#GROUPIMAGE_FIGURE").html();
                  $(clone).append(gr_figure);
                  diff -= 1;
                }
              }

              for (let j = 0; j < len; j++) {
                let figure = $($(clone).children('figure')[j]);
                //console.log('group image: ',node.figures[j+1])
                figure.children('.mainimghalf').attr('src', this.assetsPath + node.figures[j+1].source);
                figure.attr('id', node.figures[j+1].id);
                figure.children('.zoomicon').attr('id', node.figures[j+1].iconid);

                figure.children('figcaption.cap').append(node.figures[j+1].cap);
                figure.children('figcaption.zoomcap').append(node.figures[j+1].zoomcap);
              }
            }
          }
        }

        targetnode.find('a').each(function() {
            let value = tree.tooltipdata[$(this).attr('data-target')];
            //$(this).attr('data-tooltip', value)
        });

      }

      completed(domNode) {
        /*** Called after the domNode has been added.

        At this point we can register a click handler for the
        flip wrapper which allows us to add a popup that can extend over the back
        and front card bounds. Note that popups have to be closed on click events
        outside the popups.

        TODO: On mobile devices we have to
        stay within the card bounds. That's much more complicated.
        ***/
        let wrapper = $(domNode).closest('.flipWrapper');
        wrapper.on('click', (e) => {
            if (wrapper[0].popup) {
                wrapper[0].popup.close();
                wrapper[0].popup = null;
            }
            this.removeZoomable();
            this.removeImageHighlight();
            let target = $(e.target);
            let tooltip = target.attr('data-tooltip');
            if (tooltip) {
                let globalPos = { x: e.pageX, y: e.pageY };
                let localPos = Points.fromPageToNode(wrapper[0], globalPos);
                let popup = new Popup({ parent: wrapper[0], backgroundColor:'#222'});
                localPos.y = this.height - localPos.y;
                popup.showAt({html: tooltip}, localPos);
                wrapper[0].popup = popup;

                if(target.attr('class') == 'detail'){
                  this.currentHighlight = target;
                  this.openImageHighlight();
                  console.log('open image highlight with id:', target.attr('id'));
                }

                if(target.attr('imagehighlightid')){
                  //console.log(target.attr('imagehighlightid'))
                  //console.log((target.attr('id') + "Detail").replace(/\./g, "_"))
                  let detailId = (target.attr('id') + "Detail").replace(/\./g, "_");
                  this.currentHighlight = document.getElementById(detailId);
                  this.openImageHighlight();
                }

                //console.log('tooltip found:',target, target.attr('data-tooltip'), target.scale, this.currentHighlight)

            }
            let zoomable = target.closest('.zoomable');
            if (zoomable.length > 0 && !tooltip) {
                // let wrapper = $(e.target).closest('.flipWrapper')
    //             let div = wrapper.find('.ZoomedFigure')
    //             if (div.length > 0) {
    //                 this.closeZoomable(wrapper, div)
    //                 return
    //             }
                this.openZoomable(wrapper, zoomable);
            }
        });
        this.domNode = domNode;
      }

      openImageHighlight() {
        /*
        TweenMax.to(this.currentHighlight, 0.4, {
                  scale: 1.15,
                  ease: Back.easeOut,
                  alpha: 1,
                  onComplete: () => {
                    //...
                }})
                */
        TweenMax.set(this.currentHighlight, {
          scale: 1.15,
          alpha: 1,
          onComplete: () => {
            //...
        }});
      }

      removeImageHighlight(){
        if(this.currentHighlight){
          //TweenMax.to(this.currentHighlight, 0.4, {scale: 1})
          TweenMax.set(this.currentHighlight, {scale: 1});
          this.currentHighlight = null;
        }
        
      }

      closeZoomable(wrapper, div, zoomable, pos, scale, duration=0.4) {
        //console.log("closeZoomable")
        this.zoomableTweenInProgress = true;
        if (zoomable.length > 0) {
            TweenMax.to(zoomable[0], duration, {
              autoAlpha: 1,
              onComplete: () => {
                //console.log("tween finished")
            }});
        }
        TweenMax.to(div[0], duration, {
            scale: scale,
            x: pos.x,
            y: pos.y,
            onComplete: () => {
                //console.log("closeZoomable tween finished")
                div.remove();
                let icon = wrapper.find('.ZoomedIcon');
                icon.remove();
                this.zoomableTweenInProgress = false;
            }});
      }

      removeZoomable(animated=false) {
          //logging
          //app.log("zoomable image closed",{id: ''})

          //console.log("checking for open zoomables (animated?: " + animated + " )")
           let wrapper = $(this.domNode).closest('.flipWrapper');
           let div = wrapper.find('.ZoomedFigure');
           if (div.length > 0) {
            if (animated) {
                  let zoomable = div[0].zoomable;
                  let zoomablePos = div[0].zoomablePos;
                  let zoomableScale = div[0].zoomableScale;
                  if (zoomable) {
                      this.closeZoomable(wrapper, div, zoomable, zoomablePos, zoomableScale, 0.1);
                  }
            }
            else {
              //cleanup is not necessary if zoomable tween is in progress
              if(!this.zoomableTweenInProgress){
                let zoomable = div[0].zoomable;
                if(zoomable.length > 0){
                  zoomable[0].style.visibility = "visible";
                  zoomable[0].style.opacity = 1;
                }
                let icon = wrapper.find('.ZoomedIcon');
                div.remove();
                icon.remove();
              }
            }
          }
      }

      openZoomable(wrapper, zoomable) {
        //console.log("openZoomable",wrapper,zoomable)
        wrapper.append('<div class="ZoomedFigure" style="display:hidden;"><figure></figure></div>');
        let div = wrapper.find('.ZoomedFigure');

        let figure = div.find('figure');
        let img = zoomable.find('.mainimg');
        if (img.length == 0) {
            img = zoomable.find('.mainimghalf');
        }
        figure.append('<img src="' + img.attr('src') + '">');
        let zoomCap = zoomable.find('.zoomcap');
        let zoomCapClone = zoomCap.clone();
        figure.append(zoomCapClone);
        zoomCapClone.show();

        let zoomIcon = zoomable.find('.zoomicon');
        wrapper.append('<img class="zoomicon ZoomedIcon" src="../../src/cards/icons/close.svg">');

        let globalIconPos = Points.fromNodeToPage(zoomIcon[0], { x: 0, y: 0});
        let localIconPos = Points.fromPageToNode(wrapper[0], globalIconPos);

        let globalFigurePos = Points.fromNodeToPage(zoomable[0], { x: 0, y: 0});
        let localFigurePos = Points.fromPageToNode(wrapper[0], globalFigurePos);
        let relativeIconPos = Points.fromPageToNode(zoomable[0], globalIconPos);

        let currentWidth = relativeIconPos.x;
        let currentHeight = relativeIconPos.y;
        let width = img[0].naturalWidth - 16;
        let height = img[0].naturalHeight - 16;
        let scale = (currentWidth / width) * 1.1;

        div[0].zoomable = zoomable;
        div[0].zoomablePos = localFigurePos;
        div[0].zoomableScale = scale;

        let icon = wrapper.find('.ZoomedIcon');
        icon.on('click', (e) => {
            this.closeZoomable(wrapper, div, zoomable, localFigurePos, scale);
        });

        //logging
        app.log("zoomable image opened",{id: zoomable.attr('id')});

        div.show();
        TweenMax.set(icon[0], { x: localIconPos.x, y: localIconPos.y });
        TweenMax.set(div[0], {  x:localFigurePos.x,
                                y:localFigurePos.y,
                                scale: scale,
                                transformOrigin: "top left"});
        
        //pm: this is more or less a quick and dirty solution to zoomables that are too large... should be reworked
        let scaleFactor = 1;
        if(height>app.height*0.5)
          scaleFactor = 0.75;

        TweenMax.to(zoomable[0], 0.4, { autoAlpha: 0});
        TweenMax.to(div[0], 0.4, { scale: scaleFactor,
                                        x: "-=" + (width * scaleFactor - currentWidth),
                                        y: "-=" + (height * scaleFactor - currentHeight)});
      }

      getRatio(source) {
        let dummy = document.createElement("IMG");
        dummy.setAttribute("src", source);
        let ratio = dummy.naturalWidth / dummy.naturalHeight;
        return ratio
      }

      setupIndex(indexnode, useGreenSock=true) {
        let duration = 300;
        let that = this;
        $(indexnode).find('.card').each(function() {
          $(this).on('click', function(event) {

            //logging
            let cardType = event.currentTarget.id.substring(4);
            cardType = cardType.replace(/\d+$/, "");
            app.log("topic opened",{id: event.currentTarget.id.substring(0,3), type: cardType});

            if ($(this).attr("expanded") == "true") {
              $(this).attr("expanded", "false");
              $(this).css('flex-grow', '0');
            }
            that.removeZoomable(true);

            let cardbox = $(this).parent();
            let indexbox = $(this).parents('.mainview');

            let el = $(this)[0];
            let st = window.getComputedStyle(el, null);
            let tr = st.getPropertyValue('transform');
            let angle = 0;
            if (tr !== "none") {
              let values = tr.split('(')[1].split(')')[0].split(',');
              let a = values[0];
              let b = values[1];
              angle = Math.round(Math.atan2(b, a) * (180 / Math.PI));
            }

            let target = $(this).clone();
            let root = $(this);

            $(target).attr('id', 'overlay');
            $($(target).find('.cardicon')).attr('src', '../../src/cards/icons/close.svg');
            
            $(target).find('.titlebar').css({height: '8%'});
            //console.log("Expand")
            if (useGreenSock) {

                let indexWidth = indexnode.getBoundingClientRect().width;
                let indexHeight = indexnode.getBoundingClientRect().height;
                let rootWidth = root[0].getBoundingClientRect().width;
                let rootHeight = root[0].getBoundingClientRect().height;
                let scale = (useGreenSock) ? rootWidth / indexWidth : 1;

                let globalOrigin = Points.fromNodeToPage(root[0], {x:0, y:0});
                let localOrigin = Points.fromPageToNode(indexbox[0], globalOrigin);

                TweenMax.set(target[0], { css: {
                     position: 'absolute',
                     width: '97.5%',
                     height: '93.5%',
                     margin: 0,
                     zIndex: 101
                }});
                TweenMax.set(root[0], { alpha: 0});
                TweenMax.set(target[0], {
                      x: localOrigin.x,
                      y: localOrigin.y,
                      scale: scale,
                      transformOrigin: '0% 0%',
                      rotation: angle,
                });

                $(target).prependTo(indexbox);

                TweenMax.to(target[0], 0.2, {
                    x: indexWidth * 0.02,
                    y: 0,
                    scale: 1,
                    rotation: 0
                });
                let preview = $(target).find('.preview');
                TweenMax.to(preview[0], 0.5, { autoAlpha: 0 });

                $(target).find('.cardicon').on('click', (event) => {

                    //logging
                    app.log("topic closed",{id: ''});

                    that.removeZoomable(true);
                    TweenMax.set(root[0], { autoAlpha: 1 });
                    TweenMax.to(target[0], 0.2, {
                        x: localOrigin.x,
                        y: localOrigin.y,
                        scale: scale,
                        rotation: angle,
                        onComplete: () => {
                            TweenMax.to(target[0], 0.4,
                                { delay: 0.2,
                                  alpha: 0,
                                  onComplete:
                                    () => {
                                        target[0].remove();}
                                });
                        }
                    });

                   // TweenMax.to(preview[0], 0.2, { alpha: 1 })
                });

            }
            else {
                $(target).find('.cardicon').on('click', function(event) {
                  $(target).fadeOut(duration, function() {
                    $(target).remove();
                  });
                });

                $(target).css({
                  'position': 'absolute',
                  'top': root.offset().top,
                  'left': root.offset().left,
                  'margin': 0,
                  'z-index': '101'
                });
                $(target).prependTo(indexbox);

                $(target).animate({
                    top: '5%',
                    left: '2%',
                    width: '96%',
                    height: '90%',
                    margin: '0'
                    }, duration);
                $(target).find('.preview').fadeOut(700);

                $({deg: 0}).animate({
                    deg: angle
                    }, {
                    duration: duration,
                    step: function(now) {
                        $(target).css({transform: 'rotate(0deg)'});
                    }
                });
            }

          // this.setupZoomables($(target)) ??? is this this the this i want to this ???

            });
        });
    }

      setupZoomables(cardnode) {
        $(cardnode).find('figure.zoomable').each(function() {
          // zoomfun()
        });
      }
    }

    class XMLCardParser extends XMLParser {

        parseXML(xmldat) {
            return new Promise((resolve, reject) => {

                let template = $($(xmldat).find('content')).attr('template');
                let targetdat;

                if(template==3){
                  targetdat = {
                    'leftcol': {},
                    'rightcol': {},
                    'bottomcol': {}
                  };
                } else {
                  targetdat = {
                    'leftcol': {},
                    'rightcol': {}
                  };
                }


                targetdat.template = template;
                targetdat.type = $($(xmldat).find('card')).attr('type').replace(/\s/g, '_');
                let header = $(xmldat).find("h1");
                if (header.length > 0) {
                    let title = this.preserveTags(header[0].innerHTML);
                    targetdat.header = title;
                }

                let preview = $(xmldat).find("preview");
                let previewText = preview.find("text");
                if (previewText.length > 0) {
                    preview = this.preserveTags(previewText[0].innerHTML);
                }
                else {
                    let previewImage = preview.find("img");
                    if (previewImage.length > 0) {
                        let image = $(previewImage[0]);
                        let src = image.attr('src');
                        image.attr('src', this.createLinkURL(src));
                        preview = previewImage[0].outerHTML;
                    }
                }

                targetdat.preview = preview;
                targetdat.tooltipdata = {};
                let cols = $(xmldat).find("column");
                let keydat = Object.keys(targetdat);
                let imgindex = 0,
                    plaintext = '';

                for (let index = 0; index < cols.length; index++) {
                    let sourcecol = $(cols[index]).children();
                    targetdat[keydat[index]] = {};
                    let newnodes = [];
                   for (let i = 0; i < sourcecol.length; i++) {
                        let type = sourcecol[i].nodeName;
                        let html = sourcecol[i].innerHTML;
                        let nodes = "";
                        let node = {};
                        // content type: PREVIEW, TEXT, VIDEO, GROUPIMAGE, SINGLEIMAGE, GLOSS_LINK, DETAIL_LINK, DETAIL_ZOOM, SPACE
                        if (type == "text") {
                            html = this.replaceCDATA(html);
                            html = html.replace(/-([a-z]) /gi, "$1");
                            // UO: The following line is in conflict with URL like tete-a-tete.xml
                            html = html.replace(/-([a-z])/gi, "$1");
                            nodes = $.parseHTML(html);
                            node.type = 'text';
                            node.html = '';
                            for (let j = 0; j < nodes.length; j++) {
                                if (nodes[j].nodeName == "P") {
                                    let links = nodes[j].getElementsByTagName('a');
                                    for (let k = 0; k < links.length; k++) {
                                        let ref = this.createLinkURL(links[k].href);
                                        $(links[k]).attr('data-target', ref);
                                        targetdat.tooltipdata[ref] = "";
                                        links[k].href = "#";
                                        let linktype = "";
                                        if (links[k].href.indexOf("glossar") != -1) {
                                            linktype = "glossLink";
                                        } else if (links[k].hasAttribute("imagehighlightid")) {
                                            linktype = "detailLink";
                                            links[k].id = $(links[k]).attr('imagehighlightid').replace(/\./g, "_");
                                        } else {
                                            linktype = "glossLink";
                                        }
                                        $(links[k]).attr("class", linktype);
                                        /*** UO: This crashed on Firefox 48. Seems to be unnecessary.
                                         nodes[j].getElementsByTagName("a")[k] = links[k]
                                           ***/
                                    }
                                //node.html += '<p> ' + nodes[j].innerHTML + ' </p>'
                                //UO: Enable the following line to remove all links from P tags
                                node.html += '<p> ' + nodes[j].innerText + ' </p>';
                                plaintext += nodes[j].innerText;
                                } else if (nodes[j].nodeName == "H2") {
                                    node.html += '<h2> ' + nodes[j].innerHTML + ' </h2>';
                                    plaintext += nodes[j].innerText;
                                }
                            }
                        }

                        if (type == "img") {

                            imgindex = imgindex + 1;

                            if ($(sourcecol[i]).attr('src').indexOf(".f4v") >= 0) {

                              node.type = 'video';
                              node.maxheight = $(sourcecol[i]).attr('maxHeight') + 'px';
                              node.source = $(sourcecol[i]).attr('src').replace('f4v', 'mp4');
                              node.id = 'zoomable' + imgindex;
                              node.iconid = 'zoom' + imgindex;
                              node.cap = this.caption(sourcecol[i]);
                              node.zoomcap = this.zoomCaption(sourcecol[i]);

                            } else {

                              node.type = 'singleimage';
                              node.maxheight = $(sourcecol[i]).attr('maxHeight') + 'px';
                              node.source = $(sourcecol[i]).attr('src');
                              node.id = 'zoomable' + imgindex;
                              node.iconid = 'zoom' + imgindex;
                              node.cap = this.caption(sourcecol[i]);
                              node.zoomcap = this.zoomCaption(sourcecol[i]);

                              //walk throungh highlights
                              nodes = $.parseHTML(html);
                              let highlights = [];

                              for (let j = 0; j < nodes.length; j++) {

                                if (nodes[j].nodeName == "HIGHLIGHT") {
                                  console.log('parsing highlight');

                                  let ref = this.createLinkURL($(nodes[j]).attr('href'));

                                  targetdat.tooltipdata[ref] = "";

                                  let subnode = {};

                                  subnode.id = ($(nodes[j]).attr('id') + "Detail").replace(/\./g, "_");
                                  subnode.src = $(nodes[j]).attr('id').replace(".jpg", "").replace(/.h\d+/, "").replace(".", "/") + ".jpg";

                                  let style = "";
                                  style = style + "left:" + $(nodes[j]).attr('x') * 100 + "%;";
                                  style = style + "top:" + $(nodes[j]).attr('y') * 100 + "%;";
                                  style = style + "height:" + $(nodes[j]).attr('radius') * 180 + "%;";
                                  style = style + "width:" + $(nodes[j]).attr('radius') * 180 + "%;";
                                  //style = style + "left:" + $(nodes[j]).attr('x') * 114 + "%;"
                                  //style = style + "top:" + $(nodes[j]).attr('y') * 106 + "%;"
                                  //style = style + "height:" + $(nodes[j]).attr('radius') * 145 + "%;"
                                  //style = style + "width:" + $(nodes[j]).attr('radius') * 190 + "%;"
                                  style = style + "background-image:url(" + ref.replace("xml", "jpg") + ");";

                                  subnode.style = style;
                                  subnode.target = ref;
                                  subnode.radius = $(nodes[j]).attr('radius');

                                  console.log(subnode.src,subnode.target);

                                  highlights.push(subnode);

                                }
                              }
                              node.highlights = highlights.reverse();
                            }
                          }

                        if (type == "space" & i == 0) {
                            node.type = 'space';
                            node.height = $(sourcecol[i]).attr('height') + "px";
                        }

                        if (type == "imggroup") {

                            node.type = 'groupimage';
                            node.maxheight = $(sourcecol[i]).attr('maxHeight') + 'px';
                            node.figures = {};

                            for(let j = 0; j < $(sourcecol[i]).children('img').length; j++){

                              imgindex += 1;
                              let srcimg = $(sourcecol[i]).children('img')[j];

                              node.figures[j+1] = {};
                              node.figures[j+1].source = $(srcimg).attr('src');
                              node.figures[j+1].id = 'zoomable' + imgindex;
                              node.figures[j+1].iconid = 'zoom' + imgindex;
                              node.figures[j+1].cap = this.caption(srcimg);
                              node.figures[j+1].zoomcap = this.zoomCaption(srcimg);

                            }
                        }
                        newnodes.push(node);
                    }
                    targetdat[keydat[index]] = newnodes.reverse();
                }
                targetdat.plaintext = plaintext;
                let tooltipRefs = Object.keys(targetdat.tooltipdata);
                //console.log(tooltipRefs)
                let linkpromises = [];
                for (let i of tooltipRefs) {
                    let url = i;
                    let parser = new XMLParser(url);
                    let promise = parser.loadXML().then((xml) => {
                        let img = $(xml).find('img');
                        for(let i=0; i<img.length; i++) {
                            let src = $(img[i]).attr('src');
                            $(img[i]).attr('src', this.createLinkURL(src));
                        }
                        let linkdat = $(xml).find('content').html();
                        linkdat = this.replaceCDATA(linkdat);
                        linkdat = this.replaceText(linkdat);
                        targetdat.tooltipdata[url] = linkdat;
                    });
                    linkpromises.push(promise);
                }

                Promise.all(linkpromises).then((input) => {
                    resolve(targetdat);
                });
            })
        }

        replaceText(html) {
            return html.replace(/<\/text>/g, "")
                .replace(/<text>/g, "")
                .replace(/\t/g, "")
                .replace(/"/g, "'")
                .replace(/\n/g, '')
                .replace(/\r/g, '')
        }

        replaceCDATA(html) {
            return html.replace(/<\!\[CDATA\[/g, "").replace(/]]>/g, "")
        }

        replaceEscapedAngleBrackets(html) {
            return html.replace(/\t/g, "").replace(/&lt;/, "<").replace(/&gt;/, ">")
        }

        preserveTags(html) {
            return this.replaceEscapedAngleBrackets(html)
        }

        caption(element) {
            try {
                return this.replaceEscapedAngleBrackets($(element).attr('caption'))
            } catch(e) {
                return "Missing Caption"
            }
        }

        zoomCaption(element) {
            try {
                return this.replaceEscapedAngleBrackets($(element).attr('zoomCaption'))
            } catch(e) {
                return "Missing ZoomCaption"
            }
        }

        /* Converts absolute URLs in href attributes created by the DOM builder
            into correct src url. */
        createLinkURL(href) {
            let last = this.extractLastSegment(href);
            let rest = this.removeLastSegment(href);
            let first = this.extractLastSegment(rest);
            return this.basePath + '/' + first + '/' + last
        }

    }

    class XMLCardLoader extends CardLoader {

        constructor(src, {x=0, y=0,
                            width=1400, height=1200, maxWidth=null, maxHeight=null,
                            scale=1, maxScale=1, rotation=0} = {}) {
            super(src, {x, y, width, height, maxWidth, maxHeight,
                        scale, maxScale, rotation});
            this.xmlParser = new XMLIndexParser(this.src, {width: width, height: height});
            this.domTree = null;
        }

        load(domNode) {
            return new Promise((resolve, reject) => {
                this.xmlParser.loadParseAndCreateDOM().then((domTree) => {
                    domNode.appendChild(domTree);
                    let scaleW = this.maxWidth / this.wantedWidth;
                    let scaleH = this.maxHeight / this.wantedHeight;
                    this.scale = Math.min(this.maxScale, Math.min(scaleW, scaleH));

                    let w = this.wantedWidth;
                    let h = this.wantedHeight;
                    $(domNode).css({ 'width': w,
                                        'maxWidth': w,
                                        'minWidth': w,
                                        'height': h});
                    this.domTree = domTree;
                    this.xmlParser.completed(domNode); //pm: recent change
                    resolve(this);
                }).catch((reason) => {
                    console.warn("loadParseAndCreateDOM error", reason);
                });
            })
        }

        unload() {
            if (this.domTree) {
                this.domTree.remove();
                this.domTree = null;
            }
        }
    }

    class CloseButton extends PIXI.Graphics {
        constructor() {
            super();
            this.beginFill(0x000000, 0.5);
            this.drawCircle(0, 0, 22);
            this.lineStyle(4, 0xffffff);
            this.moveTo(-11, -11);
            this.lineTo(11, 11);

            this.moveTo(-11, 11);
            this.lineTo(11, -11);
        }
    }

    class Pictures {
        constructor() {
            this.pictures = [];
            this.closeButton = null;
            this.opened = 0;
        }

        get maxPictures() {
            return app.isMobile ? 1 : 1
        }

        pictureRemoved(d) {
            //console.log('picture removed', d.scatter, d)
            if (d.scatter) {
                let element = d.scatter.element;

                d.scatter.element.remove();
                d.scatter = null;
            }

            //reset thumbnail selection
            app.resetActiveThumbID();

            /*TweenLite.to(element, 0.2, {
                opacity: 0,
                onComplete: () => {
                    d.scatter.element.remove()
                    d.scatter = null
                    let index = this.pictures.indexOf(d)
                    if (index > -1) {
                        this.pictures.splice(index, 1)
                    }
                    console.log('tween finished')
                }
            })*/
        }

        pictureTransformed(event, d) {
            //console.log("pictureTransformed", d)

            if(d == null || d.ref == null || d.scatter == null || event == null)
                return

            //logging
            if (event.type == 'onStart') {
                app.log('image transform start', {
                    id: d.ref,
                    x: d.scatter.origin.x,
                    y: d.scatter.origin.y,
                    scale: event.scale
                });
                //console.log(d.scatter, d.ref, d.scatter.origin.x, d.scatter.y, event.scale)
            }

            if (event.type == 'onEnd') {
                app.log('image transform end', {
                    id: d.ref,
                    x: d.scatter.origin.x,
                    y: d.scatter.origin.y,
                    scale: event.scale
                });
                //console.log(d.ref, d.scatter.bounds.x, d.scatter.bounds.y, event.scale)
            }

            if (event.type == 'onZoom') {
                app.log('image zoomed', {
                    id: d.ref,
                    x: d.scatter.origin.x,
                    y: d.scatter.origin.y,
                    scale: event.scale
                });
                //console.log(d.ref, d.scatter.bounds.x, d.scatter.bounds.y, event.scale)
            }
        }

        removeAll(animated = false) {
            //console.log('clearing open pictures',this.pictures.length)
            
            while (this.pictures.length > 0) {
                let first = this.pictures.shift();
                this.remove(first, animated);
            }
        }

        remove(d, animate = true) {
            //console.log('removing picture',d,animate)
            if (animate) {
                let bounds = main.getBoundingClientRect();
                let origin = app.scene.position;
                let sceneScale = app.scene.scale.x;
                let p = d.thumbnail.position;
                let w = d.thumbnail.width;
                let h = d.thumbnail.height;
                let element = d.scatter.element;
                let tc = {
                    x: origin.x + (p.x + w / 2) * sceneScale,
                    y: origin.y + bounds.top + (p.y + h / 2) * sceneScale
                };
                let sc = d.scatter.center;
                let delta = Points.subtract(tc, sc);
                let x = element._gsTransform.x;
                let y = element._gsTransform.y;
                let ww = d.scatter.width;
                let hh = d.scatter.height;
                TweenLite.to(element, 0.5, {
                    x: x + delta.x,
                    y: y + delta.y,
                    scaleX: w / ww,
                    scaleY: h / hh,
                    transformOrigin: 'center center',
                    onComplete: () => {
                        this.pictureRemoved(d);
                    }
                });
            } else {
                this.pictureRemoved(d);
            }

            //logging
            app.log('image closed', {id: d.ref});
        }

        show(event, d) {
            //console.log('showing picture',d)
            let x = event.data.global.x;
            let y = event.data.global.y;

            /*if (this.pictures.length >= this.maxPictures) {
                let first = this.pictures.shift()
                this.remove(first, false)
            }*/

            //this.removeAll(false)

            let center = {x: window.innerWidth / 2, y: window.innerHeight / 2};
            let zoom = new ZoomPicture(d.pictureURL, {
                startX: x,
                startY: y,
                endX: center.x,
                endY: center.y,
                maxWidth: window.innerWidth * 0.8,
                maxHeight: window.innerHeight * 0.8
            });
            this.flipCards = new DOMFlip$1(
                app.domScatterContainer,
                flipTemplate,
                zoom,
                new XMLCardLoader(d.infoURL),
                {
                    autoLoad: false,
                    preloadBack: false,
                    rotatable: false,
                    center: center,
                    onClose: this.onClose.bind(this)
                }
            );
            this.flipCards.load().then(flip => {
                console.log("Flip loaded, setting scatter");
                d.scatter = flip.flippable.scatter;
                d.scatter.centerAt(center);
                flip.flippable.data = d;

                app.imageLoaded();

                if (d.picture) {
                    return this.remove(d)
                }
                this.pictures.push(d);

                d.scatter.addTransformEventCallback(event => {
                    this.pictureTransformed(event, d);
                });
            });
        }

        onClose(flippable) {
            this.remove(flippable.data);
        }
    }

    class ZoomPicture extends ImageLoader$1 {
        constructor(
            src,
            {
                startX = 0,
                startY = 0,
                endX = 0,
                endY = 0,
                width = 1000,
                height = 800,
                maxWidth = null,
                maxHeight = null,
                scale = 1,
                maxScale = 1
            } = {}
        ) {
            super(src, {width, height, maxWidth, maxHeight, scale, maxScale});
            this.startX = startX;
            this.startY = startY;
            this.endX = endX;
            this.endY = endY;
            this.startScale = 0.125;
            this.minScale = 0.125;
        }

        load(domNode) {
            return new Promise((resolve, reject) => {
                let isImage = domNode instanceof HTMLImageElement;
                let image = document.createElement('img');
                image.classList.add('epochal');
                image.style.position = 'absolute';
                image.style.left = 0;
                image.style.top = 0;
                image.onload = e => {
                    app.domScatterContainer.element.appendChild(image);
                    TweenMax.set(image, {
                        scale: this.startScale,
                        transformOrigin: 'center center'
                    });
                    this.wantedWidth = image.naturalWidth;
                    this.wantedHeight = image.naturalHeight;
                    let scaleW = this.maxWidth / image.naturalWidth;
                    let scaleH = this.maxHeight / image.naturalHeight;
                    this.scale = Math.min(this.maxScale, Math.min(scaleW, scaleH));
                    TweenMax.set(image, {
                        x: this.startX - image.naturalWidth / 2,
                        y: this.startY - image.naturalHeight / 2
                    });
                    image.width = image.naturalWidth;
                    image.height = image.naturalHeight;
                    TweenMax.to(image, 0.5, {
                        x: this.endX - image.naturalWidth / 2,
                        y: this.endY - image.naturalHeight / 2,
                        scale: this.scale,
                        transformOrigin: 'center center',
                        onComplete: () => {
                            if (isImage) {
                                TweenMax.set(image, {scale: 1, x: 0, y: 0});
                                image.classList.add('flipFace');
                                image.classList.add('front');
                                domNode.parentNode.replaceChild(image, domNode);
                            } else {
                                domNode.appendChild(image);
                            }
                            resolve(this);
                        }
                    });
                };
                image.onerror = e => {
                    reject(this);
                };
                image.src = this.src;
            })
        }
    }

    class SceneScatter extends DisplayObjectScatter {

        constructor(scene, renderer) {
            super(scene, renderer, { rotatable: false});
            this.scene = scene;
        }

        set movableX(value) {

        }

        set movableY(value) {

        }

        get movableX() {
            return app.currentView.movableX
        }

        get movableY() {
            return app.currentView.movableY
        }

        set scalable(value) {

        }

        get scalable() {
            return app.currentView === app.mapview
        }

        bringToFront() {

        }

        mapPositionToContainerPoint(point) {
            let interactionManager = this.renderer.plugins.interaction;
            let local = new PIXI.Point();
            interactionManager.mapPositionToPoint(local, point.x, point.y);
            return local
        }

        set throwVisibility(value) {
            this._throwVisibility = value;
        }

        get throwVisibility() {
            if (app.currentView === app.timeline)
                return window.innerWidth
            return this._throwVisibility
        }

        set throwDamping(value) {
            this._throwDamping = value;
        }

        get throwDamping() {
            if (app.currentView === app.timeline)
                return 0.975
            return this._throwDamping
        }

        get containerBounds() {
            return app.renderer.view.getBoundingClientRect()
        }
    }

    /*** Root of the PIXI display tree. Uses a single SceneScatter as
    main display object. Delegates events to this SceneScatter with one
    exception: If the Timeline view is selected, the events are
    processed by the scene itself because the Greensock throw behavior
    seems more appropriate for the timeline than the standard Scatter throw
    animation.
    This switch is handled by the findTarget method (see below).
    ***/
    class Scene extends LabeledGraphics {

        setup(app) {
            this.scatter = new SceneScatter(this, app.renderer);
            this.delegate = new InteractionMapper(app.renderer.view, this,
                                            { mouseWheelElement: window});
        }

        capture(event) {
            return true
        }

        findTarget(event, local, global) {
            if (event.claimedByScatter)
                return null
            if (app.currentView === app.timeline)
                return this
            return this.scatter
        }

        reset(x, y, scale) {
            this.scatter.x = x;
            this.scatter.y = y;
            this.scatter.zoom(scale);
        }

        onStart(event, interaction) {
            this.dragging = true;
            ThrowPropsPlugin.track(this.position, 'x,y');
            TweenMax.killAll();
        }

        onMove(event, interaction) {
            let currentView = app.currentView;
            if (this.dragging) {
                let delta = interaction.delta();
                let dx = delta.x;
                let dy = delta.y;
                if (currentView.movableX) {
                    this.scatter.x += dx;
                    currentView.x = this.scatter.x;
                }
                if (currentView.movableY) {
                    this.scatter.y += dy;
                    currentView.y = this.scatter.y;
                }
            }
        }

        onEnd(event, interaction) {
            this.dragging = false;
            let currentView = app.currentView;
            let props = {};
            if (currentView.movableX) {
                let dx = ThrowPropsPlugin.getVelocity(this.position, 'x');
                if (dx) {
                    let maxX = 0;
                    let minX = -currentView.w + window.innerWidth;
                    props['x'] = {velocity: dx, max:maxX, min:minX, resistance:1000};
                }
            }
            if (currentView.moveableY) {
                let dy = ThrowPropsPlugin.getVelocity(this.position, 'y');
                if (dy) {
                    let maxY = 0;
                    let minY = -currentView.h + window.innerHeight;
                    props['y'] = {velocity: dy, max:maxY, min:minY, resistance:1000};
                }
            }
            if (!isEmpty(props)) {
                TweenMax.to(this.scatter, 1.0, {throwProps: props,
                    onUpdate: this.onThrow.bind(this)});
            }
            ThrowPropsPlugin.untrack(this.position);
        }

        onThrow(event) {
            if (app.timebar) {
                app.timebar.sceneMoved(this.scatter.x);
            }
        }
    }

    /**
     * Class that represents a PixiJS Theme.
     *
     * @example
     * // Create the theme
     * const yellow = new Theme({
     *     fill: 0xfecd2d,
     *     fillActive: 0xfe9727,
     *     strokeActive: 0xfecd2d,
     *     strokeActiveWidth: 4,
     *     textStyle: {
     *         fill: 0x5ec7f8
     *     },
     *     textStyleActive: {
     *         fill: 0x5954d3
     *     },
     *     textStyleLarge: {
     *         fontSize: 36
     *     }
     * })
     *
     * // Create the app and apply the new theme to it
     * const app = new PIXIApp({
     *     view: canvas,
     *     width: 450,
     *     height: 150,
     *     theme: yellow
     * }).setup().run()
     *
     * @class
     * @see {@link https://www.iwm-tuebingen.de/iwmbrowser/lib/pixi/theme.html|DocTest}
     */
    class Theme {

        /**
         * Creates an instance of a Theme.
         *
         * @constructor
         * @param {object} [opts] - An options object to specify to style and behaviour of the theme.
         * @param {number} [opts.margin=10] - The outer spacing (distance to other objects) from the border.
         * @param {number} [opts.padding=10] - The inner spacing (distance from icon and/or label) to the border.
         * @param {number} [opts.radius=4] - The radius used when drawing a rounded rectangle.
         * @param {number} [opts.fast=0.25] - The duration of time when it has to be fast.
         * @param {number} [opts.normal=0.5] - The duration of time when it has to be normal.
         * @param {number} [opts.slow=1] - The duration of time when it has to be slow.
         * @param {number} [opts.primaryColor=0x5ec7f8] - The primary color of the theme.
         * @param {number} [opts.color1=0x282828] - The first color of the theme. For example used for the background.
         * @param {number} [opts.color2=0xf6f6f6] - The second color of the theme. For example used for the border.
         * @param {number} [opts.fill=color1] - The color of the background as a hex value.
         * @param {number} [opts.fillAlpha=1] - The alpha value of the background.
         * @param {number} [opts.fillActive=color1] - The color of the background when activated.
         * @param {number} [opts.fillActiveAlpha=1] - The alpha value of the background when activated.
         * @param {number} [opts.stroke=color2] - The color of the border as a hex value.
         * @param {number} [opts.strokeWidth=0.6] - The width of the border in pixel.
         * @param {number} [opts.strokeAlpha=1] - The alpha value of the border.
         * @param {number} [opts.strokeActive=color2] - The color of the border when activated.
         * @param {number} [opts.strokeActiveWidth=0.6] - The width of the border in pixel when activated.
         * @param {number} [opts.strokeActiveAlpha=1] - The alpha value of the border when activated.
         * @param {number} [opts.iconColor=color2] - The color of the icon (set by the tint property) as a hex value.
         * @param {number} [opts.iconColorActive=colorPrimary] - The color of the icon when activated.
         * @param {number} [opts.background=color1] - The color of a background for a component (e.g. at the Modal class).
         * @param {object} [opts.textStyle={}] - A textstyle object for the styling of text. See PIXI.TextStyle
         *     for possible options. Default object:
         * @param {string} [opts.textStyle.fontFamily="Avenir Next", "Open Sans", "Segoe UI", ...] - The font family.
         * @param {string} [opts.textStyle.fontWeight=400] - The font weight.
         * @param {number} [opts.textStyle.fontSize=16] - The font size.
         * @param {number} [opts.textStyle.fill=color2] - The fill color.
         * @param {number} [opts.textStyle.stroke=color1] - The stroke color.
         * @param {number} [opts.textStyle.strokeThickness=0] - The thickness of the stroke.
         * @param {number} [opts.textStyle.miterLimit=1] - The meter limit.
         * @param {string} [opts.textStyle.lineJoin=round] - The line join.
         * @param {object} [opts.textStyleActive=textStyle + {fill: primaryColor}] - A textstyle object which is used
         *     for actived text.
         * @param {object} [opts.textStyleSmall=textStyle + {fontSize: -= 3}] - A textstyle object which is used for
         *     small text.
         * @param {object} [opts.textStyleSmallActive=textStyleSmall + {fill: primaryColor}] - A textstyle object which
         *     is used for small actived text.
         * @param {object} [opts.textStyleLarge=textStyle + {fontSize: += 3}] - A textstyle object which is used for
         *     large text.
         * @param {object} [opts.textStyleLargeActive=textStyleLarge + {fill: primaryColor}] - A textstyle object which
         *     is used for large actived text.
         */
        constructor(opts = {}) {

            const colorPrimary = opts.primaryColor != null ? opts.primaryColor : 0x5ec7f8;               // blue
            const color1 = opts.color1 != null ? opts.color1 : 0x282828;                                 // black
            const color2 = opts.color2 != null ? opts.color2 : 0xf6f6f6;                                 // white

            this.opts = Object.assign({}, {
                margin: 12,
                padding: 12,
                radius: 4,
                fast: .25,
                normal: .5,
                slow: 1,
                primaryColor: colorPrimary,
                color1: color1,
                color2: color2,
                fill: color1,
                fillAlpha: 1,
                fillActive: color1,
                fillActiveAlpha: 1,
                stroke: color2,
                strokeWidth: .6,
                strokeAlpha: 1,
                strokeActive: color2,
                strokeActiveWidth: .6,
                strokeActiveAlpha: 1,
                iconColor: color2,
                iconColorActive: colorPrimary,
                background: color1
            }, opts);

            // Set textStyle and variants
            this.opts.textStyle = Object.assign({}, {
                fontFamily: '"Avenir Next", "Open Sans", "Segoe UI", "Roboto", "Helvetica Neue", -apple-system, system-ui, BlinkMacSystemFont, Arial, sans-serif !default',
                fontWeight: '500',
                fontSize: 18,
                fill: color2,
                stroke: color1,
                strokeThickness: 0,
                miterLimit: 1,
                lineJoin: 'round'
            }, this.opts.textStyle);
            this.opts.textStyleSmall = Object.assign({}, this.opts.textStyle, {fontSize: this.opts.textStyle.fontSize - 3}, this.opts.textStyleSmall);
            this.opts.textStyleLarge = Object.assign({}, this.opts.textStyle, {fontSize: this.opts.textStyle.fontSize + 3}, this.opts.textStyleLarge);
            this.opts.textStyleActive = Object.assign({}, this.opts.textStyle, {fill: this.opts.primaryColor}, this.opts.textStyleActive);
            this.opts.textStyleSmallActive = Object.assign({}, this.opts.textStyleSmall, {fill: this.opts.primaryColor}, this.opts.textStyleSmallActive);
            this.opts.textStyleLargeActive = Object.assign({}, this.opts.textStyleLarge, {fill: this.opts.primaryColor}, this.opts.textStyleLargeActive);

            Object.assign(this, this.opts);
        }

        /**
         * Factory function
         *
         * @static
         * @param {string} theme=dark - The name of the theme to load.
         * @return {Theme} Returns a newly created Theme object.
         */
        static fromString(theme) {

            if (theme && typeof theme === 'object') {
                return theme
            }

            switch (theme) {
                case 'light':
                    return new ThemeLight()
                case 'red':
                    return new ThemeRed()
                default:
                    return new ThemeDark()
            }
        }
    }

    /**
     * Class that represents a PixiJS ThemeDark.
     *
     * @example
     * // Create the app with a new dark theme
     * const app = new PIXIApp({
     *     view: canvas,
     *     width: 450,
     *     height: 150,
     *     theme: new ThemeDark()
     * }).setup().run()
     *
     * @class
     * @extends Theme
     * @see {@link https://www.iwm-tuebingen.de/iwmbrowser/lib/pixi/theme.html|DocTest}
     */
    class ThemeDark extends Theme {

    }

    /**
     * Class that represents a PixiJS ThemeLight.
     * The color1 is set to 0xf6f6f6, color2 to 0x282828.
     *
     * @example
     * // Create the app with a new light theme
     * const app = new PIXIApp({
     *     view: canvas,
     *     width: 450,
     *     height: 150,
     *     theme: new ThemeLight()
     * }).setup().run()
     *
     * @class
     * @extends Theme
     * @see {@link https://www.iwm-tuebingen.de/iwmbrowser/lib/pixi/theme.html|DocTest}
     */
    class ThemeLight extends Theme {

        /**
         * Creates an instance of a ThemeLight.
         *
         * @constructor
         */
        constructor() {

            super({color1: 0xf6f6f6, color2: 0x282828});
        }
    }

    /**
     * Class that represents a PixiJS ThemeRed.
     * The primaryColor is set to 0xd92f31.
     *
     * @example
     * // Create the app with a new red theme
     * const app = new PIXIApp({
     *     view: canvas,
     *     width: 450,
     *     height: 150,
     *     theme: new ThemeRed()
     * }).setup().run()
     *
     * @class
     * @extends Theme
     * @see {@link https://www.iwm-tuebingen.de/iwmbrowser/lib/pixi/theme.html|DocTest}
     */
    class ThemeRed extends Theme {

        /**
         * Creates an instance of a ThemeRed.
         *
         * @constructor
         */
        constructor() {

            super({primaryColor: 0xd92f31});
        }
    }

    /**
     * Class that represents a PixiJS Progress.
     * 
     * @example
     * // Create the progress
     * const progress = new Progress({
     *     app: app
     * })
     *
     * // Add the progress to a DisplayObject
     * app.scene.addChild(progress)
     *
     * @class
     * @extends PIXI.Container
     * @see {@link http://pixijs.download/dev/docs/PIXI.Container.html|PIXI.Container}
     * @see {@link https://www.iwm-tuebingen.de/iwmbrowser/lib/pixi/progress.html|DocTest}
     */
    class Progress extends PIXI.Container {
        
        /**
         * Creates an instance of a Progress.
         * 
         * @constructor
         * @param {object} [opts] - An options object to specify to style and behaviour of the progress.
         * @param {number} [opts.id=auto generated] - The id of the progress.
         * @param {PIXIApp} [opts.app=window.app] - The app where the progress belongs to.
         * @param {number} [opts.width] - The width of the progress bar. When not set, the width is the size of the app
         *     minus 2 * opts.margin.
         * @param {number} [opts.height=2] - The height of the progress bar.
         * @param {string|Theme} [opts.theme=dark] - The theme to use for this progress. Possible values are dark, light, red
         *     or a Theme object.
         * @param {number} [opts.margin=100] - The outer spacing to the edges of the app.
         * @param {number} [opts.padding=0] - The inner spacing (distance from icon and/or label) to the border.
         * @param {number} [opts.fill=Theme.fill] - The color of the progress background as a hex value.
         * @param {number} [opts.fillAlpha=Theme.fillAlpha] - The alpha value of the background.
         * @param {number} [opts.fillActive=Theme.primaryColor] - The color of the progress background when activated.
         * @param {number} [opts.fillActiveAlpha=Theme.fillActiveAlpha] - The alpha value of the background when activated.
         * @param {number} [opts.stroke=Theme.stroke] - The color of the border as a hex value.
         * @param {number} [opts.strokeWidth=0] - The width of the border in pixel.
         * @param {number} [opts.strokeAlpha=Theme.strokeAlpha] - The alpha value of the border.
         * @param {number} [opts.strokeActive=Theme.strokeActive] - The color of the border when activated.
         * @param {number} [opts.strokeActiveWidth=0] - The width of the border in pixel when activated.
         * @param {number} [opts.strokeActiveAlpha=Theme.strokeActiveAlpha] - The alpha value of the border when activated.
         * @param {boolean} [opts.background=false] - The alpha value of the border when activated.
         * @param {number} [opts.backgroundFill=Theme.background] - A textstyle object for the styling of the label. See PIXI.TextStyle
         *     for possible options.
         * @param {number} [opts.backgroundFillAlpha=1] - A textstyle object for the styling of the label when the
         *     progress is activated. See PIXI.TextStyle for possible options.
         * @param {number} [opts.radius=Theme.radius] - The radius of the four corners of the progress (which is a rounded rectangle).
         * @param {boolean} [opts.destroyOnComplete=true] - Should the progress bar destroy itself after reaching 100 %?
         * @param {boolean} [opts.visible=true] - Is the progress initially visible (property visible)?
         */
        constructor(opts = {}) {

            super();
            
            const theme = Theme.fromString(opts.theme);
            this.theme = theme;

            this.opts = Object.assign({}, {
                id: PIXI.utils.uid(),
                app: window.app,
                width: null,
                height: 2,
                margin: 100,
                padding: 0,
                fill: theme.fill,
                fillAlpha: theme.fillAlpha,
                fillActive: theme.primaryColor,
                fillActiveAlpha: theme.fillActiveAlpha,
                stroke: theme.stroke,
                strokeWidth: 0,
                strokeAlpha: theme.strokeAlpha,
                strokeActive: theme.strokeActive,
                strokeActiveWidth: 0,
                strokeActiveAlpha: theme.strokeActiveAlpha,
                background: false,
                backgroundFill: theme.background,
                backgroundFillAlpha: 1,
                radius: theme.radius,
                destroyOnComplete: true,
                visible: true
            }, opts);

            this.id = this.opts.id;

            this.background = null;
            this.bar = null;
            this.barActive = null;

            this.alpha = 0;
            
            this.visible = this.opts.visible;

            this._progress = 0;

            // setup
            //-----------------
            this.setup();

            // layout
            //-----------------
            this.layout();
        }
        
        /**
         * Creates children and instantiates everything.
         * 
         * @private
         * @return {Progress} A reference to the progress for chaining.
         */
        setup() {

            // interaction
            //-----------------
            this.on('added', e => {
                this.show();
            });

            // background
            //-----------------
            if (this.opts.background) {
                const background = new PIXI.Graphics();
                this.background = background;
                this.addChild(background);
            }

            // bar
            //-----------------
            const bar = new PIXI.Graphics();
            this.bar = bar;
            this.addChild(bar);

            const barActive = new PIXI.Graphics();
            this.barActive = barActive;
            this.bar.addChild(barActive);

            return this
        }
        
        /**
         * Should be called to refresh the layout of the progress. Can be used after resizing.
         * 
         * @return {Progress} A reference to the progress for chaining.
         */
        layout() {

            const width = this.opts.app.size.width;
            const height = this.opts.app.size.height;

            // background
            //-----------------
            if (this.opts.background) {
                this.background.clear();
                this.background.beginFill(this.opts.backgroundFill, this.opts.backgroundFillAlpha);
                this.background.drawRect(0, 0, width, height);
                this.background.endFill();
            }

            this.draw();

            return this
        }
        
        /**
         * Draws the canvas.
         * 
         * @private
         * @return {Progress} A reference to the progress for chaining.
         */
        draw() {

            this.bar.clear();
            this.barActive.clear();

            this.drawBar();
            this.drawBarActive();

            return this
        }
        
        /**
         * Draws the bar.
         * 
         * @private
         * @return {Progress} A reference to the progress for chaining.
         */
        drawBar() {

            const width = this.opts.app.size.width;
            const height = this.opts.app.size.height;

            this.radius = this.opts.radius;
            if ((this.radius * 2) > this.opts.height) {
                this.radius = this.opts.height / 2;
            }

            const wantedWidth = this.opts.width || (width - (2 * this.opts.margin));
            const wantedHeight = this.opts.height;

            this.bar.lineStyle(this.opts.strokeWidth, this.opts.stroke, this.opts.strokeAlpha);
            this.bar.beginFill(this.opts.fill, this.opts.fillAlpha);
            if (this.radius > 1) {
                this.bar.drawRoundedRect(0, 0, wantedWidth, wantedHeight, this.radius);
            } else {
                this.bar.drawRect(0, 0, wantedWidth, wantedHeight);
            }
            this.bar.endFill();
            
            this.bar.x = width / 2 - this.bar.width / 2;
            this.bar.y = height / 2 - this.bar.height / 2;

            return this
        }
        
        /**
         * Draws the active bar.
         * 
         * @private
         * @return {Progress} A reference to the progress for chaining.
         */
        drawBarActive() {

            const wantedWidth = this.bar.width - (2 * this.opts.padding);
            const wantedHeight = this.bar.height - (2 * this.opts.padding);
            
            const barActiveWidth = wantedWidth * this._progress / 100;

            this.barActive.lineStyle(this.opts.strokeActiveWidth, this.opts.strokeActive, this.opts.strokeActiveAlpha);
            this.barActive.beginFill(this.opts.fillActive, this.opts.fillActiveAlpha);
            if (barActiveWidth > 0) {
                if (this.radius > 1) {
                    this.barActive.drawRoundedRect(0, 0, barActiveWidth, wantedHeight, this.radius);
                } else {
                    this.barActive.drawRect(0, 0, barActiveWidth, wantedHeight);
                }
            }
            this.barActive.endFill();

            this.barActive.x = this.opts.padding;
            this.barActive.y = this.opts.padding;

            return this
        }
        
        /**
         * Shows the progress (sets his alpha values to 1).
         * 
         * @return {Progress} A reference to the progress for chaining.
         */
        show() {
            TweenMax.to(this, this.theme.fast, {alpha: 1});

            return this
        }
        
        /**
         * Hides the progress (sets his alpha values to 1).
         * 
         * @return {Progress} A reference to the progress for chaining.
         */
        hide() {
            TweenMax.to(this, this.theme.fast, {alpha: 0, onComplete: () => this.visible = false});

            return this
        }
        
        /**
         * Gets or sets the progress. Has to be a number between 0 and 100.
         * 
         * @member {number}
         */
        get progress() {
            return this._progress
        }
        set progress(value) {

            value = Math.round(value);

            if (value < 0) {
                value = 0;
            }

            if (value > 100) {
                value = 100;
            }

            TweenMax.to(this, this.theme.normal, {
                _progress: value,
                onUpdate: () => this.draw(),
                onComplete: () => {
                    if (value === 100 && this.opts.destroyOnComplete) {
                        TweenMax.to(this, this.theme.fast, {
                            alpha: 0,
                            onComplete: () => this.destroy({children: true})
                        });
                    }
                }
            });
        }
    }

    /**
     * Callback for the popup onHidden.
     *
     * @callback hiddenCallback
     * @param {AbstractPopup} abstractPopup - A reference to the popup (also this refers to the popup).
     */

    /**
     * Class that represents a PixiJS AbstractPopup.
     * The class is used for various other Popup-like classes
     * like Popup, Message, Tooltip...
     *
     * @class
     * @abstract
     * @extends PIXI.Graphics
     * @see {@link http://pixijs.download/dev/docs/PIXI.Graphics.html|PIXI.Graphics}
     */
    class AbstractPopup extends PIXI.Graphics {
        
        /**
         * Creates an instance of an AbstractPopup (only for internal use).
         * 
         * @constructor
         * @param {object} [opts] - An options object to specify to style and behaviour of the popup.
         * @param {number} [opts.id=auto generated] - The id of the popup.
         * @param {number} [opts.x=0] - The x position of the popup. Can be also set after creation with popup.x = 0.
         * @param {number} [opts.y=0] - The y position of the popup. Can be also set after creation with popup.y = 0.
         * @param {string|Theme} [opts.theme=dark] - The theme to use for this popup. Possible values are dark, light, red
         *     or a Theme object.
         * @param {string|number|PIXI.Text} [opts.header] - The heading inside the popup as a string, a number (will be
         *     converted to a text) or as a PIXI.Text object.
         * @param {string|number|PIXI.DisplayObject} [opts.content] - A text, a number (will be converted to a text) or
         *     an PIXI.DisplayObject as the content of the popup.
         * @param {number} [opts.minWidth=320] - The minimum width of the popup.
         * @param {number} [opts.minHeight=130] - The minimum height of the popup.
         * @param {number} [opts.padding=Theme.padding] - The inner spacing (distance from header and content) the the border.
         * @param {number} [opts.fill=Theme.fill] - The color of the button background as a hex value.
         * @param {number} [opts.fillAlpha=Theme.fillAlpha] - The alpha value of the background.
         * @param {number} [opts.stroke=Theme.stroke] - The color of the border as a hex value.
         * @param {number} [opts.strokeWidth=Theme.strokeWidth] - The width of the border in pixel.
         * @param {number} [opts.strokeAlpha=Theme.strokeAlpha] - The alpha value of the border.
         * @param {object} [opts.headerStyle=Theme.textStyleLarge] - A textstyle object for the styling of the header. See PIXI.TextStyle
         *     for possible options.
         * @param {object} [opts.textStyle=Theme.textStyleSmall] - A textstyle object for the styling of the text. See PIXI.TextStyle
         *     for possible options.
         * @param {number} [opts.radius=Theme.radius] - The radius of the four corners of the popup (which is a rounded rectangle).
         * @param {hiddenCallback} [opts.onHidden] - Executed when the popup gets hidden.
         * @param {boolean} [opts.visible=true] - Is the popup initially visible (property visible)?
         * @param {string} [opts.orientation] - When set to portrait, the popup cannot be displayed in landscape mode. When set
         *     to landscape, the popup cannot be displayed in portrait mode.
         */
        constructor(opts = {}) {

            super();
            
            const theme = Theme.fromString(opts.theme);
            this.theme = theme;

            this.opts = Object.assign({}, {
                id: PIXI.utils.uid(),
                x: 0,
                y: 0,
                header: null,                       // null or null
                content: null,                      // null or String or PIXI.DisplayObject
                minWidth: 320,
                minHeight: 130,
                maxWidth: null,
                padding: theme.padding,
                fill: theme.fill,
                fillAlpha: theme.fillAlpha,
                stroke: theme.stroke,
                strokeWidth: theme.strokeWidth,
                strokeAlpha: theme.strokeAlpha,
                headerStyle: theme.textStyleLarge,
                textStyle: theme.textStyleSmall,
                radius: theme.radius,
                onHidden: null,
                visible: true,
                orientation: null
            }, opts);

            this.id = this.opts.id;

            this.headerStyle = new PIXI.TextStyle(this.opts.headerStyle);
            this.textStyle = new PIXI.TextStyle(this.opts.textStyle);

            if (this.opts.maxWidth) {
                this.headerStyle.wordWrap = true;
                this.headerStyle.wordWrapWidth = this.opts.maxWidth - (2 * this.opts.padding);

                this.textStyle.wordWrap = true;
                this.textStyle.wordWrapWidth = this.opts.maxWidth - (2 * this.opts.padding);
            }

            this.alpha = 0;
            this.visible = this.opts.visible;

            this._header = null;
            this._content = null;

            // position
            this.x = this.opts.x;
            this.y = this.opts.y;

            // padding
            this.innerPadding = this.opts.padding * 1.5;
            
            // interaction
            //-----------------
            this.interactive = true;
            this.on('added', e => {
                this.show();
            });
        }
        
        /**
         * Creates the framework and instantiates everything.
         * 
         * @private
         * @return {AbstractPopup} A reference to the popup for chaining.
         */
        setup() {

            // position
            //-----------------
            this.sy = this.opts.padding;

            // header
            //-----------------
            if (this.opts.header != null) {

                let header = null;

                if (this.opts.header instanceof PIXI.Text) {
                    header = this.opts.header;
                } else if (typeof this.opts.header === 'number') {
                    header =  new PIXI.Text(this.opts.header.toString(), this.headerStyle);
                } else {
                    header =  new PIXI.Text(this.opts.header, this.headerStyle);
                }

                header.x = this.opts.padding;
                header.y = this.sy;

                this.addChild(header);

                this.sy += header.height;

                this._header = header;
            }

            if (this.opts.header && this.opts.content) {
                this.sy += this.innerPadding;
            }

            // content
            //-----------------
            if (this.opts.content != null) {

                let content = null;

                if (typeof this.opts.content === 'string') {
                    content = new PIXI.Text(this.opts.content, this.textStyle);
                } else if (typeof this.opts.content === 'number') {
                    content = new PIXI.Text(this.opts.content.toString(), this.textStyle);
                } else {
                    content = this.opts.content;
                }

                content.x = this.opts.padding;
                content.y = this.sy;

                this.sy += content.height;

                this.addChild(content);

                this._content = content;
            }

            return this
        }
        
        /**
         * Should be called to refresh the layout of the popup. Can be used after resizing.
         * 
         * @return {AbstractPopup} A reference to the popup for chaining.
         */
        layout() {
            
            // wanted width & wanted height
            //-----------------
            const padding = this.opts.padding;
            const size = this.getInnerSize();
            const width = size.width + (2 * padding);
            const height = size.height + (2 * padding);

            this.wantedWidth = Math.max(width, this.opts.minWidth);
            this.wantedHeight = Math.max(height, this.opts.minHeight);
            
            if (this.opts.maxWidth) {
                this.wantedWidth = Math.min(this.wantedWidth, this.opts.maxWidth);
            }

            if (this.opts.radius * 2 > this.wantedWidth) {
                this.wantedWidth = this.opts.radius * 2;
            }

            if (this.opts.radius * 2 > this.wantedHeight) {
                this.wantedHeight = this.opts.radius * 2;
            }

            switch (this.opts.orientation) {
                case 'portrait':
                    if (this.wantedWidth > this.wantedHeight) {
                        this.wantedHeight = this.wantedWidth;
                    }
                    break
                case 'landscape':
                    if (this.wantedHeight > this.wantedWidth) {
                        this.wantedWidth = this.wantedHeight;
                    }
                    break
            }

            this.draw();

            return this
        }
        
        /**
         * Draws the canvas.
         * 
         * @private
         * @return {AbstractPopup} A reference to the popup for chaining.
         */
        draw() {

            const square = Math.round(this.wantedWidth) === Math.round(this.wantedHeight);
            const diameter = Math.round(this.opts.radius * 2);

            this.clear();
            this.lineStyle(this.opts.strokeWidth, this.opts.stroke, this.opts.strokeAlpha);
            this.beginFill(this.opts.fill, this.opts.fillAlpha);
            if (square && diameter === this.wantedWidth) {
                this.drawCircle(this.wantedWidth / 2, this.wantedHeight / 2, this.opts.radius);
            } else {
                this.drawRoundedRect(0, 0, this.wantedWidth, this.wantedHeight, this.opts.radius);
            }
            this.endFill();

            return this
        }
        
        /**
         * Calculates the size of the children of the AbstractPopup.
         * Cannot use getBounds() because it is not updated when children
         * are removed.
         * 
         * @private
         * @returns {object} An JavaScript object width the keys width and height.
         */
        getInnerSize() {

            let width = 0;
            let height = 0;

            if (this._header) {
                width = this._header.width;
                height = this._header.height;
            }

            if (this._header && this._content) {
                height += this.innerPadding;
            }

            if (this._content) {
                width = Math.max(width, this._content.width);
                height += this._content.height;
            }

            return {width, height}
        }
        
        /**
         * Shows the popup (sets his alpha values to 1).
         * 
         * @param {callback} [cb] - Executed when show animation was completed.
         * @return {AbstractPopup} A reference to the popup for chaining.
         */
        show(cb) {

            TweenMax.to(this, this.theme.fast, {
                alpha: 1,
                onComplete: () => {
                    if (cb) {
                        cb.call(this);
                    }
                }
            });

            return this
        }
        
        /**
         * Hides the popup (sets his alpha values to 0).
         * 
         * @param {callback} [cb] - Executed when hide animation was completed.
         * @return {AbstractPopup} A reference to the popup for chaining.
         */
        hide(cb) {

            TweenMax.to(this, this.theme.fast, {
                alpha: 0,
                onComplete: () => {
                    this.visible = false;
                    if (cb) {
                        cb.call(this);
                    }
                }
            });

            if (this.opts.onHidden) {
                this.opts.onHidden.call(this, this);
            }

            return this
        }

        /**
         * Sets or gets the header. The getter always returns a PIXI.Text object. The setter can receive
         * a string, a number or a PIXI.Text object.
         * 
         * @member {string|number|PIXI.Text}
         */
        get header() {
            return this._header
        }
        set header(value) {
            if (this._header) {
                this._header.destroy();
            }
            this.opts.header = value;
            this.setup().layout();
        }
        
        /**
         * Sets or gets the content. The getter always returns an PIXI.DisplayObject. The setter can receive
         * a string, a number or a PIXI.DisplayObject.
         * 
         * @member {string|number|PIXI.DisplayObject}
         */
        get content() {
            return this._content
        }
        set content(value) {
            if (this._content) {
                this._content.destroy();
            }
            this.opts.content = value;
            this.setup().layout();
        }
    }

    /**
     * Class that represents a PixiJS Tooltip.
     * 
     * @example
     * // Create the app
     * const app = new PIXIApp({
     *     view: canvas,
     *     width: 900,
     *     height: 250
     * }).setup().run()
     * 
     * // Add an DisplayObject to the app
     * const circle = new PIXI.Graphics()
     * circle.beginFill(0x5251a3)
     * circle.drawCircle(50, 50, 40)
     * app.scene.addChild(circle)
     * 
     * const tooltip = new Tooltip({
     *     object: circle,
     *     container: app.scene,
     *     content: 'Das Gesetz ist der Freund des Schwachen.'
     * })
     *
     * @class
     * @extends AbstractPopup
     * @see {@link https://www.iwm-tuebingen.de/iwmbrowser/lib/pixi/tooltip.html|DocTest}
     */
    class Tooltip extends AbstractPopup {
        
        /**
         * Creates an instance of a Tooltip.
         * 
         * @constructor
         * @param {object} [opts] - An options object to specify to style and behaviour of the tooltip.
         * @param {number} [opts.minWidth=0] - The minimum width of the tooltip.
         * @param {number} [opts.minHeight=0] - The minimum height of the tooltip.
         * @param {number} [opts.padding=Theme.padding / 2] - The inner spacing of the tooltip.
         * @param {PIXI.DisplayObject} opts.object - The object, where the tooltip should be displayed.
         * @param {PIXI.DisplayObject} [opts.container=object] - The container where the tooltip should be attached to.
         * @param {number} [opts.offsetLeft=8] - The horizontal shift of the tooltip.
         * @param {number} [opts.offsetTop=-8] - The vertical shift of the tooltip.
         * @param {number} [opts.delay=0] - A delay, after which the tooltip should be opened.
         */
        constructor(opts = {}) {
            
            const theme = Theme.fromString(opts.theme);
            
            opts = Object.assign({}, {
                minWidth: 0,
                minHeight: 0,
                padding: theme.padding / 2,
                object: null,
                container: null,
                offsetLeft: 8,
                offsetTop: -8,
                delay: 0
            }, opts);

            opts.container = opts.container || opts.object;

            super(opts);

            // setup
            //-----------------
            this.setup();

            // layout
            //-----------------
            this.layout();
        }
        
        /**
         * Creates children and instantiates everything.
         * 
         * @private
         * @return {Tooltip} A reference to the tooltip for chaining.
         */
        setup() {

            super.setup();

            // bind events this
            //-----------------
            this.interactive = true;

            let mouseoverTooltip = false;
            
            this.on('mouseover', e => {
                mouseoverTooltip = true;
            });

            this.on('mouseout', e => {
                mouseoverTooltip = false;
                if (!mouseoverObject) {
                    this.hide(() => {
                        this.opts.container.removeChild(this);
                    });
                }
            });
            
            // bind events object
            //-----------------
            const object = this.opts.object;
            object.interactive = true;

            let mouseoverObject = false;

            object.on('mouseover', e => {

                this.timeout = window.setTimeout(() => {
                    mouseoverObject = true;
                    this.visible = true;
                    this.opts.container.addChild(this);
                    this.setPosition(e);
                }, this.opts.delay * 1000);
            });

            object.on('mousemove', e => {
                if (mouseoverObject) {
                    this.setPosition(e);
                }
            });

            object.on('mouseout', e => {
                mouseoverObject = false;
                window.clearTimeout(this.timeout);
                if (!mouseoverTooltip) {
                    this.hide(() => {
                        this.opts.container.removeChild(this);
                    });
                }
            });

            return this
        }
        
        /**
         * Calculates and sets the position of the tooltip.
         * 
         * @private
         * @return {Tooltip} A reference to the tooltip for chaining.
         */
        setPosition(e) {

            const position = e.data.getLocalPosition(this.opts.container);

            this.x = position.x + this.opts.offsetLeft;
            this.y = position.y + this.opts.offsetTop - this.height;

            return this
        }
    }

    /**
     * Class that represents a PixiJS Badge.
     * 
     * @example
     * // Create the app
     * const app = new PIXIApp({
     *     view: canvas,
     *     width: 900,
     *     height: 250
     * }).setup().run()
     * 
     * // Add an DisplayObject to the app
     * const circle = new PIXI.Graphics()
     * circle.beginFill(0x5251a3)
     * circle.drawCircle(50, 50, 40)
     * app.scene.addChild(circle)
     * 
     * const badge1 = new Badge({
     *     object: circle,
     *     container: app.scene,
     *     content: 'Das Gesetz ist der Freund des Schwachen.'
     * })
     *
     * @class
     * @extends AbstractPopup
     * @see {@link https://www.iwm-tuebingen.de/iwmbrowser/lib/pixi/badge.html|DocTest}
     */
    class Badge extends AbstractPopup {
        
        /**
         * Creates an instance of a Badge.
         * 
         * @constructor
         * @param {object} [opts] - An options object to specify to style and behaviour of the badge.
         * @param {number} [opts.minWidth=0] - The minimum width of the badge.
         * @param {number} [opts.minHeight=0] - The minimum height of the badge.
         * @param {number} [opts.padding=Theme.padding / 2] - The inner spacing of the badge.
         * @param {string|object} [opts.tooltip] - A string for the label of the tooltip or an object to configure the tooltip
         *     to display.
         */
        constructor(opts = {}) {
            
            const theme = Theme.fromString(opts.theme);
            
            opts = Object.assign({}, {
                minWidth: 0,
                minHeight: 0,
                padding: theme.padding / 2,
                tooltip: null
            }, opts);

            super(opts);

            this.tooltip = null;

            // setup
            //-----------------
            this.setup();

            // layout
            //-----------------
            this.layout();
        }
        
        /**
         * Creates children and instantiates everything.
         *
         * @private
         * @override
         * @return {Badge} A reference to the badge for chaining.
         */
        setup() {

            super.setup();

            // tooltip
            //-----------------
            if (this.opts.tooltip) {
                if (typeof this.opts.tooltip === 'string') {
                    this.tooltip = new Tooltip({object: this, content: this.opts.tooltip});
                } else {
                    this.opts.tooltip = Object.assign({}, {object: this}, this.opts.tooltip);
                    this.tooltip = new Tooltip(this.opts.tooltip);
                }
            }

            return this
        }
        
        /**
         * Should be called to refresh the layout of the badge. Can be used after resizing.
         * 
         * @override
         * @return {Badge} A reference to the badge for chaining.
         */
        layout() {

            super.layout();

            this.content.x = this.width / 2 - this.content.width / 2 - this.opts.strokeWidth / 2;
            this.content.y = this.height / 2 - this.content.height / 2 - this.opts.strokeWidth / 2;

            return this
        }
    }

    /**
     * Callback for the button action.
     *
     * @callback actionCallback
     * @param {object} event - The event object.
     * @param {Button} button - A reference to the button (also this refers to the button).
     */

    /**
     * Callback for the button beforeAction.
     *
     * @callback beforeActionCallback
     * @param {object} event - The event object.
     * @param {Button} button - A reference to the button (also this refers to the button).
     */

    /**
     * Callback for the button afterAction.
     *
     * @callback afterActionCallback
     * @param {object} event - The event object.
     * @param {Button} button - A reference to the button (also this refers to the button).
     */

    /**
     * Class that represents a PixiJS Button.
     *
     * @example
     * // Create the button
     * const button = new Button({
     *     label: 'My Button',
     *     action: () => console.log('Button was clicked')
     * })
     *
     * // Add the button to a DisplayObject
     * app.scene.addChild(button)
     *
     * @class
     * @extends PIXI.Container
     * @see {@link http://pixijs.download/dev/docs/PIXI.Container.html|PIXI.Container}
     * @see {@link https://www.iwm-tuebingen.de/iwmbrowser/lib/pixi/button.html|DocTest}
     */
    class Button extends PIXI.Container {

        /**
         * Creates an instance of a Button.
         *
         * @constructor
         * @param {object} [opts] - An options object to specify to style and behaviour of the button.
         * @param {number} [opts.id=auto generated] - The id of the button.
         * @param {string} [opts.label] - The label of the button.
         * @param {number} [opts.x=0] - The x position of the button. Can be also set after creation with button.x = 0.
         * @param {number} [opts.y=0] - The y position of the button. Can be also set after creation with button.y = 0.
         * @param {string|Theme} [opts.theme=dark] - The theme to use for this button. Possible values are dark, light, red
         *     or a Theme object.
         * @param {number} [opts.minWidth=44] - The minimum width of the button.
         * @param {number} [opts.minHeight=44] - The minimum height of the button.
         * @param {number} [opts.padding=Theme.padding] - The inner spacing (distance from icon and/or label) to the border.
         * @param {string|PIXI.DisplayObject} [opts.icon] - The icon of the button. Can be a predefined one, an URL or an PIXI.DisplayObject.
         * @param {string|PIXI.DisplayObject} [opts.iconActive=icon] - The icon of the button when activated. Can be a predefined one, an URL or an PIXI.DisplayObject.
         * @param {string} [opts.iconPosition=left] - The position of the icon in relation to the label. Can be left or right.
         * @param {number} [opts.iconColor=Theme.iconColor] - The color of the icon (set by the tint property) as a hex value.
         * @param {number} [opts.iconColorActive=Theme.iconColorActive] - The color of the icon when activated.
         * @param {number} [opts.fill=Theme.fill] - The color of the button background as a hex value.
         * @param {number} [opts.fillAlpha=Theme.fillAlpha] - The alpha value of the background.
         * @param {number} [opts.fillActive=Theme.fillActive] - The color of the button background when activated.
         * @param {number} [opts.fillActiveAlpha=Theme.fillActiveAlpha] - The alpha value of the background when activated.
         * @param {number} [opts.stroke=Theme.stroke] - The color of the border as a hex value.
         * @param {number} [opts.strokeWidth=Theme.strokeWidth] - The width of the border in pixel.
         * @param {number} [opts.strokeAlpha=Theme.strokeAlpha] - The alpha value of the border.
         * @param {number} [opts.strokeActive=Theme.strokeActive] - The color of the border when activated.
         * @param {number} [opts.strokeActiveWidth=Theme.strokeActiveWidth] - The width of the border in pixel when activated.
         * @param {number} [opts.strokeActiveAlpha=Theme.strokeActiveAlpha] - The alpha value of the border when activated.
         * @param {object} [opts.textStyle=Theme.textStyle] - A textstyle object for the styling of the label. See PIXI.TextStyle
         *     for possible options.
         * @param {number} [opts.textStyleActive=Theme.textStyleActive] - A textstyle object for the styling of the label when the
         *     button is activated. See PIXI.TextStyle for possible options.
         * @param {string} [opts.style=default] - A shortcut for styling options. Possible values are default, link.
         * @param {number} [opts.radius=Theme.radius] - The radius of the four corners of the button (which is a rounded rectangle).
         * @param {boolean} [opts.disabled=false] - Is the button disabled? When disabled, the button has a lower alpha value
         *     and cannot be clicked (interactive is set to false).
         * @param {boolean} [opts.active=false] - Is the button initially active?
         * @param {actionCallback} [opts.action] - Executed when the button was triggered (by pointerup).
         * @param {beforeActionCallback} [opts.beforeAction] - Executed before the main action is triggered.
         * @param {afterActionCallback} [opts.afterAction] - Executed after the main action was triggered.
         * @param {string} [opts.type=default] - The type of the button. Can be default or checkbox. When the type is
         *     checkbox, the active state is toggled automatically.
         * @param {string} [opts.align=center] - The horizontal position of the label and the icon. Possible values are
         *     left, center and right. Only affects the style when the minWidth is bigger than the width of the icon and label.
         * @param {string} [opts.verticalAlign=middle] - The vertical position of the label and the icon. Possible values are
         *     top, middle and button. Only affects the style when the minHeight is bigger than the height of the icon and label.
         * @param {string|object} [opts.tooltip] - A string for the label of the tooltip or an object to configure the tooltip
         *     to display.
         * @param {string|object} [opts.badge] - A string for the label of the badge or an object to configure the badge to display.
         *     If the parameter is an object, all badge options can be set plus the following:
         * @param {string} [opts.badge.align=right] - The horizontal alignment of the badge. Possible values: left, center, right
         * @param {string} [opts.badge.verticalAlign=top] - The vertical alignment of the badge. Possible values: top, middle, bottom
         * @param {number} [opts.badge.offsetLeft=0] - The horizontal shift of the badge.
         * @param {number} [opts.badge.offsetTop=0] - The vertical shift of the badge.
         * @param {boolean} [opts.visible=true] - Is the button initially visible (property visible)?
         */
        constructor(opts = {}) {

            super();

            const theme = Theme.fromString(opts.theme);
            this.theme = theme;

            this.opts = Object.assign({}, {
                id: PIXI.utils.uid(),
                label: null,
                x: 0,
                y: 0,
                minWidth: 44,
                minHeight: 44,
                padding: theme.padding,
                icon: undefined,
                iconActive: undefined,
                iconPosition: 'left',
                iconColor: theme.iconColor,
                iconColorActive: theme.iconColorActive,
                fill: theme.fill,
                fillAlpha: theme.fillAlpha,
                fillActive: theme.fillActive,
                fillActiveAlpha: theme.fillActiveAlpha,
                stroke: theme.stroke,
                strokeWidth: theme.strokeWidth,
                strokeAlpha: theme.strokeAlpha,
                strokeActive: theme.strokeActive,
                strokeActiveWidth: theme.strokeActiveWidth,
                strokeActiveAlpha: theme.strokeActiveAlpha,
                textStyle: theme.textStyle,
                textStyleActive: theme.textStyleActive,
                style: 'default',
                radius: theme.radius,
                disabled: false,
                active: false,
                action: null,
                beforeAction: null,
                afterAction: null,
                type: 'default',
                align: 'center',
                verticalAlign: 'middle',
                tooltip: null,
                badge: null,
                visible: true
            }, opts);

            this.id = this.opts.id;

            if (typeof this.opts.icon === 'undefined' && typeof this.opts.iconActive !== 'undefined') {
                this.opts.icon = this.opts.iconActive;
            } else if (typeof this.opts.icon !== 'undefined' && typeof this.opts.iconActive === 'undefined') {
                this.opts.iconActive = this.opts.icon;
            }

            if (this.opts.style === 'link') {
                Object.assign(this.opts, {strokeAlpha: 0, strokeActiveAlpha: 0, fillAlpha: 0, fillActiveAlpha: 0});
            }

            this._active = null;
            this._disabled = null;

            this.iconInactive = null;
            this.iconActive = null;
            this.text = null;

            this.button = null;
            this.content = null;

            this.tooltip = null;
            this.badge = null;

            this.visible = this.opts.visible;

            // setup
            //-----------------
            this.setup();
        }

        /**
         * Creates children and instantiates everything.
         *
         * @private
         * @return {Button} A reference to the button for chaining.
         */
        setup() {

            // Button
            //-----------------
            let button = new PIXI.Graphics();
            this.button = button;
            this.addChild(button);

            // Content
            //-----------------
            let content = new PIXI.Container();
            this.content = content;
            this.addChild(content);

            // Text
            //-----------------
            if (this.opts.label) {
                this.text = new PIXI.Text(this.opts.label, this.opts.textStyle);
            }

            // Icon
            //-----------------
            if (this.opts.icon) {
                this.iconInactive = this.loadIcon(this.opts.icon, this.opts.iconColor);
            }

            if (this.opts.iconActive) {
                this.iconActive = this.loadIcon(this.opts.iconActive, this.opts.iconColorActive);
            }
            
            // interaction
            //-----------------
            this.button.on('pointerover', e => {
                TweenMax.to([this.button, this.content], this.theme.fast, {alpha: .83, overwrite: 'none'});
            });

            this.button.on('pointerout', e => {
                TweenMax.to([this.button, this.content], this.theme.fast, {alpha: 1, overwrite: 'none'});
            });

            this.button.on('pointerdown', e => {
                TweenMax.to([this.button, this.content], this.theme.fast, {alpha: .7, overwrite: 'none'});
            });

            this.button.on('pointerup', e => {

                if (this.opts.beforeAction) {
                    this.opts.beforeAction.call(this, e, this);
                }

                if (this.opts.action) {
                    this.opts.action.call(this, e, this);
                }

                TweenMax.to([this.button, this.content], this.theme.fast, {alpha: .83, overwrite: 'none'});

                if (this.opts.type === 'checkbox') {
                    this.active = !this.active;
                }

                if (this.opts.afterAction) {
                    this.opts.afterAction.call(this, e, this);
                }
            });

            // disabled
            //-----------------
            this.disabled = this.opts.disabled;

            // active
            //-----------------
            this.active = this.opts.active;      // calls .layout()

            // tooltip
            //-----------------
            if (this.opts.tooltip) {
                if (typeof this.opts.tooltip === 'string') {
                    this.tooltip = new Tooltip({object: this, content: this.opts.tooltip});
                } else {
                    this.opts.tooltip = Object.assign({}, {object: this}, this.opts.tooltip);
                    this.tooltip = new Tooltip(this.opts.tooltip);
                }
            }

            // badge
            //-----------------
            if (this.opts.badge) {
                let opts = Object.assign({}, {
                    align: 'right',
                    verticalAlign: 'top',
                    offsetLeft: 0,
                    offsetTop: 0
                });
                if (typeof this.opts.badge === 'string') {
                    opts = Object.assign(opts, {content: this.opts.badge});
                } else {
                    opts = Object.assign(opts, this.opts.badge);
                }

                const badge = new Badge(opts);

                switch (opts.align) {
                    case 'left':
                        badge.x = this.x - badge.width / 2 + opts.offsetLeft;
                        break
                    case 'center':
                        badge.x = this.x + this.width / 2 - badge.width / 2 + opts.offsetLeft;
                        break
                    case 'right':
                        badge.x = this.x + this.width - badge.width / 2 + opts.offsetLeft;
                }

                switch (opts.verticalAlign) {
                    case 'top':
                        badge.y = this.y - badge.height / 2 + opts.offsetTop;
                        break
                    case 'middle':
                        badge.y = this.y + this.height / 2 - badge.height / 2 + opts.offsetTop;
                        break
                    case 'bottom':
                        badge.y = this.y + this.height - badge.height / 2 + opts.offsetTop;
                }

                this.addChild(badge);

                this.badge = badge;
            }
            
            // set position
            //-----------------
            this.position.set(this.opts.x, this.opts.y);

            return this
        }

        /**
         * Should be called to refresh the layout of the button. Can be used after resizing.
         *
         * @return {Button} A reference to the button for chaining.
         */
        layout() {

            // Clear content
            //-----------------
            this.removeChild(this.content);
            this.content = new PIXI.Container();
            this.addChild(this.content);

            // Set the icon
            //-----------------
            let icon = null;
            
            if (!this.active && this.iconInactive) {
                icon = this.iconInactive;
            } else if (this.active && this.iconActive) {
                icon = this.iconActive;
            }

            // Set the text
            //-----------------
            if (this.text) {
                this.text.position.set(0, 0);
            }
            
            // Width and Height
            //-----------------
            let width = 0;
            if (icon && this.text) {
                width = icon.width + this.text.width + 3 * this.opts.padding;
            } else if (icon) {
                width = icon.width + 2 * this.opts.padding;
            } else if (this.text) {
                width = this.text.width + 2 * this.opts.padding;
            }

            if (width < this.opts.minWidth) {
                width = this.opts.minWidth;
            }

            let height = 0;
            if (icon) {
                height = icon.height + 2 * this.opts.padding;
            } else if (this.text) {
                height = this.text.height + 2 * this.opts.padding;
            }

            if (height < this.opts.minHeight) {
                height = this.opts.minHeight;
            }
            
            this._width = width;
            this._height = height;

            // Position icon and text
            //-----------------
            if (icon && this.text) {
                if (this.opts.iconPosition === 'right') {
                    icon.x = this.text.width + this.opts.padding;
                } else {
                    this.text.x = icon.width + this.opts.padding;
                }
                this.content.addChild(icon, this.text);
            } else if (icon) {
                this.content.addChild(icon);
            } else if (this.text) {
                this.content.addChild(this.text);
            }

            this.layoutInnerContent();
            this.layoutContent();

            this.icon = icon;

            // draw
            //-----------------
            this.draw();

            return this
        }

        /**
         * Calculates the positions of the content children (icon and/or text).
         * 
         * @private
         * @return {Button} A reference to the button for chaining.
         */
        layoutInnerContent() {

            for (let child of this.content.children) {
                switch (this.opts.verticalAlign) {
                    case 'top':
                        child.y = 0;
                        break
                    case 'middle':
                        child.y = this.content.height / 2 - child.height / 2;
                        break
                    case 'bottom':
                        child.y = this.content.height - child.height;
                        break
                }
            }

            return this
        }

        /**
         * Sets the horizontal and vertical position of the content.
         * Uses the option keys "align" and "verticalAlign".
         * 
         * @private
         * @return {Button} A reference to the button for chaining.
         */
        layoutContent() {

            switch (this.opts.align) {
                case 'left':
                    this.content.x = this.opts.padding;
                    break
                case 'center':
                    this.content.x = ((this._width - this.content.width) / 2);
                    break
                case 'right':
                    this.content.x = this._width - this.opts.padding - this.content.width;
                    break
            }

            switch (this.opts.verticalAlign) {
                case 'top':
                    this.content.y = this.opts.padding;
                    break
                case 'middle':
                    this.content.y = (this._height - this.content.height) / 2;
                    break
                case 'bottom':
                    this.content.y = this._height - this.opts.padding - this.content.height;
                    break
            }

            return this
        }

        /**
         * Draws the canvas.
         *
         * @private
         * @return {Button} A reference to the button for chaining.
         */
        draw() {

            this.button.clear();
            if (this.active) {
                this.button.lineStyle(this.opts.strokeActiveWidth, this.opts.strokeActive, this.opts.strokeActiveAlpha);
                this.button.beginFill(this.opts.fillActive, this.opts.fillActiveAlpha);
            } else {
                this.button.lineStyle(this.opts.strokeWidth, this.opts.stroke, this.opts.strokeAlpha);
                this.button.beginFill(this.opts.fill, this.opts.fillAlpha);
            }
            this.button.drawRoundedRect(0, 0, this._width, this._height, this.opts.radius);
            this.button.endFill();

            return this
        }

        /**
         * Gets or sets the active state.
         *
         * @member {boolean}
         */
        get active() {
            return this._active
        }
        set active(value) {

            this._active = value;

            if (this._active) {
                if (this.text) {
                    this.text.style = this.opts.textStyleActive;
                }
            } else {
                if (this.text) {
                    this.text.style = this.opts.textStyle;
                }
            }

            this.layout();
        }

        /**
         * Gets or sets the disabled state. When disabled, the button cannot be clicked.
         *
         * @member {boolean}
         */
        get disabled() {
            return this._disabled
        }
        set disabled(value) {

            this._disabled = value;

            if (this._disabled) {
                this.button.interactive = false;
                this.button.buttonMode = false;
                this.button.alpha = .5;
                if (this.icon) {
                    this.icon.alpha = .5;
                }
                if (this.text) {
                    this.text.alpha = .5;
                }
            } else {
                this.button.interactive = true;
                this.button.buttonMode = true;
                this.button.alpha = 1;
                if (this.icon) {
                    this.icon.alpha = 1;
                }
                if (this.text) {
                    this.text.alpha = 1;
                }
            }
        }

        /**
         * Shows the button (sets his alpha values to 1).
         *
         * @return {Button} A reference to the button for chaining.
         */
        show() {

            this.opts.strokeAlpha = 1;
            this.opts.strokeActiveAlpha = 1;
            this.opts.fillAlpha = 1;
            this.opts.fillActiveAlpha = 1;

            this.layout();

            return this
        }

        /**
         * Hides the button (sets his alpha values to 0).
         *
         * @return {Button} A reference to the button for chaining.
         */
        hide() {

            this.opts.strokeAlpha = 0;
            this.opts.strokeActiveAlpha = 0;
            this.opts.fillAlpha = 0;
            this.opts.fillActiveAlpha = 0;

            this.layout();

            return this
        }
        
        /**
         * Loads an icon
         * 
         * @private
         * @param {string|PIXI.DisplayObject} icon - The icon to load.
         * @param {number} color - The color of the icon (if not an PIXI.DisplayObject).
         * @return {PIXI.DisplayObject} Return the icon as an PIXI.DisplayObject.
         */
        loadIcon(icon, color) {

            let displayObject = null;

            if (icon instanceof PIXI.DisplayObject) {
                displayObject = icon;
            } else {
                let size = 17;
                if (this.text) {
                    size = this.text.height;
                } else if (this.opts.minHeight) {
                    size = this.opts.minHeight - (2 * this.opts.padding);
                }

                const url = Button.iconIsUrl(icon) ? icon : `../../assets/icons/png/flat/${icon}.png`;
                const iconTexture = PIXI.Texture.fromImage(url, true);

                const sprite = new PIXI.Sprite(iconTexture);
                sprite.tint = color;
                sprite.width = size;
                sprite.height = size;

                displayObject = sprite;
            }

            return displayObject
        }
        
        /**
         * Tests if an icon string is an url.
         * 
         * @private
         * @static
         * @param {string} url - The url to test.
         * @return {boolean} true if the url is an url to an image.
         */
        static iconIsUrl(url) {
            return /\.(png|svg|gif|jpg|jpeg|tif|tiff)$/i.test(url)
        }

        /**
         * Gets or sets the color of the current icon (no matter how the status is). Changing the color, changes
         * the tint property of the icon sprite.
         *
         * @member {number}
         */
        get iconColor() {
            return this.icon ? this.icon.tint : null
        }
        set iconColor(value) {
            if (this.icon) {
                this.icon.tint = value;
            }
        }
    }

    /**
     * Class that represents a PixiJS ButtonGroup.
     * 
     * @example
     * // Create the button group
     * const buttonGroup = new ButtonGroup({
     *     buttons: [
     *         {label: 'Button 1', action: event => console.log(event)},
     *         {label: 'Button 2', action: event => console.log(event)},
     *         {label: 'Button 3', action: event => console.log(event)}
     *     ],
     *     minWidth: 100
     * })
     *
     * // Add the button group to a DisplayObject
     * app.scene.addChild(buttonGroup)
     *
     * @class
     * @extends PIXI.Graphics
     * @see {@link http://pixijs.download/dev/docs/PIXI.Graphics.html|PIXI.Graphics}
     * @see {@link https://www.iwm-tuebingen.de/iwmbrowser/lib/pixi/buttongroup.html|DocTest}
     */
    class ButtonGroup extends PIXI.Graphics {

        /**
         * Creates an instance of a ButtonGroup.
         * 
         * @constructor
         * @param {object} [opts] - An options object to specify to style and behaviour of the button group.
         * @param {number} [opts.id=auto generated] - The id of the button group.
         * @param {number} [opts.x=0] - The x position of the button group. Can be also set after creation with buttonGroup.x = 0.
         * @param {number} [opts.y=0] - The y position of the button group. Can be also set after creation with buttonGroup.y = 0.
         * @param {object[]} [opts.buttons=[]] - An array of the buttons of the button group. One item of the array (one object)
         *     can have exactly the same properties as an Button object when instantiating a Button. If a property of the button group
         *     conflicts with a property of a button object, the value from the button object will be used.
         * @param {string|Theme=} [opts.theme=dark] - The theme to use for this button group. Possible values are dark, light, red
         *     or a Theme object.
         * @param {number} [opts.minWidth=44] - Button: The minimum width of one button.
         * @param {number} [opts.minHeight=44] - Button: The minimum height of one button.
         * @param {number} [opts.padding=Theme.padding] - Button: The inner spacing (distance from icon and/or label) the the border.
         * @param {number} [opts.margin=Theme.margin] - The outer spacing (distance from one button to the previous/next button).
         * @param {string} [opts.iconPosition=left] - Button: The position of the icon in relation to the label. Can be left or right.
         * @param {number} [opts.iconColor=Theme.iconColor] - Button: The color of the icon (set by the tint property) as a hex value.
         * @param {number} [opts.iconColorActive=Theme.iconColorActive] - Button: The color of the icon when activated.
         * @param {number} [opts.fill=Theme.fill] - Button: The color of the button background as a hex value.
         * @param {number} [opts.fillAlpha=Theme.fillAlpha] - Button: The alpha value of the background.
         * @param {number} [opts.fillActive=Theme.fillActive] - Button: The color of the button background when activated.
         * @param {number} [opts.fillActiveAlpha=Theme.fillActiveAlpha] - Button: The alpha value of the background when activated.
         * @param {number} [opts.stroke=Theme.stroke] - Button: The color of the border as a hex value.
         * @param {number} [opts.strokeWidth=Theme.strokeWidth] - Button: The width of the border in pixel.
         * @param {number} [opts.strokeAlpha=Theme.strokeAlpha] - Button: The alpha value of the border.
         * @param {number} [opts.strokeActive=Theme.strokeActive] - Button: The color of the border when activated.
         * @param {number} [opts.strokeActiveWidth=Theme.strokeActiveWidth] - Button: The width of the border in pixel when activated.
         * @param {number} [opts.strokeActiveAlpha=Theme.strokeActiveAlpha] - Button: The alpha value of the border when activated.
         * @param {object} [opts.textStyle=Theme.textStyle] - Button: A textstyle object for the styling of the label. See PIXI.TextStyle
         *     for possible options.
         * @param {number} [opts.textStyleActive=Theme.textStyleActive] - Button: A textstyle object for the styling of the label when the
         *     button is activated. See PIXI.TextStyle for possible options.
         * @param {string} [opts.style=default] - A shortcut for styling options. Possible values are default, link.
         * @param {number} [opts.radius=Theme.radius] - Button: The radius of the four corners of the button (which is a rounded rectangle).
         * @param {boolean} [opts.disabled=false] - Is the button group disabled? When disabled, the button group has a lower alpha value
         *     and cannot be clicked (interactive of every button is set to false).
         * @param {string} [opts.type=default] - The type of the button group. Can be default, checkbox or radio. When the type is
         *     checkbox, the active state is toggled for each button automatically. When the type is radio, only one button can
         *     be activated at the same time.
         * @param {string} [opts.orientation=horizontal] - The orientation of the button group. Can be horizontal or vertical.
         * @param {string} [opts.align=center] - Button: The horizontal position of the label and the icon. Possible values are
         *     left, center and right. Only affects the style when the minWidth is bigger than the width of the icon and label.
         * @param {string} [opts.verticalAlign=middle] - Button: The vertical position of the label and the icon. Possible values are
         *     top, middle and button. Only affects the style when the minHeight is bigger than the height of the icon and label.
         * @param {boolean} [opts.visible=true] - Is the button group initially visible (property visible)?
         */
        constructor(opts = {}) {

            super();
            
            const theme = Theme.fromString(opts.theme);
            this.theme = theme;

            this.opts = Object.assign({}, {
                id: PIXI.utils.uid(),
                x: 0,
                y: 0,
                buttons: [],
                minWidth: 44,
                minHeight: 44,
                padding: theme.padding,
                margin: theme.margin,
                iconPosition: 'left',             // left, right
                iconColor: theme.iconColor,
                iconColorActive: theme.iconColorActive,
                fill: theme.fill,
                fillAlpha: theme.fillAlpha,
                fillActive: theme.fillActive,
                fillActiveAlpha: theme.fillActiveAlpha,
                stroke: theme.stroke,
                strokeWidth: theme.strokeWidth,
                strokeAlpha: theme.strokeAlpha,
                strokeActive: theme.strokeActive,
                strokeActiveWidth: theme.strokeActiveWidth,
                strokeActiveAlpha: theme.strokeActiveAlpha,
                textStyle: theme.textStyle,
                textStyleActive: theme.textStyleActive,
                style: 'default',
                radius: theme.radius,
                disabled: null,
                type: 'default',                   // default, checkbox, radio
                orientation: 'horizontal',
                align: 'center',                   // left, center, right
                verticalAlign: 'middle',           // top, middle, bottom
                visible: true
            }, opts);

            this.buttons = [];

            this._disabled = null;
            
            this.visible = this.opts.visible;

            // setup
            //-----------------
            this.setup();

            // layout
            //-----------------
            this.layout();
        }
        
        /**
         * Creates children and instantiates everything.
         * 
         * @private
         * @return {ButtonGroup} A reference to the button group for chaining.
         */
        setup() {

            // Buttons
            //-----------------
            let position = 0;

            for (let it of this.opts.buttons) {

                delete it.x;
                delete it.y;

                if (this.opts.orientation === 'horizontal') {
                    it.x = position;
                } else {
                    it.y = position;
                }

                it.theme = it.theme || this.opts.theme;
                it.minWidth = it.minWidth || this.opts.minWidth;
                it.minHeight = it.minHeight || this.opts.minHeight;
                it.padding = it.padding || this.opts.padding;
                it.iconPosition = it.iconPosition || this.opts.iconPosition;
                it.iconColor = it.iconColor || this.opts.iconColor;
                it.iconColorActive = it.iconColorActive || this.opts.iconColorActive;
                it.fill = it.fill || this.opts.fill;
                it.fillAlpha = it.fillAlpha || this.opts.fillAlpha;
                it.fillActive = it.fillActive || this.opts.fillActive;
                it.fillActiveAlpha = it.fillActiveAlpha || this.opts.fillActiveAlpha;
                it.stroke = it.stroke || this.opts.stroke;
                it.strokeWidth = it.strokeWidth != null ? it.strokeWidth : this.opts.strokeWidth;
                it.strokeAlpha = it.strokeAlpha != null ? it.strokeAlpha : this.opts.strokeAlpha;
                it.strokeActive = it.strokeActive || this.opts.strokeActive;
                it.strokeActiveWidth = it.strokeActiveWidth != null ? it.strokeActiveWidth : this.opts.strokeActiveWidth;
                it.strokeActiveAlpha = it.strokeActiveAlpha != null ? it.strokeActiveAlpha : this.opts.strokeActiveAlpha;
                it.textStyle = it.textStyle || this.opts.textStyle;
                it.textStyleActive = it.textStyleActive || this.opts.textStyleActive;
                it.style = it.style || this.opts.style;
                it.radius = it.radius != null ? it.radius : this.opts.radius;
                if (!it.type) {
                    switch (this.opts.type) {
                        case 'checkbox':
                            it.type = this.opts.type;
                            break
                        default:
                            it.type = 'default';
                            break
                    }
                }
                //it.type = it.type || this.opts.type || 'default'
                it.align = it.align || this.opts.align;
                it.verticalAlign = it.verticalAlign || this.opts.verticalAlign;
                it.afterAction = (event, button) => {
                    if (this.opts.type === 'radio' && button.opts.type === 'default') {
                        this.buttons.forEach(it => {
                            if (it.opts.type === 'default') {
                                it.active = false;
                            }
                        });

                        if (button.opts.type === 'default') {
                            button.active = true;
                        }
                    }
                };

                if (it.tooltip) {
                    if (typeof it.tooltip === 'string') {
                        it.tooltip = {content: it.tooltip, container: this};
                    } else {
                        it.tooltip = Object.assign({}, {container: this}, it.tooltip);
                    }
                }
                
                let button = new Button(it);

                this.addChild(button);
                this.buttons.push(button);

                position += (this.opts.orientation === 'horizontal' ? button.width : button.height) + this.opts.margin;
            }

            if (this.opts.orientation === 'vertical') {
                const maxWidth = this.getMaxButtonWidth();

                this.buttons.forEach(it => {
                    it.opts.minWidth = maxWidth;
                    it.layout();
                });
            }

            // disabled
            //-----------------
            if (this.opts.disabled != null) {
                this.disabled = this.opts.disabled;
            }

            return this
        }
        
        /**
         * Should be called to refresh the layout of the button group. Can be used after resizing.
         * 
         * @return {ButtonGroup} A reference to the button group for chaining.
         */
        layout() {
            
            // set position
            //-----------------
            this.position.set(this.opts.x, this.opts.y);

            // draw
            //-----------------
            this.draw();

            return this
        }
        
        /**
         * Draws the canvas.
         * 
         * @private
         * @return {ButtonGroup} A reference to the button group for chaining.
         */
        draw() {

            if (this.opts.margin === 0) {

                this.buttons.forEach(it => it.hide());

                this.clear();
                this.lineStyle(this.opts.strokeWidth, this.opts.stroke, this.opts.strokeAlpha);
                this.beginFill(this.opts.fill, this.opts.fillAlpha);
                this.drawRoundedRect(0, 0, this.width, this.height, this.opts.radius);

                // Draw borders
                this.lineStyle(this.opts.strokeWidth, this.opts.stroke, this.opts.strokeAlpha / 2);

                this.buttons.forEach((it, i) => {
                    if (i > 0) {
                        this.moveTo(it.x, it.y);

                        if (this.opts.orientation === 'horizontal') {
                            this.lineTo(it.x, it.height);
                        } else {
                            this.lineTo(it.width, it.y);
                        }
                        
                    }
                });

                this.endFill();
            }

            return this
        }
        
        /**
         * Gets or sets the disabled state. When disabled, no button of the button group can be clicked.
         * 
         * @member {boolean}
         */
        get disabled() {
            return this._disabled
        }

        set disabled(value) {

            this._disabled = value;

            this.buttons.forEach(it => it.disabled = value);
        }
        
        /**
         * Searches all buttons of the button group and returns the maximum width of one button.
         * 
         * @private
         * @return {number} The maximum with of a button of the button group.
         */
        getMaxButtonWidth() {

            let widths = this.buttons.map(it => it.width);

            return Math.max(...widths)
        }
        
        /**
         * Shows the button group (sets his alpha value to 1).
         * 
         * @return {ButtonGroup} A reference to the button group for chaining.
         */
        show() {

            this.alpha = 1;

            return this
        }

        /**
         * Hides the button group (sets his alpha value to 0).
         * 
         * @return {ButtonGroup} A reference to the button group for chaining.
         */
        hide() {

            this.alpha = 0;

            return this
        }
    }

    /**
     * Class that represents a PixiJS InteractivePopup.
     * The class is used for various other Popup-like classes
     * like Popup, Message...
     *
     * @class
     * @abstract
     * @extends AbstractPopup
     */
    class InteractivePopup extends AbstractPopup {

        /**
         * Creates an instance of an InteractivePopup (only for internal use).
         *
         * @constructor
         * @param {object} [opts] - An options object to specify to style and behaviour of the popup.
         * @param {boolean} [opts.closeOnPopup=false] - Should the popup be closed when the user clicks on the popup?
         * @param {boolean} [opts.closeButton=true] - Should a close button be displayed on the upper right corner?
         * @param {object} [opts.button] - A Button object to be display on the lower right corner.
         * @param {object} [opts.buttonGroup] - A ButtonGroup object to be displayed on the lower right corner.
         */
        constructor(opts = {}) {

            opts = Object.assign({}, {
                closeOnPopup: false,
                closeButton: true,
                button: null,
                buttonGroup: null
            }, opts);

            super(opts);

            this._closeButton = null;
            this._buttons = null;

            // padding
            this.smallPadding = this.opts.padding / 2;

            // setup
            //-----------------
            this.setup();

            // layout
            //-----------------
            this.layout();
        }

        /**
         * Creates the framework and instantiates everything.
         *
         * @private
         * @return {AbstractPopup} A reference to the popup for chaining.
         */
        setup() {

            super.setup();

            // interaction
            //-----------------
            this.on('pointerup', e => {
                if (this.opts.closeOnPopup) {
                    this.hide();
                } else {
                    e.stopPropagation();
                }
            });

            // closeButton
            //-----------------
            if (this.opts.closeButton) {
                let closeButton = PIXI.Sprite.fromImage('../../assets/icons/png/flat/close.png', true);
                closeButton.width = this.headerStyle.fontSize;
                closeButton.height = closeButton.width;
                closeButton.tint = this.theme.color2;
                // This is needed, because the closeButton belongs to the content. The popup must resize with the closeButton.
                if (this._header) {
                    closeButton.x = this._header.width + this.innerPadding;
                } else if (this._content) {
                    closeButton.x = this._content.width + this.innerPadding;
                }

                closeButton.interactive = true;
                closeButton.buttonMode = true;
                closeButton.on('pointerdown', e => {
                    this.hide();
                });

                this._closeButton = closeButton;
                this.addChild(closeButton);

                // maxWidth is set and a closeButton should be displayed
                //-----------------
                if (this.opts.maxWidth) {
                    const wordWrapWidth = this.opts.maxWidth - (2 * this.opts.padding) - this.smallPadding - this._closeButton.width;
                    if (this._header) {
                        this.headerStyle.wordWrapWidth = wordWrapWidth;
                    } else if (this._content) {
                        this.textStyle.wordWrapWidth = wordWrapWidth;
                    }
                }
            }

            // buttons
            //-----------------
            if (this.opts.button || this.opts.buttonGroup) {
                if (this.opts.button) {
                    this._buttons = new Button(Object.assign({textStyle: this.theme.textStyleSmall}, this.opts.button));
                } else {
                    this._buttons = new ButtonGroup(Object.assign({textStyle: this.theme.textStyleSmall}, this.opts.buttonGroup));
                }
                this.addChild(this._buttons);

                this._buttons.y = this.innerPadding + this.sy;
            }

            return this
        }

        /**
         * Should be called to refresh the layout of the popup. Can be used after resizing.
         *
         * @return {AbstractPopup} A reference to the popup for chaining.
         */
        layout() {

            super.layout();
            
            // closeButton
            //-----------------
            if (this.opts.closeButton) {
                this._closeButton.x = this.wantedWidth - this.smallPadding - this._closeButton.width;
                this._closeButton.y = this.smallPadding;
            }

            // buttons
            //-----------------
            if (this._buttons) {
                this._buttons.x = this.wantedWidth - this.opts.padding - this._buttons.width;
                this._buttons.y = this.wantedHeight - this.opts.padding - this._buttons.height;
            }

            return this
        }

        /**
         * Calculates the size of the children of the AbstractPopup.
         * Cannot use getBounds() because it is not updated when children
         * are removed.
         * 
         * @private
         * @override
         * @returns {object} An JavaScript object width the keys width and height.
         */
        getInnerSize() {

            let size = super.getInnerSize();

            if (this._closeButton) {
                size.width += this.smallPadding + this._closeButton.width;
            }

            if (this._buttons) {
                size.width = Math.max(size.width, this._buttons.x + this._buttons.width);
                size.height += this.innerPadding + this._buttons.height;
            }

            return size
        }
    }

    /**
     * Class that represents a PixiJS Modal.
     * 
     * @example
     * // Create the button and the modal when clicked
     * const button = new Button({
     *     label: 'Show Modal',
     *     action: e => {
     *         const modal = new Modal({
     *             app: app,
     *             header: 'This is the header',
     *             content: 'This is the text.'
     *         })
     *         app.scene.addChild(modal)
     *     }
     * })
     *
     * // Add the button to a DisplayObject
     * app.scene.addChild(button)
     *
     * @class
     * @extends PIXI.Container
     * @extends InteractivePopup
     * @see {@link http://pixijs.download/dev/docs/PIXI.Container.html|PIXI.Container}
     * @see {@link https://www.iwm-tuebingen.de/iwmbrowser/lib/pixi/modal.html|DocTest}
     */
    class Modal extends PIXI.Container {

        /**
         * Creates an instance of a Modal.
         * 
         * @constructor
         * @param {object} [opts] - An options object to specify to style and behaviour of the modal.
         * @param {number} [opts.id=auto generated] - The id of the modal.
         * @param {PIXIApp} [opts.app=window.app] - The app where the modal belongs to.
         * @param {number} [opts.backgroundFill=Theme.background] - The color of the background.
         * @param {number} [opts.backgroundFillAlpha=0.6] - The opacity of the background.
         * @param {boolean} [opts.closeOnBackground=true] - Should the modal be closed when the user clicks the
         *     background?
         * @param {boolean} [opts.visible=true] - Is the modal initially visible (property visible)?
         */
        constructor(opts = {}) {

            super();
            
            const theme = Theme.fromString(opts.theme);
            this.theme = theme;

            this.opts = Object.assign({}, {
                id: PIXI.utils.uid(),
                app: window.app,
                backgroundFill: theme.background,
                backgroundFillAlpha: .6,
                closeOnBackground: true,
                visible: true
            }, opts);

            this.id = this.opts.id;

            this.background = null;
            this.popup = null;

            this.alpha = 0;
            this.visible = this.opts.visible;

            // setup
            //-----------------
            this.setup();

            // layout
            //-----------------
            this.layout();
        }
        
        /**
         * Creates children and instantiates everything.
         * 
         * @private
         * @return {Modal} A reference to the modal for chaining.
         */
        setup() {

            // interaction
            //-----------------
            this.interactive = true;
            this.on('added', e => {
                if (this.visible) {
                    this.show();
                }
            });

            // background
            //-----------------
            let background = new PIXI.Graphics();
            this.background = background;
            this.addChild(this.background);

            if (this.opts.closeOnBackground) {
                background.interactive = true;
                background.on('pointerup', e => {
                    this.hide();
                });
            }

            // popup
            //-----------------
            const popupOpts = Object.assign({}, this.opts, {
                visible: true,
                onHidden: () => {
                    this.hide();
                }
            });
            let popup = new InteractivePopup(popupOpts);
            this.popup = popup;
            this.addChild(popup);
            popup.show();

            return this
        }
        
        /**
         * Should be called to refresh the layout of the modal. Can be used after resizing.
         * 
         * @return {Modal} A reference to the modal for chaining.
         */
        layout() {

            const width = this.opts.app.size.width;
            const height = this.opts.app.size.height;

            // background
            //-----------------
            this.background.clear();
            this.background.beginFill(this.opts.backgroundFill, this.opts.backgroundFillAlpha);
            this.background.drawRect(0, 0, width, height);
            this.background.endFill();

            // position
            this.popup.x = width / 2 - this.popup.width / 2;
            this.popup.y = height / 2 - this.popup.height / 2;

            return this
        }
        
        /**
         * Shows the modal (sets his alpha values to 1).
         * 
         * @return {Modal} A reference to the modal for chaining.
         */
        show() {
            TweenMax.to(this, this.theme.fast, {alpha: 1, onStart: () => this.visible = true});

            return this
        }
        
        /**
         * Hides the modal (sets his alpha values to 0).
         * 
         * @return {Modal} A reference to the modal for chaining.
         */
        hide() {
            TweenMax.to(this, this.theme.fast, {alpha: 0, onComplete: () => this.visible = false});

            return this
        }
        
        /**
         * Sets or gets the header. The getter always returns a PIXI.Text object. The setter can receive
         * a string or a PIXI.Text object.
         * 
         * @member {string|PIXI.Text}
         */
        get header() {
            return this.popup.header
        }
        set header(value) {
            this.opts.header = value;
            this.background.destroy();
            this.popup.destroy();
            this.setup().layout();
        }
        
        /**
         * Sets or gets the content. The getter always returns an PIXI.DisplayObject. The setter can receive
         * a string or a PIXI.DisplayObject.
         * 
         * @member {string|PIXI.DisplayObject}
         */
        get content() {
            return this.popup.content
        }
        set content(value) {
            this.opts.content = value;
            this.background.destroy();
            this.popup.destroy();
            this.setup().layout();
        }
    }

    /**
     * Class that represents a Message. A message pops up and disappears after a specific amount of time.
     * 
     * @example
     * // Create the PixiJS App
     * const app = new PIXIApp({
     *     view: canvas,
     *     width: 900,
     *     height: 250
     * }).setup().run()
     * 
     * // Create a button
     * let button = new Button({
     *     label: 'Click me',
     *     action: e => {
     *         const message = new Message({
     *             app: app,
     *             header: 'Header',
     *             content: 'Text.'
     *         })
     *         app.scene.addChild(message)
     *     }
     * })
     * 
     * // Add the button to the scene
     * app.scene.addChild(button)
     *
     * @class
     * @extends InteractivePopup
     * @see {@link https://www.iwm-tuebingen.de/iwmbrowser/lib/pixi/message.html|DocTest}
     */
    class Message extends InteractivePopup {

        /**
         * Creates an instance of a Message.
         * 
         * @constructor
         * @param {object} [opts] - An options object to specify to style and behaviour of the message.
         * @param {PIXIApp} [opts.app=window.app] - The PIXIApp where this message belongs to.
         * @param {boolean} [opts.closeButton=false] - Should a close button be displayed in the upper right corner?
         * @param {number} [opts.minWidth=280] - The minimum width of the message box. Automatically expands with the content.
         * @param {number} [opts.minHeight=100] - The minimum height of the message box. Automatically expands with the content.
         * @param {number} [opts.margin=Theme.margin] - The outer spacing of the message box.
         * @param {string} [opts.align=right] - The horizontal position of the message box relative to the app. Possible
         *     values are left, center, right.
         * @param {string} [opts.verticalAlign=top] - The vertical position of the message box relative to the app. Possible
         *     values are top, middle, bottom.
         * @param {number} [opts.duration=5] - The duration in seconds when the message box should disappear.
         * @param {boolean} [opts.autoClose=true] - Should the message box be closed automatically?
         * @param {number} [opts.closeDuration=Theme.fast] - The duration in seconds of the closing of the message box.
         */
        constructor(opts = {}) {
            
            const theme = Theme.fromString(opts.theme);

            opts = Object.assign({}, {
                app: window.app,
                closeButton: false,
                minWidth: 280,
                minHeight: 100,
                margin: theme.margin,
                align: 'right',                     // left, center, right
                verticalAlign: 'top',               // top, middle, bottom
                duration: 5,
                autoClose: true,
                closeDuration: theme.fast
            }, opts);

            super(opts);
        }

        /**
         * Relayouts the position of the message box.
         * 
         * @return {Message} Returns the message box for chaining.
         */
        layout() {

            super.layout();

            // horizontal
            switch (this.opts.align) {
                case 'left':
                    this.x = this.opts.margin;
                    break
                case 'center':
                    this.x = (this.opts.app.size.width / 2) - (this.width / 2);
                    break
                case 'right':
                    this.x = this.opts.app.size.width - this.opts.margin - this.width;
                    break
            }

            // vertical
            switch (this.opts.verticalAlign) {
                case 'top':
                    this.y = this.opts.margin;
                    break
                case 'middle':
                    this.y = (this.opts.app.size.height / 2) - (this.height / 2);
                    break
                case 'bottom':
                    this.y = this.opts.app.size.height - this.opts.margin - this.height;
                    break
            }
        }

        /**
         * Shows the message box.
         * 
         * @private
         */
        show() {

            super.show();

            if (this.opts.autoClose) {
                window.setTimeout(() => {
                    this.hide();
                }, this.opts.duration * 1000);
            }
        }
    }

    /* global apollo, subscriptions, gql */

    /**
     * A special InteractionManager for fullscreen apps, which may
     * go beyond the limits of WebGL drawing buffers. On Safari and Chrome
     * the drawing buffers are limited to 4096 in width (Safari) or 4096x4096
     * in total buffer size (Chrome). The original InteractionManager.mapPositionToPoint
     * does not work with these extreme sizes which mainly occur if large
     * retina displays (>= 4K) are used with devicePixelRatio > 1.
     *
     * @private
     * @class
     * @extends PIXI.interaction.InteractionManager
     * @see {@link http://pixijs.download/dev/docs/PIXI.interaction.InteractionManager.html|PIXI.interaction.InteractionManager}
     * @see {@link https://stackoverflow.com/questions/29710696/webgl-drawing-buffer-size-does-not-equal-canvas-size}
     */
    class FullscreenInteractionManager extends PIXI.interaction.InteractionManager {

        mapPositionToPoint(point, x, y) {
            let resolution = this.renderer.resolution;
            let extendWidth = 1.0;
            let extendHeight = 1.0;
            let dy = 0;
            let canvas = this.renderer.view;
            let context = canvas.getContext('webgl');
            if (context.drawingBufferWidth < canvas.width ||
                context.drawingBufferHeight < canvas.height) {
                extendWidth = context.drawingBufferWidth / canvas.width;
                extendHeight = context.drawingBufferHeight / canvas.height;
                //dx = wantedWidth - context.drawingBufferWidth
                dy = (canvas.height - context.drawingBufferHeight) / resolution;
            }
            x *= extendWidth;
            y *= extendHeight;

            super.mapPositionToPoint(point, x, y + dy);
        }
    }

    /**
     * The class PixiApp extends the class PIXI.Application
     * by several functions and makes meaningful pre-assumptions.
     *
     * @example
     * // Create the app
     * const app = new PIXIApp({
     *     view: canvas,
     *     width: 450,
     *     height: 150,
     *     fpsLogging: true,
     *     theme: 'light',
     *     transparent: false
     * }).setup().run()
     *
     * @class
     * @extends PIXI.Application
     * @see {@link http://pixijs.download/dev/docs/PIXI.Application.html|PIXI.Application}
     */
    class PIXIApp extends PIXI.Application {

        /**
         * Creates an instance of a PixiApp.
         *
         * @constructor
         * @param {object} [opts={}] - An options object. The following options can be set:
         * @param {number} [opts.width] - The width of the renderer. If no set, the application will run in fullscreen.
         * @param {number} [opts.height] - The height of the renderer. If no set, the application will run in fullscreen.
         * @param {HTMLElement} [opts.view] - The canvas HTML element. If not set, a render-element is added inside the body.
         * @param {boolean} [opts.transparent=true] - Should the render view be transparent?
         * @param {boolean} [opts.antialias=true] - Sets antialias (only applicable in chrome at the moment).
         * @param {number} [opts.resolution=window.devicePixelRatio | 1] - The resolution / device pixel ratio of the renderer, retina would be 2.
         * @param {boolean} [opts.autoResize=true] - Should the canvas-element be resized automatically if the resolution was set?
         * @param {number} [opts.backgroundColor=0x282828] - The color of the background.
         * @param {string|Theme} [opts.theme=dark] - The name of the theme (dark, light, red) or a Theme object to use for styling.
         * @param {boolean} [opts.fpsLogging=false] - If set to true, the current frames per second are displayed in the upper left corner.
         * @param {object} [opts.progress={}] - Can be used to add options to the progress bar. See class Progress for more informations.
         * @param {boolean} [opts.forceCanvas=false] - Prevents selection of WebGL renderer, even if such is present.
         * @param {boolean} [opts.roundPixels=true] - Align PIXI.DisplayObject coordinates to screen resolution.
         * @param {boolean} [opts.monkeyPatchMapping=true] - Monkey patch for canvas fullscreen support on large displays.
         */
        constructor({
            width = null, height = null, view = null,
            transparent = true, backgroundColor = 0x282828, theme = 'dark',
            antialias = true, resolution = window.devicePixelRatio || 1, autoResize = true,
            fpsLogging = false, progress = {}, forceCanvas = false, roundPixels = true, monkeyPatchMapping = true,
            graphql = false}) {

            const fullScreen = !width || !height;

            if (fullScreen) {
                width = window.innerWidth;
                height = window.innerHeight;
            }

            super({
                view: view,
                width: width,
                height: height,
                transparent: transparent,
                antialias: antialias,
                resolution: resolution,
                autoResize: autoResize,
                backgroundColor: backgroundColor,
                roundPixels: roundPixels,
                forceCanvas: forceCanvas
            });

            this.width = width;
            this.height = height;
            this.theme = Theme.fromString(theme);
            this.fpsLogging = fpsLogging;
            this.progressOpts = progress;
            this.fullScreen = fullScreen;
            this.orient = null;
            this.originalMapPositionToPoint = null;
            this.monkeyPatchMapping = monkeyPatchMapping;
            this.graphql = graphql;
            if (fullScreen) {
                console.log('App is in fullScreen mode');
                window.addEventListener('resize', this.resize.bind(this));
                document.body.addEventListener('orientationchange', this.checkOrientation.bind(this));
            }
            if (monkeyPatchMapping) {
                console.log('Using monkey patched coordinate mapping');
                // Pluggin the specializtion does not work. Monkey patching does
                // this.renderer.plugins.interaction = new FullscreenInteractionManager(this.renderer)
                this.monkeyPatchPixiMapping();
            }
        }

        /**
         * Extra setup method to construct complex scenes, etc...
         * Overwrite this method if you need additonal views and components.
         *
         * @return {PIXIApp} A reference to the PIXIApp for chaining.
         */
        setup() {
            this.scene = this.sceneFactory();
            this.stage.addChild(this.scene);

            // fpsLogging
            if (this.fpsLogging) {
                this.addFpsDisplay();
            }

            // GraphQL
            if (this.graphql && typeof apollo !== 'undefined') {

                const networkInterface = apollo.createNetworkInterface({
                    uri: '/graphql'
                });

                const wsClient = new subscriptions.SubscriptionClient(`wss://${location.hostname}/subscriptions`, {
                    reconnect: true,
                    connectionParams: {}
                });

                const networkInterfaceWithSubscriptions = subscriptions.addGraphQLSubscriptions(
                    networkInterface,
                    wsClient
                );

                this.apolloClient = new apollo.ApolloClient({
                    networkInterface: networkInterfaceWithSubscriptions
                });
            }

            // progress
            this._progress = new Progress(Object.assign({theme: this.theme}, this.progressOpts, {app: this}));
            this._progress.visible = false;
            this.stage.addChild(this._progress);

            return this
        }

        /**
         * Tests whether the width is larger than the height of the application.
         *
         * @return {boolean} Returns true if app is in landscape mode.
         */
        orientation() {
            return this.width > this.height
        }

        /**
         * Checks orientation and adapts view size if necessary. Implements a
         * handler for the orientationchange event.
         *
         * @param {event=} - orientationchange event
         */
        checkOrientation(event) {
            var value = this.orientation();
            if (value != this.orient) {
                setTimeout(100, function() {
                    this.orientationChanged(true);
                }.bind(this));
                this.orient = value;
            }
        }

        /**
         * Called if checkOrientation detects an orientation change event.
         *
         * @param {boolean=} [force=false] - Called if checkOrientation detects an orientation change event.
         */
        orientationChanged(force=false) {
            if (this.expandRenderer() || force) {
                this.layout();
            }
        }

        /**
         * Called after a resize. Empty method but can be overwritten to
         * adapt their layout to the new app size.
         *
         * @param {number} [width] - The width of the app.
         * @param {number} [height] - The height of the app.
         */
        layout(width, height) {

        }

        /**
         * Draws the display tree of the app. Typically this can be delegated
         * to the layout method.
         *
         */
        draw() {
            this.layout(this.width, this.height);
        }

        /*
         * Run the application. Override this method with everything
         * that is needed to maintain your App, e.g. setup calls, main loops, etc.
         *
         */
        run() {
            return this
        }

        /*
         * Overwrite this factory method if your application needs a special
         * scene object.
         *
         * @returns {PIXI.Container} - A new PIXI Container for use as a scene.
         */
        sceneFactory() {
            return new PIXI.Container()
        }

        /**
         * Adds the display of the frames per second to the renderer in the upper left corner.
         *
         * @return {PIXIApp} - Returns the PIXIApp for chaining.
         */
        addFpsDisplay() {
            const fpsDisplay = new FpsDisplay(this);
            this.stage.addChild(fpsDisplay);

            return this
        }

        /**
         * Returns the size of the renderer as an object with the keys width and height.
         *
         * @readonly
         * @member {object}
         */
        get size() {
            return {width: this.width, height: this.height}
        }

        /**
         * Returns the center of the renderer as an object with the keys x and y.
         *
         * @readonly
         * @member {object}
         */
        get center() {
            return {x: this.width / 2, y: this.height / 2}
        }

        /**
         * Resizes the renderer to fit into the window or given width and height.
         *
         * @param {object} [event] - The event.
         * @param {object=} [opts={}] - The event.
         * @param {number} [opts.width=window.innerWidth] - The width of the app to resize to.
         * @param {number} [opts.height=window.innerHeight] - The height of the app to resize to.
         * @return {PIXIApp} - Returns the PIXIApp for chaining.
         */
        resize(event, {width = window.innerWidth, height = window.innerHeight} = {}) {
            this.width = width;
            this.height = height;
            this.expandRenderer();
            this.layout(width, height);
            // if (this.scene) {
            // console.log("gl.drawingBufferWidth", this.renderer.view.getContext('webgl').drawingBufferWidth)
            // console.log("scene", this.scene.scale, this.renderer, this.renderer.autoResize, this.renderer.resolution)
            // }
            return this
        }

        /**
         * @todo Write the documentation.
         *
         * @private
         */
        monkeyPatchPixiMapping() {
            if (this.originalMapPositionToPoint === null) {
                let interactionManager = this.renderer.plugins.interaction;
                this.originalMapPositionToPoint = interactionManager.mapPositionToPoint;
                interactionManager.mapPositionToPoint = (point, x, y) => {
                    return this.fixedMapPositionToPoint(point, x, y)
                };
            }
        }

        /**
         * @todo Write the documentation.
         *
         * @private
         * @param {any} local
         * @param {number} x
         * @param {number} y
         * @return {} interactionManager.mapPositionToPoint
         */
        fixedMapPositionToPoint(local, x, y) {
            let resolution = this.renderer.resolution;
            let interactionManager = this.renderer.plugins.interaction;
            let extendWidth = 1.0;
            let extendHeight = 1.0;
            let dy = 0;
            let canvas = this.renderer.view;
            let context = canvas.getContext('webgl');

            if (context !== null && (context.drawingBufferWidth < canvas.width ||
                context.drawingBufferHeight < canvas.height)) {
                extendWidth = context.drawingBufferWidth / canvas.width;
                extendHeight = context.drawingBufferHeight / canvas.height;
                //dx = wantedWidth - context.drawingBufferWidth
                dy = (canvas.height - context.drawingBufferHeight) / resolution;
            }
            x *= extendWidth;
            y *= extendHeight;
            return this.originalMapPositionToPoint.call(interactionManager, local, x, y + dy)
        }

        /**
         * Expand the renderer step-wise on resize.
         *
         * @param {number} [expand] - The amount of additional space for the renderer [px].
         * @return {boolean} true if the renderer was resized.
         */
        expandRenderer(expand=256) {
            let renderer = this.renderer;
            let resolution = this.renderer.resolution;
            let ww = this.width;
            let hh = this.height;
            let sw = this.screen.width;
            let sh = this.screen.height;
            if (ww > sw || hh > sh) {
                console.log('App.expandRenderer');
                renderer.resize(ww + expand, hh + expand);
                return true
            }

            renderer.resize(ww, hh);
            return false
        }

        /**
         * Set the loading progress of the application. If called for the first time, display the progress bar.
         *
         * @param {number} [value] - Should be a value between 0 and 100. If 100, the progress bar will disappear.
         * @return {PIXIApp|Progress} The PixiApp object for chaining or the Progress object when the method was
         *     called without a parameter.
         */
        progress(value) {

            if (typeof value === 'undefined') {
                return this._progress
            }

            this._progress.visible = true;
            this._progress.progress = value;

            return this
        }

        /**
         * Opens a new Modal object binded to this app.
         *
         * @param {object} [opts] - An options object for the Modal object.
         * @return {Modal} Returns the Modal object.
         */
        modal(opts = {}) {

            let modal = new Modal(Object.assign({theme: this.theme}, opts, {app: this}));
            this.scene.addChild(modal);

            return modal
        }

        /**
         * Opens a new Message object binded to this app.
         *
         * @param {object} [opts] - An options object for the Message object.
         * @return {Message} Returns the Message object.
         */
        message(opts = {}) {

            let message = new Message(Object.assign({theme: this.theme}, opts, {app: this}));
            this.scene.addChild(message);

            return message
        }

        /**
         * Loads sprites, e.g. images into the PIXI TextureCache.
         *
         * @param {string|string[]} resources - A String or an Array of urls to the images to load.
         * @param {function} [loaded] - A callback which is executed after all resources has been loaded.
         *     Receives one paramter, a Map of sprites where the key is the path of the image which was
         *     loaded and the value is the PIXI.Sprite object.
         * @param {object} [opts] - An options object for more specific parameters.
         * @param {boolean} [opts.resolutionDependent=true] - Should the sprites be loaded dependent of the
         *     renderer resolution?
         * @param {boolean} [opts.progress=false] - Should a progress bar display the loading status?
         * @return {PIXIApp} The PIXIApp object for chaining.
         */
        loadSprites(resources, loaded = null, {resolutionDependent = true, progress = false} = {}) {

            this.loadTextures(resources, textures => {

                let sprites = new Map();

                for (let [key, texture] of textures) {
                    sprites.set(key, new PIXI.Sprite(texture));
                }

                if (loaded) {
                    loaded.call(this, sprites);
                }

            }, {resolutionDependent, progress});

            return this
        }

        /**
         * Loads textures, e.g. images into the PIXI TextureCache.
         *
         * @param {string|string[]} resources - A String or an Array of urls to the images to load.
         * @param {function} [loaded] - A callback which is executed after all resources has been loaded.
         *     Receives one paramter, a Map of sprites where the key is the path of the image which was
         *     loaded and the value is the PIXI.Sprite object.
         * @param {object} [opts] - An options object for more specific parameters.
         * @param {boolean} [opts.resolutionDependent=true] - Should the textures be loaded dependent of the
         *     renderer resolution?
         * @param {boolean} [opts.progress=false] - Should a progress bar display the loading status?
         * @return {PIXIApp} The PIXIApp object for chaining.
         */
        loadTextures(resources, loaded = null, {resolutionDependent = true, progress = false} = {}) {

            if (!Array.isArray(resources)) {
                resources = [resources];
            }

            const loader = this.loader;

            for (let resource of resources) {

                if (!loader.resources[resource]) {
                    
                    if (resolutionDependent) {
                        let resolution = Math.round(this.renderer.resolution);
                        switch (resolution) {
                            case 2:
                                loader.add(resource, resource.replace(/\.([^.]*)$/, '@2x.$1'));
                                break
                            case 3:
                                loader.add(resource, resource.replace(/\.([^.]*)$/, '@3x.$1'));
                                break
                            default:
                                loader.add(resource);
                                break
                        }
                    } else {
                        loader.add(resource);
                    }
                }
            }

            if (progress) {
                loader.on('progress', e => {
                    this.progress(e.progress);
                });
            }

            loader.load((loader, resources) => {
                const textures = new Map();

                for (let key in resources) {
                    textures.set(key, resources[key].texture);
                }

                if (loaded) {
                    loaded.call(this, textures);
                }
            });

            return this
        }

        /**
         * Queries the GraphQL endpoint.
         *
         * @param {string} [query] - The GraphQL query string.
         * @param {object} [opts={}] - An options object. The following options can be set:
         *     http://dev.apollodata.com/core/apollo-client-api.html#ApolloClient.query
         * @return {Promise} Returns a Promise which is either resolved with the resulting data or
         *     rejected with an error.
         */
        query(query, opts = {}) {

            if (typeof query === 'string') {
                opts = Object.assign({}, opts, {query});
            } else {
                opts = Object.assign({}, query);
            }

            opts.query = opts.query.trim();

            if (!opts.query.startsWith('query')) {
                if (opts.query.startsWith('{')) {
                    opts.query = `query ${opts.query}`;
                } else {
                    opts.query = `query {${opts.query}}`;
                }
            }

            opts.query = gql(opts.query);

            return this.apolloClient.query(opts)
        }

        /**
         * Mutate the GraphQL endpoint.
         *
         * @param {string} [mutation] - The GraphQL mutation string.
         * @param {object} [opts={}] - An options object. The following options can be set:
         *     http://dev.apollodata.com/core/apollo-client-api.html#ApolloClient.mutate
         * @return {Promise} Returns a Promise which is either resolved with the resulting data or
         *     rejected with an error.
         */
        mutate(mutation, opts = {}) {

            if (typeof mutation === 'string') {
                opts = Object.assign({}, opts, {mutation});
            } else {
                opts = Object.assign({}, mutation);
            }

            opts.mutation = opts.mutation.trim();

            if (!opts.mutation.startsWith('mutation')) {
                if (opts.mutation.startsWith('{')) {
                    opts.mutation = `mutation ${opts.mutation}`;
                } else {
                    opts.mutation = `mutation {${opts.mutation}}`;
                }
            }

            opts.mutation = gql(opts.mutation);

            return this.apolloClient.mutate(opts)
        }

        /**
         * Subscribe the GraphQL endpoint.
         *
         * @param {string} [subscription] - The GraphQL subscription.
         * @param {object} [opts={}] - An options object. The following options can be set:
         *     http://dev.apollodata.com/core/apollo-client-api.html#ApolloClient.query
         * @return {Promise} Returns a Promise which is either resolved with the resulting data or
         *     rejected with an error.
         */
        subscribe(subscription, opts = {}) {

            if (typeof subscription === 'string') {
                opts = Object.assign({}, opts, {subscription});
            } else {
                opts = Object.assign({}, subscription);
            }

            opts.subscription = opts.subscription.trim();

            if (!opts.subscription.startsWith('subscription')) {
                if (opts.subscription.startsWith('{')) {
                    opts.subscription = `subscription ${opts.subscription}`;
                } else {
                    opts.subscription = `subscription {${opts.subscription}}`;
                }
            }

            opts.query = gql(opts.subscription);

            delete opts.subscription;

            return this.apolloClient.subscribe(opts)
        }
    }

    /**
     * The class fpsdisplay shows in the upper left corner
     * of the renderer the current image refresh rate.
     *
     * @private
     * @class
     * @extends PIXI.Graphics
     * @see {@link http://pixijs.download/dev/docs/PIXI.Graphics.html|PIXI.Graphics}
     */
    class FpsDisplay extends PIXI.Graphics {

        /**
         * Creates an instance of a FpsDisplay.
         *
         * @constructor
         * @param {PIXIApp} app - The PIXIApp where the frames per second should be displayed.
         */
        constructor(app) {

            super();

            this.app = app;

            this.lineStyle(3, 0x434f4f, 1)
                .beginFill(0x434f4f, .6)
                .drawRoundedRect(0, 0, 68, 32, 5)
                .endFill()
                .position.set(20, 20);

            this.text = new PIXI.Text(this.fps, new PIXI.TextStyle({
                fontFamily: 'Arial',
                fontSize: 14,
                fontWeight: 'bold',
                fill: '#f6f6f6',
                stroke: '#434f4f',
                strokeThickness: 3
            }));
            this.text.position.set(6, 6);

            this.addChild(this.text);

            this.refreshFps();

            window.setInterval(this.refreshFps.bind(this), 1000);
        }

        /**
         * Refreshes fps numer.
         *
         * @return {PIXIApp} Returns the PIXIApp object for chaining.
         */
        refreshFps() {
            this.text.text = `${(this.app.ticker.FPS).toFixed(1)} fps`;

            return this
        }
    }

    class EpochalApp extends PIXIApp {
        sceneFactory() {
            return new Scene()
        }

        setup(data, domScatterContainer) {
            window.app = this; // Make the app a global variable

            super.setup();
            this.audio = null;
            this.allData = [];
            this.wantedThumbHeight = 66.0;
            this.audioRef = null;
            this.pictures = new Pictures();
            this.orient = this.orientation();

            this.overview = new Overview();
            this.timeline = new Timeline();
            this.mapview = new MapView();
            this.cat1View = new CategoryView();
            this.cat1View.init('./Gattung.png', './positions1.txt', 'category1.xml');
            this.cat2View = new CategoryView();
            this.cat2View.init('./Epochen.png', './positions2.txt', 'category2.xml');
            this.cat3View = new CategoryView();
            this.cat3View.init(
                './Herkunft.png',
                './positions3.txt',
                'category3.xml'
            );
            this.cat4View = new CategoryView();
            this.cat4View.init(
                './Thematik.png',
                './positions4.txt',
                'category4.xml'
            );

            this.views = [
                this.overview,
                this.timeline,
                this.cat1View,
                this.cat2View,
                this.cat3View,
                this.cat4View
            ];
            this.currentView = this.views[0];
            this.loadedThumbs = 0;
            this.allData = data;
            this.scene.setup(this);
            this.timebar = new TimeScrollbar();
            this.stage.addChild(this.timebar);
            this.preloadImages(); // preloadImages calls the other setup methods

            //init logger
            try {
                this.setupLogger();
            } catch(e) {
                console.warn('Cannot setup logger: ' + e.message);
            }
            //init save logs on keypress
            document.addEventListener(
                'keydown',
                function(e) {
                    this.handleKeyDown(e);
                }.bind(this),
                false
            );
            //init save logs on touch hold on header
            this.header = document.getElementsByClassName('epochal').item(0);
            //console.log('header extracted with name:', this.header.name)
            this.headerTouchListener = this.headerTouchChanged.bind(this);
            this.header.addEventListener(
                'touchstart',
                function(e) {
                    this.headerTouchStart(e);
                }.bind(this),
                false
            );

            this.domScatterContainer = domScatterContainer;

            window.onbeforeunload = function(e) {
                var dialog = 'Wirklich beenden?';
                e.returnValue = dialog;
                return dialog
            };

            window.document.addEventListener(
                'mousedown',
                this.closeOpenCards.bind(this),
                true
            );
            window.document.addEventListener(
                'touchstart',
                this.closeOpenCards.bind(this),
                true
            );


            //setup active thumbnail
            this.activeThumbID = -1;
            this.setupSocket();
            

            console.log('app.setup', app.width, app.height);
        }

        closeOpenCards(event) {
            let targetClass = $(event.target).attr('class');
            let targetId = $(event.target).attr('id');
            if (targetId == 'canvas') {
                console.log('closing current picture because canvas was clicked');
                this.pictures.removeAll();
            }

            
        }

        handleKeyDown(event) {
            const keyName = event.key;
            if (/*event.ctrlKey &&*/ keyName == 's') {
                let useridRetrieval = confirm('Save user logs?');
                if (useridRetrieval) this.reportingCSVActionlog();
            }
        }

        headerTouchStart(event) {
            this.logFileTimer = setTimeout(this.headerLongTouch.bind(this), 3000);

            this.header.addEventListener(
                'touchend',
                this.headerTouchListener,
                false
            );
            this.header.addEventListener(
                'touchmove',
                this.headerTouchListener,
                false
            );
        }

        headerTouchChanged(event) {
            clearTimeout(this.logFileTimer);

            this.header.removeEventListener('touchend', this.headerTouchListener);
            this.header.removeEventListener('touchmove', this.headerTouchListener);

            //console.log('long touch cancelled')
        }

        headerLongTouch() {
            let useridRetrieval = confirm('Save user logs?');
            if (useridRetrieval) this.reportingCSVActionlog();

            //window.open('data:attachment/csv;charset=utf-8,' + encodeURI('hallo'))

            //console.log('loooong touch detected')
        }

        setupLogger() {
            this.userid = prompt('Please enter your name', 'XYZ00');
            console.log('logger is initiated for user', this.userid);
            this.runid = 1;
            this.studyid = 'eyevisit';
            this.pageid = 'ÜBERSICHT';
            let date = new Date();
            this.startTime = date.getTime();

            this.logger = new LocalLogger();
            this.logger.init();
        }

        setupSocket(){
            console.log('setting up socket.io');

            this.socket = (typeof io != 'undefined') ? io('http://localhost:8081') : null;

            this.socket.on('welcome', data => {
                console.log('server says hi', data);
            });

            this.socket.on('update', data => {
                console.log('socket update received', data);
                let updatedThumbID = data;
                this.pictures.removeAll();
                this.updateActiveThumbID(updatedThumbID);     
                
                //logging
                this.log('sync from server', {id: updatedThumbID});
            });
        }

        toggleAudio(d) {
            if (this.audioRef == d.ref) {
                TweenMax.to(this.audio, 0.5, {visibility: 'hidden'});
                this.audio.src = null;
                this.audioRef = null;
            } else {
                TweenMax.to(this.audio, 0.5, {opacity: 1, visibility: 'visible'});
                this.audio.src = d.audioURL;
                this.audio.play();
                this.audioRef = d.ref;
            }
        }

        resizeStage(w, h) {
            console.log('resizeStage', w, h);
            this.scene.hitArea = new PIXI.Rectangle(0, 0, w, h);
        }

        preloadImages() {
            let prefix = './cards/';
            let loader = PIXI.loader;
            this.allData.forEach(function(d) {
                // UO: Disable audio for the moment

                d.audio = null;
                d.ref = d.name.split(' ')[0];
                //d.thumbURL =  prefix + d.ref + '.thumb.png'
                //d.pictureURL = prefix + d.ref + '.jpg'
                d.thumbURL = prefix + d.ref + '/' + d.ref + '.thumb.png';
                d.pictureURL = prefix + d.ref + '/' + d.ref + '.jpeg';
                //d.infoURL = prefix + 'exponat' + parseInt(d.ref) + '.pdf'

                //d.infoURL = '../../var/eyevisit/' + d.ref + '/' + d.ref + '.xml'
                d.infoURL = './cards/' + d.ref + '/' + d.ref + '.xml';
                console.log('d.infoURL', d.infoURL);
                d.audioURL = prefix + d.audio;
                loader.add(d.ref, d.thumbURL);

                // UO: Preload images into cache
                let image = document.createElement('img');
                image.onload = e => {
                    console.log('Preloaded ' + d.pictureURL);
                };
                image.src = d.pictureURL;
            });
            loader.once('complete', this.thumbsLoaded.bind(this));
            loader.load();
        }

        thumbnailSelected(event) {
            //console.log('thumbnail selected ----> calling show()')

            //disable interaction until image is properly loaded
            this.allData.forEach(
                function(d) {
                    d.thumbnail.click = null;
                    d.thumbnail.tap = null;
                }.bind(this)
            );

            let d = event.target.data;

            //if (d.audio) {
            //    this.toggleAudio(d)
            //}

            this.pictures.show(event, d);

            console.log('opening image', d.ref);

            //update local and remote thumbnail selection
            this.socket.emit('update', d.ref);
            this.updateActiveThumbID(d.ref);

            //logging
            this.log('image opened', {id: d.ref});
        }

        updateActiveThumbID(id){
            this.activeThumbID = id;

            this.allData.forEach(function(d) {
                if(d.ref == id){
                    d.thumbnail.filters = [
                        new GlowFilter(10, 0, 1, 0xFF0000, 0.5),
                        new OutlineFilter(9, 0xFF0000)
                    ];
                }
                else{
                    d.thumbnail.filters = [];

                }
            });

        }

        resetActiveThumbID(){
            this.socket.emit('update', -1);
            this.updateActiveThumbID(-1);
        }

        imageLoaded() {
            //console.log('picture.show completed ----> re-enable interaction')

            //re-enable interaction when image is properly loaded
            this.allData.forEach(
                function(d) {
                    d.thumbnail.click = this.thumbnailSelected.bind(this);
                    d.thumbnail.tap = this.thumbnailSelected.bind(this);
                }.bind(this)
            );
        }

        addThumbnail(d) {
            let texture = PIXI.loader.resources[d.ref].texture;
            let sprite = new PIXI.Sprite(texture);
            sprite.interactive = true;
            sprite.data = d;
            this.scene.addChild(sprite);
            sprite.click = this.thumbnailSelected.bind(this);
            sprite.tap = this.thumbnailSelected.bind(this);
            // sprite.alpha = (d.audio) ? 1.0 : 0.5
            return sprite
        }

        thumbsLoaded() {
            this.allData.forEach(
                function(d) {
                    d.thumbnail = this.addThumbnail(d);
                }.bind(this)
            );
            this.prepareData();
            this.draw();
        }

        prepareData() {
            let size = this.size;
            let w = size.width;
            let h = size.height - 400;
            let hh = this.wantedThumbHeight;
            let total = w * h * 0.75;
            let sum = 0;
            this.allData.forEach(
                function(d) {
                    d.mapX = d.x;
                    d.mapY = d.y;
                    let ww = d.thumbnail.width * (hh / d.thumbnail.height) + 1;
                    sum += ww * hh;
                }.bind(this)
            );
            this.wantedThumbHeight *= Math.sqrt(total) / Math.sqrt(sum);

            this.allData.forEach(function(d) {
                d.scaledHeight = hh;
                d.scaledWidth = d.thumbnail.width * (hh / d.thumbnail.height) + 1;
            });
        }

        placeThumbs() {
            this.allData.forEach(function(d) {
                d.thumbnail.x = d.x;
                d.thumbnail.y = d.y;
                d.thumbnail.width = d.width;
                d.thumbnail.height = d.height;
            });
        }

        animateThumbs() {
            this.allData.forEach(function(d) {
                TweenLite.to(d.thumbnail, 0.5, {
                    x: d.x,
                    y: d.y,
                    width: d.width,
                    height: d.height
                });
            });
        }

        layout(width, height) {
            if (this.currentView) this.currentView.layout(width, height);
            if (this.allData) this.placeThumbs(width, height);
        }

        selectMenuItem(event) {
            let item = event.target;
            let tmpView = this.currentView;
            
            if (item.innerHTML == 'ÜBERSICHT') {
                tmpView = this.views[0];
            } else if (item.innerHTML == 'ZEITACHSE') {
                tmpView = this.views[1];
            } else if (item.innerHTML == 'GATTUNG') {
                tmpView = this.views[2];
            } else if (item.innerHTML == 'EPOCHEN') {
                tmpView = this.views[3];
            } else if (item.innerHTML == 'HERKUNFT') {
                tmpView = this.views[4];
            } else if (item.innerHTML == 'THEMATIK') {
                tmpView = this.views[5];
            } else {
                return
            }

            if (this.currentView) this.currentView.clear();
            d3.selectAll('.menuitem').classed('selected', false);
            d3.select(event.target).classed('selected', true);

            this.currentView = tmpView;

            this.currentView.layout(app.width, app.height);
            this.currentView.adjust();
            this.animateThumbs();

            //logging        
            this.log('view opened', {id: item.innerHTML});

            this.pageid = item.innerHTML;
            
        }

        log(action, data) {
            let date = new Date();
            let currentTime = date.getTime() - this.startTime;
            this.logger.logAction(
                this.studyid,
                this.runid,
                this.userid,
                0,
                this.pageid,
                date.toISOString(),
                currentTime,
                action,
                data
            );
        }

        reportingCSVActionlog() {
            let data = [
                [
                    'study',
                    'run',
                    'user',
                    'pagecounter',
                    'page',
                    'timestamp',
                    'elapsedtime',
                    'action'
                ]
            ];
            let datafields = new Set();
            console.log('csvactionlog reporting for eyevisit started');
            let trans = this.logger.db.transaction(['log'], 'readonly');
            let store = trans.objectStore('log');
            let index = store.index('log_index1');
            let request = index.openCursor(IDBKeyRange.only(this.studyid));
            request.onsuccess = function(evt) {
                let cursor = evt.target.result;
                if (cursor) {
                    let logdata = cursor.value;
                    for (let key in logdata.data) {
                        datafields.add(key);
                    }
                    cursor.continue();
                } else {
                    let df = Array.from(datafields);
                    df.sort();
                    data[0] = data[0].concat(df);
                    let trans = this.logger.db.transaction(['log'], 'readonly');
                    let store = trans.objectStore('log');
                    let index = store.index('log_index1');
                    let request = index.openCursor(IDBKeyRange.only(this.studyid));
                    request.onsuccess = function(evt) {
                        let cursor = evt.target.result;
                        if (cursor) {
                            let dbitem = cursor.value;
                            let dataset = [
                                dbitem.studyid,
                                dbitem.runid,
                                dbitem.userid,
                                dbitem.pagecounter,
                                dbitem.pageid,
                                dbitem.timestamp,
                                dbitem.elapsedtime,
                                dbitem.action
                            ];
                            for (let dfitem of df) {
                                if (dbitem.data.hasOwnProperty(dfitem)) {
                                    dataset.push(dbitem.data[dfitem]);
                                } else {
                                    dataset.push('');
                                }
                            }
                            data.push(dataset);
                            cursor.continue();
                        } else {
                            console.log(
                                `${data.length -
                                1} datasets created, exporting to csv`
                            );
                            this.exportToCsv(
                                `${this.studyid}_actionlog.csv`,
                                data,
                                'csvactionlog'
                            );
                        }
                    }.bind(this);
                }
            }.bind(this);
        }

        exportToCsv(filename, rows, mode) {
            let processRow = function(row, newline = '\n') {
                let finalVal = '';
                for (let j = 0; j < row.length; j++) {
                    let innerValue = row[j] === null ? '' : row[j].toString();
                    if (row[j] instanceof Date) {
                        innerValue = row[j].toLocaleString();
                    }
                    let result = innerValue.replace(/"/g, '""');
                    if (result.search(/("|;|\n)/g) >= 0) result = '"' + result + '"';
                    if (j > 0) finalVal += ';';
                    finalVal += result;
                }
                return finalVal + newline
            };

            let csvFile = '';
            for (let i = 0; i < rows.length; i++) {
                csvFile += processRow(rows[i]);
            }

            let csvData = new Blob([csvFile], {type: 'text/csv;charset=utf-8;'});
            if (navigator.msSaveBlob) {
                // IE 10+
                navigator.msSaveBlob(csvData, filename);
            } else {
                let supportsDownloadAttribute =
                    'download' in document.createElement('a');
                if (supportsDownloadAttribute) {
                    let link = document.createElement('a');
                    link.href = window.URL.createObjectURL(csvData);
                    link.setAttribute('download', filename);
                    document.body.appendChild(link);
                    link.click();
                    document.body.removeChild(link);
                } else {
                    console.log(
                        'trying to save without support of download attribute'
                    );

                    //document.getElementById("log_overlay").style.display = "block";

                    /*let link = document.createElement('a');
                    link.onclick = function(e) {
                        window.open('data:attachment/csv;charset=utf-8,' + encodeURI(csvFile))
                    }
                    document.body.appendChild(link);
                    link.click();
                    document.body.removeChild(link);*/

                    //window.open('data:attachment/csv;charset=utf-8,' + encodeURI(csvFile))
                    saveAs(csvData, filename);
                }
            }
        }
    }

    /*!
     * @pixi/filter-glow - v2.3.0
     * Compiled Wed, 29 Nov 2017 16:44:42 UTC
     *
     * pixi-filters is licensed under the MIT License.
     * http://www.opensource.org/licenses/mit-license
     */
    var vertex$9="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}";
    var fragment$9="varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nuniform float distance;\nuniform float outerStrength;\nuniform float innerStrength;\nuniform vec4 glowColor;\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\nvec2 px = vec2(1.0 / filterArea.x, 1.0 / filterArea.y);\n\nvoid main(void) {\n    const float PI = 3.14159265358979323846264;\n    vec4 ownColor = texture2D(uSampler, vTextureCoord);\n    vec4 curColor;\n    float totalAlpha = 0.0;\n    float maxTotalAlpha = 0.0;\n    float cosAngle;\n    float sinAngle;\n    vec2 displaced;\n    for (float angle = 0.0; angle <= PI * 2.0; angle += %QUALITY_DIST%) {\n       cosAngle = cos(angle);\n       sinAngle = sin(angle);\n       for (float curDistance = 1.0; curDistance <= %DIST%; curDistance++) {\n           displaced.x = vTextureCoord.x + cosAngle * curDistance * px.x;\n           displaced.y = vTextureCoord.y + sinAngle * curDistance * px.y;\n           curColor = texture2D(uSampler, clamp(displaced, filterClamp.xy, filterClamp.zw));\n           totalAlpha += (distance - curDistance) * curColor.a;\n           maxTotalAlpha += (distance - curDistance);\n       }\n    }\n    maxTotalAlpha = max(maxTotalAlpha, 0.0001);\n\n    ownColor.a = max(ownColor.a, 0.0001);\n    ownColor.rgb = ownColor.rgb / ownColor.a;\n    float outerGlowAlpha = (totalAlpha / maxTotalAlpha)  * outerStrength * (1. - ownColor.a);\n    float innerGlowAlpha = ((maxTotalAlpha - totalAlpha) / maxTotalAlpha) * innerStrength * ownColor.a;\n    float resultAlpha = (ownColor.a + outerGlowAlpha);\n    gl_FragColor = vec4(mix(mix(ownColor.rgb, glowColor.rgb, innerGlowAlpha / ownColor.a), glowColor.rgb, outerGlowAlpha / resultAlpha) * resultAlpha, resultAlpha);\n}\n";
    var GlowFilter=function(o){function n(n,t,r,e,l){void 0===n&&(n=10),void 0===t&&(t=4),void 0===r&&(r=0),void 0===e&&(e=16777215),void 0===l&&(l=.1),o.call(this,vertex$9,fragment$9.replace(/%QUALITY_DIST%/gi,""+(1/l/n).toFixed(7)).replace(/%DIST%/gi,""+n.toFixed(7))),this.uniforms.glowColor=new Float32Array([0,0,0,1]),this.distance=n,this.color=e,this.outerStrength=t,this.innerStrength=r;}o&&(n.__proto__=o),(n.prototype=Object.create(o&&o.prototype)).constructor=n;var t={color:{configurable:!0},distance:{configurable:!0},outerStrength:{configurable:!0},innerStrength:{configurable:!0}};return t.color.get=function(){return PIXI.utils.rgb2hex(this.uniforms.glowColor)},t.color.set=function(o){PIXI.utils.hex2rgb(o,this.uniforms.glowColor);},t.distance.get=function(){return this.uniforms.distance},t.distance.set=function(o){this.uniforms.distance=o;},t.outerStrength.get=function(){return this.uniforms.outerStrength},t.outerStrength.set=function(o){this.uniforms.outerStrength=o;},t.innerStrength.get=function(){return this.uniforms.innerStrength},t.innerStrength.set=function(o){this.uniforms.innerStrength=o;},Object.defineProperties(n.prototype,t),n}(PIXI.Filter);PIXI.filters.GlowFilter=GlowFilter;

    /*!
     * @pixi/filter-outline - v2.3.0
     * Compiled Wed, 29 Nov 2017 16:44:44 UTC
     *
     * pixi-filters is licensed under the MIT License.
     * http://www.opensource.org/licenses/mit-license
     */
    var vertex$11="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}";
    var fragment$10="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform float thickness;\nuniform vec4 outlineColor;\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\nvec2 px = vec2(1.0 / filterArea.x, 1.0 / filterArea.y);\n\nvoid main(void) {\n    const float PI = 3.14159265358979323846264;\n    vec4 ownColor = texture2D(uSampler, vTextureCoord);\n    vec4 curColor;\n    float maxAlpha = 0.;\n    vec2 displaced;\n    for (float angle = 0.; angle < PI * 2.; angle += %THICKNESS% ) {\n        displaced.x = vTextureCoord.x + thickness * px.x * cos(angle);\n        displaced.y = vTextureCoord.y + thickness * px.y * sin(angle);\n        curColor = texture2D(uSampler, clamp(displaced, filterClamp.xy, filterClamp.zw));\n        maxAlpha = max(maxAlpha, curColor.a);\n    }\n    float resultAlpha = max(maxAlpha, ownColor.a);\n    gl_FragColor = vec4((ownColor.rgb + outlineColor.rgb * (1. - ownColor.a)) * resultAlpha, resultAlpha);\n}\n";
    var OutlineFilter=function(e){function o(o,r){void 0===o&&(o=1),void 0===r&&(r=0),e.call(this,vertex$11,fragment$10.replace(/%THICKNESS%/gi,(1/o).toFixed(7))),this.thickness=o,this.uniforms.outlineColor=new Float32Array([0,0,0,1]),this.color=r;}e&&(o.__proto__=e),(o.prototype=Object.create(e&&e.prototype)).constructor=o;var r={color:{configurable:!0},thickness:{configurable:!0}};return r.color.get=function(){return PIXI.utils.rgb2hex(this.uniforms.outlineColor)},r.color.set=function(e){PIXI.utils.hex2rgb(e,this.uniforms.outlineColor);},r.thickness.get=function(){return this.uniforms.thickness},r.thickness.set=function(e){this.uniforms.thickness=e;},Object.defineProperties(o.prototype,r),o}(PIXI.Filter);PIXI.filters.OutlineFilter=OutlineFilter;

    const domScatterContainer = new DOMScatterContainer(document.body);
    const app$1 = new EpochalApp({ view: canvas, monkeyPatchMapping: false});

    app$1.setup(data, domScatterContainer);
    app$1.run();

}());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlcyI6WyJ2aWV3cy5qcyIsIm92ZXJ2aWV3LmpzIiwibGFiZWxlZGdyYXBoaWNzLmpzIiwidGltZWxpbmUuanMiLCJtYXB2aWV3LmpzIiwiY2F0ZWdvcnlWaWV3LmpzIiwiaXdtX2xvZ2dlcmxvY2FsLmpzIiwiLi4vbGliL2V2ZW50cy5qcyIsIi4uL2xpYi91dGlscy5qcyIsIi4uL2xpYi9pbnRlcmZhY2UuanMiLCIuLi9saWIvaW50ZXJhY3Rpb24uanMiLCIuLi9saWIvY2FwYWJpbGl0aWVzLmpzIiwiLi4vbGliL3NjYXR0ZXIuanMiLCIuLi9saWIvcGl4aS9zY2F0dGVyLmpzIiwiLi4vbGliL2ZsaXBwYWJsZS5qcyIsIi4uL2xpYi9waXhpL2RlZXB6b29tLmpzIiwiZmxpcHBhYmxlLmpzIiwiLi4vbGliL3BvcHVwLmpzIiwieG1scGFyc2VyLmpzIiwieG1sY2FyZGxvYWRlci5qcyIsInBpY3R1cmVzLmpzIiwic2NlbmUuanMiLCIuLi9saWIvcGl4aS90aGVtZS5qcyIsIi4uL2xpYi9waXhpL3Byb2dyZXNzLmpzIiwiLi4vbGliL3BpeGkvYWJzdHJhY3Rwb3B1cC5qcyIsIi4uL2xpYi9waXhpL3Rvb2x0aXAuanMiLCIuLi9saWIvcGl4aS9iYWRnZS5qcyIsIi4uL2xpYi9waXhpL2J1dHRvbi5qcyIsIi4uL2xpYi9waXhpL2J1dHRvbmdyb3VwLmpzIiwiLi4vbGliL3BpeGkvcG9wdXAuanMiLCIuLi9saWIvcGl4aS9tb2RhbC5qcyIsIi4uL2xpYi9waXhpL21lc3NhZ2UuanMiLCIuLi9saWIvcGl4aS9hcHAuanMiLCJlcG9jaGFsLmpzIiwibWFpbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgRnJhbWUge1xuXG4gICAgY29uc3RydWN0b3IoeCA9IDAsIHkgPSAwLCB3ID0gMCwgaCA9IDApIHtcbiAgICAgICAgdGhpcy54ID0geFxuICAgICAgICB0aGlzLnkgPSB5XG4gICAgICAgIHRoaXMudyA9IHdcbiAgICAgICAgdGhpcy5oID0gaFxuICAgICAgICB0aGlzLnNjYWxlID0gMVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFZpZXcgZXh0ZW5kcyBGcmFtZSB7XG4gICAgLyogQmFzZSBjbGFzcyBmb3IgdmlydHVhbCB2aWV3cyB3aGljaCBhcnJhbmdlIHRodW1ibmFpbHMuICovXG5cbiAgICBjbGVhcigpIHtcbiAgICAgICAgYXBwLnNjZW5lLmNsZWFyKClcbiAgICB9XG5cbiAgICBhZGp1c3QoKSB7XG4gICAgICAgIGxldCB4eD0gKHRoaXMubW92YWJsZVgpID8gdGhpcy54IDogMFxuICAgICAgICBsZXQgeXkgPSAodGhpcy5tb3ZhYmxlWSkgPyB0aGlzLnkgOiAwXG4gICAgICAgIGxldCBzY2FsZSA9IHRoaXMuc2NhbGVcbiAgICAgICAgYXBwLnNjZW5lLnJlc2V0KHh4LCB5eSwgc2NhbGUpXG4gICAgfVxuLy9cbi8vICAgICBzYXZlKHgsIHksIHNjYWxlKSB7XG4vLyAgICAgICAgIGNvbnNvbGUubG9nKFwic2F2ZVwiKVxuLy8gICAgICAgICB0aGlzLnNjYWxlID0gc2NhbGVcbi8vICAgICAgICAgdGhpcy54ID0geFxuLy8gICAgICAgICB0aGlzLnkgPSB5XG4vLyAgICAgfVxuXG4gICAgZ2V0IG1vdmFibGVYKCkge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBnZXQgbW92YWJsZVkoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIHJlc2l6ZSh3LCBoKSB7XG4gICAgICAgIHRoaXMudyA9IHdcbiAgICAgICAgdGhpcy5oID0gaFxuICAgICAgICBhcHAucmVzaXplU3RhZ2UodywgaClcbiAgICB9XG59XG4iLCJpbXBvcnQge1ZpZXd9IGZyb20gJy4vdmlld3MuanMnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE92ZXJ2aWV3IGV4dGVuZHMgVmlldyB7XG5cbiAgICBsYXlvdXQodywgaCkge1xuICAgICAgICBpZiAoYXBwLnRpbWViYXIpXG4gICAgICAgICAgICBhcHAudGltZWJhci5jbGVhcigpXG4gICAgICAgIGxldCB0eCA9IDAsIHR5ID0gMFxuICAgICAgICBsZXQgc3RhcnQgPSAwLCBpbmRleCA9IDBcbiAgICAgICAgbGV0IGR4ID0gMiwgZHkgPSA0XG4gICAgICAgIGxldCBoaCA9IGFwcC53YW50ZWRUaHVtYkhlaWdodFxuICAgICAgICBhcHAuYWxsRGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICBsZXQgc2NhbGUgPSBkLnNjYWxlZFdpZHRoIC8gZC53aWR0aFxuICAgICAgICAgICAgbGV0IHd3ID0gZC5zY2FsZWRXaWR0aCAqIChoaCAvICBkLnNjYWxlZEhlaWdodClcbiAgICAgICAgICAgIGxldCB3d2R4ID0gd3cgKyBkeFxuICAgICAgICAgICAgaWYgKHR4K3d3ZHggPiB3KSB7XG4gICAgICAgICAgICAgICAgbGV0IGRlbHRhID0gKHcgLSB0eCkgLyAoKGluZGV4IC0gc3RhcnQpIC0gMSlcbiAgICAgICAgICAgICAgICBsZXQgaiA9IDBcbiAgICAgICAgICAgICAgICBmb3IobGV0IGk9c3RhcnQ7IGk8aW5kZXg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBhcHAuYWxsRGF0YVtpXS54ICs9IGoqZGVsdGFcbiAgICAgICAgICAgICAgICAgICAgaisrXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHR4ID0gMFxuICAgICAgICAgICAgICAgIHR5ICs9IGhoICsgZHlcbiAgICAgICAgICAgICAgICBzdGFydCA9IGluZGV4XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkLnggPSB0eFxuICAgICAgICAgICAgZC55ID0gdHlcbiAgICAgICAgICAgIGQud2lkdGggPSB3d1xuICAgICAgICAgICAgZC5oZWlnaHQgPSBoaFxuICAgICAgICAgICAgdHggKz0gd3dkeFxuICAgICAgICAgICAgaW5kZXgrK1xuICAgICAgICB9KVxuICAgICAgICB0aGlzLnJlc2l6ZSh3LTgsIE1hdGgubWluKGggLSA2NiwgdHkgKyBoaCkpXG4gICAgfVxufVxuIiwiY2xhc3MgRm9udEluZm8ge1xuXG4gICAgc3RhdGljIGdldCBzbWFsbCgpIHtcbiAgICAgICAgcmV0dXJuIHtmb250RmFtaWx5IDogJ0FyaWFsJyxcbiAgICAgICAgICAgIGZvbnRTaXplOiAxNCxcbiAgICAgICAgICAgIHN0cm9rZTogJ2JsYWNrJyxcbiAgICAgICAgICAgIGZpbGwgOiAnd2hpdGUnfVxuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgbm9ybWFsKCkge1xuICAgICAgICByZXR1cm4ge2ZvbnRGYW1pbHkgOiAnQXJpYWwnLFxuICAgICAgICAgICAgZm9udFNpemU6IDI0LFxuICAgICAgICAgICAgc3Ryb2tlOiAnYmxhY2snLFxuICAgICAgICAgICAgZmlsbCA6ICd3aGl0ZSd9XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBjZW50ZXJlZCgpICB7XG4gICAgICAgIHJldHVybiB7IGZvbnRGYW1pbHkgOiAnQXJpYWwnLFxuICAgICAgICAgICAgZm9udFNpemU6IDI0LFxuICAgICAgICAgICAgc3Ryb2tlOiAnYmxhY2snLFxuICAgICAgICAgICAgYWxpZ24gOiAnY2VudGVyJyxcbiAgICAgICAgICAgIGZpbGwgOiAnd2hpdGUnfVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGFiZWxlZEdyYXBoaWNzIGV4dGVuZHMgUElYSS5HcmFwaGljcyB7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKVxuICAgICAgICB0aGlzLmxhYmVscyA9IG5ldyBNYXAoKVxuICAgIH1cblxuICAgIGVuc3VyZUxhYmVsKGtleSwgbGFiZWwsIGF0dHJzLCBmb250SW5mbz1Gb250SW5mby5zbWFsbCkge1xuICAgICAgICBpZiAoIXRoaXMubGFiZWxzLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICBsZXQgdGV4dCA9IG5ldyBQSVhJLlRleHQobGFiZWwsIGZvbnRJbmZvKVxuICAgICAgICAgICAgdGhpcy5sYWJlbHMuc2V0KGtleSwgdGV4dClcbiAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQodGV4dClcbiAgICAgICAgfVxuICAgICAgICBsZXQgdGV4dCA9IHRoaXMubGFiZWxzLmdldChrZXkpXG4gICAgICAgIGZvcihsZXQgayBpbiBhdHRycykge1xuICAgICAgICAgICAgdGV4dFtrXSA9IGF0dHJzW2tdXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxhYmVsICE9IHRleHQudGV4dClcbiAgICAgICAgICAgIHRleHQudGV4dCA9IGxhYmVsXG4gICAgICAgIHRleHQuYW5jaG9yLnkgPSAwLjVcbiAgICAgICAgc3dpdGNoKGF0dHJzLmFsaWduKSB7XG4gICAgICAgICAgICBjYXNlICdyaWdodCc6XG4gICAgICAgICAgICAgICAgdGV4dC5hbmNob3IueCA9IDFcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgY2FzZSAnY2VudGVyJzpcbiAgICAgICAgICAgICAgICB0ZXh0LmFuY2hvci54ID0gMC41XG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGV4dC5hbmNob3IueCA9IDBcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICAgIHRleHQudmlzaWJsZSA9IHRydWVcbiAgICAgICAgcmV0dXJuIHRleHRcbiAgICB9XG5cbiAgICBjbGVhcigpIHtcbiAgICAgICAgc3VwZXIuY2xlYXIoKVxuICAgICAgICBmb3IobGV0IGtleSBvZiB0aGlzLmxhYmVscy5rZXlzKCkpIHtcbiAgICAgICAgICAgIGxldCBsYWJlbCA9IHRoaXMubGFiZWxzLmdldChrZXkpXG4gICAgICAgICAgICBsYWJlbC52aXNpYmxlID0gZmFsc2VcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7RnJhbWUsIFZpZXd9IGZyb20gJy4vdmlld3MuanMnXG5pbXBvcnQgTGFiZWxlZEdyYXBoaWNzIGZyb20gJy4vbGFiZWxlZGdyYXBoaWNzLmpzJ1xuXG5mdW5jdGlvbiBsZXJwKHN0YXJ0LCBzdG9wLCBhbXQpIHtcbiAgICByZXR1cm4gYW10ICogKHN0b3Atc3RhcnQpICsgc3RhcnRcbn1cblxuZXhwb3J0IGNsYXNzIFRpbWVTY3JvbGxiYXIgZXh0ZW5kcyBMYWJlbGVkR3JhcGhpY3Mge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKClcbiAgICAgICAgdGhpcy5pbnNldCA9IDMyXG4gICAgICAgIHRoaXMueWVhcnMgPSBbLTMwMCwgMCwgNTAwLCAxMDAwLCAxNTAwLCAxNjAwLCAxNzAwLCAxODAwLCAxOTAwLCAyMDAwXVxuICAgICAgICB0aGlzLmRvdCA9IG5ldyBQSVhJLkdyYXBoaWNzKClcbiAgICAgICAgdGhpcy5kb3QuYmVnaW5GaWxsKDB4RkZGRkZGLCAxKVxuICAgICAgICB0aGlzLmRvdC5kcmF3Q2lyY2xlKDAsIDAsIDQpXG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy5kb3QpXG4gICAgICAgIHRoaXMuc2V0dXAoKVxuICAgIH1cblxuICAgIGNsZWFyKCkge1xuICAgICAgICBzdXBlci5jbGVhcigpXG4gICAgICAgIHRoaXMuZG90LnZpc2libGUgPSBmYWxzZVxuICAgIH1cblxuICAgIHNldHVwKCkge1xuICAgICAgICBsZXQgc3RhcnQgPSB0aGlzLm9uRHJhZ1N0YXJ0LmJpbmQodGhpcylcbiAgICAgICAgbGV0IG1vdmUgPSB0aGlzLm9uRHJhZ01vdmUuYmluZCh0aGlzKVxuICAgICAgICBsZXQgZW5kID0gdGhpcy5vbkRyYWdFbmQuYmluZCh0aGlzKVxuICAgICAgICB0aGlzLmludGVyYWN0aXZlID0gdHJ1ZVxuICAgICAgICB0aGlzLm9uKCdtb3VzZWRvd24nLCBzdGFydClcbiAgICAgICAgICAgIC5vbigndG91Y2hzdGFydCcsIHN0YXJ0KVxuICAgICAgICAgICAgLm9uKCdtb3VzZXVwJywgZW5kKVxuICAgICAgICAgICAgLm9uKCdtb3VzZXVwb3V0c2lkZScsIGVuZClcbiAgICAgICAgICAgIC5vbigndG91Y2hlbmQnLCBlbmQpXG4gICAgICAgICAgICAub24oJ3RvdWNoZW5kb3V0c2lkZScsIGVuZClcbiAgICAgICAgICAgIC5vbignbW91c2Vtb3ZlJywgbW92ZSlcbiAgICAgICAgICAgIC5vbigndG91Y2htb3ZlJywgbW92ZSlcbiAgICB9XG5cbiAgICBvbkRyYWdTdGFydChldmVudCkge1xuICAgICAgICAvLyBzdG9yZSBhIHJlZmVyZW5jZSB0byB0aGUgZGF0YVxuICAgICAgICAvLyB0aGUgcmVhc29uIGZvciB0aGlzIGlzIGJlY2F1c2Ugb2YgbXVsdGl0b3VjaFxuICAgICAgICAvLyB3ZSB3YW50IHRvIHRyYWNrIHRoZSBtb3ZlbWVudCBvZiB0aGlzIHBhcnRpY3VsYXIgdG91Y2hcbiAgICAgICAgdGhpcy5kYXRhID0gZXZlbnQuZGF0YVxuICAgICAgICB0aGlzLmRyYWdnaW5nID0gdHJ1ZVxuICAgICAgICBsZXQgcCA9IHRoaXMuZGF0YS5nZXRMb2NhbFBvc2l0aW9uKHRoaXMucGFyZW50KVxuICAgICAgICB0aGlzLm1vdmVEb3QocC54KVxuICAgIH1cblxuICAgIG9uRHJhZ0VuZChldmVudCkge1xuICAgICAgICB0aGlzLmRyYWdnaW5nID0gZmFsc2VcbiAgICAgICAgdGhpcy5kYXRhID0gbnVsbFxuICAgIH1cblxuICAgIG9uRHJhZ01vdmUoZXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuZHJhZ2dpbmcpIHtcbiAgICAgICAgICAgIGxldCBwID0gdGhpcy5kYXRhLmdldExvY2FsUG9zaXRpb24odGhpcy5wYXJlbnQpXG4gICAgICAgICAgICB0aGlzLm1vdmVEb3QocC54KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgeWVhclRvWCh0LCBzdGFydCwgZW5kLCB3LCBpbnNldCkge1xuICAgICAgICBsZXQgdmFsdWUgPSB0IC8gKGVuZCAtIHN0YXJ0KVxuICAgICAgICByZXR1cm4gbGVycChpbnNldCwgdy1pbnNldCwgdmFsdWUpXG4gICAgfVxuXG4gICAgbW92ZURvdCh4KSB7XG4gICAgICAgIGxldCBpbnNldCA9IHRoaXMuaW5zZXRcbiAgICAgICAgbGV0IHRpbWVsaW5lID0gYXBwLmN1cnJlbnRWaWV3XG4gICAgICAgIGxldCBzdGFydCA9IHRpbWVsaW5lLnllYXJUb1goLTMyMClcbiAgICAgICAgbGV0IGVuZCA9IHRpbWVsaW5lLnllYXJUb1goMjAxMClcbiAgICAgICAgaWYgKHggPCBpbnNldClcbiAgICAgICAgICAgIHggPSBpbnNldFxuICAgICAgICBpZiAoeCA+IHRoaXMud2FudGVkV2lkdGgtaW5zZXQpXG4gICAgICAgICAgICB4ID0gdGhpcy53YW50ZWRXaWR0aC1pbnNldFxuICAgICAgICB0aGlzLmRvdC54ID0geFxuICAgICAgICB4ID0geCAtIGluc2V0XG4gICAgICAgIGxldCB3ID0gdGhpcy53YW50ZWRXaWR0aCAtICgyKmluc2V0KVxuICAgICAgICBsZXQgcmF0aW8gPSB4IC8gd1xuICAgICAgICBsZXQgc2NlbmVYID0gcmF0aW8gKiAoKGVuZCAtIHN0YXJ0KSAtIHRoaXMud2FudGVkV2lkdGgpXG4gICAgICAgIGFwcC5zY2VuZS54ID0gLXNjZW5lWFxuICAgIH1cblxuICAgIHRpbWVsaW5lVG9Eb3RYKHhQb3MpIHtcbiAgICAgICAgbGV0IGluc2V0ID0gdGhpcy5pbnNldFxuICAgICAgICBsZXQgdGltZWxpbmUgPSBhcHAudGltZWxpbmVcbiAgICAgICAgbGV0IHN0YXJ0ID0gdGltZWxpbmUueWVhclRvWCh0aGlzLnllYXJzWzBdKVxuICAgICAgICBsZXQgZW5kID0gdGltZWxpbmUueWVhclRvWCh0aGlzLnllYXJzWzldKVxuICAgICAgICBsZXQgdyA9IHRoaXMud2FudGVkV2lkdGhcbiAgICAgICAgbGV0IHggPSBpbnNldCArICgteFBvcyAtIHN0YXJ0KSAvIChlbmQgLSBzdGFydCkgKiAodyAtICgyKmluc2V0KSlcbiAgICAgICAgaWYgKHggPCBpbnNldClcbiAgICAgICAgICAgIHggPSBpbnNldFxuICAgICAgICBpZiAoeCA+IHRoaXMud2FudGVkV2lkdGgtaW5zZXQpXG4gICAgICAgICAgICB4ID0gdGhpcy53YW50ZWRXaWR0aC1pbnNldFxuICAgICAgICByZXR1cm4geFxuICAgIH1cblxuICAgIHNjZW5lTW92ZWQoeCkge1xuICAgICAgICB0aGlzLmRvdC54ID0gdGhpcy50aW1lbGluZVRvRG90WCh4KVxuICAgIH1cblxuICAgIGxheW91dCh0aW1lbGluZSwgdywgaCwgYm90dG9tKSB7XG4gICAgICAgIGxldCBpbnNldCA9IHRoaXMuaW5zZXRcbiAgICAgICAgdGhpcy5jbGVhcigpXG4gICAgICAgIHRoaXMuYmVnaW5GaWxsKDB4MDAwMDAwKVxuICAgICAgICB0aGlzLmRyYXdSZWN0KDAsIGJvdHRvbS0yMiwgdywgNDQpXG5cbiAgICAgICAgdGhpcy5saW5lU3R5bGUoMSwgMHhGRkZGRkYpXG4gICAgICAgIHRoaXMubW92ZVRvKGluc2V0LCBib3R0b20pXG4gICAgICAgIHRoaXMubGluZVRvKHctaW5zZXQsIGJvdHRvbSlcbiAgICAgICAgbGV0IHN0YXJ0ID0gdGltZWxpbmUueWVhclRvWCh0aGlzLnllYXJzWzBdKVxuICAgICAgICBsZXQgZW5kID0gdGltZWxpbmUueWVhclRvWCh0aGlzLnllYXJzWzldKVxuICAgICAgICBmb3IobGV0IHllYXIgb2YgdGhpcy55ZWFycykge1xuICAgICAgICAgICAgbGV0IHQgPSB0aW1lbGluZS55ZWFyVG9YKHllYXIpXG4gICAgICAgICAgICBsZXQgeCA9IHRoaXMueWVhclRvWCh0LCBzdGFydCwgZW5kLCB3LCBpbnNldClcbiAgICAgICAgICAgIGxldCBsYWJlbCA9IHRoaXMuZW5zdXJlTGFiZWwoJ2tleScreWVhciwgeWVhci50b1N0cmluZygpLCB7YWxpZ246ICdjZW50ZXInfSlcbiAgICAgICAgICAgIGxhYmVsLnggPSB4XG4gICAgICAgICAgICBsYWJlbC55ID0gYm90dG9tIC0gMTJcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRvdC52aXNpYmxlID0gdHJ1ZVxuICAgICAgICB0aGlzLmRvdC55ID0gYm90dG9tXG4gICAgICAgIHRoaXMud2FudGVkV2lkdGggPSB3XG4gICAgICAgIGxldCB4eCA9IHRoaXMudGltZWxpbmVUb0RvdFgoYXBwLnRpbWVsaW5lLngpXG4gICAgICAgIHRoaXMuZG90LnggPSB4eFxuICAgIH1cbn1cblxuZXhwb3J0ICBjbGFzcyBUaW1lbGluZSBleHRlbmRzIFZpZXcge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKClcbiAgICAgICAgdGhpcy5zdGFydFllYXIgPSAtMzIwXG5cbiAgICAgICAgdGhpcy5lcG9jaExhYmVscyA9IFsnQU5USUtFJyxcbiAgICAgICAgICAgICdNSVRURUxBTFRFUicsXG4gICAgICAgICAgICAnUkVOQUlTU0FOQ0UnLFxuICAgICAgICAgICAgJ0VVUk9Qw4RJU0NIRVIgQkFST0NLJyxcbiAgICAgICAgICAgICdCQVJPQ0sgSU0gTk9SREVOIEVVUk9QQVMnLFxuICAgICAgICAgICAgJzE4LiBKQUhSSFVOREVSVCcsXG4gICAgICAgICAgICAnUk9NQU5USUsgJiBNT0RFUk5FJ11cblxuICAgICAgICB0aGlzLmV4dHJhTGFiZWxzID0gW1xuICAgICAgICAgICAgWzAsICfigKIgQ2hyaXN0aSBHZWJ1cnQnXSxcbiAgICAgICAgICAgIFs3ODAsICfigKIgQ2hyaXN0aWFuaXNpZXJ1bmcgTm9yZHdlc3RkZXV0c2NobGFuZHMnXSxcbiAgICAgICAgICAgIFsxMTMwLCAn4oCiIEhlaW5yaWNoIGRlciBMw7Z3ZSddLFxuICAgICAgICAgICAgWzE0OTIsICfigKIgRW50ZGVja3VuZyBBbWVyaWthcyddLFxuXG4gICAgICAgICAgICBbMTUxNywgJ+KAoiBCZWdpbm4gZGVyIFJlZm9ybWF0aW9uJ10sXG4gICAgICAgICAgICBbMTYxOCwgJ+KAoiBCZWdpbm4gZGVzIERyZWnDn2lnasOkaHJpZ2VuIEtyaWVnZXMnXSxcbiAgICAgICAgICAgIFsxNjQ4LCAn4oCiIEVuZGUgZGVzIERyZWnDn2lnasOkaHJpZ2VuIEtyaWVnZXMnXSxcblxuICAgICAgICAgICAgWzE2MzMsICfigKIgR2VidXJ0IEhlcnpvZyBBbnRvbiBVbHJpY2hzJ10sXG4gICAgICAgICAgICBbMTY5NCwgJ+KAoiBFaW53ZWlodW5nIGRlcyBTY2hsb3NzZXMgU2FsemRhaGx1bSddLFxuICAgICAgICAgICAgWzE3MTQsICfigKIgVG9kIEhlcnpvZyBBbnRvbiBVbHJpY2hzJ10sXG4gICAgICAgICAgICBbMTc1NCwgJ+KAoiBFcsO2ZmZudW5nIGRlcyBIZXJ6b2cgQW50b24gVWxyaWNoLU11c2V1bXMnXSxcbiAgICAgICAgICAgIFsxNzg5LCAn4oCiIEZyYW56w7ZzaXNjaGUgUmV2b2x1dGlvbiddLFxuICAgICAgICAgICAgWzE4MDYsICfigKIgTmFwb2xlb25pc2NoZSBCZXNldHp1bmcsIFplaXR3ZWlzZSDDnGJlcmbDvGhydW5nIGRlciBCZXN0w6RuZGUgaW4gZGVuIExvdXZyZSddLFxuICAgICAgICAgICAgWzE4ODcsICfigKIgRXLDtmZmbnVuZyBkZXMgTmV1YmF1cyBkZXMgSEFVTSddLFxuICAgICAgICAgICAgWzE5MTQsICfigKIgRXJzdGVyIFdlbHRrcmllZyddLFxuICAgICAgICAgICAgWzE5MzksICfigKIgWndlaXRlciBXZWx0a3JpZWcnXV1cblxuICAgICAgICB0aGlzLmVwb2NoQ29sb3JzID0gW1sweEZGRkZGRiwgJ2JsYWNrJ10sICAvLyBbIGJhY2tncm91bmQgY29sb3IsIGZvbnQgY29sb3IgXVxuICAgICAgICAgICAgWzB4MzMzM0NDLCAnd2hpdGUnIF0sXG4gICAgICAgICAgICBbMHhGNzZCMDAsICd3aGl0ZScgXSxcbiAgICAgICAgICAgIFsweENFMTAxOCwgJ3doaXRlJyBdLFxuICAgICAgICAgICAgWzB4QTVCNTMxLCAnd2hpdGUnXSxcbiAgICAgICAgICAgIFsweDYzOUNBRCwgJ3doaXRlJ10sXG4gICAgICAgICAgICBbMHhGRkZGRkYsICdibGFjaycgXV1cblxuICAgICAgICB0aGlzLnJlbmFpc3NhbmNlU3RhcnRzID0gMTQ1MFxuICAgICAgICB0aGlzLm1vZGVyblN0YXJ0cyA9IDE4MDBcblxuICAgICAgICB0aGlzLmVwb2NoU3RhcnRzID0gWy0zMjAsIDYwMCwgMTQ1MCwgMTYwMCwgMTYwOCwgMTcwMCwgMTgwMF1cbiAgICAgICAgdGhpcy5lcG9jaEVuZHMgPSBbNjAwLCAxNDUwLCAxNjAwLCAxNjgwLCAxNzAwLCAxODAwLCAyMDEwXVxuICAgICAgICB0aGlzLmVwb2NoTnVtTGFiZWxzID0gWzMsIDIsIDQsIDMsIDMsIDMsIDNdXG4gICAgICAgIHRoaXMuZXBvY2hUaW1lUmVzb2x1dGlvbiA9IFsxMDAsIDEwMCwgMTAsIDEwLCAxMCwgMTAsIDEwXVxuICAgIH1cblxuICAgIGdldCBtb3ZhYmxlWCgpIHtcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG5cbiAgICB5ZWFyVG9YKHllYXIpIHtcbiAgICAgICAgeWVhciAtPSB0aGlzLnN0YXJ0WWVhclxuICAgICAgICBsZXQgbmV3bmVzcyA9IHRoaXMucmVuYWlzc2FuY2VTdGFydHMgLSB0aGlzLnN0YXJ0WWVhclxuICAgICAgICBsZXQgbW9kZXJuID0gdGhpcy5tb2Rlcm5TdGFydHMgIC0gdGhpcy5zdGFydFllYXJcblxuICAgICAgICBjb25zdCBvbGRTaXplID0gMS4wXG4gICAgICAgIGNvbnN0IG5ld1NpemUgPSAxNy41XG4gICAgICAgIGNvbnN0IG1vZGVyblNpemUgPSAxMC4wXG5cbiAgICAgICAgbGV0IHN0YXJ0TmV3ID0gbmV3bmVzcyAqIG9sZFNpemVcbiAgICAgICAgaWYgKHllYXIgPCBuZXduZXNzKVxuICAgICAgICAgICAgcmV0dXJuIHllYXIgKiBvbGRTaXplXG5cbiAgICAgICAgaWYgKHllYXIgPiBtb2Rlcm4pXG4gICAgICAgICAgICByZXR1cm4gc3RhcnROZXcgKyAobW9kZXJuLW5ld25lc3MpICogbmV3U2l6ZSArICh5ZWFyIC0gbW9kZXJuKSAqIG1vZGVyblNpemVcblxuICAgICAgICByZXR1cm4gc3RhcnROZXcgKyAoeWVhci1uZXduZXNzKSAqIG5ld1NpemVcbiAgICB9XG5cblxuICAgIHNtYWxsRm9udChjb2xvcikge1xuICAgICAgICByZXR1cm4ge2ZvbnRGYW1pbHkgOiAnQXJpYWwnLFxuICAgICAgICAgICAgZm9udFNpemU6IDE0LFxuICAgICAgICAgICAgc3Ryb2tlOiBjb2xvcixcbiAgICAgICAgICAgIGZpbGwgOiBjb2xvcn1cbiAgICB9XG5cblxuICAgIGxheW91dEVwb2Nocyh3LCBoLCBib3R0b20pIHtcbiAgICAgICAgbGV0IGdyYXBoaWNzID0gYXBwLnNjZW5lXG4gICAgICAgIGxldCBsYXN0ID0gdGhpcy55ZWFyVG9YKDIwMTApXG4gICAgICAgIGxldCB5ID0gYm90dG9tIC0gMzJcbiAgICAgICAgbGV0IGkgPSAwXG4gICAgICAgIGxldCBsYXN0RW5kID0gMFxuICAgICAgICBmb3IobGV0IGVwb2NoIG9mIHRoaXMuZXBvY2hMYWJlbHMpIHtcbiAgICAgICAgICAgIGxldCBvZmZzZXRZID0gMFxuICAgICAgICAgICAgbGV0IFtjb2xvciwgZm9udENvbG9yXSA9IHRoaXMuZXBvY2hDb2xvcnNbaV1cbiAgICAgICAgICAgIGxldCBzdGFydCA9IHRoaXMueWVhclRvWCh0aGlzLmVwb2NoU3RhcnRzW2ldKVxuICAgICAgICAgICAgbGV0IGVuZCA9IHRoaXMueWVhclRvWCh0aGlzLmVwb2NoRW5kc1tpXSlcbiAgICAgICAgICAgIGlmIChzdGFydCA8IGxhc3RFbmQpXG4gICAgICAgICAgICAgICAgb2Zmc2V0WSA9IC0xNFxuICAgICAgICAgICAgZ3JhcGhpY3MubGluZVN0eWxlKDE0LCBjb2xvcilcbiAgICAgICAgICAgIGdyYXBoaWNzLm1vdmVUbyhzdGFydCwgeStvZmZzZXRZKVxuICAgICAgICAgICAgZ3JhcGhpY3MubGluZVRvKGVuZCwgeStvZmZzZXRZKVxuICAgICAgICAgICAgbGV0IG51bUxhYmVscyA9IHRoaXMuZXBvY2hOdW1MYWJlbHNbaV1cbiAgICAgICAgICAgIGxldCB4eCA9IHN0YXJ0XG4gICAgICAgICAgICBsZXQgZGVsdGEgPSAoZW5kIC0gc3RhcnQpIC8gKG51bUxhYmVscy0xKVxuXG4gICAgICAgICAgICBsZXQga2V5ID0gdGhpcy5lcG9jaExhYmVsc1tpXVxuICAgICAgICAgICAgZm9yKGxldCBqPTA7IGo8bnVtTGFiZWxzOyBqKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgYWxpZ24gPSAnY2VudGVyJ1xuICAgICAgICAgICAgICAgIGxldCBvZmZzZXRYID0gMFxuICAgICAgICAgICAgICAgIGlmIChqID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYWxpZ24gPSAnbGVmdCdcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0WCA9IDRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGogPT0gbnVtTGFiZWxzLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgYWxpZ24gPSAncmlnaHQnXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldFggPSAtNFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgbGFiZWwgPSBncmFwaGljcy5lbnN1cmVMYWJlbCgnZXBvY2gnK2tleStqLCBrZXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2FsaWduOiBhbGlnbn0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zbWFsbEZvbnQoZm9udENvbG9yKSlcbiAgICAgICAgICAgICAgICBsYWJlbC54ID0geHggKyBvZmZzZXRYXG4gICAgICAgICAgICAgICAgbGFiZWwueSA9IHkgKyBvZmZzZXRZXG4gICAgICAgICAgICAgICAgeHggKz0gZGVsdGFcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZ3JhcGhpY3MubGluZVN0eWxlKDEsIGNvbG9yLCAwLjIpXG4gICAgICAgICAgICBsZXQgcmVzb2x1dGlvbiA9IHRoaXMuZXBvY2hUaW1lUmVzb2x1dGlvbltpXVxuICAgICAgICAgICAgbGV0IHQxID0gdGhpcy5lcG9jaFN0YXJ0c1tpXVxuICAgICAgICAgICAgbGV0IGZpcnN0ID0gdDEgLSAodDEgJSAxMDApXG5cbiAgICAgICAgICAgIGZvcihsZXQgdD1maXJzdDsgdDx0aGlzLmVwb2NoRW5kc1tpXTsgdCs9cmVzb2x1dGlvbikge1xuICAgICAgICAgICAgICAgIGlmICh0IDwgdDEpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgICAgICAgbGV0IHggPSB0aGlzLnllYXJUb1godClcbiAgICAgICAgICAgICAgICBncmFwaGljcy5tb3ZlVG8oeCwgeStvZmZzZXRZKVxuICAgICAgICAgICAgICAgIGdyYXBoaWNzLmxpbmVUbyh4LCAwKVxuICAgICAgICAgICAgICAgIGxldCBsYWJlbCA9IGdyYXBoaWNzLmVuc3VyZUxhYmVsKCd5ZWFyJyt0LCB0LnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2FsaWduOiAnbGVmdCd9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc21hbGxGb250KCdncmF5JykpXG4gICAgICAgICAgICAgICAgbGFiZWwueCA9IHggKyA0XG4gICAgICAgICAgICAgICAgbGFiZWwueSA9IDdcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaSsrXG4gICAgICAgICAgICBsYXN0RW5kID0gZW5kXG4gICAgICAgIH1cbiAgICAgICAgZm9yKGxldCBbeWVhciwga2V5XSBvZiB0aGlzLmV4dHJhTGFiZWxzKSB7XG4gICAgICAgICAgICBsZXQgeCA9IHRoaXMueWVhclRvWCh5ZWFyKVxuICAgICAgICAgICAgbGV0IGxhYmVsID0gZ3JhcGhpY3MuZW5zdXJlTGFiZWwoJ2V4dHJhJyt5ZWFyLCBrZXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2FsaWduOiAnbGVmdCd9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc21hbGxGb250KCdncmF5JykpXG4gICAgICAgICAgICBsYWJlbC54ID0geFxuICAgICAgICAgICAgbGFiZWwueSA9IDQ0XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBsYXlvdXQodywgaCkge1xuICAgICAgICBjb25zdCBtYXJnaW4gPSA0XG4gICAgICAgIGxldCBtYXhYID0gMFxuICAgICAgICBsZXQgc2VsZiA9IHRoaXNcbiAgICAgICAgbGV0IGJhc2VZID0gaCAtIDE2MFxuICAgICAgICBsZXQgeXkgPSBiYXNlWSAtIDEwMFxuICAgICAgICBsZXQgciA9IG5ldyBGcmFtZSgpXG4gICAgICAgIC8vIExheW91dCB0aHVtYm5haWxzXG4gICAgICAgIGFwcC5hbGxEYXRhLmZvckVhY2goKGQpID0+IHtcbiAgICAgICAgICAgIGxldCB3dyA9IGQuc2NhbGVkV2lkdGhcbiAgICAgICAgICAgIGxldCBoaCA9IGQuc2NhbGVkSGVpZ2h0XG4gICAgICAgICAgICBsZXQgeWVhciA9IGQueWVhclxuICAgICAgICAgICAgbGV0IHggPSB0aGlzLnllYXJUb1goeWVhcilcbiAgICAgICAgICAgIGxldCB5ID0geXlcbiAgICAgICAgICAgIGlmICgoeCA8IHIueCArIHIudykgJiYgKHkgPiByLnkgLSByLmgpKSB7XG4gICAgICAgICAgICAgICAgeSA9IHIueSAtIHIuaCAtIG1hcmdpblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHkgPCAxMDApIHtcbiAgICAgICAgICAgICAgICB5ID0geXlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHIgPSBuZXcgRnJhbWUoeCwgeSwgd3csIGhoKVxuICAgICAgICAgICAgZC54ID0geFxuICAgICAgICAgICAgZC55ID0geVxuICAgICAgICAgICAgZC53aWR0aCA9IHd3XG4gICAgICAgICAgICBkLmhlaWdodCA9IGhoXG4gICAgICAgICAgICBtYXhYID0gTWF0aC5tYXgoeCArIHd3LCBtYXhYKVxuICAgICAgICB9KVxuICAgICAgICBsZXQgYm90dG9tID0gYmFzZVkgKyAzMlxuICAgICAgICBhcHAudGltZWJhci5sYXlvdXQodGhpcywgdywgaCwgYm90dG9tKVxuICAgICAgICB0aGlzLmxheW91dEVwb2Nocyh3LCBoLCBib3R0b20pXG4gICAgICAgIHRoaXMucmVzaXplKG1heFgsIGJvdHRvbSlcbiAgICB9XG59XG4iLCJpbXBvcnQge1ZpZXd9IGZyb20gJy4vdmlld3MuanMnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hcFZpZXcgZXh0ZW5kcyBWaWV3ICAge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKClcbiAgICAgICAgdGhpcy5tYXAgPSBQSVhJLlNwcml0ZS5mcm9tSW1hZ2UoJy4vTGFnZXBsYW4yLnBuZycpXG4gICAgfVxuXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHN1cGVyLmNsZWFyKClcbiAgICAgICAgdGhpcy5tYXAudmlzaWJsZSA9IGZhbHNlXG4gICAgfVxuXG4gICAgZ2V0IG1vdmFibGVYKCkge1xuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cblxuICAgIGdldCBtb3ZhYmxlWSgpIHtcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG5cbiAgICBsYXlvdXQodywgaCkge1xuICAgICAgICB0aGlzLm1hcC52aXNpYmxlID0gdHJ1ZVxuICAgICAgICBhcHAuc2NlbmUuYWRkQ2hpbGRBdCh0aGlzLm1hcCwgMClcbiAgICAgICAgYXBwLnRpbWViYXIuY2xlYXIoKVxuICAgICAgICBsZXQgYmFzZVkgPSBoIC0gMzJcbiAgICAgICAgdGhpcy5yZXNpemUoMjA0OCwgYmFzZVkgKyAzMilcblxuICAgICAgICBhcHAuYWxsRGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICBsZXQgd3cgPSBkLnNjYWxlZFdpZHRoICogMC43NVxuICAgICAgICAgICAgbGV0IGhoID0gZC5zY2FsZWRIZWlnaHQgKiAwLjc1XG4gICAgICAgICAgICBkLnggPSBkLm1hcFggLSB3dyAvMlxuICAgICAgICAgICAgZC55ID0gZC5tYXBZIC0gaGggLzJcbiAgICAgICAgICAgIGQud2lkdGggPSB3d1xuICAgICAgICAgICAgZC5oZWlnaHQgPSBoaFxuICAgICAgICB9KVxuICAgIH1cbn1cbiIsImltcG9ydCB7Vmlld30gZnJvbSBcIi4vdmlld3MuanNcIlxuaW1wb3J0IEVwb2NoYWxBcHAgZnJvbSBcIi4vZXBvY2hhbC5qc1wiXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhdGVnb3J5VmlldyBleHRlbmRzIFZpZXcge1xuXG4gICAgbGF5b3V0KHcsIGgpIHtcbiAgICAgICAgaWYgKGFwcC50aW1lYmFyKVxuICAgICAgICAgICAgYXBwLnRpbWViYXIuY2xlYXIoKVxuICAgICAgICBsZXQgYmFzZVkgPSBoIC0gMzJcbiAgICAgICAgdGhpcy5yZXNpemUodywgYmFzZVkgKyAzMilcblxuICAgICAgICAvL3Jlc2NhbGUgYmFja2dyb3VuZCBpbWFnZVxuICAgICAgICAvKnRoaXMucmF0aW8gPSB0aGlzLmJhY2tncm91bmRJbWcud2lkdGggLyBhcHAud2lkdGhcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcInJlc2NhbGluZyBiZ0ltYWdlIChsYXlvdXQpXCIsdGhpcy5iYWNrZ3JvdW5kSW1nLndpZHRoLGFwcC53aWR0aCx0aGlzLnJhdGlvKVxuICAgICAgICB0aGlzLmJhY2tncm91bmRJbWcud2lkdGggPSBhcHAud2lkdGhcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kSW1nLmhlaWdodCA9IHRoaXMuYmFja2dyb3VuZEltZy5oZWlnaHQgLyB0aGlzLnJhdGlvKi9cblxuICAgICAgICB0aGlzLnZpZXdIZWlnaHQgPSBhcHAuaGVpZ2h0ICogMC44NSAvL3RoYXQncyByZWFsbHkgYSByb3VnaCBlc3RpbWF0ZS4uLlxuICAgICAgICB0aGlzLnJhdGlvID0gdGhpcy5iYWNrZ3JvdW5kSW1nLmhlaWdodCAvIHRoaXMudmlld0hlaWdodFxuICAgICAgICB0aGlzLmJhY2tncm91bmRJbWcuaGVpZ2h0ID0gdGhpcy52aWV3SGVpZ2h0XG4gICAgICAgIHRoaXMuYmFja2dyb3VuZEltZy53aWR0aCA9IHRoaXMuYmFja2dyb3VuZEltZy53aWR0aCAvIHRoaXMucmF0aW9cbiAgICAgICAgaWYodGhpcy5vZmZzZXRYKVxuICAgICAgICAgICAgdGhpcy5vbGRPZmZzZXRYID0gdGhpcy5vZmZzZXRYXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMub2xkT2Zmc2V0WCA9IDBcbiAgICAgICAgdGhpcy5vZmZzZXRYID0gKGFwcC53aWR0aCAtIHRoaXMuYmFja2dyb3VuZEltZy53aWR0aCkgLyAyXG4gICAgICAgIHRoaXMuYmFja2dyb3VuZEltZy54ID0gdGhpcy5vZmZzZXRYXG5cblxuICAgICAgICAvL2FkZCBiYWNrZ3JvdW5kIHRvIHN0YWdlXG4gICAgICAgIGFwcC5zdGFnZS5hZGRDaGlsZEF0KHRoaXMuYmdTcHJpdGUsMClcbiAgICAgICAgbGV0IGJnUmVjdGFuZ2xlID0gbmV3IFBJWEkuR3JhcGhpY3MoKVxuICAgICAgICBiZ1JlY3RhbmdsZS5iZWdpbkZpbGwoMHgwMDAwMDApXG4gICAgICAgIGJnUmVjdGFuZ2xlLmRyYXdSZWN0KDAsMCxhcHAud2lkdGgsYXBwLmhlaWdodClcbiAgICAgICAgYmdSZWN0YW5nbGUuZW5kRmlsbCgpXG4gICAgICAgIHRoaXMuYmdTcHJpdGUuYWRkQ2hpbGRBdChiZ1JlY3RhbmdsZSwwKVxuICAgICAgICAvL3RoaXMuYmdTcHJpdGUueSA9IGFwcC5oZWlnaHQgKiAwLjA1XG5cbiAgICAgICAgLy9yZXNpemUgdGh1bWJzXG4gICAgICAgIGFwcC5hbGxEYXRhLmZvckVhY2goZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgIC8vdGhpcy50aHVtYlNjYWxlRmFjdG9yID0gMjA0OCAvIGFwcC53aWR0aFxuICAgICAgICAgICAgdGhpcy50aHVtYlNjYWxlRmFjdG9yID0gMTI4MCAvIHRoaXMudmlld0hlaWdodFxuICAgICAgICAgICAgbGV0IHRodW1iU2l6ZVNjYWxlZCA9IDIwNSAvIHRoaXMudGh1bWJTY2FsZUZhY3RvclxuICAgICAgICAgICAgbGV0IHNjYWxlRmFjdG9yVG9DdXJyZW50U2l6ZSA9IHRodW1iU2l6ZVNjYWxlZCAvIGQuc2NhbGVkSGVpZ2h0XG4gICAgICAgICAgICBsZXQgd3cgPSBkLnNjYWxlZFdpZHRoICogc2NhbGVGYWN0b3JUb0N1cnJlbnRTaXplXG4gICAgICAgICAgICBsZXQgaGggPSBkLnNjYWxlZEhlaWdodCAqIHNjYWxlRmFjdG9yVG9DdXJyZW50U2l6ZVxuICAgICAgICAgICAgZC53aWR0aCA9IHd3XG4gICAgICAgICAgICBkLmhlaWdodCA9IGhoXG4gICAgICAgIH0sdGhpcylcblxuICAgICAgICAvL3Bvc2l0aW9uIHRodW1ic1xuICAgICAgICBhcHAuYWxsRGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICBsZXQga2V5ID0gcGFyc2VJbnQoZC5yZWYpXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiZmluZGluZyBwb3NpdGlvbiBmb3IgYXJ0d29yazpcIixrZXkpXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKHRoaXMucG9zaXRpb25zW2tleV0pXG4gICAgICAgICAgICBsZXQgdGFyZ2V0ID0gdGhpcy5wb3NpdGlvbnNba2V5XVxuICAgICAgICAgICAgaWYodGFyZ2V0ID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGQueCA9IC1kLndpZHRoXG4gICAgICAgICAgICAgICAgZC55ID0gMFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZC54ID0gKHRhcmdldC54IC8gdGhpcy50aHVtYlNjYWxlRmFjdG9yKSArIHRoaXMub2Zmc2V0WFxuICAgICAgICAgICAgICAgIGQueSA9IHRhcmdldC55IC8gdGhpcy50aHVtYlNjYWxlRmFjdG9yXG4gICAgICAgICAgICAgICAgLy9kLnkgKz0gYXBwLmhlaWdodCAqIDAuMDVcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LHRoaXMpXG5cbiAgICAgICAgLy9wb3NpdGlvbiBhbmQgc2NhbGUgaW5mbyBpY29uc1xuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgMzsgaSsrKXtcbiAgICAgICAgICAgIHRoaXMuY2F0ZWdvcnlJbmZvSWNvbnNbaV0ueCAtPSB0aGlzLm9sZE9mZnNldFhcbiAgICAgICAgICAgIHRoaXMuY2F0ZWdvcnlJbmZvSWNvbnNbaV0ud2lkdGggLz0gdGhpcy5yYXRpb1xuICAgICAgICAgICAgdGhpcy5jYXRlZ29yeUluZm9JY29uc1tpXS5oZWlnaHQgLz0gdGhpcy5yYXRpb1xuICAgICAgICAgICAgdGhpcy5jYXRlZ29yeUluZm9JY29uc1tpXS54IC89IHRoaXMucmF0aW9cbiAgICAgICAgICAgIHRoaXMuY2F0ZWdvcnlJbmZvSWNvbnNbaV0ueSAvPSB0aGlzLnJhdGlvXG4gICAgICAgICAgICB0aGlzLmNhdGVnb3J5SW5mb0ljb25zW2ldLnggKz0gdGhpcy5vZmZzZXRYXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNsZWFySW5mbygpXG5cbiAgICB9XG5cbiAgICBjbGVhcigpIHtcbiAgICAgICAgc3VwZXIuY2xlYXIoKVxuICAgICAgICBhcHAuc3RhZ2UucmVtb3ZlQ2hpbGQodGhpcy5iZ1Nwcml0ZSlcbiAgICB9XG5cbiAgICBpbml0KGJhY2tncm91bmRVcmwsIHBvc2l0aW9uc1VybCwgY2F0ZWdvcnlVcmwpe1xuICAgICAgICAvL2luaXQgYmFja2dyb3VuZCBpbWFnZVxuICAgICAgICB0aGlzLmJnU3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKClcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kSW1nID0gUElYSS5TcHJpdGUuZnJvbUltYWdlKGJhY2tncm91bmRVcmwpXG4gICAgICAgIHRoaXMuYmdTcHJpdGUuYWRkQ2hpbGRBdCh0aGlzLmJhY2tncm91bmRJbWcsMClcblxuICAgICAgICAvL2luaXQgYXJ0d29yayBwb3NpdGlvbnNcbiAgICAgICAgbGV0IHBvc2l0aW9uc1RleHQgPSB0aGlzLnJlYWRUZXh0RmlsZShwb3NpdGlvbnNVcmwsIGZhbHNlKVxuICAgICAgICBsZXQgcG9zaXRpb25zTGluZXMgPSBwb3NpdGlvbnNUZXh0LnNwbGl0KFwiXFxuXCIpXG4gICAgICAgIGxldCBwb3NpdGlvbnNEaWN0ID0ge307XG5cbiAgICAgICAgcG9zaXRpb25zTGluZXMuZm9yRWFjaChmdW5jdGlvbihlbnRyeSl7XG4gICAgICAgICAgICBsZXQgY3VyTGluZSA9IGVudHJ5LnNwbGl0KFwiXFx0XCIpXG4gICAgICAgICAgICBpZihjdXJMaW5lWzBdICE9IFwiXCIpXG4gICAgICAgICAgICAgICAgcG9zaXRpb25zRGljdFtjdXJMaW5lWzBdXSA9IG5ldyBQb2ludChjdXJMaW5lWzFdLGN1ckxpbmVbMl0pXG4gICAgICAgIH0pXG5cbiAgICAgICAgdGhpcy5wb3NpdGlvbnMgPSBwb3NpdGlvbnNEaWN0XG5cbiAgICAgICAgLy9pbml0IGRlc2NyaXB0aW9uIHRleHRzIGFuZCBpbmZvIGljb25zXG4gICAgICAgIGxldCBjYXRlZ29yeVhtbCA9IHRoaXMucmVhZFRleHRGaWxlKGNhdGVnb3J5VXJsLCB0cnVlKVxuXG4gICAgICAgIGxldCBoZWFkZXJzID0gY2F0ZWdvcnlYbWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoMVwiKVxuICAgICAgICBsZXQgYm9kaWVzID0gY2F0ZWdvcnlYbWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJib2R5XCIpXG4gICAgICAgIGxldCBpbmZvWFBvc2l0aW9ucyA9IGNhdGVnb3J5WG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaW5mb1hcIilcbiAgICAgICAgbGV0IGluZm9ZUG9zaXRpb25zID0gY2F0ZWdvcnlYbWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJpbmZvWVwiKVxuXG4gICAgICAgIHRoaXMuY2F0ZWdvcnlJbmZvSWNvbnMgPSBbXVxuICAgICAgICB0aGlzLmNhdGVnb3J5SGVhZGVycyA9IFtdXG4gICAgICAgIHRoaXMuY2F0ZWdvcnlEZXNjcmlwdGlvbnMgPSBbXVxuICAgICAgICB0aGlzLmNhdGVnb3J5SW5mb0ljb25Qb3NpdGlvbnMgPSBbXVxuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgMzsgaSsrKXtcbiAgICAgICAgICAgIGxldCB0bXBJY29uID0gUElYSS5TcHJpdGUuZnJvbUltYWdlKFwiLi9pY29uX2luZm9fMXgucG5nXCIpXG4gICAgICAgICAgICB0bXBJY29uLmludGVyYWN0aXZlID0gdHJ1ZVxuICAgICAgICAgICAgdGhpcy5jYXRlZ29yeUluZm9JY29uc1tpXSA9IHRtcEljb25cbiAgICAgICAgICAgIHRoaXMuYmdTcHJpdGUuYWRkQ2hpbGQodG1wSWNvbilcbiAgICAgICAgICAgIHRtcEljb24uY2xpY2sgPSB0aGlzLmluZm9TZWxlY3RlZC5iaW5kKHRoaXMpXG4gICAgICAgICAgICB0bXBJY29uLnRhcCA9IHRoaXMuaW5mb1NlbGVjdGVkLmJpbmQodGhpcylcblxuICAgICAgICAgICAgbGV0IHRtcFBvcyA9IG5ldyBQb2ludChpbmZvWFBvc2l0aW9uc1tpXS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZSwgaW5mb1lQb3NpdGlvbnNbaV0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUpXG4gICAgICAgICAgICB0aGlzLmNhdGVnb3J5SGVhZGVyc1tpXSA9IGhlYWRlcnNbaV0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWVcbiAgICAgICAgICAgIHRoaXMuY2F0ZWdvcnlEZXNjcmlwdGlvbnNbaV0gPSBib2RpZXNbaV0uY2hpbGROb2Rlc1sxXS5ub2RlVmFsdWVcbiAgICAgICAgICAgIHRoaXMuY2F0ZWdvcnlJbmZvSWNvblBvc2l0aW9uc1tpXSA9IHRtcFBvc1xuICAgICAgICAgICAgdGhpcy5jYXRlZ29yeUluZm9JY29uc1tpXS54ID0gdG1wUG9zLnhcbiAgICAgICAgICAgIHRoaXMuY2F0ZWdvcnlJbmZvSWNvbnNbaV0ueSA9IHRtcFBvcy55XG4gICAgICAgICAgICB0aGlzLmNhdGVnb3J5SW5mb0ljb25zW2ldLmlkID0gJ2NhdEluZm9JY29uJ1xuICAgICAgICB9XG4gICAgICAgIC8vY29uc29sZS5sb2codGhpcy5jYXRlZ29yeUhlYWRlcnMpXG4gICAgICAgIC8vY29uc29sZS5sb2codGhpcy5jYXRlZ29yeURlc2NyaXB0aW9uc1swXSlcblxuICAgICAgICB0aGlzLmN1cnJlbnRJbmZvSWR4ID0gLTE7XG5cbiAgICB9XG5cbiAgICBpbmZvU2VsZWN0ZWQoZXZlbnQpIHtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcImluZm8gc2VsZWN0ZWRcIixldmVudClcblxuICAgICAgICBsZXQgZCA9IGV2ZW50LnRhcmdldFxuICAgICAgICBsZXQgaWR4ID0gdGhpcy5jYXRlZ29yeUluZm9JY29ucy5pbmRleE9mKGQpXG5cbiAgICAgICAgLy9jYXRlZ29yeSBpbmZvIHZpZXdzXG4gICAgICAgIHRoaXMuaW5mb0JnID0gbmV3IFBJWEkuR3JhcGhpY3NcbiAgICAgICAgdGhpcy5pbmZvQmcuYmVnaW5GaWxsKDB4MDAwMDAwLDAuOClcbiAgICAgICAgdGhpcy5pbmZvQmcuZHJhd1JlY3QoKHRoaXMuYmFja2dyb3VuZEltZy53aWR0aCAvIDMpICogaWR4LCAwLCB0aGlzLmJhY2tncm91bmRJbWcud2lkdGggLyAzLCB0aGlzLmJhY2tncm91bmRJbWcuaGVpZ2h0ICogMS4xKVxuICAgICAgICB0aGlzLmluZm9CZy5lbmRGaWxsKClcbiAgICAgICAgdGhpcy5pbmZvQmcueCA9IHRoaXMub2Zmc2V0WFxuXG4gICAgICAgIC8vdGV4dFxuICAgICAgICBsZXQgaDFzdHlsZSA9IG5ldyBQSVhJLlRleHRTdHlsZSh7XG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQXJpYWwnLFxuICAgICAgICAgICAgZm9udFNpemU6IHRoaXMuYmFja2dyb3VuZEltZy53aWR0aCAvIDUwLFxuICAgICAgICAgICAgLy9mb250V2VpZ2h0OiAnYm9sZCcsXG4gICAgICAgICAgICBmaWxsOiAnd2hpdGUnLFxuICAgICAgICAgICAgYWxpZ246ICdsZWZ0JyxcbiAgICAgICAgICAgIHdvcmRXcmFwOiB0cnVlLFxuICAgICAgICAgICAgd29yZFdyYXBXaWR0aDogNDQwLFxuICAgICAgICAgICAgZHJvcFNoYWRvdzogdHJ1ZSxcbiAgICAgICAgICAgIGRyb3BTaGFkb3dDb2xvcjogJyMwMDAwMDAnLFxuICAgICAgICAgICAgZHJvcFNoYWRvd0JsdXI6IDRcbiAgICAgICAgfSlcbiAgICAgICAgbGV0IGgxID0gbmV3IFBJWEkuVGV4dCh0aGlzLmNhdGVnb3J5SGVhZGVyc1tpZHhdLCBoMXN0eWxlKVxuICAgICAgICAvL2xldCBoMSA9IG5ldyBQSVhJLlRleHQoXCJoZWxsb1wiLCBoMXN0eWxlKVxuICAgICAgICBoMS54ID0gKHRoaXMuYmFja2dyb3VuZEltZy53aWR0aCAvIDMpICogaWR4ICsgdGhpcy5iYWNrZ3JvdW5kSW1nLndpZHRoIC8gMjRcbiAgICAgICAgLy9oMS55ID0gdGhpcy5iYWNrZ3JvdW5kSW1nLmhlaWdodCAvIDExXG4gICAgICAgIC8vdGhpcy5pbmZvQmcuYWRkQ2hpbGQoaDEpXG5cbiAgICAgICAgbGV0IGluZm9UZXh0U3R5bGUgPSBuZXcgUElYSS5UZXh0U3R5bGUoe1xuICAgICAgICAgICAgZm9udEZhbWlseTogJ0FyaWFsJyxcbiAgICAgICAgICAgIGZvbnRTaXplOiB0aGlzLmJhY2tncm91bmRJbWcud2lkdGggLyA2MCxcbiAgICAgICAgICAgIC8vZm9udFdlaWdodDogJ2JvbGQnLFxuICAgICAgICAgICAgZmlsbDogJ3doaXRlJyxcbiAgICAgICAgICAgIGFsaWduOiAnbGVmdCcsXG4gICAgICAgICAgICB3b3JkV3JhcDogdHJ1ZSxcbiAgICAgICAgICAgIHdvcmRXcmFwV2lkdGg6ICh0aGlzLmJhY2tncm91bmRJbWcud2lkdGggLyAzLjc1KSxcbiAgICAgICAgICAgIGRyb3BTaGFkb3c6IHRydWUsXG4gICAgICAgICAgICBkcm9wU2hhZG93Q29sb3I6ICcjMDAwMDAwJyxcbiAgICAgICAgICAgIGRyb3BTaGFkb3dCbHVyOiA0XG4gICAgICAgIH0pXG4gICAgICAgIGxldCBib2R5ID0gbmV3IFBJWEkuVGV4dCh0aGlzLmNhdGVnb3J5RGVzY3JpcHRpb25zW2lkeF0sIGluZm9UZXh0U3R5bGUpXG4gICAgICAgIC8vbGV0IGgxID0gbmV3IFBJWEkuVGV4dChcImhlbGxvXCIsIGgxc3R5bGUpXG4gICAgICAgIGJvZHkueCA9ICh0aGlzLmJhY2tncm91bmRJbWcud2lkdGggLyAzKSAqIGlkeCArIHRoaXMuYmFja2dyb3VuZEltZy53aWR0aCAvIDI0XG4gICAgICAgIC8vYm9keS55ID0gdGhpcy5iYWNrZ3JvdW5kSW1nLmhlaWdodCAvIDdcbiAgICAgICAgYm9keS55ID0gdGhpcy5iYWNrZ3JvdW5kSW1nLmhlaWdodCAvIDEwXG4gICAgICAgIHRoaXMuaW5mb0JnLmFkZENoaWxkKGJvZHkpXG5cbiAgICAgICAgaWYodGhpcy5jdXJyZW50SW5mb0lkeCAhPSBpZHgpe1xuICAgICAgICAgICAgYXBwLnN0YWdlLmFkZENoaWxkKHRoaXMuaW5mb0JnKVxuICAgICAgICAgICAgdGhpcy5jdXJyZW50SW5mb0lkeCA9IGlkeFxuXG4gICAgICAgICAgICAvL2xvZ2dpbmdcbiAgICAgICAgICAgIGFwcC5sb2coXCJjYXRlZ29yeSBpbmZvIG9wZW5lZFwiLHtpZDogKGlkeCsxKS50b1N0cmluZygpfSlcblxuICAgICAgICAgICAgdGhpcy5pbmZvTGlzdGVuZXIgPSB0aGlzLmNsZWFySW5mby5iaW5kKHRoaXMpXG4gICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJyx0aGlzLmluZm9MaXN0ZW5lcixmYWxzZSlcbiAgICAgICAgICAgIHdpbmRvdy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0Jyx0aGlzLmluZm9MaXN0ZW5lcixmYWxzZSlcbiAgICAgICAgfVxuICAgICAgICBlbHNle1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50SW5mb0lkeCA9IC0xXG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIGNsZWFySW5mbyhldmVudCkge1xuICAgICAgICBpZihldmVudCl7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdjbGVhckluZm8nLGV2ZW50KVxuICAgICAgICB9XG5cbiAgICAgICAgaWYoYXBwLnN0YWdlLmNoaWxkcmVuLmluZGV4T2YodGhpcy5pbmZvQmcpICE9PSAtMSl7XG4gICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJyx0aGlzLmluZm9MaXN0ZW5lcilcbiAgICAgICAgICAgIHdpbmRvdy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0Jyx0aGlzLmluZm9MaXN0ZW5lcilcbiAgICAgICAgICAgIGFwcC5zdGFnZS5yZW1vdmVDaGlsZCh0aGlzLmluZm9CZylcblxuICAgICAgICAgICAgLy9sb2dnaW5nXG4gICAgICAgICAgICBhcHAubG9nKFwiY2F0ZWdvcnkgaW5mbyBjbG9zZWRcIixcIlwiKVxuXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKHRoaXMuY2F0ZWdvcnlJbmZvSWNvbnNbdGhpcy5jdXJyZW50SW5mb0lkeF0uY29udGFpbnNQb2ludChuZXcgUElYSS5Qb2ludChldmVudC5wYWdlWCxldmVudC5wYWdlWSkpKVxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhldmVudC5wYWdlWCxldmVudC5wYWdlWSx0aGlzLmNhdGVnb3J5SW5mb0ljb25zW3RoaXMuY3VycmVudEluZm9JZHhdLngsdGhpcy5jYXRlZ29yeUluZm9JY29uc1t0aGlzLmN1cnJlbnRJbmZvSWR4XS55KVxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLmNhdGVnb3J5SW5mb0ljb25zW3RoaXMuY3VycmVudEluZm9JZHhdLndpZHRoLHRoaXMuY2F0ZWdvcnlJbmZvSWNvbnNbdGhpcy5jdXJyZW50SW5mb0lkeF0uaGVpZ2h0KVxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLmNhdGVnb3J5SW5mb0ljb25zW3RoaXMuY3VycmVudEluZm9JZHhdLmNvbnRhaW5zUG9pbnQobmV3IFBJWEkuUG9pbnQoZXZlbnQucGFnZVgsZXZlbnQucGFnZVktNjQpKSlcblxuICAgICAgICAgICAgaWYoIXRoaXMuY2F0ZWdvcnlJbmZvSWNvbnNbdGhpcy5jdXJyZW50SW5mb0lkeF0uY29udGFpbnNQb2ludChuZXcgUElYSS5Qb2ludChldmVudC5wYWdlWCxldmVudC5wYWdlWS02NCkpKXtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRJbmZvSWR4ID0gLTFcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIHJlYWRUZXh0RmlsZShmaWxlLHRhcmdldElzWG1sKVxuICAgIHtcbiAgICAgICAgbGV0IHJhd0ZpbGUgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKVxuICAgICAgICBsZXQgcmVzcG9uc2VcbiAgICAgICAgcmF3RmlsZS5vcGVuKFwiR0VUXCIsIGZpbGUsIGZhbHNlKVxuICAgICAgICByYXdGaWxlLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmKHJhd0ZpbGUucmVhZHlTdGF0ZSA9PT0gNClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZihyYXdGaWxlLnN0YXR1cyA9PT0gMjAwIHx8IHJhd0ZpbGUuc3RhdHVzID09IDApXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZih0YXJnZXRJc1htbClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gcmF3RmlsZS5yZXNwb25zZVhNTFxuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IHJhd0ZpbGUucmVzcG9uc2VUZXh0XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJhd0ZpbGUuc2VuZChudWxsKTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlXG4gICAgfVxuXG59XG5cbmNsYXNzIFBvaW50IHtcbiAgICBjb25zdHJ1Y3Rvcih4LCB5KSB7XG4gICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgIHRoaXMueSA9IHk7XG4gICAgfVxufVxuIiwiLy9cclxuLy8gZGVzY3JpcHRpb246XHRcdG1vZHVsZSBvZmZlcnMgbG9jYWwgbG9nZ2luZyBpbiBpbmRleGVkREJcclxuLy8gYXV0aG9yOlx0XHRcdExlaWJuaXotSW5zdGl0dXQgZsO8ciBXaXNzZW5zbWVkaWVuIFTDvGJpbmdlbiwgQW5kcmUgS2xlbWtlXHJcbi8vXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMb2NhbExvZ2dlciB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmRiID0gbnVsbFxyXG4gICAgICAgIHRoaXMuZGJyZXF1ZXN0ID0gbnVsbFxyXG4gICAgICAgIC8vd2luZG93Lml3bXN0dWR5LmxvZ2dlciA9IHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICB0aGlzLmRicmVxdWVzdCA9IGluZGV4ZWREQi5vcGVuKCdpd21zdHVkeScsIDEpXHJcbiAgICAgICAgdGhpcy5kYnJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgICAgICAgICAgJ3VwZ3JhZGVuZWVkZWQnLFxyXG4gICAgICAgICAgICB0aGlzLmRiVXBkYXRlTmVlZGVkLmJpbmQodGhpcylcclxuICAgICAgICApXHJcbiAgICAgICAgdGhpcy5kYnJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcignc3VjY2VzcycsIHRoaXMuZGJPcGVuZWQuYmluZCh0aGlzKSlcclxuICAgICAgICB0aGlzLmRicmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIGNvbnNvbGUubG9nKCdlcnJvcjonLHRoaXMuZGJyZXF1ZXN0LmVycm9yKSlcclxuICAgIH1cclxuXHJcbiAgICBkYlVwZGF0ZU5lZWRlZChldmVudCkge1xyXG4gICAgICAgIC8vIGV2ZW50IGZvciBkYiBjcmVhdGlvbiBvciBtb2RpZmljYXRpb25cclxuICAgICAgICBjb25zb2xlLmxvZygnbG9jYWwgREIgY3JlYXRlZCBvciBtb2RpZmllZCcpXHJcbiAgICAgICAgdGhpcy5kYiA9IHRoaXMuZGJyZXF1ZXN0LnJlc3VsdFxyXG4gICAgICAgIGlmICghdGhpcy5kYi5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKCdwYWdldmlzaXQnKSkge1xyXG4gICAgICAgICAgICBsZXQgc3RvcmUgPSB0aGlzLmRiLmNyZWF0ZU9iamVjdFN0b3JlKCdwYWdldmlzaXQnLCB7XHJcbiAgICAgICAgICAgICAgICBrZXlQYXRoOiAna2V5JyxcclxuICAgICAgICAgICAgICAgIGF1dG9JbmNyZW1lbnQ6IHRydWVcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgc3RvcmUuY3JlYXRlSW5kZXgoXHJcbiAgICAgICAgICAgICAgICAncGFnZXZpc2l0X2luZGV4MScsXHJcbiAgICAgICAgICAgICAgICBbJ3N0dWR5aWQnLCAncnVuaWQnLCAndXNlcmlkJywgJ3BhZ2Vjb3VudGVyJywgJ3BhZ2VpZCddLFxyXG4gICAgICAgICAgICAgICAge3VuaXF1ZTogZmFsc2V9XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgICAgc3RvcmUuY3JlYXRlSW5kZXgoXHJcbiAgICAgICAgICAgICAgICAncGFnZXZpc2l0X2luZGV4MicsXHJcbiAgICAgICAgICAgICAgICBbJ3N0dWR5aWQnLCAncnVuaWQnLCAndXNlcmlkJywgJ2RhdGFhdmFpbGFibGUnXSxcclxuICAgICAgICAgICAgICAgIHt1bmlxdWU6IGZhbHNlfVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICAgIHN0b3JlLmNyZWF0ZUluZGV4KFxyXG4gICAgICAgICAgICAgICAgJ3BhZ2V2aXNpdF9pbmRleDMnLFxyXG4gICAgICAgICAgICAgICAgWydzdHVkeWlkJywgJ2RhdGFhdmFpbGFibGUnXSxcclxuICAgICAgICAgICAgICAgIHt1bmlxdWU6IGZhbHNlfVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICAgIHN0b3JlLmNyZWF0ZUluZGV4KFxyXG4gICAgICAgICAgICAgICAgJ3BhZ2V2aXNpdF9pbmRleDQnLFxyXG4gICAgICAgICAgICAgICAgWydzdHVkeWlkJywgJ3J1bmlkJywgJ3VzZXJpZCcsICdwYWdlaWQnXSxcclxuICAgICAgICAgICAgICAgIHt1bmlxdWU6IGZhbHNlfVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdGhpcy5kYi5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKCdydW4nKSkge1xyXG4gICAgICAgICAgICBsZXQgc3RvcmUgPSB0aGlzLmRiLmNyZWF0ZU9iamVjdFN0b3JlKCdydW4nLCB7XHJcbiAgICAgICAgICAgICAgICBrZXlQYXRoOiAna2V5JyxcclxuICAgICAgICAgICAgICAgIGF1dG9JbmNyZW1lbnQ6IHRydWVcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgc3RvcmUuY3JlYXRlSW5kZXgoJ3J1bl9pbmRleDEnLCAnc3R1ZHlpZCcsIHt1bmlxdWU6IGZhbHNlfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLmRiLm9iamVjdFN0b3JlTmFtZXMuY29udGFpbnMoJ3VzZXInKSkge1xyXG4gICAgICAgICAgICBsZXQgc3RvcmUgPSB0aGlzLmRiLmNyZWF0ZU9iamVjdFN0b3JlKCd1c2VyJywge1xyXG4gICAgICAgICAgICAgICAga2V5UGF0aDogJ2tleScsXHJcbiAgICAgICAgICAgICAgICBhdXRvSW5jcmVtZW50OiB0cnVlXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIHN0b3JlLmNyZWF0ZUluZGV4KCd1c2VyX2luZGV4MScsICd1c2VyaWQnLCB7dW5pcXVlOiBmYWxzZX0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdGhpcy5kYi5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKCdtZXNzYWdlJykpIHtcclxuICAgICAgICAgICAgbGV0IHN0b3JlID0gdGhpcy5kYi5jcmVhdGVPYmplY3RTdG9yZSgnbWVzc2FnZScsIHtcclxuICAgICAgICAgICAgICAgIGtleVBhdGg6ICdrZXknLFxyXG4gICAgICAgICAgICAgICAgYXV0b0luY3JlbWVudDogdHJ1ZVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMuZGIub2JqZWN0U3RvcmVOYW1lcy5jb250YWlucygnbG9nJykpIHtcclxuICAgICAgICAgICAgbGV0IHN0b3JlID0gdGhpcy5kYi5jcmVhdGVPYmplY3RTdG9yZSgnbG9nJywge1xyXG4gICAgICAgICAgICAgICAga2V5UGF0aDogJ2tleScsXHJcbiAgICAgICAgICAgICAgICBhdXRvSW5jcmVtZW50OiB0cnVlXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIHN0b3JlLmNyZWF0ZUluZGV4KCdsb2dfaW5kZXgxJywgJ3N0dWR5aWQnLCB7dW5pcXVlOiBmYWxzZX0pXHJcbiAgICAgICAgICAgIHN0b3JlLmNyZWF0ZUluZGV4KCdsb2dfaW5kZXgyJywgWydzdHVkeWlkJywgJ3RpbWVzdGFtcCddLCB7XHJcbiAgICAgICAgICAgICAgICB1bmlxdWU6IGZhbHNlXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdGhpcy5kYi5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKCdsb2dhbm9ueW1vdXMnKSkge1xyXG4gICAgICAgICAgICBsZXQgc3RvcmUgPSB0aGlzLmRiLmNyZWF0ZU9iamVjdFN0b3JlKCdsb2dhbm9ueW1vdXMnLCB7XHJcbiAgICAgICAgICAgICAgICBrZXlQYXRoOiAna2V5JyxcclxuICAgICAgICAgICAgICAgIGF1dG9JbmNyZW1lbnQ6IHRydWVcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZGJPcGVuZWQoZXZlbnQpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnbG9jYWwgREIgb3BlbmVuZCcpXHJcbiAgICAgICAgdGhpcy5kYiA9IHRoaXMuZGJyZXF1ZXN0LnJlc3VsdFxyXG4gICAgfVxyXG5cclxuICAgIGdldFBhZ2V2aXNpdERhdGEoc3R1ZHlpZCwgcnVuaWQsIHVzZXJpZCwgcGFnZWlkLCBmb3JtaWQsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coYGdldCBwYWdldmlzaXQgZGF0YSAke3BhZ2VpZH0gJHtmb3JtaWR9YClcclxuICAgICAgICBsZXQgdHJhbnMgPSB0aGlzLmRiLnRyYW5zYWN0aW9uKFsncGFnZXZpc2l0J10sICdyZWFkb25seScpXHJcbiAgICAgICAgbGV0IHN0b3JlID0gdHJhbnMub2JqZWN0U3RvcmUoJ3BhZ2V2aXNpdCcpXHJcbiAgICAgICAgbGV0IGluZGV4ID0gc3RvcmUuaW5kZXgoJ3BhZ2V2aXNpdF9pbmRleDQnKVxyXG4gICAgICAgIGxldCByZXF1ZXN0ID0gaW5kZXgub3BlbkN1cnNvcihcclxuICAgICAgICAgICAgSURCS2V5UmFuZ2Uub25seShbc3R1ZHlpZCwgcnVuaWQsIHVzZXJpZCwgcGFnZWlkXSlcclxuICAgICAgICApXHJcbiAgICAgICAgbGV0IGZvcm12YWx1ZVxyXG4gICAgICAgIGxldCByZWxhdGVkcGFnZWNvdW50ZXIgPSAwXHJcbiAgICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSBmdW5jdGlvbihldnQpIHtcclxuICAgICAgICAgICAgbGV0IGN1cnNvciA9IGV2dC50YXJnZXQucmVzdWx0XHJcbiAgICAgICAgICAgIGlmIChjdXJzb3IpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjdXJzb3IudmFsdWUucGFnZWNvdW50ZXIgPiByZWxhdGVkcGFnZWNvdW50ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZWxhdGVkcGFnZWNvdW50ZXIgPSBjdXJzb3IudmFsdWUucGFnZWNvdW50ZXJcclxuICAgICAgICAgICAgICAgICAgICBmb3JtdmFsdWUgPSBudWxsXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnNvci52YWx1ZS5kYXRhYXZhaWxhYmxlID09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnNvci52YWx1ZS5kYXRhLmhhc093blByb3BlcnR5KGZvcm1pZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm12YWx1ZSA9IGN1cnNvci52YWx1ZS5kYXRhW2Zvcm1pZF1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGN1cnNvci5jb250aW51ZSgpXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvL3NlbGYgb25seSBpbXBsZW1lbnRlZFxyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2soYHNlbGYuJHtwYWdlaWR9LiR7Zm9ybWlkfWAsIGZvcm12YWx1ZSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVSdW4oc3R1ZHlpZCwgY29uZGl0aW9uaWQsIG5lZWRlZHVzZXIsIHVzZXJpZCwgZXhwdmVyc2lvbikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICAgICAgICBgY3JlYXRpbmcgcnVuIGZvciB1c2VyICR7dXNlcmlkfSB3aXRoIGNvbmRpdGlvbiAke2NvbmRpdGlvbmlkfWBcclxuICAgICAgICApXHJcbiAgICAgICAgbGV0IGxhc3RydW5pZCA9IDBcclxuICAgICAgICBsZXQgdHJhbnMgPSB0aGlzLmRiLnRyYW5zYWN0aW9uKFsncnVuJ10sICdyZWFkb25seScpXHJcbiAgICAgICAgbGV0IHN0b3JlID0gdHJhbnMub2JqZWN0U3RvcmUoJ3J1bicpXHJcbiAgICAgICAgbGV0IGluZGV4ID0gc3RvcmUuaW5kZXgoJ3J1bl9pbmRleDEnKVxyXG4gICAgICAgIGxldCByZXF1ZXN0ID0gaW5kZXgub3BlbkN1cnNvcihJREJLZXlSYW5nZS5vbmx5KHN0dWR5aWQpKVxyXG4gICAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gZnVuY3Rpb24oZXZ0KSB7XHJcbiAgICAgICAgICAgIGxldCBjdXJzb3IgPSBldnQudGFyZ2V0LnJlc3VsdFxyXG4gICAgICAgICAgICBpZiAoY3Vyc29yKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY3Vyc29yLnZhbHVlLnJ1bmlkID4gbGFzdHJ1bmlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFzdHJ1bmlkID0gY3Vyc29yLnZhbHVlLnJ1bmlkXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjdXJzb3IuY29udGludWUoKVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbGV0IGRiaXRlbSA9IHtcclxuICAgICAgICAgICAgICAgICAgICBzdHVkeWlkOiBzdHVkeWlkLFxyXG4gICAgICAgICAgICAgICAgICAgIHJ1bmlkOiBsYXN0cnVuaWQgKyAxLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbmRpdGlvbmlkOiBjb25kaXRpb25pZCxcclxuICAgICAgICAgICAgICAgICAgICBleHB2ZXJzaW9uOiBleHB2ZXJzaW9uLFxyXG4gICAgICAgICAgICAgICAgICAgIG5lZWRlZHVzZXI6IG5lZWRlZHVzZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudHVzZXI6IFt1c2VyaWRdLFxyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRwYWdlOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhZ2VoaXN0b3J5OiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhZ2VtZXRhZGF0YTogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICBwYWdlZ3JvdXBtZXRhZGF0YTogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICBydW50aW1lZGF0YTogbnVsbFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbGV0IHRyYW5zID0gaXdtc3R1ZHkubG9nZ2VyLmRiLnRyYW5zYWN0aW9uKFsncnVuJ10sICdyZWFkd3JpdGUnKVxyXG4gICAgICAgICAgICAgICAgbGV0IHN0b3JlID0gdHJhbnMub2JqZWN0U3RvcmUoJ3J1bicpXHJcbiAgICAgICAgICAgICAgICBsZXQgcmVxdWVzdCA9IHN0b3JlLnB1dChkYml0ZW0pXHJcbiAgICAgICAgICAgICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9IGZ1bmN0aW9uKGV2dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBydW4gY3JlYXRlZGApXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCdydW5yZWFkeScsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiB7cnVuaWQ6IGxhc3RydW5pZCArIDF9XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChldmVudClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVNZXNzYWdlKHN0dWR5aWQsIHJ1bmlkLCB0YXJnZXQsIHNvdXJjZSwgbW9kZSwgdHlwZSwgZGF0YSkge31cclxuXHJcbiAgICBub3RpZnlGb3JBZGRlZFVzZXIoc3R1ZHlpZCwgcnVuaWQpIHt9XHJcblxyXG4gICAgY2hlY2tNZXNzYWdlcyhzdHVkeWlkLCBydW5pZCwgdXNlcikge31cclxuXHJcbiAgICBnZXRSdW4oc3R1ZHlpZCwgcnVuaWQpIHt9XHJcblxyXG4gICAgZ2V0UnVuVXNlcihzdHVkeWlkLCBydW5pZCkge31cclxuXHJcbiAgICBnZXRPcGVuUnVuKHN0dWR5aWQpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnY2hlY2sgZm9yIG9wZW4gcnVuJylcclxuICAgICAgICBsZXQgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ29wZW5ydW5yZXN1bHQnLCB7XHJcbiAgICAgICAgICAgIGRldGFpbDoge3J1bmZvdW5kOiBmYWxzZSwgcnVuaWQ6ICcwJywgY29uZGl0aW9uOiAnJywgbmVlZGVkdXNlcjogMX1cclxuICAgICAgICB9KVxyXG4gICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KGV2ZW50KVxyXG4gICAgfVxyXG5cclxuICAgIGdldEV4aXN0aW5nT3duUnVuKHN0dWR5aWQsIHVzZXJpZCkge31cclxuXHJcbiAgICBhZGRVc2VyVG9SdW4oc3R1ZHlpZCwgcnVuaWQsIHVzZXJpZCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBhZGRpbmcgdXNlciAke3VzZXJpZH0gdG8gcnVuICR7cnVuaWR9YClcclxuICAgICAgICBsZXQgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ3J1bnJlYWR5Jywge2RldGFpbDoge3J1bmlkOiBydW5pZH19KVxyXG4gICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KGV2ZW50KVxyXG4gICAgfVxyXG5cclxuICAgIHVzZXJTeW5jZWQoc3R1ZHlpZCwgcnVuaWQsIHN5bmNpZCkge31cclxuXHJcbiAgICBnZXRVc2VyUm9sZSh1c2VyaWQsIHBhc3N3b3JkLCBzdHVkeSkge31cclxuXHJcbiAgICBnZXRIYXNoKGRhdGFzdHJpbmcpIHtcclxuICAgICAgICBsZXQgYml0QXJyYXkgPSBzamNsLmhhc2guc2hhMjU2Lmhhc2goZGF0YXN0cmluZylcclxuICAgICAgICBsZXQgZGlnZXN0X3NoYTI1NiA9IHNqY2wuY29kZWMuaGV4LmZyb21CaXRzKGJpdEFycmF5KVxyXG4gICAgICAgIHJldHVybiBkaWdlc3Rfc2hhMjU2XHJcbiAgICB9XHJcblxyXG4gICAgcmVnaXN0ZXJVc2VyKHVzZXJpZCwgcGFzc3dvcmQsIGVtYWlsLCBzdHVkeSwgcm9sZSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdyZWdpc3RlclVzZXInKVxyXG4gICAgICAgIGxldCB0cmFucyA9IHRoaXMuZGIudHJhbnNhY3Rpb24oWyd1c2VyJ10sICdyZWFkb25seScpXHJcbiAgICAgICAgbGV0IHN0b3JlID0gdHJhbnMub2JqZWN0U3RvcmUoJ3VzZXInKVxyXG4gICAgICAgIGxldCBpbmRleCA9IHN0b3JlLmluZGV4KCd1c2VyX2luZGV4MScpXHJcbiAgICAgICAgbGV0IHJlcXVlc3QgPSBpbmRleC5vcGVuQ3Vyc29yKElEQktleVJhbmdlLm9ubHkodXNlcmlkKSlcclxuICAgICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9IGZ1bmN0aW9uKGV2dCkge1xyXG4gICAgICAgICAgICBsZXQgY3Vyc29yID0gZXZ0LnRhcmdldC5yZXN1bHRcclxuICAgICAgICAgICAgaWYgKGN1cnNvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYHVzZXJpZCBhbHJlYWR5IGV4aXN0c2ApXHJcbiAgICAgICAgICAgICAgICBsZXQgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ3VzZXJyZWdpc3RyYXRpb25mYWlsZWQnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiB7Y2F1c2U6ICdleGlzdHMnfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KGV2ZW50KVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbGV0IHJvbGVzID0ge31cclxuICAgICAgICAgICAgICAgIHJvbGVzW3N0dWR5XSA9IHJvbGVcclxuICAgICAgICAgICAgICAgIGxldCBkYml0ZW0gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlcmlkOiB1c2VyaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmRoYXNoOiBpd21zdHVkeS5sb2dnZXIuZ2V0SGFzaChwYXNzd29yZCksXHJcbiAgICAgICAgICAgICAgICAgICAgZW1haWw6IGVtYWlsLFxyXG4gICAgICAgICAgICAgICAgICAgIHJvbGVzOiByb2xlc1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbGV0IHRyYW5zID0gaXdtc3R1ZHkubG9nZ2VyLmRiLnRyYW5zYWN0aW9uKFxyXG4gICAgICAgICAgICAgICAgICAgIFsndXNlciddLFxyXG4gICAgICAgICAgICAgICAgICAgICdyZWFkd3JpdGUnXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICBsZXQgc3RvcmUgPSB0cmFucy5vYmplY3RTdG9yZSgndXNlcicpXHJcbiAgICAgICAgICAgICAgICBsZXQgcmVxdWVzdCA9IHN0b3JlLnB1dChkYml0ZW0pXHJcbiAgICAgICAgICAgICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9IGZ1bmN0aW9uKGV2dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGB1c2VyIGNyZWF0ZWRgKVxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBldmVudCA9IG5ldyBDdXN0b21FdmVudCgndXNlcnJlZ2lzdHJhdGlvbnN1Y2NlZWRlZCcsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiBudWxsXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChldmVudClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjaGVja1VzZXJMb2dpbih1c2VyaWQsIHBhc3N3b3JkLCBzdHVkeSkge31cclxuXHJcbiAgICBhZGRTdHVkeVRvVXNlcih1c2VyaWQsIHN0dWR5LCByb2xlKSB7fVxyXG5cclxuICAgIGdldExhc3RQYWdlY291bnRlcihzdHVkeWlkLCBydW5pZCwgdXNlcmlkKSB7fVxyXG5cclxuICAgIHBhZ2VFbnRlcmVkKFxyXG4gICAgICAgIHN0dWR5aWQsXHJcbiAgICAgICAgcnVuaWQsXHJcbiAgICAgICAgdXNlcmlkLFxyXG4gICAgICAgIHBhZ2Vjb3VudGVyLFxyXG4gICAgICAgIHBhZ2VpZCxcclxuICAgICAgICBzeW5jaWQsXHJcbiAgICAgICAgdGltZXN0YW1wLFxyXG4gICAgICAgIHBhZ2VoaXN0b3J5XHJcbiAgICApIHtcclxuICAgICAgICBsZXQgZGJpdGVtID0ge1xyXG4gICAgICAgICAgICBzdHVkeWlkOiBzdHVkeWlkLFxyXG4gICAgICAgICAgICBydW5pZDogcnVuaWQsXHJcbiAgICAgICAgICAgIHVzZXJpZDogdXNlcmlkLFxyXG4gICAgICAgICAgICBwYWdlY291bnRlcjogcGFnZWNvdW50ZXIsXHJcbiAgICAgICAgICAgIHBhZ2VpZDogcGFnZWlkLFxyXG4gICAgICAgICAgICBzeW5jaWQ6IHN5bmNpZCxcclxuICAgICAgICAgICAgc3RhcnR0aW1lOiB0aW1lc3RhbXAsXHJcbiAgICAgICAgICAgIGVuZHRpbWU6IG51bGwsXHJcbiAgICAgICAgICAgIGRhdGE6IG51bGwsXHJcbiAgICAgICAgICAgIGRhdGFhdmFpbGFibGU6IDBcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHRyYW5zID0gdGhpcy5kYi50cmFuc2FjdGlvbihbJ3BhZ2V2aXNpdCddLCAncmVhZHdyaXRlJylcclxuICAgICAgICBsZXQgc3RvcmUgPSB0cmFucy5vYmplY3RTdG9yZSgncGFnZXZpc2l0JylcclxuICAgICAgICBsZXQgcmVxdWVzdCA9IHN0b3JlLnB1dChkYml0ZW0pXHJcbiAgICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSBmdW5jdGlvbihldnQpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYGxvZ2dlZCBwYWdlICR7cGFnZWlkfSBlbnRlcmVkYClcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcGFnZUxlZnQoXHJcbiAgICAgICAgc3R1ZHlpZCxcclxuICAgICAgICBydW5pZCxcclxuICAgICAgICB1c2VyaWQsXHJcbiAgICAgICAgcGFnZWNvdW50ZXIsXHJcbiAgICAgICAgcGFnZWlkLFxyXG4gICAgICAgIHRpbWVzdGFtcCxcclxuICAgICAgICBkYXRhLFxyXG4gICAgICAgIHBhZ2VtZXRhZGF0YSxcclxuICAgICAgICBwYWdlZ3JvdXBtZXRhZGF0YSxcclxuICAgICAgICBydW50aW1lZGF0YWNoYW5nZWQsXHJcbiAgICAgICAgcnVudGltZWRhdGFcclxuICAgICkge1xyXG4gICAgICAgIGxldCB0cmFucyA9IHRoaXMuZGIudHJhbnNhY3Rpb24oWydwYWdldmlzaXQnXSwgJ3JlYWR3cml0ZScpXHJcbiAgICAgICAgbGV0IHN0b3JlID0gdHJhbnMub2JqZWN0U3RvcmUoJ3BhZ2V2aXNpdCcpXHJcbiAgICAgICAgbGV0IGluZGV4ID0gc3RvcmUuaW5kZXgoJ3BhZ2V2aXNpdF9pbmRleDEnKVxyXG4gICAgICAgIGxldCByZXF1ZXN0ID0gaW5kZXgub3BlbkN1cnNvcihcclxuICAgICAgICAgICAgSURCS2V5UmFuZ2Uub25seShbc3R1ZHlpZCwgcnVuaWQsIHVzZXJpZCwgcGFnZWNvdW50ZXIsIHBhZ2VpZF0pXHJcbiAgICAgICAgKVxyXG4gICAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gZnVuY3Rpb24oZXZ0KSB7XHJcbiAgICAgICAgICAgIGxldCBjdXJzb3IgPSBldnQudGFyZ2V0LnJlc3VsdFxyXG4gICAgICAgICAgICBpZiAoY3Vyc29yKSB7XHJcbiAgICAgICAgICAgICAgICAvL2Z1ZXIgYWxsZSBwYXNzZW5kZW4gRGF0ZW5zYWV0emUgKGhpZXIgbnVyIGVpbmVyKVxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYGxvZ2dpbmcgJHtwYWdlaWR9IHBhZ2VkYXRhYClcclxuICAgICAgICAgICAgICAgIGxldCBpdGVtID0gY3Vyc29yLnZhbHVlXHJcbiAgICAgICAgICAgICAgICBpdGVtLmVuZHRpbWUgPSB0aW1lc3RhbXBcclxuICAgICAgICAgICAgICAgIGl0ZW0uZGF0YSA9IGRhdGFcclxuICAgICAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhkYXRhKS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5kYXRhYXZhaWxhYmxlID0gMVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbGV0IHJlcXVlc3QyID0gY3Vyc29yLnVwZGF0ZShpdGVtKVxyXG4gICAgICAgICAgICAgICAgcmVxdWVzdDIub25zdWNjZXNzID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYGxvZ2dpbmcgc3VjY2Vzc2Z1bGwgJHtwYWdlaWR9ICR7ZGF0YX1gKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY3Vyc29yLmNvbnRpbnVlKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBsb2dBY3Rpb24oXHJcbiAgICAgICAgc3R1ZHlpZCxcclxuICAgICAgICBydW5pZCxcclxuICAgICAgICB1c2VyaWQsXHJcbiAgICAgICAgcGFnZWNvdW50ZXIsXHJcbiAgICAgICAgcGFnZWlkLFxyXG4gICAgICAgIHRpbWVzdGFtcCxcclxuICAgICAgICBlbGFwc2VkdGltZSxcclxuICAgICAgICBhY3Rpb24sXHJcbiAgICAgICAgZGF0YVxyXG4gICAgKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZGIgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdsb2dBY3Rpb24gZGIgaXMgbnVsbDogRml4IHRoaXMgZXJyb3InKVxyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGRiaXRlbSA9IHtcclxuICAgICAgICAgICAgc3R1ZHlpZDogc3R1ZHlpZCxcclxuICAgICAgICAgICAgcnVuaWQ6IHJ1bmlkLFxyXG4gICAgICAgICAgICB1c2VyaWQ6IHVzZXJpZCxcclxuICAgICAgICAgICAgcGFnZWNvdW50ZXI6IHBhZ2Vjb3VudGVyLFxyXG4gICAgICAgICAgICBwYWdlaWQ6IHBhZ2VpZCxcclxuICAgICAgICAgICAgdGltZXN0YW1wOiB0aW1lc3RhbXAsXHJcbiAgICAgICAgICAgIGVsYXBzZWR0aW1lOiBlbGFwc2VkdGltZSxcclxuICAgICAgICAgICAgYWN0aW9uOiBhY3Rpb24sXHJcbiAgICAgICAgICAgIGRhdGE6IGRhdGFcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHRyYW5zID0gdGhpcy5kYi50cmFuc2FjdGlvbihbJ2xvZyddLCAncmVhZHdyaXRlJylcclxuICAgICAgICBsZXQgc3RvcmUgPSB0cmFucy5vYmplY3RTdG9yZSgnbG9nJylcclxuICAgICAgICBsZXQgcmVxdWVzdCA9IHN0b3JlLnB1dChkYml0ZW0pXHJcbiAgICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSBmdW5jdGlvbihldnQpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYGxvZ2dlZCBhY3Rpb24gJHthY3Rpb259YClcclxuICAgICAgICB9XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhkYml0ZW0pXHJcbiAgICB9XHJcblxyXG4gICAgbG9nYW5vbnltb3VzKHN0dWR5aWQsIGFub255bW91c3J1bmlkLCBwYWdlaWQsIHR5cGUsIHZhbHVlKSB7fVxyXG5cclxuICAgIGdldEFsbFJ1bkRhdGEoc3R1ZHlpZCkge31cclxufVxyXG4iLCJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEV2ZW50cyB7XG5cbiAgICBzdGF0aWMgc3RvcChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXG4gICAgfVxuXG4gICAgc3RhdGljIGV4dHJhY3RQb2ludChldmVudCkge1xuICAgICAgICBzd2l0Y2goZXZlbnQuY29uc3RydWN0b3IubmFtZSkge1xuICAgICAgICAgICAgY2FzZSAnVG91Y2hFdmVudCc6XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaT0wOyBpPGV2ZW50LnRhcmdldFRvdWNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHQgPSBldmVudC50YXJnZXRUb3VjaGVzW2ldXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7eDogdC5jbGllbnRYLCB5OiB0LmNsaWVudFl9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiB7eDogZXZlbnQuY2xpZW50WCwgeTogZXZlbnQuY2xpZW50WX1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBpc01vdXNlRG93bihldmVudCkge1xuICAgICAgICAvLyBBdHRlbXB0cyB0byBjbG9uZSB0aGUgd2hpY2ggYXR0cmlidXRlIG9mIGV2ZW50cyBmYWlsZWQgaW4gV2ViS2l0LiBNYXlcbiAgICAgICAgLy8gYmUgdGhpcyBpcyBhIGJ1ZyBvciBhIHNlY3VyaXR5IGZlYXR1cmUuIFdvcmthcm91bmQ6IHdlIGludHJvZHVjZVxuICAgICAgICAvLyBhIG1vdXNlRG93blN1YnN0aXR1dGUgYXR0cmlidXRlIHRoYXQgY2FuIGJlIGFzc2lnbmVkIHRvIGNsb25lZFxuICAgICAgICAvLyBldmVudHMgYWZ0ZXIgaW5zdGFudGlhdGlvbi5cbiAgICAgICAgaWYgKFJlZmxlY3QuaGFzKGV2ZW50LCAnbW91c2VEb3duU3Vic3RpdHV0ZScpKVxuICAgICAgICAgICAgcmV0dXJuIGV2ZW50Lm1vdXNlRG93blN1YnN0aXR1dGVcbiAgICAgICAgcmV0dXJuIGV2ZW50LmJ1dHRvbnMgfHwgZXZlbnQud2hpY2hcbiAgICB9XG5cbiAgICBzdGF0aWMgZXh0cmFjdFRvdWNoZXModGFyZ2V0cykge1xuICAgICAgICBsZXQgdG91Y2hlcyA9IFtdXG4gICAgICAgIGZvciAobGV0IGk9MDsgaTx0YXJnZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgdCA9IHRhcmdldHNbaV1cbiAgICAgICAgICAgIHRvdWNoZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgdGFyZ2V0U2VsZWN0b3I6IHRoaXMuc2VsZWN0b3IodC50YXJnZXQpLFxuICAgICAgICAgICAgICAgIGlkZW50aWZpZXI6IHQuaWRlbnRpZmllcixcbiAgICAgICAgICAgICAgICBzY3JlZW5YOiB0LnNjcmVlblgsXG4gICAgICAgICAgICAgICAgc2NyZWVuWTogdC5zY3JlZW5ZLFxuICAgICAgICAgICAgICAgIGNsaWVudFg6IHQuY2xpZW50WCxcbiAgICAgICAgICAgICAgICBjbGllbnRZOiB0LmNsaWVudFksXG4gICAgICAgICAgICAgICAgcGFnZVg6IHQucGFnZVgsXG4gICAgICAgICAgICAgICAgcGFnZVk6IHQucGFnZVlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRvdWNoZXNcbiAgICB9XG5cbiAgICBzdGF0aWMgY3JlYXRlVG91Y2hMaXN0KHRhcmdldHMpIHtcbiAgICAgICAgbGV0IHRvdWNoZXMgPSBbXVxuICAgICAgICBmb3IgKGxldCBpPTA7IGk8dGFyZ2V0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHQgPSB0YXJnZXRzW2ldXG4gICAgICAgICAgICBsZXQgdG91Y2hUYXJnZXQgPSBkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KHQucGFnZVgsIHQucGFnZVkpXG4gICAgICAgICAgICBsZXQgdG91Y2ggPSBuZXcgVG91Y2godW5kZWZpbmVkLCB0b3VjaFRhcmdldCwgdC5pZGVudGlmaWVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdC5wYWdlWCwgdC5wYWdlWSwgdC5zY3JlZW5YLCB0LnNjcmVlblkpXG4gICAgICAgICAgICB0b3VjaGVzLnB1c2godG91Y2gpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBUb3VjaExpc3QoLi4udG91Y2hlcylcbiAgICB9XG5cbiAgICBzdGF0aWMgZXh0cmFjdEV2ZW50KHRpbWVzdGFtcCwgZXZlbnQpIHtcbiAgICAgICAgbGV0IHRhcmdldFNlbGVjdG9yID0gdGhpcy5zZWxlY3RvcihldmVudC50YXJnZXQpXG4gICAgICAgIGxldCBpbmZvcyA9IHsgdHlwZTogZXZlbnQudHlwZSxcbiAgICAgICAgICAgIHRpbWU6IHRpbWVzdGFtcCxcbiAgICAgICAgICAgIGNvbnN0cnVjdG9yOiBldmVudC5jb25zdHJ1Y3RvcixcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICB0YXJnZXRTZWxlY3RvcjogdGFyZ2V0U2VsZWN0b3IsXG4gICAgICAgICAgICAgICAgdmlldzogZXZlbnQudmlldyxcbiAgICAgICAgICAgICAgICBtb3VzZURvd25TdWJzdGl0dXRlOiBldmVudC5idXR0b25zIHx8IGV2ZW50LndoaWNoLCAvLyB3aGljaCBjYW5ub3QgYmUgY2xvbmVkIGRpcmVjdGx5XG4gICAgICAgICAgICAgICAgYnViYmxlczogZXZlbnQuYnViYmxlcyxcbiAgICAgICAgICAgICAgICBjYW5jZWxhYmxlOiBldmVudC5jYW5jZWxhYmxlLFxuICAgICAgICAgICAgICAgIHNjcmVlblg6IGV2ZW50LnNjcmVlblgsXG4gICAgICAgICAgICAgICAgc2NyZWVuWTogZXZlbnQuc2NyZWVuWSxcbiAgICAgICAgICAgICAgICBjbGllbnRYOiBldmVudC5jbGllbnRYLFxuICAgICAgICAgICAgICAgIGNsaWVudFk6IGV2ZW50LmNsaWVudFksXG4gICAgICAgICAgICAgICAgbGF5ZXJYOiBldmVudC5sYXllclgsXG4gICAgICAgICAgICAgICAgbGF5ZXJZOiBldmVudC5sYXllclksXG4gICAgICAgICAgICAgICAgcGFnZVg6IGV2ZW50LnBhZ2VYLFxuICAgICAgICAgICAgICAgIHBhZ2VZOiBldmVudC5wYWdlWSxcbiAgICAgICAgICAgICAgICBjdHJsS2V5OiBldmVudC5jdHJsS2V5LFxuICAgICAgICAgICAgICAgIGFsdEtleTogZXZlbnQuYWx0S2V5LFxuICAgICAgICAgICAgICAgIHNoaWZ0S2V5OiBldmVudC5zaGlmdEtleSxcbiAgICAgICAgICAgICAgICBtZXRhS2V5OiBldmVudC5tZXRhS2V5fVxuICAgICAgICB9XG4gICAgICAgIGlmIChldmVudC50eXBlLnN0YXJ0c1dpdGgoJ3RvdWNoJykpIHtcbiAgICAgICAgICAgIC8vIE9uIFNhZmFyaS1XZWJLaXQgdGhlIFRvdWNoRXZlbnQgaGFzIGxheWVyWCwgbGF5ZXJZIGNvb3JkaW5hdGVzXG4gICAgICAgICAgICBsZXQgZGF0YSA9IGluZm9zLmRhdGFcbiAgICAgICAgICAgIGRhdGEudGFyZ2V0VG91Y2hlcyA9IHRoaXMuZXh0cmFjdFRvdWNoZXMoZXZlbnQudGFyZ2V0VG91Y2hlcylcbiAgICAgICAgICAgIGRhdGEuY2hhbmdlZFRvdWNoZXMgPSB0aGlzLmV4dHJhY3RUb3VjaGVzKGV2ZW50LmNoYW5nZWRUb3VjaGVzKVxuICAgICAgICAgICAgZGF0YS50b3VjaGVzID0gdGhpcy5leHRyYWN0VG91Y2hlcyhldmVudC50b3VjaGVzKVxuICAgICAgICB9XG4gICAgICAgIGlmIChFdmVudHMuZGVidWcpIHtcbiAgICAgICAgICAgIEV2ZW50cy5leHRyYWN0ZWQucHVzaCh0aGlzLnRvTGluZShldmVudCkpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGluZm9zXG4gICAgfVxuXG4gICAgc3RhdGljIGNsb25lRXZlbnQodHlwZSwgY29uc3RydWN0b3IsIGRhdGEpIHtcbiAgICAgICAgaWYgKHR5cGUuc3RhcnRzV2l0aCgndG91Y2gnKSkge1xuICAgICAgICAgICAgLy8gV2UgbmVlZCB0byBmaW5kIHRhcmdldCBmcm9tIGxheWVyWCwgbGF5ZXJZXG4gICAgICAgICAgICAvL3ZhciB0YXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGRhdGEudGFyZ2V0U2VsZWN0b3IpXG4gICAgICAgICAgICAvLyBlbGVtZW50RnJvbVBvaW50KGRhdGEubGF5ZXJYLCBkYXRhLmxheWVyWSlcbiAgICAgICAgICAgIC8vZGF0YS50YXJnZXQgPSB0YXJnZXRcbiAgICAgICAgICAgIGRhdGEudGFyZ2V0VG91Y2hlcyA9IHRoaXMuY3JlYXRlVG91Y2hMaXN0KGRhdGEudGFyZ2V0VG91Y2hlcylcbiAgICAgICAgICAgIGRhdGEuY2hhbmdlZFRvdWNoZXMgPSB0aGlzLmNyZWF0ZVRvdWNoTGlzdChkYXRhLmNoYW5nZWRUb3VjaGVzKVxuICAgICAgICAgICAgZGF0YS50b3VjaGVzID0gdGhpcy5jcmVhdGVUb3VjaExpc3QoZGF0YS50b3VjaGVzKVxuICAgICAgICB9XG4gICAgICAgIC8vIFdlIG5lZWQgdG8gZmluZCB0YXJnZXQgZnJvbSBwYWdlWCwgcGFnZVkgd2hpY2ggYXJlIG9ubHlcbiAgICAgICAgLy8gYXZhaWxhYmxlIGFmdGVyIGNvbnN0cnVjdGlvbi4gVGhleSBzZWVtIHRvIGdldHRlciBpdGVtcy5cblxuICAgICAgICBsZXQgY2xvbmUgPSBSZWZsZWN0LmNvbnN0cnVjdChjb25zdHJ1Y3RvciwgW3R5cGUsIGRhdGFdKVxuICAgICAgICBjbG9uZS5tb3VzZURvd25TdWJzdGl0dXRlID0gZGF0YS5tb3VzZURvd25TdWJzdGl0dXRlXG4gICAgICAgIHJldHVybiBjbG9uZVxuICAgIH1cblxuICAgIHN0YXRpYyBzaW11bGF0ZUV2ZW50KHR5cGUsIGNvbnN0cnVjdG9yLCBkYXRhKSB7XG4gICAgICAgIGRhdGEudGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihkYXRhLnRhcmdldFNlbGVjdG9yKVxuICAgICAgICBsZXQgY2xvbmUgPSB0aGlzLmNsb25lRXZlbnQodHlwZSwgY29uc3RydWN0b3IsIGRhdGEpXG4gICAgICAgIGlmIChkYXRhLnRhcmdldCAhPSBudWxsKSB7XG4gICAgICAgICAgICBkYXRhLnRhcmdldC5kaXNwYXRjaEV2ZW50KGNsb25lKVxuICAgICAgICB9XG4gICAgICAgIGlmIChFdmVudHMuZGVidWcpIHtcbiAgICAgICAgICAgIEV2ZW50cy5zaW11bGF0ZWQucHVzaCh0aGlzLnRvTGluZShjbG9uZSkpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgdG9MaW5lKGV2ZW50KSB7XG4gICAgICAgIHJldHVybiBgJHtldmVudC50eXBlfSAjJHtldmVudC50YXJnZXQuaWR9ICR7ZXZlbnQuY2xpZW50WH0gJHtldmVudC5jbGllbnRZfWBcbiAgICAgICAgbGV0IHJlc3VsdCA9IGV2ZW50LnR5cGVcbiAgICAgICAgbGV0IHNlbGVjdG9yID0gdGhpcy5zZWxlY3RvcihldmVudC50YXJnZXQpXG4gICAgICAgIHJlc3VsdCArPSAnIHNlbGVjdG9yOiAnICsgc2VsZWN0b3JcbiAgICAgICAgaWYgKGV2ZW50LnRhcmdldCAhPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKSlcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDYW5ub3QgcmVzb2x2ZScsIHNlbGVjdG9yKVxuICAgICAgICBsZXQga2V5cyA9IFsnbGF5ZXJYJywgJ2xheWVyWScsICdwYWdlWCcsICdwYWdlWScsICdjbGllbnRYJywgJ2NsaWVudFknXVxuICAgICAgICBmb3IobGV0IGtleSBvZiBrZXlzKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnICcgKyBrZXkgKyAnOicgKyBldmVudFtrZXldXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaChlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0ludmFsaWQga2V5OiAnICsga2V5KVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHRcbiAgICB9XG5cbiAgICBzdGF0aWMgY29tcGFyZUV4dHJhY3RlZFdpdGhTaW11bGF0ZWQoKSB7XG4gICAgICAgIHZhciBkaWZmcyA9IDBcbiAgICAgICAgaWYgKHRoaXMuZXh0cmFjdGVkLmxlbmd0aCAhPSB0aGlzLnNpbXVsYXRlZC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGFsZXJ0KCdVbmVxdWFsIGxlbmd0aCBvZiBleHRyYWN0ZWQgWycgKyB0aGlzLmV4dHJhY3RlZC5sZW5ndGggK1xuICAgICAgICAgICAgICAgICAgICAnXSBhbmQgc2ltdWxhdGVkIGV2ZW50cyBbJyArIHRoaXMuc2ltdWxhdGVkLmxlbmd0aCArICddLicpXG4gICAgICAgICAgICBkaWZmcyArPSAxXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IobGV0IGk9MDsgaTx0aGlzLmV4dHJhY3RlZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBleHRyYWN0ZWQgPSB0aGlzLmV4dHJhY3RlZFtpXVxuICAgICAgICAgICAgICAgIHZhciBzaW11bGF0ZWQgPSB0aGlzLnNpbXVsYXRlZFtpXVxuICAgICAgICAgICAgICAgIGlmIChleHRyYWN0ZWQgIT0gc2ltdWxhdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFdmVudHMgZGlmZmVyOicgKyBleHRyYWN0ZWQgKyAnfCcgKyBzaW11bGF0ZWQpXG4gICAgICAgICAgICAgICAgICAgIGRpZmZzICs9IDFcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgc2VsZWN0b3IoY29udGV4dCkge1xuICAgICAgICByZXR1cm4gT3B0aW1hbFNlbGVjdC5zZWxlY3QoY29udGV4dClcbiAgICB9XG5cbiAgICBzdGF0aWMgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMuZXh0cmFjdGVkID0gW11cbiAgICAgICAgdGhpcy5zaW11bGF0ZWQgPSBbXVxuICAgIH1cblxuICAgIHN0YXRpYyByZXNldFNpbXVsYXRlZCgpIHtcbiAgICAgICAgdGhpcy5zaW11bGF0ZWQgPSBbXVxuICAgIH1cblxuICAgIHN0YXRpYyBzaG93RXh0cmFjdGVkRXZlbnRzKGV2ZW50KSB7XG4gICAgICAgIGlmICghZXZlbnQuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnBvcHVwID09IG51bGwpIHtcbiAgICAgICAgICAgIGxldCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgICAgICAgIEVsZW1lbnRzLnNldFN0eWxlKGVsZW1lbnQsIHsgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgICAgICAgICAgd2lkdGg6ICc0ODBweCcsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAnNjQwcHgnLFxuICAgICAgICAgICAgICAgIG92ZXJmbG93OiAnYXV0bycsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnbGlnaHRncmF5J30pXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGVsZW1lbnQpXG4gICAgICAgICAgICB0aGlzLnBvcHVwID0gZWxlbWVudFxuICAgICAgICB9XG4gICAgICAgIHRoaXMucG9wdXAuaW5uZXJIVE1MID0gJydcbiAgICAgICAgZm9yKGxldCBsaW5lIG9mIHRoaXMuZXh0cmFjdGVkKSB7XG4gICAgICAgICAgICBsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgICAgICAgIGRpdi5pbm5lckhUTUwgPSBsaW5lXG4gICAgICAgICAgICB0aGlzLnBvcHVwLmFwcGVuZENoaWxkKGRpdilcbiAgICAgICAgfVxuICAgICAgICBsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgICAgZGl2LmlubmVySFRNTCA9ICctLS0tLS0tLS0tLS0gU2ltdWxhdGVkIC0tLS0tLS0tLS0tJ1xuICAgICAgICB0aGlzLnBvcHVwLmFwcGVuZENoaWxkKGRpdilcbiAgICAgICAgZm9yKGxldCBsaW5lIG9mIHRoaXMuc2ltdWxhdGVkKSB7XG4gICAgICAgICAgICBsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgICAgICAgIGRpdi5pbm5lckhUTUwgPSBsaW5lXG4gICAgICAgICAgICB0aGlzLnBvcHVwLmFwcGVuZENoaWxkKGRpdilcbiAgICAgICAgfVxuICAgICAgICBFbGVtZW50cy5zZXRTdHlsZSh0aGlzLnBvcHVwLFxuICAgICAgICAgICAgICAgIHsgbGVmdDogZXZlbnQuY2xpZW50WCArICdweCcsIHRvcDogZXZlbnQuY2xpZW50WSArICdweCd9IClcbiAgICB9XG59XG5cbkV2ZW50cy5wb3B1cCA9IG51bGxcblxuRXZlbnRzLmRlYnVnID0gdHJ1ZVxuRXZlbnRzLmV4dHJhY3RlZCA9IFtdXG5FdmVudHMuc2ltdWxhdGVkID0gW11cblxuZXhwb3J0IGNsYXNzIEV2ZW50UmVjb3JkZXIge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMucmVjb3JkaW5nID0gW11cbiAgICAgICAgdGhpcy5yZWNvcmRlZCA9IFtdXG4gICAgICAgIHRoaXMuc3RlcCA9IDBcbiAgICB9XG5cbiAgICByZWNvcmQoZXZlbnQpIHtcbiAgICAgICAgbGV0IGxlbmd0aCA9IHRoaXMucmVjb3JkaW5nLmxlbmd0aFxuICAgICAgICBpZiAobGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRUaW1lID0gZXZlbnQudGltZVN0YW1wXG4gICAgICAgICAgICBFdmVudHMucmVzZXQoKVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICBcdGxldCBsYXN0ID0gdGhpcy5yZWNvcmRpbmdbbGVuZ3RoIC0gMV1cbiAgICAgICAgXHRpZiAoZXZlbnQudGltZVN0YW1wIDwgbGFzdC50aW1lKSB7XG4gICAgICAgIFx0XHRjb25zb2xlLmxvZygnd2FybmluZzogd3JvbmcgdGVtcG9yYWwgb3JkZXInKVxuICAgICAgICBcdH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgdCA9IGV2ZW50LnRpbWVTdGFtcCAtIHRoaXMuc3RhcnRUaW1lXG4gICAgICAgIHRoaXMucmVjb3JkaW5nLnB1c2goRXZlbnRzLmV4dHJhY3RFdmVudCh0LCBldmVudCkpXG4gICAgfVxuXG4gICAgc3RvcFJlY29yZGluZygpIHtcbiAgICAgICAgdGhpcy5yZWNvcmRlZCA9IHRoaXMucmVjb3JkaW5nXG4gICAgICAgIHRoaXMucmVjb3JkaW5nID0gW11cbiAgICAgICAgY29uc29sZS5sb2coJ1JlY29yZGVkICcgKyB0aGlzLnJlY29yZGVkLmxlbmd0aCArICcgZXZlbnRzJylcbiAgICB9XG5cbiAgICBzdGFydFJlcGxheSh3aGlsZUNvbmRpdGlvbj1udWxsLCBvbkNvbXBsZXRlPW51bGwpIHtcbiAgICAgICAgdGhpcy5zdGVwID0gMFxuICAgICAgICBFdmVudHMucmVzZXRTaW11bGF0ZWQoKVxuICAgICAgICB0aGlzLnJlcGxheSh3aGlsZUNvbmRpdGlvbiwgb25Db21wbGV0ZSlcbiAgICB9XG5cbiAgICByZXBsYXkod2hpbGVDb25kaXRpb249bnVsbCwgb25Db21wbGV0ZT1udWxsKSB7XG4gICAgICAgIGlmICh0aGlzLnN0ZXAgPCB0aGlzLnJlY29yZGVkLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIHt0eXBlLCB0aW1lLCBjb25zdHJ1Y3RvciwgZGF0YX0gPSB0aGlzLnJlY29yZGVkW3RoaXMuc3RlcF1cbiAgICAgICAgICAgIEV2ZW50cy5zaW11bGF0ZUV2ZW50KHR5cGUsIGNvbnN0cnVjdG9yLCBkYXRhKVxuICAgICAgICAgICAgdGhpcy5zdGVwICs9IDFcbiAgICAgICAgICAgIGxldCBkdCA9IDBcbiAgICAgICAgICAgIGlmICh0aGlzLnN0ZXAgPCB0aGlzLnJlY29yZGVkLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHZhciBuZXh0ID0gdGhpcy5yZWNvcmRlZFt0aGlzLnN0ZXBdXG4gICAgICAgICAgICAgICAgZHQgPSBuZXh0LnRpbWUgLSB0aW1lXG4gICAgICAgICAgICAgICAgaWYgKGR0IDwgMCkge1xuICAgICAgICAgICAgICAgIFx0Y29uc29sZS5sb2coJ3dhcm5pbmc6IHdyb25nIHRlbXBvcmFsIG9yZGVyJylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAod2hpbGVDb25kaXRpb24gPT0gbnVsbCB8fCB3aGlsZUNvbmRpdGlvbigpKSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLnJlcGxheSh3aGlsZUNvbmRpdGlvbiwgb25Db21wbGV0ZSksIE1hdGgucm91bmQoZHQpKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICBcdGNvbnNvbGUubG9nKCdQbGF5ZWQgJyArIHRoaXMuc3RlcCArICcgZXZlbnRzJyArIG9uQ29tcGxldGUpXG4gICAgICAgIFx0aWYgKG9uQ29tcGxldGUgIT0gbnVsbCkge1xuICAgICAgICBcdCAgICBvbkNvbXBsZXRlKClcbiAgICAgICAgXHR9XG4gICAgICAgICAgIC8vIEV2ZW50cy5jb21wYXJlRXh0cmFjdGVkV2l0aFNpbXVsYXRlZCgpXG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIi8qIGdsb2JhbHMgV2ViS2l0UG9pbnQgKi9cblxuLyoqIFRlc3RzIHdoZXRoZXIgYW4gb2JqZWN0IGlzIGVtcHR5XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqIC0gdGhlIG9iamVjdCB0byBiZSB0ZXN0ZWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0VtcHR5KG9iaikge1xuICAgIC8vID4gaXNFbXB0eSh7fSlcbiAgICAvLyB0cnVlXG4gICAgZm9yIChsZXQgaSBpbiBvYmopIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICAgIHJldHVybiB0cnVlXG59XG5cbi8qKiBSZXR1cm5zIGEgdW5pdmVyc2FsIHVuaXF1ZSBpZFxuICogQHJldHVybiB7c3RyaW5nfVxuICogU2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzEwNTAzNC9jcmVhdGUtZ3VpZC11dWlkLWluLWphdmFzY3JpcHQvMjE5NjMxMzYjMjE5NjMxMzZcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHV1aWQoKSB7XG4gICAgcmV0dXJuICd4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZywgYyA9PiB7XG4gICAgICAgIGxldCByID0gKE1hdGgucmFuZG9tKCkgKiAxNikgfCAwLFxuICAgICAgICAgICAgdiA9IGMgPT0gJ3gnID8gciA6IChyICYgMHgzKSB8IDB4OFxuICAgICAgICByZXR1cm4gdi50b1N0cmluZygxNilcbiAgICB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbGVycChzdGFydCwgc3RvcCwgYW10KSB7XG4gICAgcmV0dXJuIGFtdCAqIChzdG9wIC0gc3RhcnQpICsgc3RhcnRcbn1cblxuLy8gUmV0dXJucyBhIGZ1bmN0aW9uLCB0aGF0LCBhcyBsb25nIGFzIGl0IGNvbnRpbnVlcyB0byBiZSBpbnZva2VkLCB3aWxsIG5vdFxuLy8gYmUgdHJpZ2dlcmVkLiBUaGUgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgYWZ0ZXIgaXQgc3RvcHMgYmVpbmcgY2FsbGVkIGZvclxuLy8gTiBtaWxsaXNlY29uZHMuIElmIGBpbW1lZGlhdGVgIGlzIHBhc3NlZCwgdHJpZ2dlciB0aGUgZnVuY3Rpb24gb24gdGhlXG4vLyBsZWFkaW5nIGVkZ2UsIGluc3RlYWQgb2YgdGhlIHRyYWlsaW5nLlxuLy8gVGFrZW4gZnJvbTogaHR0cHM6Ly9kYXZpZHdhbHNoLm5hbWUvZXNzZW50aWFsLWphdmFzY3JpcHQtZnVuY3Rpb25zXG5leHBvcnQgZnVuY3Rpb24gZGVib3VuY2UoZnVuYywgd2FpdCwgaW1tZWRpYXRlKSB7XG4gICAgbGV0IHRpbWVvdXRcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIGxldCBjb250ZXh0ID0gdGhpcyxcbiAgICAgICAgICAgIGFyZ3MgPSBhcmd1bWVudHNcbiAgICAgICAgbGV0IGxhdGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aW1lb3V0ID0gbnVsbFxuICAgICAgICAgICAgaWYgKCFpbW1lZGlhdGUpIGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncylcbiAgICAgICAgfVxuICAgICAgICBsZXQgY2FsbE5vdyA9IGltbWVkaWF0ZSAmJiAhdGltZW91dFxuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dClcbiAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHdhaXQpXG4gICAgICAgIGlmIChjYWxsTm93KSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpXG4gICAgfVxufVxuXG4vKiogUmV0dXJucyBhbiBpZCB0aGF0IGlzIGd1YXJhbnRlZWQgdG8gYmUgdW5pcXVlIHdpdGhpbiB0aGUgbGl2ZXRpbWUgb2YgdGhlXG4gKiBhcHBsaWNhdGlvblxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5sZXQgX2lkR2VuZXJhdG9yID0gMFxuZXhwb3J0IGZ1bmN0aW9uIGdldElkKCkge1xuICAgIHJldHVybiAnaWQnICsgX2lkR2VuZXJhdG9yKytcbn1cblxuZXhwb3J0IGNsYXNzIERhdGVzIHtcbiAgICBzdGF0aWMgY3JlYXRlKGZ1bGxZZWFyLCBtb250aCwgZGF5KSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZShEYXRlLlVUQyhmdWxsWWVhciwgbW9udGgsIGRheSkpXG4gICAgfVxuXG4gICAgc3RhdGljIGRheXNJbk1vbnRoKGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGRhdGUuZ2V0RnVsbFllYXIoKSwgZGF0ZS5nZXRNb250aCgpICsgMSwgMCkuZ2V0RGF0ZSgpXG4gICAgfVxuXG4gICAgc3RhdGljIG5leHRZZWFyKGRhdGUsIG9mZnNldCA9IDEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlKGRhdGUuZ2V0RnVsbFllYXIoKSArIG9mZnNldCwgMCwgMSlcbiAgICB9XG5cbiAgICBzdGF0aWMgbmV4dE1vbnRoKGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlKGRhdGUuZ2V0RnVsbFllYXIoKSwgZGF0ZS5nZXRNb250aCgpICsgMSwgMSlcbiAgICB9XG5cbiAgICBzdGF0aWMgbmV4dERheShkYXRlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZShcbiAgICAgICAgICAgIGRhdGUuZ2V0RnVsbFllYXIoKSxcbiAgICAgICAgICAgIGRhdGUuZ2V0TW9udGgoKSxcbiAgICAgICAgICAgIGRhdGUuZ2V0RGF0ZSgpICsgMVxuICAgICAgICApXG4gICAgfVxuXG4gICAgc3RhdGljIG5leHRIb3VyKGRhdGUpIHtcbiAgICAgICAgLy8gU2VlIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTA1MDcyMC9hZGRpbmctaG91cnMtdG8tamF2YXNjcmlwdC1kYXRlLW9iamVjdFxuICAgICAgICByZXR1cm4gbmV3IERhdGUoZGF0ZS5nZXRUaW1lKCkgKyA2MCAqIDYwICogMTAwMClcbiAgICB9XG5cbiAgICBzdGF0aWMgbmV4dE1pbnV0ZShkYXRlKSB7XG4gICAgICAgIC8vIFNlZSBhYm92ZVxuICAgICAgICByZXR1cm4gbmV3IERhdGUoZGF0ZS5nZXRUaW1lKCkgKyA2MCAqIDEwMDApXG4gICAgfVxuXG4gICAgc3RhdGljIG5leHRTZWNvbmQoZGF0ZSkge1xuICAgICAgICAvLyBTZWUgYWJvdmVcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGRhdGUuZ2V0VGltZSgpICsgMTAwMClcbiAgICB9XG5cbiAgICBzdGF0aWMgbmV4dE1pbGxpc2Vjb25kKGRhdGUpIHtcbiAgICAgICAgLy8gU2VlIGFib3ZlXG4gICAgICAgIHJldHVybiBuZXcgRGF0ZShkYXRlLmdldFRpbWUoKSArIDEpXG4gICAgfVxuXG4gICAgc3RhdGljICppdGVyWWVhcnMoc3RhcnQsIGVuZCkge1xuICAgICAgICBsZXQgZGF0ZSA9IHRoaXMuY3JlYXRlKHN0YXJ0LmdldEZ1bGxZZWFyKCksIDAsIDEpXG4gICAgICAgIHdoaWxlIChkYXRlIDw9IGVuZCkge1xuICAgICAgICAgICAgeWllbGQgZGF0ZVxuICAgICAgICAgICAgZGF0ZSA9IHRoaXMubmV4dFllYXIoZGF0ZSlcbiAgICAgICAgfVxuICAgICAgICB5aWVsZCBkYXRlXG4gICAgfVxuXG4gICAgc3RhdGljICppdGVyTW9udGhzKHllYXIsIGxpbWl0ID0gMTIpIHtcbiAgICAgICAgbGV0IG1vbnRoID0gMFxuICAgICAgICB3aGlsZSAobW9udGggPCBsaW1pdCkge1xuICAgICAgICAgICAgbGV0IGRhdGUgPSB0aGlzLmNyZWF0ZSh5ZWFyLmdldEZ1bGxZZWFyKCksIG1vbnRoLCAxKVxuICAgICAgICAgICAgeWllbGQgZGF0ZVxuICAgICAgICAgICAgbW9udGggKz0gMVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljICppdGVyTW9udGhzT2ZZZWFycyh5ZWFycykge1xuICAgICAgICBmb3IgKGxldCB5ZWFyIG9mIHllYXJzKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBtb250aCBvZiB0aGlzLml0ZXJNb250aHMoeWVhcikpIHtcbiAgICAgICAgICAgICAgICB5aWVsZCBtb250aFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljICppdGVyRGF5cyhtb250aCkge1xuICAgICAgICBsZXQgZGF5ID0gMVxuICAgICAgICBsZXQgbGltaXQgPSBEYXRlcy5kYXlzSW5Nb250aChtb250aClcbiAgICAgICAgd2hpbGUgKGRheSA8PSBsaW1pdCkge1xuICAgICAgICAgICAgbGV0IGRhdGUgPSB0aGlzLmNyZWF0ZShtb250aC5nZXRGdWxsWWVhcigpLCBtb250aC5nZXRNb250aCgpLCBkYXkpXG4gICAgICAgICAgICB5aWVsZCBkYXRlXG4gICAgICAgICAgICBkYXkgKz0gMVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljICppdGVyRGF5c09mTW9udGhzKG1vbnRocykge1xuICAgICAgICBmb3IgKGxldCBtb250aCBvZiBtb250aHMpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGRheSBvZiB0aGlzLml0ZXJEYXlzKG1vbnRoKSkge1xuICAgICAgICAgICAgICAgIHlpZWxkIGRheVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuLyogQ29sb3IgY29udmVyc2lvbiBmdW5jdGlvbnMgKi9cblxuZXhwb3J0IGNsYXNzIENvbG9ycyB7XG4gICAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy81NjIzODM4L3JnYi10by1oZXgtYW5kLWhleC10by1yZ2JcblxuICAgIHN0YXRpYyByZ2IybnVtKHJlZCwgZ3JlZW4sIGJsdWUpIHtcbiAgICAgICAgbGV0IHJnYiA9IGJsdWUgfCAoZ3JlZW4gPDwgOCkgfCAocmVkIDw8IDE2KVxuICAgICAgICByZXR1cm4gMHgwMDAwMDAgKyByZ2JcbiAgICB9XG5cbiAgICBzdGF0aWMgcmdiMmhleChyZWQsIGdyZWVuLCBibHVlKSB7XG4gICAgICAgIGxldCByZ2IgPSBibHVlIHwgKGdyZWVuIDw8IDgpIHwgKHJlZCA8PCAxNilcbiAgICAgICAgcmV0dXJuICcjJyArICgweDEwMDAwMDAgKyByZ2IpLnRvU3RyaW5nKDE2KS5zbGljZSgxKVxuICAgIH1cblxuICAgIHN0YXRpYyBoZXgycmdiKGhleCkge1xuICAgICAgICAvLyBsb25nIHZlcnNpb25cbiAgICAgICAgbGV0IHIgPSBoZXgubWF0Y2goL14jKFswLTlhLWZdezJ9KShbMC05YS1mXXsyfSkoWzAtOWEtZl17Mn0pJC9pKVxuICAgICAgICBpZiAocikge1xuICAgICAgICAgICAgcmV0dXJuIHIuc2xpY2UoMSwgNCkubWFwKHggPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUludCh4LCAxNilcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgLy8gc2hvcnQgdmVyc2lvblxuICAgICAgICByID0gaGV4Lm1hdGNoKC9eIyhbMC05YS1mXSkoWzAtOWEtZl0pKFswLTlhLWZdKSQvaSlcbiAgICAgICAgaWYgKHIpIHtcbiAgICAgICAgICAgIHJldHVybiByLnNsaWNlKDEsIDQpLm1hcCh4ID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMHgxMSAqIHBhcnNlSW50KHgsIDE2KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIHN0YXRpYyByZ2IociwgZywgYikge1xuICAgICAgICByZXR1cm4ge3IsIGcsIGJ9XG4gICAgfVxuXG4gICAgc3RhdGljIGxlcnAocmdiMSwgcmdiMiwgYW1vdW50KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByOiBNYXRoLnJvdW5kKGxlcnAocmdiMS5yLCByZ2IyLnIsIGFtb3VudCkpLFxuICAgICAgICAgICAgZzogTWF0aC5yb3VuZChsZXJwKHJnYjEuZywgcmdiMi5nLCBhbW91bnQpKSxcbiAgICAgICAgICAgIGI6IE1hdGgucm91bmQobGVycChyZ2IxLmIsIHJnYjIuYiwgYW1vdW50KSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgdmlvbGV0KCkge1xuICAgICAgICByZXR1cm4gQ29sb3JzLnJnYjJudW0oODksIDM0LCAxMzEpXG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBzdGVlbGJsdWUoKSB7XG4gICAgICAgIHJldHVybiBDb2xvcnMucmdiMm51bSgwLCAxMzAsIDE2NClcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IG9jaHJlKCkge1xuICAgICAgICByZXR1cm4gQ29sb3JzLnJnYjJudW0oMTgxLCAxNTcsIDApXG4gICAgfVxuXG4gICAgc3RhdGljIGdldCB0dXJxdW9pc2UoKSB7XG4gICAgICAgIHJldHVybiBDb2xvcnMucmdiMm51bSgzNCwgMTY0LCAxMzEpXG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBlbWluZW5jZSgpIHtcbiAgICAgICAgcmV0dXJuIENvbG9ycy5yZ2IybnVtKDE1MCwgNjAsIDEzNClcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDeWNsZSBleHRlbmRzIEFycmF5IHtcbiAgICBjb25zdHJ1Y3RvciguLi5pdGVtcykge1xuICAgICAgICBzdXBlcigpXG4gICAgICAgIGZvciAobGV0IGl0ZW0gb2YgaXRlbXMpIHtcbiAgICAgICAgICAgIHRoaXMucHVzaChpdGVtKVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW5kZXggPSAwXG4gICAgfVxuXG4gICAgbmV4dCgpIHtcbiAgICAgICAgaWYgKHRoaXMuaW5kZXggPT0gdGhpcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuaW5kZXggPSAwXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXNbdGhpcy5pbmRleCsrXVxuICAgIH1cblxuICAgIGN1cnJlbnQoKSB7XG4gICAgICAgIGlmICh0aGlzLmluZGV4ID09PSB0aGlzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5pbmRleCA9IDBcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpc1t0aGlzLmluZGV4XVxuICAgIH1cbn1cblxuLyoqIFN0YXRpYyBtZXRob2RzIHRvIGNvbXB1dGUgMkQgcG9pbnRzIHdpdGggeCBhbmQgeSBjb29yZGluYXRlcy5cbiAqL1xuZXhwb3J0IGNsYXNzIFBvaW50cyB7XG4gICAgc3RhdGljIGxlbmd0aChhKSB7XG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoYS54ICogYS54ICsgYS55ICogYS55KVxuICAgIH1cblxuICAgIHN0YXRpYyBub3JtYWxpemUocCkge1xuICAgICAgICBsZXQgbGVuID0gdGhpcy5sZW5ndGgocClcbiAgICAgICAgcmV0dXJuIHRoaXMubXVsdGlwbHlTY2FsYXIocCwgMSAvIGxlbilcbiAgICB9XG5cbiAgICBzdGF0aWMgbWVhbihhLCBiKSB7XG4gICAgICAgIHJldHVybiB7eDogKGEueCArIGIueCkgLyAyLCB5OiAoYS55ICsgYi55KSAvIDJ9XG4gICAgfVxuXG4gICAgc3RhdGljIHN1YnRyYWN0KGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIHt4OiBhLnggLSBiLngsIHk6IGEueSAtIGIueX1cbiAgICB9XG5cbiAgICBzdGF0aWMgbXVsdGlwbHkoYSwgYikge1xuICAgICAgICByZXR1cm4ge3g6IGEueCAqIGIueCwgeTogYS55ICogYi55fVxuICAgIH1cblxuICAgIHN0YXRpYyBtdWx0aXBseVNjYWxhcihhLCBiKSB7XG4gICAgICAgIHJldHVybiB7eDogYS54ICogYiwgeTogYS55ICogYn1cbiAgICB9XG5cbiAgICBzdGF0aWMgYWRkKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIHt4OiBhLnggKyBiLngsIHk6IGEueSArIGIueX1cbiAgICB9XG5cbiAgICBzdGF0aWMgbmVnYXRlKHApIHtcbiAgICAgICAgcmV0dXJuIHt4OiAtcC54LCB5OiAtcC55fVxuICAgIH1cblxuICAgIHN0YXRpYyBhbmdsZShwMSwgcDIpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguYXRhbjIocDEueSAtIHAyLnksIHAxLnggLSBwMi54KVxuICAgIH1cblxuICAgIHN0YXRpYyBhcmMocCwgYWxwaGEsIHJhZGl1cykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogcC54ICsgcmFkaXVzICogTWF0aC5jb3MoYWxwaGEpLFxuICAgICAgICAgICAgeTogcC55ICsgcmFkaXVzICogTWF0aC5zaW4oYWxwaGEpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgZGlzdGFuY2UoYSwgYikge1xuICAgICAgICBsZXQgZHggPSBhLnggLSBiLnhcbiAgICAgICAgbGV0IGR5ID0gYS55IC0gYi55XG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpXG4gICAgfVxuXG4gICAgc3RhdGljIGZyb21QYWdlVG9Ob2RlKGVsZW1lbnQsIHApIHtcbiAgICAgICAgLy8gICAgaWYgKHdpbmRvdy53ZWJraXRDb252ZXJ0UG9pbnRGcm9tUGFnZVRvTm9kZSkge1xuICAgICAgICAvLyAgICAgICAgICAgICByZXR1cm4gd2luZG93LndlYmtpdENvbnZlcnRQb2ludEZyb21QYWdlVG9Ob2RlKGVsZW1lbnQsXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgV2ViS2l0UG9pbnQocC54LCBwLnkpKVxuICAgICAgICAvLyAgICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdpbmRvdy5jb252ZXJ0UG9pbnRGcm9tUGFnZVRvTm9kZShlbGVtZW50LCBwLngsIHAueSlcbiAgICB9XG5cbiAgICBzdGF0aWMgZnJvbU5vZGVUb1BhZ2UoZWxlbWVudCwgcCkge1xuICAgICAgICAvLyAgaWYgKHdpbmRvdy53ZWJraXRDb252ZXJ0UG9pbnRGcm9tTm9kZVRvUGFnZSkge1xuICAgICAgICAvLyAgICAgICAgICAgICByZXR1cm4gd2luZG93LndlYmtpdENvbnZlcnRQb2ludEZyb21Ob2RlVG9QYWdlKGVsZW1lbnQsXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgV2ViS2l0UG9pbnQocC54LCBwLnkpKVxuICAgICAgICAvLyAgICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdpbmRvdy5jb252ZXJ0UG9pbnRGcm9tTm9kZVRvUGFnZShlbGVtZW50LCBwLngsIHAueSlcbiAgICB9XG59XG5cbi8qKiBTdGF0aWMgbWV0aG9kcyB0byBjb21wdXRlIGFuZ2xlcy5cbiAqL1xuZXhwb3J0IGNsYXNzIEFuZ2xlIHtcbiAgICBzdGF0aWMgbm9ybWFsaXplKGFuZ2xlKSB7XG4gICAgICAgIGxldCB0d29QSSA9IE1hdGguUEkgKiAyLjBcbiAgICAgICAgd2hpbGUgKGFuZ2xlID4gTWF0aC5QSSkge1xuICAgICAgICAgICAgYW5nbGUgLT0gdHdvUElcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoYW5nbGUgPCAtTWF0aC5QSSkge1xuICAgICAgICAgICAgYW5nbGUgKz0gdHdvUElcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYW5nbGVcbiAgICB9XG5cbiAgICBzdGF0aWMgbm9ybWFsaXplRGVncmVlKGFuZ2xlKSB7XG4gICAgICAgIGxldCBmdWxsID0gMzYwLjBcbiAgICAgICAgd2hpbGUgKGFuZ2xlID4gMTgwLjApIHtcbiAgICAgICAgICAgIGFuZ2xlIC09IGZ1bGxcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoYW5nbGUgPCAtMTgwLjApIHtcbiAgICAgICAgICAgIGFuZ2xlICs9IGZ1bGxcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYW5nbGVcbiAgICB9XG5cbiAgICBzdGF0aWMgZGlmZihhLCBiKSB7XG4gICAgICAgIHJldHVybiBBbmdsZS5ub3JtYWxpemUoTWF0aC5hdGFuMihNYXRoLnNpbihhIC0gYiksIE1hdGguY29zKGEgLSBiKSkpXG4gICAgfVxuXG4gICAgc3RhdGljIGRlZ3JlZTJyYWRpYW4oZGVncmVlKSB7XG4gICAgICAgIHJldHVybiBNYXRoLlBJICogZGVncmVlIC8gMTgwLjBcbiAgICB9XG5cbiAgICBzdGF0aWMgcmFkaWFuMmRlZ3JlZShyYWQpIHtcbiAgICAgICAgcmV0dXJuIDE4MC4wIC8gTWF0aC5QSSAqIHJhZFxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEVsZW1lbnRzIHtcbiAgICBzdGF0aWMgc2V0U3R5bGUoZWxlbWVudCwgc3R5bGVzKSB7XG4gICAgICAgIGZvciAobGV0IGtleSBpbiBzdHlsZXMpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGVba2V5XSA9IHN0eWxlc1trZXldXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgYWRkQ2xhc3MoZWxlbWVudCwgY3NzQ2xhc3MpIHtcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKGNzc0NsYXNzKVxuICAgIH1cblxuICAgIHN0YXRpYyByZW1vdmVDbGFzcyhlbGVtZW50LCBjc3NDbGFzcykge1xuICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoY3NzQ2xhc3MpXG4gICAgfVxuXG4gICAgc3RhdGljIHRvZ2dsZUNsYXNzKGVsZW1lbnQsIGNzc0NsYXNzKSB7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZShjc3NDbGFzcylcbiAgICB9XG5cbiAgICBzdGF0aWMgaGFzQ2xhc3MoZWxlbWVudCwgY3NzQ2xhc3MpIHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKGNzc0NsYXNzKVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1hcFByb3h5IHtcbiAgICAvKiBUaGlzIGNsYXNzIGlzIG5lZWRlZCBpZiB3ZSB3YW50IHRvIHVzZSB0aGUgaW50ZXJhY3Rpb24gY2xhc3Nlc1xuICAgIGluIEZpcmVmb3ggNDUuOCBhbmQgbW9kZXJuIEJyb3dzZXJzLlxuXG4gICAgQSB3b3JrYXJvdW5kIGZvciBodHRwczovL2dpdGh1Yi5jb20vYmFiZWwvYmFiZWwvaXNzdWVzLzIzMzRcbiAgKi9cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5tYXAgPSBuZXcgTWFwKClcbiAgICB9XG5cbiAgICBnZXQgc2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFwLnNpemVcbiAgICB9XG5cbiAgICBnZXQoa2V5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcC5nZXQoa2V5KVxuICAgIH1cblxuICAgIHNldChrZXksIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcC5zZXQoa2V5LCB2YWx1ZSlcbiAgICB9XG5cbiAgICBkZWxldGUoa2V5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcC5kZWxldGUoa2V5KVxuICAgIH1cblxuICAgIGNsZWFyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXAuY2xlYXIoKVxuICAgIH1cblxuICAgIGhhcyhrZXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFwLmhhcyhrZXkpXG4gICAgfVxuXG4gICAga2V5cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFwLmtleXMoKVxuICAgIH1cblxuICAgIHZhbHVlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFwLnZhbHVlcygpXG4gICAgfVxuXG4gICAgZW50cmllcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFwLmVudHJpZXMoKVxuICAgIH1cblxuICAgIGZvckVhY2goZnVuYykge1xuICAgICAgICB0aGlzLm1hcC5mb3JFYWNoKGZ1bmMpXG4gICAgfVxufVxuXG4vKiBCYXNlZCBvbSBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9jd2xlb25hcmQvZTEyNGQ2MzIzOGJkYTdhM2NiZmEgKi9cbmV4cG9ydCBjbGFzcyBQb2x5Z29uIHtcbiAgICAvKlxuICAgICAqICBUaGlzIGlzIHRoZSBQb2x5Z29uIGNvbnN0cnVjdG9yLiBBbGwgcG9pbnRzIGFyZSBjZW50ZXItcmVsYXRpdmUuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoY2VudGVyKSB7XG4gICAgICAgIHRoaXMucG9pbnRzID0gbmV3IEFycmF5KClcbiAgICAgICAgdGhpcy5jZW50ZXIgPSBjZW50ZXJcbiAgICB9XG5cbiAgICAvKlxuICAgICAqICBQb2ludCB4IGFuZCB5IHZhbHVlcyBzaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGNlbnRlci5cbiAgICAgKi9cbiAgICBhZGRQb2ludChwKSB7XG4gICAgICAgIHRoaXMucG9pbnRzLnB1c2gocClcbiAgICB9XG5cbiAgICAvKlxuICAgICAqICBQb2ludCB4IGFuZCB5IHZhbHVlcyBzaG91bGQgYmUgYWJzb2x1dGUgY29vcmRpbmF0ZXMuXG4gICAgICovXG4gICAgYWRkQWJzb2x1dGVQb2ludChwKSB7XG4gICAgICAgIHRoaXMucG9pbnRzLnB1c2goe3g6IHAueCAtIHRoaXMuY2VudGVyLngsIHk6IHAueSAtIHRoaXMuY2VudGVyLnl9KVxuICAgIH1cblxuICAgIC8qXG4gICAgICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIHNpZGVzLiBFcXVhbCB0byB0aGUgbnVtYmVyIG9mIHZlcnRpY2VzLlxuICAgICAqL1xuICAgIGdldE51bWJlck9mU2lkZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBvaW50cy5sZW5ndGhcbiAgICB9XG5cbiAgICAvKlxuICAgICAqIHJvdGF0ZSB0aGUgcG9seWdvbiBieSBhIG51bWJlciBvZiByYWRpYW5zXG4gICAgICovXG4gICAgcm90YXRlKHJhZHMpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHggPSB0aGlzLnBvaW50c1tpXS54XG4gICAgICAgICAgICBsZXQgeSA9IHRoaXMucG9pbnRzW2ldLnlcbiAgICAgICAgICAgIHRoaXMucG9pbnRzW2ldLnggPSBNYXRoLmNvcyhyYWRzKSAqIHggLSBNYXRoLnNpbihyYWRzKSAqIHlcbiAgICAgICAgICAgIHRoaXMucG9pbnRzW2ldLnkgPSBNYXRoLnNpbihyYWRzKSAqIHggKyBNYXRoLmNvcyhyYWRzKSAqIHlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qXG4gICAgICogIFRoZSBkcmF3IGZ1bmN0aW9uIHRha2VzIGFzIGEgcGFyYW1ldGVyIGEgQ29udGV4dCBvYmplY3QgZnJvbVxuICAgICAqICBhIENhbnZhcyBlbGVtZW50IGFuZCBkcmF3cyB0aGUgcG9seWdvbiBvbiBpdC5cbiAgICAgKi9cbiAgICBkcmF3KGNvbnRleHQsIHtsaW5lV2lkdGggPSAyLCBzdHJva2UgPSAnIzAwMDAwMCcsIGZpbGwgPSBudWxsfSA9IHt9KSB7XG4gICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKClcbiAgICAgICAgY29udGV4dC5tb3ZlVG8oXG4gICAgICAgICAgICB0aGlzLnBvaW50c1swXS54ICsgdGhpcy5jZW50ZXIueCxcbiAgICAgICAgICAgIHRoaXMucG9pbnRzWzBdLnkgKyB0aGlzLmNlbnRlci55XG4gICAgICAgIClcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCB0aGlzLnBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29udGV4dC5saW5lVG8oXG4gICAgICAgICAgICAgICAgdGhpcy5wb2ludHNbaV0ueCArIHRoaXMuY2VudGVyLngsXG4gICAgICAgICAgICAgICAgdGhpcy5wb2ludHNbaV0ueSArIHRoaXMuY2VudGVyLnlcbiAgICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpXG4gICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gbGluZVdpZHRoXG4gICAgICAgIGlmIChzdHJva2UpIHtcbiAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBzdHJva2VcbiAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKClcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmlsbCkge1xuICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBmaWxsXG4gICAgICAgICAgICBjb250ZXh0LmZpbGwoKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWJzb2x1dGVQb2ludHMoKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBuZXcgQXJyYXkoKVxuICAgICAgICBmb3IgKGxldCBwIG9mIHRoaXMucG9pbnRzKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChQb2ludHMuYWRkKHAsIHRoaXMuY2VudGVyKSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0XG4gICAgfVxuXG4gICAgZmxhdEFic29sdXRlUG9pbnRzKCkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gbmV3IEFycmF5KClcbiAgICAgICAgZm9yIChsZXQgcCBvZiB0aGlzLnBvaW50cykge1xuICAgICAgICAgICAgbGV0IGEgPSBQb2ludHMuYWRkKHAsIHRoaXMuY2VudGVyKVxuICAgICAgICAgICAgcmVzdWx0LnB1c2goYS54KVxuICAgICAgICAgICAgcmVzdWx0LnB1c2goYS55KVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHRcbiAgICB9XG5cbiAgICAvKlxuICAgICAqICBUaGlzIGZ1bmN0aW9uIHJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gcG9pbnQgaXMgaW5zaWRlIHRoZSBwb2x5Z29uLFxuICAgICAqICBhbmQgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIGNvbnRhaW5zUG9pbnQocG50KSB7XG4gICAgICAgIGxldCBudmVydCA9IHRoaXMucG9pbnRzLmxlbmd0aFxuICAgICAgICBsZXQgdGVzdHggPSBwbnQueFxuICAgICAgICBsZXQgdGVzdHkgPSBwbnQueVxuXG4gICAgICAgIGxldCB2ZXJ0eCA9IG5ldyBBcnJheSgpXG4gICAgICAgIGZvciAobGV0IHEgPSAwOyBxIDwgdGhpcy5wb2ludHMubGVuZ3RoOyBxKyspIHtcbiAgICAgICAgICAgIHZlcnR4LnB1c2godGhpcy5wb2ludHNbcV0ueCArIHRoaXMuY2VudGVyLngpXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdmVydHkgPSBuZXcgQXJyYXkoKVxuICAgICAgICBmb3IgKGxldCB3ID0gMDsgdyA8IHRoaXMucG9pbnRzLmxlbmd0aDsgdysrKSB7XG4gICAgICAgICAgICB2ZXJ0eS5wdXNoKHRoaXMucG9pbnRzW3ddLnkgKyB0aGlzLmNlbnRlci55KVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGksXG4gICAgICAgICAgICBqID0gMFxuICAgICAgICBsZXQgYyA9IGZhbHNlXG4gICAgICAgIGZvciAoaSA9IDAsIGogPSBudmVydCAtIDE7IGkgPCBudmVydDsgaiA9IGkrKykge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHZlcnR5W2ldID4gdGVzdHkgIT0gdmVydHlbal0gPiB0ZXN0eSAmJlxuICAgICAgICAgICAgICAgIHRlc3R4IDxcbiAgICAgICAgICAgICAgICAgICAgKHZlcnR4W2pdIC0gdmVydHhbaV0pICpcbiAgICAgICAgICAgICAgICAgICAgICAgICh0ZXN0eSAtIHZlcnR5W2ldKSAvXG4gICAgICAgICAgICAgICAgICAgICAgICAodmVydHlbal0gLSB2ZXJ0eVtpXSkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgdmVydHhbaV1cbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICBjID0gIWNcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY1xuICAgIH1cblxuICAgIG11bHRpcGx5U2NhbGFyKHNjYWxlKSB7XG4gICAgICAgIGxldCBjZW50ZXIgPSBQb2ludHMubXVsdGlwbHlTY2FsYXIodGhpcy5jZW50ZXIsIHNjYWxlKVxuICAgICAgICBsZXQgY2xvbmUgPSBuZXcgUG9seWdvbihjZW50ZXIpXG4gICAgICAgIGZvciAobGV0IHAgb2YgdGhpcy5wb2ludHMpIHtcbiAgICAgICAgICAgIGNsb25lLmFkZFBvaW50KFBvaW50cy5tdWx0aXBseVNjYWxhcihwLCBzY2FsZSkpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNsb25lXG4gICAgfVxuXG4gICAgLypcbiAgICAgKiAgVG8gZGV0ZWN0IGludGVyc2VjdGlvbiB3aXRoIGFub3RoZXIgUG9seWdvbiBvYmplY3QsIHRoaXNcbiAgICAgKiAgZnVuY3Rpb24gdXNlcyB0aGUgU2VwYXJhdGluZyBBeGlzIFRoZW9yZW0uIEl0IHJldHVybnMgZmFsc2VcbiAgICAgKiAgaWYgdGhlcmUgaXMgbm8gaW50ZXJzZWN0aW9uLCBvciBhbiBvYmplY3QgaWYgdGhlcmUgaXMuIFRoZSBvYmplY3RcbiAgICAgKiAgY29udGFpbnMgMiBmaWVsZHMsIG92ZXJsYXAgYW5kIGF4aXMuIE1vdmluZyB0aGUgcG9seWdvbiBieSBvdmVybGFwXG4gICAgICogIG9uIGF4aXMgd2lsbCBnZXQgdGhlIHBvbHlnb25zIG91dCBvZiBpbnRlcnNlY3Rpb24uXG4gICAgICovXG4gICAgaW50ZXJzZWN0c1dpdGgob3RoZXIpIHtcbiAgICAgICAgbGV0IGF4aXMgPSB7eDogMCwgeTogMH1cbiAgICAgICAgbGV0IHRtcCwgbWluQSwgbWF4QSwgbWluQiwgbWF4QlxuICAgICAgICBsZXQgc2lkZSwgaVxuICAgICAgICBsZXQgc21hbGxlc3QgPSBudWxsXG4gICAgICAgIGxldCBvdmVybGFwID0gOTk5OTk5OTlcblxuICAgICAgICAvKiB0ZXN0IHBvbHlnb24gQSdzIHNpZGVzICovXG4gICAgICAgIGZvciAoc2lkZSA9IDA7IHNpZGUgPCB0aGlzLmdldE51bWJlck9mU2lkZXMoKTsgc2lkZSsrKSB7XG4gICAgICAgICAgICAvKiBnZXQgdGhlIGF4aXMgdGhhdCB3ZSB3aWxsIHByb2plY3Qgb250byAqL1xuICAgICAgICAgICAgaWYgKHNpZGUgPT0gMCkge1xuICAgICAgICAgICAgICAgIGF4aXMueCA9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9pbnRzW3RoaXMuZ2V0TnVtYmVyT2ZTaWRlcygpIC0gMV0ueSAtXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9pbnRzWzBdLnlcbiAgICAgICAgICAgICAgICBheGlzLnkgPVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvaW50c1swXS54IC1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb2ludHNbdGhpcy5nZXROdW1iZXJPZlNpZGVzKCkgLSAxXS54XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGF4aXMueCA9IHRoaXMucG9pbnRzW3NpZGUgLSAxXS55IC0gdGhpcy5wb2ludHNbc2lkZV0ueVxuICAgICAgICAgICAgICAgIGF4aXMueSA9IHRoaXMucG9pbnRzW3NpZGVdLnggLSB0aGlzLnBvaW50c1tzaWRlIC0gMV0ueFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvKiBub3JtYWxpemUgdGhlIGF4aXMgKi9cbiAgICAgICAgICAgIHRtcCA9IE1hdGguc3FydChheGlzLnggKiBheGlzLnggKyBheGlzLnkgKiBheGlzLnkpXG4gICAgICAgICAgICBheGlzLnggLz0gdG1wXG4gICAgICAgICAgICBheGlzLnkgLz0gdG1wXG5cbiAgICAgICAgICAgIC8qIHByb2plY3QgcG9seWdvbiBBIG9udG8gYXhpcyB0byBkZXRlcm1pbmUgdGhlIG1pbi9tYXggKi9cbiAgICAgICAgICAgIG1pbkEgPSBtYXhBID0gdGhpcy5wb2ludHNbMF0ueCAqIGF4aXMueCArIHRoaXMucG9pbnRzWzBdLnkgKiBheGlzLnlcbiAgICAgICAgICAgIGZvciAoaSA9IDE7IGkgPCB0aGlzLmdldE51bWJlck9mU2lkZXMoKTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdG1wID0gdGhpcy5wb2ludHNbaV0ueCAqIGF4aXMueCArIHRoaXMucG9pbnRzW2ldLnkgKiBheGlzLnlcbiAgICAgICAgICAgICAgICBpZiAodG1wID4gbWF4QSkgbWF4QSA9IHRtcFxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRtcCA8IG1pbkEpIG1pbkEgPSB0bXBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qIGNvcnJlY3QgZm9yIG9mZnNldCAqL1xuICAgICAgICAgICAgdG1wID0gdGhpcy5jZW50ZXIueCAqIGF4aXMueCArIHRoaXMuY2VudGVyLnkgKiBheGlzLnlcbiAgICAgICAgICAgIG1pbkEgKz0gdG1wXG4gICAgICAgICAgICBtYXhBICs9IHRtcFxuXG4gICAgICAgICAgICAvKiBwcm9qZWN0IHBvbHlnb24gQiBvbnRvIGF4aXMgdG8gZGV0ZXJtaW5lIHRoZSBtaW4vbWF4ICovXG4gICAgICAgICAgICBtaW5CID0gbWF4QiA9XG4gICAgICAgICAgICAgICAgb3RoZXIucG9pbnRzWzBdLnggKiBheGlzLnggKyBvdGhlci5wb2ludHNbMF0ueSAqIGF4aXMueVxuICAgICAgICAgICAgZm9yIChpID0gMTsgaSA8IG90aGVyLmdldE51bWJlck9mU2lkZXMoKTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdG1wID0gb3RoZXIucG9pbnRzW2ldLnggKiBheGlzLnggKyBvdGhlci5wb2ludHNbaV0ueSAqIGF4aXMueVxuICAgICAgICAgICAgICAgIGlmICh0bXAgPiBtYXhCKSBtYXhCID0gdG1wXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodG1wIDwgbWluQikgbWluQiA9IHRtcFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyogY29ycmVjdCBmb3Igb2Zmc2V0ICovXG4gICAgICAgICAgICB0bXAgPSBvdGhlci5jZW50ZXIueCAqIGF4aXMueCArIG90aGVyLmNlbnRlci55ICogYXhpcy55XG4gICAgICAgICAgICBtaW5CICs9IHRtcFxuICAgICAgICAgICAgbWF4QiArPSB0bXBcblxuICAgICAgICAgICAgLyogdGVzdCBpZiBsaW5lcyBpbnRlcnNlY3QsIGlmIG5vdCwgcmV0dXJuIGZhbHNlICovXG4gICAgICAgICAgICBpZiAobWF4QSA8IG1pbkIgfHwgbWluQSA+IG1heEIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IG8gPSBtYXhBID4gbWF4QiA/IG1heEIgLSBtaW5BIDogbWF4QSAtIG1pbkJcbiAgICAgICAgICAgICAgICBpZiAobyA8IG92ZXJsYXApIHtcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmxhcCA9IG9cbiAgICAgICAgICAgICAgICAgICAgc21hbGxlc3QgPSB7eDogYXhpcy54LCB5OiBheGlzLnl9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyogdGVzdCBwb2x5Z29uIEIncyBzaWRlcyAqL1xuICAgICAgICBmb3IgKHNpZGUgPSAwOyBzaWRlIDwgb3RoZXIuZ2V0TnVtYmVyT2ZTaWRlcygpOyBzaWRlKyspIHtcbiAgICAgICAgICAgIC8qIGdldCB0aGUgYXhpcyB0aGF0IHdlIHdpbGwgcHJvamVjdCBvbnRvICovXG4gICAgICAgICAgICBpZiAoc2lkZSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgYXhpcy54ID1cbiAgICAgICAgICAgICAgICAgICAgb3RoZXIucG9pbnRzW290aGVyLmdldE51bWJlck9mU2lkZXMoKSAtIDFdLnkgLVxuICAgICAgICAgICAgICAgICAgICBvdGhlci5wb2ludHNbMF0ueVxuICAgICAgICAgICAgICAgIGF4aXMueSA9XG4gICAgICAgICAgICAgICAgICAgIG90aGVyLnBvaW50c1swXS54IC1cbiAgICAgICAgICAgICAgICAgICAgb3RoZXIucG9pbnRzW290aGVyLmdldE51bWJlck9mU2lkZXMoKSAtIDFdLnhcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYXhpcy54ID0gb3RoZXIucG9pbnRzW3NpZGUgLSAxXS55IC0gb3RoZXIucG9pbnRzW3NpZGVdLnlcbiAgICAgICAgICAgICAgICBheGlzLnkgPSBvdGhlci5wb2ludHNbc2lkZV0ueCAtIG90aGVyLnBvaW50c1tzaWRlIC0gMV0ueFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvKiBub3JtYWxpemUgdGhlIGF4aXMgKi9cbiAgICAgICAgICAgIHRtcCA9IE1hdGguc3FydChheGlzLnggKiBheGlzLnggKyBheGlzLnkgKiBheGlzLnkpXG4gICAgICAgICAgICBheGlzLnggLz0gdG1wXG4gICAgICAgICAgICBheGlzLnkgLz0gdG1wXG5cbiAgICAgICAgICAgIC8qIHByb2plY3QgcG9seWdvbiBBIG9udG8gYXhpcyB0byBkZXRlcm1pbmUgdGhlIG1pbi9tYXggKi9cbiAgICAgICAgICAgIG1pbkEgPSBtYXhBID0gdGhpcy5wb2ludHNbMF0ueCAqIGF4aXMueCArIHRoaXMucG9pbnRzWzBdLnkgKiBheGlzLnlcbiAgICAgICAgICAgIGZvciAoaSA9IDE7IGkgPCB0aGlzLmdldE51bWJlck9mU2lkZXMoKTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdG1wID0gdGhpcy5wb2ludHNbaV0ueCAqIGF4aXMueCArIHRoaXMucG9pbnRzW2ldLnkgKiBheGlzLnlcbiAgICAgICAgICAgICAgICBpZiAodG1wID4gbWF4QSkgbWF4QSA9IHRtcFxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRtcCA8IG1pbkEpIG1pbkEgPSB0bXBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qIGNvcnJlY3QgZm9yIG9mZnNldCAqL1xuICAgICAgICAgICAgdG1wID0gdGhpcy5jZW50ZXIueCAqIGF4aXMueCArIHRoaXMuY2VudGVyLnkgKiBheGlzLnlcbiAgICAgICAgICAgIG1pbkEgKz0gdG1wXG4gICAgICAgICAgICBtYXhBICs9IHRtcFxuXG4gICAgICAgICAgICAvKiBwcm9qZWN0IHBvbHlnb24gQiBvbnRvIGF4aXMgdG8gZGV0ZXJtaW5lIHRoZSBtaW4vbWF4ICovXG4gICAgICAgICAgICBtaW5CID0gbWF4QiA9XG4gICAgICAgICAgICAgICAgb3RoZXIucG9pbnRzWzBdLnggKiBheGlzLnggKyBvdGhlci5wb2ludHNbMF0ueSAqIGF4aXMueVxuICAgICAgICAgICAgZm9yIChpID0gMTsgaSA8IG90aGVyLmdldE51bWJlck9mU2lkZXMoKTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdG1wID0gb3RoZXIucG9pbnRzW2ldLnggKiBheGlzLnggKyBvdGhlci5wb2ludHNbaV0ueSAqIGF4aXMueVxuICAgICAgICAgICAgICAgIGlmICh0bXAgPiBtYXhCKSBtYXhCID0gdG1wXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodG1wIDwgbWluQikgbWluQiA9IHRtcFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyogY29ycmVjdCBmb3Igb2Zmc2V0ICovXG4gICAgICAgICAgICB0bXAgPSBvdGhlci5jZW50ZXIueCAqIGF4aXMueCArIG90aGVyLmNlbnRlci55ICogYXhpcy55XG4gICAgICAgICAgICBtaW5CICs9IHRtcFxuICAgICAgICAgICAgbWF4QiArPSB0bXBcblxuICAgICAgICAgICAgLyogdGVzdCBpZiBsaW5lcyBpbnRlcnNlY3QsIGlmIG5vdCwgcmV0dXJuIGZhbHNlICovXG4gICAgICAgICAgICBpZiAobWF4QSA8IG1pbkIgfHwgbWluQSA+IG1heEIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IG8gPSBtYXhBID4gbWF4QiA/IG1heEIgLSBtaW5BIDogbWF4QSAtIG1pbkJcbiAgICAgICAgICAgICAgICBpZiAobyA8IG92ZXJsYXApIHtcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmxhcCA9IG9cbiAgICAgICAgICAgICAgICAgICAgc21hbGxlc3QgPSB7eDogYXhpcy54LCB5OiBheGlzLnl9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7b3ZlcmxhcDogb3ZlcmxhcCArIDAuMDAxLCBheGlzOiBzbWFsbGVzdH1cbiAgICB9XG5cbiAgICBzdGF0aWMgZnJvbVBvaW50cyhwb2ludHMpIHtcbiAgICAgICAgbGV0IG1pbiA9IHt4OiBOdW1iZXIuTUFYX1ZBTFVFLCB5OiBOdW1iZXIuTUFYX1ZBTFVFfVxuICAgICAgICBsZXQgbWF4ID0ge3g6IE51bWJlci5NSU5fVkFMVUUsIHk6IE51bWJlci5NSU5fVkFMVUV9XG4gICAgICAgIGZvciAobGV0IHAgb2YgcG9pbnRzKSB7XG4gICAgICAgICAgICBtaW4ueCA9IE1hdGgubWluKHAueCwgbWluLngpXG4gICAgICAgICAgICBtYXgueCA9IE1hdGgubWF4KHAueCwgbWF4LngpXG4gICAgICAgICAgICBtaW4ueSA9IE1hdGgubWluKHAueSwgbWluLnkpXG4gICAgICAgICAgICBtYXgueSA9IE1hdGgubWF4KHAueSwgbWF4LnkpXG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNlbnRlciA9IFBvaW50cy5tZWFuKG1pbiwgbWF4KVxuICAgICAgICBsZXQgcG9seWdvbiA9IG5ldyBQb2x5Z29uKGNlbnRlcilcbiAgICAgICAgZm9yIChsZXQgcCBvZiBwb2ludHMpIHtcbiAgICAgICAgICAgIHBvbHlnb24uYWRkQWJzb2x1dGVQb2ludChwKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwb2x5Z29uXG4gICAgfVxufVxuIiwiLy8gSW4gb3JkZXIgdG8gdGVzdCB0aGlzIGludGVyZmFjZSBpbXBsZW1lbnRhdGlvbiBydW4ganNjIGludGVyZmFjZS5qc1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbnRlcmZhY2Uge1xuICAgIC8vIEFic3RyYWN0IGludGVyZmFjZSB0aGF0IHNob3VsZCBiZSBleHRlbmRlZCBpbiBpbnRlcmZhY2Ugc3ViY2xhc3Nlcy5cbiAgICAvLyBCeSBjb252ZW50aW9uIGFsbCBpbnRlcmZhY2VzIHNob3VsZCBzdGFydCB3aXRoIGFuIHVwcGVyICdJJ1xuXG4gICAgc3RhdGljIGltcGxlbWVudGF0aW9uRXJyb3Ioa2xhc3MpIHtcbiAgICAgICAgbGV0IGludGVyZmFjZUtleXMgPSBSZWZsZWN0Lm93bktleXModGhpcy5wcm90b3R5cGUpXG4gICAgICAgIGxldCBjbGFzc0tleXMgPSBSZWZsZWN0Lm93bktleXMoa2xhc3MucHJvdG90eXBlKVxuICAgICAgICBmb3IobGV0IGtleSBvZiBpbnRlcmZhY2VLZXlzKSB7XG4gICAgICAgICAgICBsZXQgaW50ZXJmYWNlRGVzYyA9IHRoaXMucHJvdG90eXBlW2tleV1cbiAgICAgICAgICAgIGxldCBjbGFzc0Rlc2MgPSBrbGFzcy5wcm90b3R5cGVba2V5XVxuICAgICAgICAgICAgaWYgKHR5cGVvZihjbGFzc0Rlc2MpID09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgIHJldHVybiAnTWlzc2luZyAnICsga2V5XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICBzdGF0aWMgaW1wbGVtZW50ZWRCeShrbGFzcykge1xuICAgICAgICAvLyBJbiB0aGUgZmlyc3Qgc3RlcCBvbmx5IGNoZWNrcyB3aGV0aGVyIHRoZSBtZXRob2RzIG9mIHRoaXNcbiAgICAgICAgLy8gaW50ZXJmYWNlIGFyZSBhbGwgaW1wbGVtZW50ZWQgYnkgdGhlIGdpdmVuIGNsYXNzXG4gICAgICAgIGxldCBlcnJvciA9IHRoaXMuaW1wbGVtZW50YXRpb25FcnJvcihrbGFzcylcbiAgICAgICAgcmV0dXJuIGVycm9yID09IG51bGxcbiAgICB9XG5cbiAgICAgICAgLy8gVE9ETzogU3BlY2lmeSBvcHRpb25hbCBtZXRob2RzXG4vLyAgICAgc3RhdGljIG9wdGlvbmFsTWV0aG9kcygpIHtcbi8vICAgICAgICAgcmV0dXJuIFt0aGlzLm9uTW91c2VXaGVlbF1cbi8vICAgICB9XG59XG4iLCJpbXBvcnQgSW50ZXJmYWNlIGZyb20gJy4vaW50ZXJmYWNlLmpzJ1xuaW1wb3J0IHtQb2ludHMsIEFuZ2xlLCBNYXBQcm94eX0gZnJvbSAnLi91dGlscy5qcydcbmltcG9ydCBFdmVudHMgZnJvbSAnLi9ldmVudHMuanMnXG5cbi8qKiBJbnRlcmFjdGlvbiBwYXR0ZXJuc1xuXG4gICAgU2VlIGludGVyYWN0aW9uLmh0bWwgZm9yIGV4cGxhbmF0aW9uXG4qL1xuXG5leHBvcnQgY2xhc3MgSUludGVyYWN0aW9uVGFyZ2V0IGV4dGVuZHMgSW50ZXJmYWNlIHtcbiAgICBjYXB0dXJlKGV2ZW50KSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdHJ1ZVxuICAgIH1cblxuICAgIG9uU3RhcnQoZXZlbnQsIGludGVyYWN0aW9uKSB7fVxuICAgIG9uTW92ZShldmVudCwgaW50ZXJhY3Rpb24pIHt9XG4gICAgb25FbmQoZXZlbnQsIGludGVyYWN0aW9uKSB7fVxuXG4gICAgb25Nb3VzZVdoZWVsKGV2ZW50KSB7fVxufVxuXG5leHBvcnQgY2xhc3MgSUludGVyYWN0aW9uTWFwcGVyVGFyZ2V0IGV4dGVuZHMgSW50ZXJmYWNlIHtcbiAgICBjYXB0dXJlKGV2ZW50KSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdHJ1ZVxuICAgIH1cblxuICAgIGZpbmRUYXJnZXQoZXZlbnQsIGxvY2FsLCBnbG9iYWwpIHtcbiAgICAgICAgcmV0dXJuIElJbnRlcmFjdGlvblRhcmdldFxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFBvaW50TWFwIGV4dGVuZHMgTWFwUHJveHkge1xuICAgIC8vIENvbGxlY3RzIHRvdWNoIHBvaW50cywgbW91c2UgY29vcmRpbmF0ZXMsIGV0Yy4gYXMga2V5IHZhbHVlIHBhaXJzLlxuICAgIC8vIEtleXMgYXJlIHBvaW50ZXIgYW5kIHRvdWNoIGlkcywgdGhlIHNwZWNpYWwgXCJtb3VzZVwiIGtleS5cbiAgICAvLyBWYWx1ZXMgYXJlIHBvaW50cywgaS5lLiBhbGwgb2JqZWN0cyB3aXRoIG51bWVyaWMgeCBhbmQgeSBwcm9wZXJ0aWVzLlxuICAgIGNvbnN0cnVjdG9yKHBvaW50cyA9IHt9KSB7XG4gICAgICAgIHN1cGVyKClcbiAgICAgICAgZm9yIChsZXQga2V5IGluIHBvaW50cykge1xuICAgICAgICAgICAgdGhpcy5zZXQoa2V5LCBwb2ludHNba2V5XSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICBsZXQgcG9pbnRzID0gW11cbiAgICAgICAgZm9yIChsZXQga2V5IG9mIHRoaXMua2V5cygpKSB7XG4gICAgICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLmdldChrZXkpXG4gICAgICAgICAgICBwb2ludHMucHVzaChgJHtrZXl9Ont4OiR7dmFsdWUueH0sIHk6JHt2YWx1ZS55fX1gKVxuICAgICAgICB9XG4gICAgICAgIGxldCBhdHRycyA9IHBvaW50cy5qb2luKCcsICcpXG4gICAgICAgIHJldHVybiBgW1BvaW50TWFwICR7YXR0cnN9XWBcbiAgICB9XG5cbiAgICBjbG9uZSgpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IG5ldyBQb2ludE1hcCgpXG4gICAgICAgIGZvciAobGV0IGtleSBvZiB0aGlzLmtleXMoKSkge1xuICAgICAgICAgICAgbGV0IHZhbHVlID0gdGhpcy5nZXQoa2V5KVxuICAgICAgICAgICAgcmVzdWx0LnNldChrZXksIHt4OiB2YWx1ZS54LCB5OiB2YWx1ZS55fSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0XG4gICAgfVxuXG4gICAgZmFydGhlc3RzKCkge1xuICAgICAgICBpZiAodGhpcy5zaXplID09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgIH1cbiAgICAgICAgbGV0IHBhaXJzID0gW11cbiAgICAgICAgZm9yIChsZXQgcCBvZiB0aGlzLnZhbHVlcygpKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBxIG9mIHRoaXMudmFsdWVzKCkpIHtcbiAgICAgICAgICAgICAgICBwYWlycy5wdXNoKFtwLCBxXSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgc29ydGVkID0gcGFpcnMuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIFBvaW50cy5kaXN0YW5jZShiWzBdLCBiWzFdKSAtIFBvaW50cy5kaXN0YW5jZShhWzBdLCBhWzFdKVxuICAgICAgICB9KVxuICAgICAgICByZXR1cm4gc29ydGVkWzBdXG4gICAgfVxuXG4gICAgbWVhbigpIHtcbiAgICAgICAgaWYgKHRoaXMuc2l6ZSA9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICB9XG4gICAgICAgIGxldCB4ID0gMC4wLFxuICAgICAgICAgICAgeSA9IDAuMFxuICAgICAgICBmb3IgKGxldCBwIG9mIHRoaXMudmFsdWVzKCkpIHtcbiAgICAgICAgICAgIHggKz0gcC54XG4gICAgICAgICAgICB5ICs9IHAueVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7eDogeCAvIHRoaXMuc2l6ZSwgeTogeSAvIHRoaXMuc2l6ZX1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBJbnRlcmFjdGlvbkRlbHRhIHtcbiAgICBjb25zdHJ1Y3Rvcih4LCB5LCB6b29tLCByb3RhdGUsIGFib3V0KSB7XG4gICAgICAgIHRoaXMueCA9IHhcbiAgICAgICAgdGhpcy55ID0geVxuICAgICAgICB0aGlzLnpvb20gPSB6b29tXG4gICAgICAgIHRoaXMucm90YXRlID0gcm90YXRlXG4gICAgICAgIHRoaXMuYWJvdXQgPSBhYm91dFxuICAgIH1cblxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICBsZXQgdmFsdWVzID0gW11cbiAgICAgICAgZm9yIChsZXQga2V5IG9mIE9iamVjdC5rZXlzKHRoaXMpKSB7XG4gICAgICAgICAgICBsZXQgdmFsdWUgPSB0aGlzW2tleV1cbiAgICAgICAgICAgIGlmIChrZXkgPT0gJ2Fib3V0Jykge1xuICAgICAgICAgICAgICAgIHZhbHVlcy5wdXNoKGAke2tleX06e3g6JHt2YWx1ZS54fSwgeToke3ZhbHVlLnl9fWApXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhbHVlcy5wdXNoKGAke2tleX06JHt2YWx1ZX1gKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBhdHRycyA9IHZhbHVlcy5qb2luKCcsICcpXG4gICAgICAgIHJldHVybiBgW0ludGVyYWN0aW9uRGVsdGEgJHthdHRyc31dYFxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEludGVyYWN0aW9uUG9pbnRzIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQgPSBudWxsKSB7XG4gICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50XG4gICAgICAgIHRoaXMuY3VycmVudCA9IG5ldyBQb2ludE1hcCgpXG4gICAgICAgIHRoaXMucHJldmlvdXMgPSBuZXcgUG9pbnRNYXAoKVxuICAgICAgICB0aGlzLnN0YXJ0ID0gbmV3IFBvaW50TWFwKClcbiAgICAgICAgdGhpcy5lbmRlZCA9IG5ldyBQb2ludE1hcCgpXG4gICAgICAgIHRoaXMudGltZXN0YW1wcyA9IG5ldyBNYXAoKVxuICAgIH1cblxuICAgIG1vdmVkKGtleSkge1xuICAgICAgICBsZXQgY3VycmVudCA9IHRoaXMuY3VycmVudC5nZXQoa2V5KVxuICAgICAgICBsZXQgcHJldmlvdXMgPSB0aGlzLnByZXZpb3VzLmdldChrZXkpXG4gICAgICAgIHJldHVybiBQb2ludHMuc3VidHJhY3QoY3VycmVudCwgcHJldmlvdXMpXG4gICAgfVxuXG4gICAgbW92ZSgpIHtcbiAgICAgICAgbGV0IGN1cnJlbnQgPSB0aGlzLmN1cnJlbnQubWVhbigpXG4gICAgICAgIGxldCBwcmV2aW91cyA9IHRoaXMucHJldmlvdXMubWVhbigpXG4gICAgICAgIHJldHVybiBQb2ludHMuc3VidHJhY3QoY3VycmVudCwgcHJldmlvdXMpXG4gICAgfVxuXG4gICAgZGVsdGEoKSB7XG4gICAgICAgIHZhciBjdXJyZW50ID0gW11cbiAgICAgICAgdmFyIHByZXZpb3VzID0gW11cbiAgICAgICAgZm9yIChsZXQga2V5IG9mIHRoaXMuY3VycmVudC5rZXlzKCkpIHtcbiAgICAgICAgICAgIGxldCBjID0gdGhpcy5jdXJyZW50LmdldChrZXkpXG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2aW91cy5oYXMoa2V5KSkge1xuICAgICAgICAgICAgICAgIGxldCBwID0gdGhpcy5wcmV2aW91cy5nZXQoa2V5KVxuICAgICAgICAgICAgICAgIGN1cnJlbnQucHVzaChjKVxuICAgICAgICAgICAgICAgIHByZXZpb3VzLnB1c2gocClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoY3VycmVudC5sZW5ndGggPj0gMikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnQubGVuZ3RoID4gMikge1xuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSB0aGlzLmN1cnJlbnQuZmFydGhlc3RzKClcbiAgICAgICAgICAgICAgICBwcmV2aW91cyA9IHRoaXMucHJldmlvdXMuZmFydGhlc3RzKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBjMSA9IGN1cnJlbnRbMF1cbiAgICAgICAgICAgIGxldCBjMiA9IGN1cnJlbnRbMV1cblxuICAgICAgICAgICAgbGV0IHAxID0gcHJldmlvdXNbMF1cbiAgICAgICAgICAgIGxldCBwMiA9IHByZXZpb3VzWzFdXG5cbiAgICAgICAgICAgIGxldCBjbSA9IFBvaW50cy5tZWFuKGMxLCBjMilcbiAgICAgICAgICAgIGxldCBwbSA9IFBvaW50cy5tZWFuKHAxLCBwMilcblxuICAgICAgICAgICAgbGV0IGRlbHRhID0gUG9pbnRzLnN1YnRyYWN0KGNtLCBwbSlcbiAgICAgICAgICAgIGxldCB6b29tID0gMS4wXG4gICAgICAgICAgICBsZXQgZGlzdGFuY2UxID0gUG9pbnRzLmRpc3RhbmNlKHAxLCBwMilcbiAgICAgICAgICAgIGxldCBkaXN0YW5jZTIgPSBQb2ludHMuZGlzdGFuY2UoYzEsIGMyKVxuICAgICAgICAgICAgaWYgKGRpc3RhbmNlMSAhPSAwICYmIGRpc3RhbmNlMiAhPSAwKSB7XG4gICAgICAgICAgICAgICAgem9vbSA9IGRpc3RhbmNlMiAvIGRpc3RhbmNlMVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGFuZ2xlMSA9IFBvaW50cy5hbmdsZShjMiwgYzEpXG4gICAgICAgICAgICBsZXQgYW5nbGUyID0gUG9pbnRzLmFuZ2xlKHAyLCBwMSlcbiAgICAgICAgICAgIGxldCBhbHBoYSA9IEFuZ2xlLmRpZmYoYW5nbGUxLCBhbmdsZTIpXG4gICAgICAgICAgICByZXR1cm4gbmV3IEludGVyYWN0aW9uRGVsdGEoZGVsdGEueCwgZGVsdGEueSwgem9vbSwgYWxwaGEsIGNtKVxuICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnQubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgIGxldCBkZWx0YSA9IFBvaW50cy5zdWJ0cmFjdChjdXJyZW50WzBdLCBwcmV2aW91c1swXSlcbiAgICAgICAgICAgIHJldHVybiBuZXcgSW50ZXJhY3Rpb25EZWx0YShkZWx0YS54LCBkZWx0YS55LCAxLjAsIDAuMCwgY3VycmVudFswXSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIHVwZGF0ZShrZXksIHBvaW50KSB7XG4gICAgICAgIC8vIFJldHVybnMgdHJ1ZSBpZmYgdGhlIGtleSBpcyBuZXdcbiAgICAgICAgdGhpcy5jdXJyZW50LnNldChrZXksIHBvaW50KVxuICAgICAgICBpZiAoIXRoaXMuc3RhcnQuaGFzKGtleSkpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnQuc2V0KGtleSwgcG9pbnQpXG4gICAgICAgICAgICB0aGlzLnByZXZpb3VzLnNldChrZXksIHBvaW50KVxuICAgICAgICAgICAgdGhpcy50aW1lc3RhbXBzLnNldChrZXksIHBlcmZvcm1hbmNlLm5vdygpKVxuICAgICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICB1cGRhdGVQcmV2aW91cygpIHtcbiAgICAgICAgZm9yIChsZXQga2V5IG9mIHRoaXMuY3VycmVudC5rZXlzKCkpIHtcbiAgICAgICAgICAgIHRoaXMucHJldmlvdXMuc2V0KGtleSwgdGhpcy5jdXJyZW50LmdldChrZXkpKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RvcChrZXksIHBvaW50KSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnQuaGFzKGtleSkpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudC5kZWxldGUoa2V5KVxuICAgICAgICAgICAgdGhpcy5wcmV2aW91cy5kZWxldGUoa2V5KVxuICAgICAgICAgICAgdGhpcy5lbmRlZC5zZXQoa2V5LCBwb2ludClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZpbmlzaChrZXksIHBvaW50KSB7XG4gICAgICAgIHRoaXMuY3VycmVudC5kZWxldGUoa2V5KVxuICAgICAgICB0aGlzLnByZXZpb3VzLmRlbGV0ZShrZXkpXG4gICAgICAgIHRoaXMuc3RhcnQuZGVsZXRlKGtleSlcbiAgICAgICAgdGhpcy50aW1lc3RhbXBzLmRlbGV0ZShrZXkpXG4gICAgICAgIHRoaXMuZW5kZWQuZGVsZXRlKGtleSlcbiAgICB9XG5cbiAgICBpc0ZpbmlzaGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50LnNpemUgPT0gMFxuICAgIH1cblxuICAgIGlzTm9Mb25nZXJUd29GaW5nZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByZXZpb3VzLnNpemUgPiAxICYmIHRoaXMuY3VycmVudC5zaXplIDwgMlxuICAgIH1cblxuICAgIGlzVGFwKGtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnQuaXNUYXAoa2V5KVxuICAgIH1cblxuICAgIGlzTG9uZ1ByZXNzKGtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnQuaXNMb25nUHJlc3Moa2V5KVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEludGVyYWN0aW9uIGV4dGVuZHMgSW50ZXJhY3Rpb25Qb2ludHMge1xuICAgIGNvbnN0cnVjdG9yKHRhcERpc3RhbmNlID0gMTAsIGxvbmdQcmVzc1RpbWUgPSA1MDAuMCkge1xuICAgICAgICBzdXBlcigpXG4gICAgICAgIHRoaXMudGFwRGlzdGFuY2UgPSB0YXBEaXN0YW5jZVxuICAgICAgICB0aGlzLmxvbmdQcmVzc1RpbWUgPSBsb25nUHJlc3NUaW1lXG4gICAgICAgIHRoaXMudGFyZ2V0cyA9IG5ldyBNYXAoKVxuICAgICAgICB0aGlzLnN1YkludGVyYWN0aW9ucyA9IG5ldyBNYXAoKSAvLyB0YXJnZXQ6T2JqZWN0IDogSW50ZXJhY3Rpb25Qb2ludHNcbiAgICB9XG5cbiAgICBzdG9wKGtleSwgcG9pbnQpIHtcbiAgICAgICAgc3VwZXIuc3RvcChrZXksIHBvaW50KVxuICAgICAgICBmb3IgKGxldCBwb2ludHMgb2YgdGhpcy5zdWJJbnRlcmFjdGlvbnMudmFsdWVzKCkpIHtcbiAgICAgICAgICAgIHBvaW50cy5zdG9wKGtleSwgcG9pbnQpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhZGRUYXJnZXQoa2V5LCB0YXJnZXQpIHtcbiAgICAgICAgdGhpcy50YXJnZXRzLnNldChrZXksIHRhcmdldClcbiAgICAgICAgdGhpcy5zdWJJbnRlcmFjdGlvbnMuc2V0KHRhcmdldCwgbmV3IEludGVyYWN0aW9uUG9pbnRzKHRoaXMpKVxuICAgIH1cblxuICAgIHJlbW92ZVRhcmdldChrZXkpIHtcbiAgICAgICAgbGV0IHRhcmdldCA9IHRoaXMudGFyZ2V0cy5nZXQoa2V5KVxuICAgICAgICB0aGlzLnRhcmdldHMuZGVsZXRlKGtleSlcbiAgICAgICAgLy8gT25seSByZW1vdmUgdGFyZ2V0IGlmIG5vIGtleXMgYXJlIHJlZmVyaW5nIHRvIHRoZSB0YXJnZXRcbiAgICAgICAgbGV0IHJlbW92ZSA9IHRydWVcbiAgICAgICAgZm9yIChsZXQgdCBvZiB0aGlzLnRhcmdldHMudmFsdWVzKCkpIHtcbiAgICAgICAgICAgIGlmICh0YXJnZXQgPT09IHQpIHtcbiAgICAgICAgICAgICAgICByZW1vdmUgPSBmYWxzZVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChyZW1vdmUpIHtcbiAgICAgICAgICAgIHRoaXMuc3ViSW50ZXJhY3Rpb25zLmRlbGV0ZSh0YXJnZXQpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmaW5pc2goa2V5LCBwb2ludCkge1xuICAgICAgICBzdXBlci5maW5pc2goa2V5LCBwb2ludClcbiAgICAgICAgdGhpcy5yZW1vdmVUYXJnZXQoa2V5KVxuICAgIH1cblxuICAgIG1hcEludGVyYWN0aW9uKHBvaW50cywgYXNwZWN0cywgbWFwcGluZ0Z1bmMpIHtcbiAgICAgICAgLy8gTWFwIGNlbnRyYWxseSByZWdpc3RlcmVkIHBvaW50cyB0byB0YXJnZXQgaW50ZXJhY3Rpb25zXG4gICAgICAgIC8vIFJldHVybnMgYW4gYXJyYXkgb2YgW3RhcmdldCwgdXBkYXRlZCBzdWJJbnRlcmFjdGlvbl0gcGFpcnNcbiAgICAgICAgbGV0IHJlc3VsdCA9IG5ldyBNYXAoKVxuICAgICAgICBmb3IgKGxldCBrZXkgaW4gcG9pbnRzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy50YXJnZXRzLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICAgICAgbGV0IHRhcmdldCA9IHRoaXMudGFyZ2V0cy5nZXQoa2V5KVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN1YkludGVyYWN0aW9ucy5oYXModGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgaW50ZXJhY3Rpb24gPSB0aGlzLnN1YkludGVyYWN0aW9ucy5nZXQodGFyZ2V0KVxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBhc3BlY3Qgb2YgYXNwZWN0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBvaW50TWFwID0gdGhpc1thc3BlY3RdXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcG9pbnQgPSBwb2ludE1hcC5nZXQoa2V5KVxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1hcHBlZCA9IG1hcHBpbmdGdW5jKHBvaW50KVxuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJhY3Rpb25bYXNwZWN0XS5zZXQoa2V5LCBtYXBwZWQpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnNldCh0YXJnZXQsIGludGVyYWN0aW9uKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0XG4gICAgfVxuXG4gICAgaXNUYXAoa2V5KSB7XG4gICAgICAgIGxldCBlbmRlZCA9IHRoaXMuZW5kZWQuZ2V0KGtleSlcbiAgICAgICAgbGV0IHN0YXJ0ID0gdGhpcy5zdGFydC5nZXQoa2V5KVxuICAgICAgICBpZiAoXG4gICAgICAgICAgICBzdGFydCAmJlxuICAgICAgICAgICAgZW5kZWQgJiZcbiAgICAgICAgICAgIFBvaW50cy5kaXN0YW5jZShlbmRlZCwgc3RhcnQpIDwgdGhpcy50YXBEaXN0YW5jZVxuICAgICAgICApIHtcbiAgICAgICAgICAgIGxldCB0MSA9IHRoaXMudGltZXN0YW1wcy5nZXQoa2V5KVxuICAgICAgICAgICAgbGV0IHRvb2tMb25nID0gcGVyZm9ybWFuY2Uubm93KCkgPiB0MSArIHRoaXMubG9uZ1ByZXNzVGltZVxuICAgICAgICAgICAgaWYgKHRvb2tMb25nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGlzQW55VGFwKCkge1xuICAgICAgICBmb3IgKGxldCBrZXkgb2YgdGhpcy5lbmRlZC5rZXlzKCkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzVGFwKGtleSkpIHJldHVybiB0cnVlXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgaXNMb25nUHJlc3Moa2V5KSB7XG4gICAgICAgIGxldCBlbmRlZCA9IHRoaXMuZW5kZWQuZ2V0KGtleSlcbiAgICAgICAgbGV0IHN0YXJ0ID0gdGhpcy5zdGFydC5nZXQoa2V5KVxuICAgICAgICBpZiAoXG4gICAgICAgICAgICBzdGFydCAmJlxuICAgICAgICAgICAgZW5kZWQgJiZcbiAgICAgICAgICAgIFBvaW50cy5kaXN0YW5jZShlbmRlZCwgc3RhcnQpIDwgdGhpcy50YXBEaXN0YW5jZVxuICAgICAgICApIHtcbiAgICAgICAgICAgIGxldCB0MSA9IHRoaXMudGltZXN0YW1wcy5nZXQoa2V5KVxuICAgICAgICAgICAgbGV0IHRvb2tMb25nID0gcGVyZm9ybWFuY2Uubm93KCkgPiB0MSArIHRoaXMubG9uZ1ByZXNzVGltZVxuICAgICAgICAgICAgaWYgKHRvb2tMb25nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGlzQW55TG9uZ1ByZXNzKCkge1xuICAgICAgICBmb3IgKGxldCBrZXkgb2YgdGhpcy5lbmRlZC5rZXlzKCkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzTG9uZ1ByZXNzKGtleSkpIHJldHVybiB0cnVlXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgaXNTdHlsdXMoa2V5KSB7XG4gICAgICAgIHJldHVybiBrZXkgPT09ICdzdHlsdXMnXG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgSW50ZXJhY3Rpb25EZWxlZ2F0ZSB7XG4gICAgLy8gTG9uZyBwcmVzczogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xOTMwODk1L2hvdy1sb25nLWlzLXRoZS1ldmVudC1vbmxvbmdwcmVzcy1pbi10aGUtYW5kcm9pZFxuICAgIC8vIFN0eWx1cyBzdXBwb3J0OiBodHRwczovL3czYy5naXRodWIuaW8vdG91Y2gtZXZlbnRzL1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIGVsZW1lbnQsXG4gICAgICAgIHRhcmdldCxcbiAgICAgICAge21vdXNlV2hlZWxFbGVtZW50ID0gbnVsbCwgZGVidWcgPSBmYWxzZX0gPSB7fVxuICAgICkge1xuICAgICAgICB0aGlzLmRlYnVnID0gZGVidWdcbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvbiA9IG5ldyBJbnRlcmFjdGlvbigpXG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnRcbiAgICAgICAgdGhpcy5tb3VzZVdoZWVsRWxlbWVudCA9IG1vdXNlV2hlZWxFbGVtZW50IHx8IGVsZW1lbnRcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXRcbiAgICAgICAgdGhpcy5zZXR1cEludGVyYWN0aW9uKClcbiAgICB9XG5cbiAgICBzZXR1cEludGVyYWN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5kZWJ1Zykge1xuICAgICAgICAgICAgbGV0IGVycm9yID0gdGhpcy50YXJnZXRJbnRlcmZhY2UuaW1wbGVtZW50YXRpb25FcnJvcihcbiAgICAgICAgICAgICAgICB0aGlzLnRhcmdldC5jb25zdHJ1Y3RvclxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgaWYgKGVycm9yICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIElJbnRlcmFjdGlvblRhcmdldDogJyArIGVycm9yKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0dXBUb3VjaEludGVyYWN0aW9uKClcbiAgICAgICAgdGhpcy5zZXR1cE1vdXNlV2hlZWxJbnRlcmFjdGlvbigpXG4gICAgfVxuXG4gICAgZ2V0IHRhcmdldEludGVyZmFjZSgpIHtcbiAgICAgICAgcmV0dXJuIElJbnRlcmFjdGlvblRhcmdldFxuICAgIH1cblxuICAgIHNldHVwVG91Y2hJbnRlcmFjdGlvbigpIHtcbiAgICAgICAgbGV0IGVsZW1lbnQgPSB0aGlzLmVsZW1lbnRcbiAgICAgICAgbGV0IHVzZUNhcHR1cmUgPSB0cnVlXG4gICAgICAgIGlmICh3aW5kb3cuUG9pbnRlckV2ZW50KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5kZWJ1ZykgY29uc29sZS5sb2coJ1BvaW50ZXIgQVBJJyArIHdpbmRvdy5Qb2ludGVyRXZlbnQpXG4gICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAgICAgJ3BvaW50ZXJkb3duJyxcbiAgICAgICAgICAgICAgICBlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVidWcpIGNvbnNvbGUubG9nKCdwb2ludGVyZG93bicsIGUucG9pbnRlcklkKVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jYXB0dXJlKGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnNldFBvaW50ZXJDYXB0dXJlKGUucG9pbnRlcklkKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vblN0YXJ0KGUpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHVzZUNhcHR1cmVcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICAgICAncG9pbnRlcm1vdmUnLFxuICAgICAgICAgICAgICAgIGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kZWJ1ZykgY29uc29sZS5sb2coJ3BvaW50ZXJtb3ZlJywgZS5wb2ludGVySWQpXG4gICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucG9pbnRlclR5cGUgPT0gJ3RvdWNoJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgKGUucG9pbnRlclR5cGUgPT0gJ21vdXNlJyAmJiBFdmVudHMuaXNNb3VzZURvd24oZSkpXG4gICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5jYXB0dXJlKGUpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kZWJ1ZylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncG9pbnRlcm1vdmUgY2FwdHVyZWQnLCBlLnBvaW50ZXJJZClcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25Nb3ZlKGUpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHVzZUNhcHR1cmVcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICAgICAncG9pbnRlcnVwJyxcbiAgICAgICAgICAgICAgICBlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVidWcpIGNvbnNvbGUubG9nKCdwb2ludGVydXAnKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uRW5kKGUpXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQucmVsZWFzZVBvaW50ZXJDYXB0dXJlKGUucG9pbnRlcklkKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdXNlQ2FwdHVyZVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgICAgICdwb2ludGVyY2FuY2VsJyxcbiAgICAgICAgICAgICAgICBlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVidWcpIGNvbnNvbGUubG9nKCdwb2ludGVyY2FuY2VsJylcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkVuZChlKVxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnJlbGVhc2VQb2ludGVyQ2FwdHVyZShlLnBvaW50ZXJJZClcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHVzZUNhcHR1cmVcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICAgICAncG9pbnRlcmxlYXZlJyxcbiAgICAgICAgICAgICAgICBlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVidWcpIGNvbnNvbGUubG9nKCdwb2ludGVybGVhdmUnKVxuICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQgPT0gZWxlbWVudCkgdGhpcy5vbkVuZChlKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdXNlQ2FwdHVyZVxuICAgICAgICAgICAgKVxuICAgICAgICB9IGVsc2UgaWYgKHdpbmRvdy5Ub3VjaEV2ZW50KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5kZWJ1ZykgY29uc29sZS5sb2coJ1RvdWNoIEFQSScpXG4gICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAgICAgJ3RvdWNoc3RhcnQnLFxuICAgICAgICAgICAgICAgIGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kZWJ1ZylcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCd0b3VjaHN0YXJ0JywgdGhpcy50b3VjaFBvaW50cyhlKSlcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FwdHVyZShlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgdG91Y2ggb2YgZS5jaGFuZ2VkVG91Y2hlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25TdGFydCh0b3VjaClcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdXNlQ2FwdHVyZVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgICAgICd0b3VjaG1vdmUnLFxuICAgICAgICAgICAgICAgIGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kZWJ1ZylcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCd0b3VjaG1vdmUnLCB0aGlzLnRvdWNoUG9pbnRzKGUpLCBlKVxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCB0b3VjaCBvZiBlLmNoYW5nZWRUb3VjaGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uTW92ZSh0b3VjaClcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCB0b3VjaCBvZiBlLnRhcmdldFRvdWNoZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25Nb3ZlKHRvdWNoKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB1c2VDYXB0dXJlXG4gICAgICAgICAgICApXG4gICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAgICAgJ3RvdWNoZW5kJyxcbiAgICAgICAgICAgICAgICBlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVidWcpIGNvbnNvbGUubG9nKCd0b3VjaGVuZCcsIHRoaXMudG91Y2hQb2ludHMoZSkpXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHRvdWNoIG9mIGUuY2hhbmdlZFRvdWNoZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25FbmQodG91Y2gpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHVzZUNhcHR1cmVcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICAgICAndG91Y2hjYW5jZWwnLFxuICAgICAgICAgICAgICAgIGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kZWJ1ZylcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0b3VjaGNhbmNlbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS50YXJnZXRUb3VjaGVzLmxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLmNoYW5nZWRUb3VjaGVzLmxlbmd0aFxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCB0b3VjaCBvZiBlLmNoYW5nZWRUb3VjaGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uRW5kKHRvdWNoKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB1c2VDYXB0dXJlXG4gICAgICAgICAgICApXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5kZWJ1ZykgY29uc29sZS5sb2coJ01vdXNlIEFQSScpXG5cbiAgICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICAgICAnbW91c2Vkb3duJyxcbiAgICAgICAgICAgICAgICBlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVidWcpIGNvbnNvbGUubG9nKCdtb3VzZWRvd24nLCBlKVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jYXB0dXJlKGUpKSB0aGlzLm9uU3RhcnQoZSlcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHVzZUNhcHR1cmVcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICAgICAnbW91c2Vtb3ZlJyxcbiAgICAgICAgICAgICAgICBlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRG93IHdlIG9ubHkgdXNlIG1vdmUgZXZlbnRzIGlmIHRoZSBtb3VzZSBpcyBkb3duP1xuICAgICAgICAgICAgICAgICAgICAvLyBIT3ZlciBlZmZlY3RzIGhhdmUgdG8gYmUgaW1wbGVtZW50ZWQgYnkgb3RoZXIgbWVhbnNcbiAgICAgICAgICAgICAgICAgICAgLy8gJiYgRXZlbnRzLmlzTW91c2VEb3duKGUpKVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChFdmVudHMuaXNNb3VzZURvd24oZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kZWJ1ZylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmNhcHR1cmUoZSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnbW91c2Vtb3ZlJywgZSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbk1vdmUoZSlcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHVzZUNhcHR1cmVcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICAgICAnbW91c2V1cCcsXG4gICAgICAgICAgICAgICAgZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRlYnVnKSBjb25zb2xlLmxvZygnbW91c2V1cCcsIGUpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25FbmQoZSlcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRydWVcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICAgICAnbW91c2VvdXQnLFxuICAgICAgICAgICAgICAgIGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQgPT0gZWxlbWVudCkgdGhpcy5vbkVuZChlKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdXNlQ2FwdHVyZVxuICAgICAgICAgICAgKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdG91Y2hQb2ludHMoZXZlbnQpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdXG4gICAgICAgIGZvciAobGV0IHRvdWNoIG9mIGV2ZW50LmNoYW5nZWRUb3VjaGVzKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaCh0aGlzLmV4dHJhY3RQb2ludCh0b3VjaCkpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdFxuICAgIH1cblxuICAgIHNldHVwTW91c2VXaGVlbEludGVyYWN0aW9uKCkge1xuICAgICAgICB0aGlzLm1vdXNlV2hlZWxFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAnbW91c2V3aGVlbCcsXG4gICAgICAgICAgICB0aGlzLm9uTW91c2VXaGVlbC5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgdHJ1ZVxuICAgICAgICApXG4gICAgICAgIHRoaXMubW91c2VXaGVlbEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICdET01Nb3VzZVNjcm9sbCcsXG4gICAgICAgICAgICB0aGlzLm9uTW91c2VXaGVlbC5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgdHJ1ZVxuICAgICAgICApXG4gICAgfVxuXG4gICAgb25Nb3VzZVdoZWVsKGV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLmNhcHR1cmUoZXZlbnQpICYmIHRoaXMudGFyZ2V0Lm9uTW91c2VXaGVlbCkge1xuICAgICAgICAgICAgdGhpcy50YXJnZXQub25Nb3VzZVdoZWVsKGV2ZW50KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy9jb25zb2xlLndhcm4oJ1RhcmdldCBoYXMgbm8gb25Nb3VzZVdoZWVsIGNhbGxiYWNrJylcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uU3RhcnQoZXZlbnQpIHtcbiAgICAgICAgbGV0IGV4dHJhY3RlZCA9IHRoaXMuZXh0cmFjdFBvaW50KGV2ZW50KVxuICAgICAgICB0aGlzLnVwZGF0ZUludGVyYWN0aW9uKGV2ZW50LCBleHRyYWN0ZWQpXG4gICAgICAgIHRoaXMudGFyZ2V0Lm9uU3RhcnQoZXZlbnQsIHRoaXMuaW50ZXJhY3Rpb24pXG4gICAgfVxuXG4gICAgb25Nb3ZlKGV2ZW50KSB7XG4gICAgICAgIGxldCBleHRyYWN0ZWQgPSB0aGlzLmV4dHJhY3RQb2ludChldmVudCwgJ2FsbCcpXG4gICAgICAgIHRoaXMudXBkYXRlSW50ZXJhY3Rpb24oZXZlbnQsIGV4dHJhY3RlZClcbiAgICAgICAgdGhpcy50YXJnZXQub25Nb3ZlKGV2ZW50LCB0aGlzLmludGVyYWN0aW9uKVxuICAgICAgICB0aGlzLmludGVyYWN0aW9uLnVwZGF0ZVByZXZpb3VzKClcbiAgICB9XG5cbiAgICBvbkVuZChldmVudCkge1xuICAgICAgICBsZXQgZXh0cmFjdGVkID0gdGhpcy5leHRyYWN0UG9pbnQoZXZlbnQsICdjaGFuZ2VkVG91Y2hlcycpXG4gICAgICAgIHRoaXMuZW5kSW50ZXJhY3Rpb24oZXZlbnQsIGV4dHJhY3RlZClcbiAgICAgICAgdGhpcy50YXJnZXQub25FbmQoZXZlbnQsIHRoaXMuaW50ZXJhY3Rpb24pXG4gICAgICAgIHRoaXMuZmluaXNoSW50ZXJhY3Rpb24oZXZlbnQsIGV4dHJhY3RlZClcbiAgICB9XG5cbiAgICBjYXB0dXJlKGV2ZW50KSB7XG4gICAgICAgIGxldCBjYXB0dXJlZCA9IHRoaXMudGFyZ2V0LmNhcHR1cmUoZXZlbnQpXG4gICAgICAgIHJldHVybiBjYXB0dXJlZFxuICAgIH1cblxuICAgIGdldFBvc2l0aW9uKGV2ZW50KSB7XG4gICAgICAgIHJldHVybiB7eDogZXZlbnQuY2xpZW50WCwgeTogZXZlbnQuY2xpZW50WX1cbiAgICB9XG5cbiAgICBleHRyYWN0UG9pbnQoZXZlbnQsIHRvdWNoRXZlbnRLZXkgPSAnYWxsJykge1xuICAgICAgICAvLyAndGFyZ2V0VG91Y2hlcydcbiAgICAgICAgbGV0IHJlc3VsdCA9IHt9XG4gICAgICAgIHN3aXRjaCAoZXZlbnQuY29uc3RydWN0b3IubmFtZSkge1xuICAgICAgICAgICAgY2FzZSAnTW91c2VFdmVudCc6XG4gICAgICAgICAgICAgICAgbGV0IGJ1dHRvbnMgPSBldmVudC5idXR0b25zIHx8IGV2ZW50LndoaWNoXG4gICAgICAgICAgICAgICAgaWYgKGJ1dHRvbnMpIHJlc3VsdFsnbW91c2UnXSA9IHRoaXMuZ2V0UG9zaXRpb24oZXZlbnQpXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIGNhc2UgJ1BvaW50ZXJFdmVudCc6XG4gICAgICAgICAgICAgICAgcmVzdWx0W2V2ZW50LnBvaW50ZXJJZC50b1N0cmluZygpXSA9IHRoaXMuZ2V0UG9zaXRpb24oZXZlbnQpXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIGNhc2UgJ1RvdWNoJzpcbiAgICAgICAgICAgICAgICBsZXQgaWQgPVxuICAgICAgICAgICAgICAgICAgICBldmVudC50b3VjaFR5cGUgPT09ICdzdHlsdXMnXG4gICAgICAgICAgICAgICAgICAgICAgICA/ICdzdHlsdXMnXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGV2ZW50LmlkZW50aWZpZXIudG9TdHJpbmcoKVxuICAgICAgICAgICAgICAgIHJlc3VsdFtpZF0gPSB0aGlzLmdldFBvc2l0aW9uKGV2ZW50KVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICBjYXNlICdUb3VjaEV2ZW50JzpcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAvLyBOZWVkcyB0byBiZSBvYnNlcnZlZDogUGVyaGFwcyBjaGFuZ2VkVG91Y2hlcyBhcmUgYWxsIHdlIG5lZWQuIElmIHNvXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgLy8gd2UgY2FuIHJlbW92ZSB0aGUgdG91Y2hFdmVudEtleSBkZWZhdWx0IHBhcmFtZXRlclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIGlmICh0b3VjaEV2ZW50S2V5ID09ICdhbGwnKSB7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGZvcihsZXQgdCBvZiBldmVudC50YXJnZXRUb3VjaGVzKSB7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRbdC5pZGVudGlmaWVyLnRvU3RyaW5nKCldID0gdGhpcy5nZXRQb3NpdGlvbih0KVxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGZvcihsZXQgdCBvZiBldmVudC5jaGFuZ2VkVG91Y2hlcykge1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W3QuaWRlbnRpZmllci50b1N0cmluZygpXSA9IHRoaXMuZ2V0UG9zaXRpb24odClcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgZm9yKGxldCB0IG9mIGV2ZW50LmNoYW5nZWRUb3VjaGVzKSB7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRbdC5pZGVudGlmaWVyLnRvU3RyaW5nKCldID0gdGhpcy5nZXRQb3NpdGlvbih0KVxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdFxuICAgIH1cblxuICAgIGludGVyYWN0aW9uU3RhcnRlZChldmVudCwga2V5LCBwb2ludCkge1xuICAgICAgICAvLyBDYWxsYmFjazogY2FuIGJlIG92ZXJ3cml0dGVuXG4gICAgfVxuXG4gICAgaW50ZXJhY3Rpb25FbmRlZChldmVudCwga2V5LCBwb2ludCkge1xuICAgICAgICAvLyBDYWxsYmFjazogY2FuIGJlIG92ZXJ3cml0dGVuXG4gICAgfVxuXG4gICAgaW50ZXJhY3Rpb25GaW5pc2hlZChldmVudCwga2V5LCBwb2ludCkge31cblxuICAgIHVwZGF0ZUludGVyYWN0aW9uKGV2ZW50LCBleHRyYWN0ZWQpIHtcbiAgICAgICAgZm9yIChsZXQga2V5IGluIGV4dHJhY3RlZCkge1xuICAgICAgICAgICAgbGV0IHBvaW50ID0gZXh0cmFjdGVkW2tleV1cbiAgICAgICAgICAgIGlmICh0aGlzLmludGVyYWN0aW9uLnVwZGF0ZShrZXksIHBvaW50KSkge1xuICAgICAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25TdGFydGVkKGV2ZW50LCBrZXksIHBvaW50KVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZW5kSW50ZXJhY3Rpb24oZXZlbnQsIGVuZGVkKSB7XG4gICAgICAgIGZvciAobGV0IGtleSBpbiBlbmRlZCkge1xuICAgICAgICAgICAgbGV0IHBvaW50ID0gZW5kZWRba2V5XVxuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbi5zdG9wKGtleSwgcG9pbnQpXG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRW5kZWQoZXZlbnQsIGtleSwgcG9pbnQpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmaW5pc2hJbnRlcmFjdGlvbihldmVudCwgZW5kZWQpIHtcbiAgICAgICAgZm9yIChsZXQga2V5IGluIGVuZGVkKSB7XG4gICAgICAgICAgICBsZXQgcG9pbnQgPSBlbmRlZFtrZXldXG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uLmZpbmlzaChrZXksIHBvaW50KVxuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkZpbmlzaGVkKGV2ZW50LCBrZXksIHBvaW50KVxuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgSW50ZXJhY3Rpb25NYXBwZXIgZXh0ZW5kcyBJbnRlcmFjdGlvbkRlbGVnYXRlIHtcbiAgICAvKiBBIHNwZWNpYWwgSW50ZXJhY3Rpb25EZWxlZ2F0ZSB0aGF0IG1hcHMgZXZlbnRzIHRvIHNwZWNpZmljIHBhcnRzIG9mXG4gICAgdGhlIGludGVyYWN0aW9uIHRhcmdldC4gVGhlIEludGVyYWN0aW9uVGFyZ2V0IG11c3QgaW1wbGVtZW50IGEgZmluZFRhcmdldFxuICAgIG1ldGhvZCB0aGF0IHJldHVybnMgYW4gb2JqZWN0IGltcGxlbWVudGluZyB0aGUgSUludGVyYWN0aW9uVGFyZ2V0IGludGVyZmFjZS5cblxuICAgIElmIHRoZSBJbnRlcmFjdGlvblRhcmdldCBhbHNvIGltcGxlbWVudHMgYSBtYXBQb3NpdGlvblRvUG9pbnQgbWV0aG9kIHRoaXNcbiAgICBpcyB1c2VkIHRvIG1hcCB0aGUgcG9pbnRzIHRvIHRoZSBsb2NhbCBjb29yZGluYXRlIHNwYWNlIG9mIHRoZSB0aGUgdGFyZ2V0LlxuXG4gICAgVGhpcyBtYWtlcyBpdCBlYXNpZXIgdG8gbG9va3VwIGVsZW1lbnRzIGFuZCByZWxhdGUgZXZlbnRzIHRvIGxvY2FsXG4gICAgcG9zaXRpb25zLlxuICAgICovXG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgZWxlbWVudCxcbiAgICAgICAgdGFyZ2V0LFxuICAgICAgICB7dGFwRGlzdGFuY2UgPSAxMCwgbG9uZ1ByZXNzVGltZSA9IDUwMC4wLCBtb3VzZVdoZWVsRWxlbWVudCA9IG51bGx9ID0ge31cbiAgICApIHtcbiAgICAgICAgc3VwZXIoZWxlbWVudCwgdGFyZ2V0LCB7dGFwRGlzdGFuY2UsIGxvbmdQcmVzc1RpbWUsIG1vdXNlV2hlZWxFbGVtZW50fSlcbiAgICB9XG5cbiAgICBnZXQgdGFyZ2V0SW50ZXJmYWNlKCkge1xuICAgICAgICByZXR1cm4gSUludGVyYWN0aW9uTWFwcGVyVGFyZ2V0XG4gICAgfVxuXG4gICAgbWFwUG9zaXRpb25Ub1BvaW50KHBvaW50KSB7XG4gICAgICAgIGlmICh0aGlzLnRhcmdldC5tYXBQb3NpdGlvblRvUG9pbnQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRhcmdldC5tYXBQb3NpdGlvblRvUG9pbnQocG9pbnQpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBvaW50XG4gICAgfVxuXG4gICAgaW50ZXJhY3Rpb25TdGFydGVkKGV2ZW50LCBrZXksIHBvaW50KSB7XG4gICAgICAgIGlmICh0aGlzLnRhcmdldC5maW5kVGFyZ2V0KSB7XG4gICAgICAgICAgICBsZXQgbG9jYWwgPSB0aGlzLm1hcFBvc2l0aW9uVG9Qb2ludChwb2ludClcbiAgICAgICAgICAgIGxldCBmb3VuZCA9IHRoaXMudGFyZ2V0LmZpbmRUYXJnZXQoZXZlbnQsIGxvY2FsLCBwb2ludClcbiAgICAgICAgICAgIGlmIChmb3VuZCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbi5hZGRUYXJnZXQoa2V5LCBmb3VuZClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uTW91c2VXaGVlbChldmVudCkge1xuICAgICAgICBpZiAodGhpcy5jYXB0dXJlKGV2ZW50KSkge1xuICAgICAgICAgICAgaWYgKHRoaXMudGFyZ2V0LmZpbmRUYXJnZXQpIHtcbiAgICAgICAgICAgICAgICBsZXQgcG9pbnQgPSB0aGlzLmdldFBvc2l0aW9uKGV2ZW50KVxuICAgICAgICAgICAgICAgIGxldCBsb2NhbCA9IHRoaXMubWFwUG9zaXRpb25Ub1BvaW50KHBvaW50KVxuICAgICAgICAgICAgICAgIGxldCBmb3VuZCA9IHRoaXMudGFyZ2V0LmZpbmRUYXJnZXQoZXZlbnQsIGxvY2FsLCBwb2ludClcbiAgICAgICAgICAgICAgICBpZiAoZm91bmQgIT0gbnVsbCAmJiBmb3VuZC5vbk1vdXNlV2hlZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgZm91bmQub25Nb3VzZVdoZWVsKGV2ZW50KVxuICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy50YXJnZXQub25Nb3VzZVdoZWVsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50YXJnZXQub25Nb3VzZVdoZWVsKGV2ZW50KVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUud2FybignVGFyZ2V0IGhhcyBubyBvbk1vdXNlV2hlZWwgY2FsbGJhY2snLCB0aGlzLnRhcmdldClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uU3RhcnQoZXZlbnQpIHtcbiAgICAgICAgbGV0IGV4dHJhY3RlZCA9IHRoaXMuZXh0cmFjdFBvaW50KGV2ZW50KVxuICAgICAgICB0aGlzLnVwZGF0ZUludGVyYWN0aW9uKGV2ZW50LCBleHRyYWN0ZWQpXG4gICAgICAgIGxldCBtYXBwZWQgPSB0aGlzLmludGVyYWN0aW9uLm1hcEludGVyYWN0aW9uKFxuICAgICAgICAgICAgZXh0cmFjdGVkLFxuICAgICAgICAgICAgWydjdXJyZW50JywgJ3N0YXJ0J10sXG4gICAgICAgICAgICB0aGlzLm1hcFBvc2l0aW9uVG9Qb2ludC5iaW5kKHRoaXMpXG4gICAgICAgIClcbiAgICAgICAgZm9yIChsZXQgW3RhcmdldCwgaW50ZXJhY3Rpb25dIG9mIG1hcHBlZC5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIHRhcmdldC5vblN0YXJ0KGV2ZW50LCBpbnRlcmFjdGlvbilcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uTW92ZShldmVudCkge1xuICAgICAgICBsZXQgZXh0cmFjdGVkID0gdGhpcy5leHRyYWN0UG9pbnQoZXZlbnQsICdhbGwnKVxuXG4gICAgICAgIHRoaXMudXBkYXRlSW50ZXJhY3Rpb24oZXZlbnQsIGV4dHJhY3RlZClcbiAgICAgICAgbGV0IG1hcHBlZCA9IHRoaXMuaW50ZXJhY3Rpb24ubWFwSW50ZXJhY3Rpb24oXG4gICAgICAgICAgICBleHRyYWN0ZWQsXG4gICAgICAgICAgICBbJ2N1cnJlbnQnLCAncHJldmlvdXMnXSxcbiAgICAgICAgICAgIHRoaXMubWFwUG9zaXRpb25Ub1BvaW50LmJpbmQodGhpcylcbiAgICAgICAgKVxuICAgICAgICBmb3IgKGxldCBbdGFyZ2V0LCBpbnRlcmFjdGlvbl0gb2YgbWFwcGVkLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgdGFyZ2V0Lm9uTW92ZShldmVudCwgaW50ZXJhY3Rpb24pXG4gICAgICAgICAgICBpbnRlcmFjdGlvbi51cGRhdGVQcmV2aW91cygpXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvbi51cGRhdGVQcmV2aW91cygpXG4gICAgfVxuXG4gICAgb25FbmQoZXZlbnQpIHtcbiAgICAgICAgbGV0IGV4dHJhY3RlZCA9IHRoaXMuZXh0cmFjdFBvaW50KGV2ZW50LCAnY2hhbmdlZFRvdWNoZXMnKVxuICAgICAgICB0aGlzLmVuZEludGVyYWN0aW9uKGV2ZW50LCBleHRyYWN0ZWQpXG4gICAgICAgIGxldCBtYXBwZWQgPSB0aGlzLmludGVyYWN0aW9uLm1hcEludGVyYWN0aW9uKFxuICAgICAgICAgICAgZXh0cmFjdGVkLFxuICAgICAgICAgICAgWydlbmRlZCddLFxuICAgICAgICAgICAgdGhpcy5tYXBQb3NpdGlvblRvUG9pbnQuYmluZCh0aGlzKVxuICAgICAgICApXG4gICAgICAgIGZvciAobGV0IFt0YXJnZXQsIGludGVyYWN0aW9uXSBvZiBtYXBwZWQuZW50cmllcygpKSB7XG4gICAgICAgICAgICB0YXJnZXQub25FbmQoZXZlbnQsIGludGVyYWN0aW9uKVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZmluaXNoSW50ZXJhY3Rpb24oZXZlbnQsIGV4dHJhY3RlZClcbiAgICB9XG59XG5cbndpbmRvdy5JbnRlcmFjdGlvbk1hcHBlciA9IEludGVyYWN0aW9uTWFwcGVyXG4iLCIvKiogUmVwb3J0IGNhcGFiaWxpdGllcyB3aXRoIGd1YXJhbnRlZWQgdmFsdWVzLlxuICovXG5leHBvcnQgY2xhc3MgQ2FwYWJpbGl0aWVzIHtcblxuICAgIC8qKiBSZXR1cm5zIHRoZSBicm93c2VyIHVzZXJBZ2VudC5cbiAgICBAcmV0dXJuIHtzdHJpbmd9XG4gICAgKi9cbiAgICBzdGF0aWMgZ2V0IHVzZXJBZ2VudCgpIHtcbiAgICAgICAgcmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnQgfHwgJ1Vua25vd24gQWdlbnQnXG4gICAgfVxuXG4gICAgLyoqIFRlc3RzIHdoZXRoZXIgdGhlIGFwcCBpcyBydW5uaW5nIG9uIGEgbW9iaWxlIGRldmljZS5cbiAgICBJbXBsZW1lbnRlZCBhcyBhIHJlYWRvbmx5IGF0dHJpYnV0ZS5cbiAgICBAcmV0dXJuIHtib29sZWFufVxuICAgICovXG4gICAgc3RhdGljIGdldCBpc01vYmlsZSgpIHtcbiAgICAgICAgcmV0dXJuICgvTW9iaS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSlcbiAgICB9XG5cbiAgICAvKiogVGVzdHMgd2hldGhlciB0aGUgYXBwIGlzIHJ1bm5pbmcgb24gYSBpT1MgZGV2aWNlLlxuICAgIEltcGxlbWVudGVkIGFzIGEgcmVhZG9ubHkgYXR0cmlidXRlLlxuICAgIEByZXR1cm4ge2Jvb2xlYW59XG4gICAgKi9cbiAgICBzdGF0aWMgZ2V0IGlzSU9TKCkge1xuICAgICAgICByZXR1cm4gKC9pUGFkfGlQaG9uZXxpUG9kLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKSAmJiAhd2luZG93Lk1TU3RyZWFtXG4gICAgfVxuXG4gICAgIC8qKiBUZXN0cyB3aGV0aGVyIHRoZSBhcHAgaXMgcnVubmluZyBpbiBhIFNhZmFyaSBlbnZpcm9ubWVudC5cbiAgICBTZWUgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNzk0NDQ2MC9kZXRlY3Qtc2FmYXJpLWJyb3dzZXJcbiAgICBJbXBsZW1lbnRlZCBhcyBhIHJlYWRvbmx5IGF0dHJpYnV0ZS5cbiAgICBAcmV0dXJuIHtib29sZWFufVxuICAgICovXG4gICAgc3RhdGljIGdldCBpc1NhZmFyaSgpIHtcbiAgICAgICAgcmV0dXJuIG5hdmlnYXRvci52ZW5kb3IgJiYgbmF2aWdhdG9yLnZlbmRvci5pbmRleE9mKCdBcHBsZScpID4gLTEgJiZcbiAgICAgICAgICAgICAgIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgIW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goJ0NyaU9TJylcbiAgICB9XG5cblxuICAgIC8qKiBSZXR1cm5zIHRoZSBkaXNwbGF5IHJlc29sdXRpb24uIE5lY2Vzc2FyeSBmb3IgcmV0aW5hIGRpc3BsYXlzLlxuICAgIEByZXR1cm4ge251bWJlcn1cbiAgICAqL1xuICAgIHN0YXRpYyBnZXQgZGV2aWNlUGl4ZWxSYXRpbygpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDFcbiAgICB9XG5cbiAgICAvKiogUmV0dXJucyB0cnVlIGlmIHRoZSBkZXZpY2UgaXMgYSBtdWx0aS10b3VjaCB0YWJsZS4gVGhpcyBtZXRob2QgaXMgY3VycmVudGx5IG5vdCB1bml2ZXJzYWwgdXNhYmxlIGFuZCBub3Qgc3VyZSFcbiAgICBAcmV0dXJuIHtib29sZWFufVxuICAgICovXG4gICAgc3RhdGljIGdldCBpc011bHRpVG91Y2hUYWJsZSgpIHtcbiAgICAgICAgcmV0dXJuIENhcGFiaWxpdGllcy5kZXZpY2VQaXhlbFJhdGlvID4gMiAmJiBDYXBhYmlsaXRpZXMuaXNNb2JpbGUgPT09IGZhbHNlICYmIC9XaW5kb3dzL2kudGVzdChDYXBhYmlsaXRpZXMudXNlckFnZW50KVxuICAgIH1cblxuICAgIC8qKiBSZXR1cm5zIHRydWUgaWYgbW91c2UgZXZlbnRzIGFyZSBzdXBwb3J0ZWRcbiAgICBAcmV0dXJuIHtib29sZWFufVxuICAgICovXG4gICAgc3RhdGljIHN1cHBvcnRzTW91c2VFdmVudHMoKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2Yod2luZG93Lk1vdXNlRXZlbnQpICE9ICd1bmRlZmluZWQnXG4gICAgfVxuXG4gICAgLyoqIFJldHVybnMgdHJ1ZSBpZiB0b3VjaCBldmVudHMgYXJlIHN1cHBvcnRlZFxuICAgIEByZXR1cm4ge2Jvb2xlYW59XG4gICAgKi9cbiAgICBzdGF0aWMgc3VwcG9ydHNUb3VjaEV2ZW50cygpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZih3aW5kb3cuVG91Y2hFdmVudCkgIT0gJ3VuZGVmaW5lZCdcbiAgICB9XG5cbiAgICAvKiogUmV0dXJucyB0cnVlIGlmIHBvaW50ZXIgZXZlbnRzIGFyZSBzdXBwb3J0ZWRcbiAgICBAcmV0dXJuIHtib29sZWFufVxuICAgICovXG4gICAgc3RhdGljIHN1cHBvcnRzUG9pbnRlckV2ZW50cygpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZih3aW5kb3cuUG9pbnRlckV2ZW50KSAhPSAndW5kZWZpbmVkJ1xuICAgIH1cblxuICAgIC8qKiBSZXR1cm5zIHRydWUgaWYgRE9NIHRlbXBsYXRlcyBhcmUgc3VwcG9ydGVkXG4gICAgQHJldHVybiB7Ym9vbGVhbn1cbiAgICAqL1xuICAgIHN0YXRpYyBzdXBwb3J0c1RlbXBsYXRlKCkge1xuICAgICAgICByZXR1cm4gJ2NvbnRlbnQnIGluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG4gICAgfVxufVxuXG4vKiogQmFzaWMgdGVzdHMgZm9yIENhcGFiaWxpdGllcy5cbiAqL1xuZXhwb3J0IGNsYXNzIENhcGFiaWxpdGllc1Rlc3RzIHtcblxuICAgIHN0YXRpYyB0ZXN0Q29uZmlybSgpIHtcbiAgICAgICAgbGV0IGJvb2wgPSBjb25maXJtKCdQbGVhc2UgY29uZmlybScpXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZW1vJykuaW5uZXJIVE1MID0gKGJvb2wpID8gJ0NvbmZpcm1lZCcgOiAnTm90IGNvbmZpcm1lZCdcbiAgICB9XG5cbiAgICBzdGF0aWMgdGVzdFByb21wdCgpIHtcbiAgICAgICAgbGV0IHBlcnNvbiA9IHByb21wdCgnUGxlYXNlIGVudGVyIHlvdXIgbmFtZScsICdIYXJyeSBQb3R0ZXInKVxuICAgICAgICBpZiAocGVyc29uICE9IG51bGwpIHtcbiAgICAgICAgICAgIGRlbW8uaW5uZXJIVE1MID1cbiAgICAgICAgICAgICdIZWxsbyAnICsgcGVyc29uICsgJyEgSG93IGFyZSB5b3UgdG9kYXk/J1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIHRlc3RVc2VyQWdlbnQoKSB7XG4gICAgICAgIGxldCBhZ2VudCA9ICdVc2VyLWFnZW50OiAnICsgQ2FwYWJpbGl0aWVzLnVzZXJBZ2VudFxuICAgICAgICB1c2VyX2FnZW50LmlubmVySFRNTCA9IGFnZW50XG4gICAgfVxuXG4gICAgc3RhdGljIHRlc3REZXZpY2VQaXhlbFJhdGlvKCkge1xuICAgICAgICBsZXQgdmFsdWUgPSAnRGV2aWNlIFBpeGVsIFJhdGlvOiAnICsgQ2FwYWJpbGl0aWVzLmRldmljZVBpeGVsUmF0aW9cbiAgICAgICAgZGV2aWNlX3BpeGVsX3JhdGlvLmlubmVySFRNTCA9IHZhbHVlXG4gICAgfVxuXG4gICAgc3RhdGljIHRlc3RNdWx0aVRvdWNoVGFibGUoKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9ICdJcyB0aGUgZGV2aWNlIGEgbXVsdGktdG91Y2ggdGFibGU/ICcgKyBDYXBhYmlsaXRpZXMuaXNNdWx0aVRvdWNoVGFibGVcbiAgICAgICAgbXVsdGlfdG91Y2hfdGFibGUuaW5uZXJIVE1MID0gdmFsdWVcbiAgICB9XG5cbiAgICBzdGF0aWMgdGVzdFN1cHBvcnRlZEV2ZW50cygpIHtcbiAgICAgICAgbGV0IGV2ZW50cyA9IFtdXG4gICAgICAgIGlmIChDYXBhYmlsaXRpZXMuc3VwcG9ydHNNb3VzZUV2ZW50cygpKSB7XG4gICAgICAgICAgICBldmVudHMucHVzaCgnTW91c2VFdmVudHMnKVxuICAgICAgICB9XG4gICAgICAgIGlmIChDYXBhYmlsaXRpZXMuc3VwcG9ydHNUb3VjaEV2ZW50cygpKSB7XG4gICAgICAgICAgICBldmVudHMucHVzaCgnVG91Y2hFdmVudHMnKVxuICAgICAgICB9XG4gICAgICAgIGlmIChDYXBhYmlsaXRpZXMuc3VwcG9ydHNQb2ludGVyRXZlbnRzKCkpIHtcbiAgICAgICAgICAgIGV2ZW50cy5wdXNoKCdQb2ludGVyRXZlbnRzJylcbiAgICAgICAgfVxuICAgICAgICBzdXBwb3J0ZWRfZXZlbnRzLmlubmVySFRNTCA9ICdTdXBwb3J0ZWQgRXZlbnRzOiAnICsgZXZlbnRzLmpvaW4oJywgJylcbiAgICB9XG5cbiAgICBzdGF0aWMgdGVzdEFsbCgpIHtcbiAgICAgICAgdGhpcy50ZXN0VXNlckFnZW50KClcbiAgICAgICAgdGhpcy50ZXN0RGV2aWNlUGl4ZWxSYXRpbygpXG4gICAgICAgIHRoaXMudGVzdE11bHRpVG91Y2hUYWJsZSgpXG4gICAgICAgIHRoaXMudGVzdFN1cHBvcnRlZEV2ZW50cygpXG4gICAgfVxufVxuXG4vKiBPcHRpb25hbCBnbG9iYWwgdmFyaWFibGVzLCBuZWVkZWQgaW4gRG9jVGVzdHMuICovXG53aW5kb3cuQ2FwYWJpbGl0aWVzID0gQ2FwYWJpbGl0aWVzXG53aW5kb3cuQ2FwYWJpbGl0aWVzVGVzdHMgPSBDYXBhYmlsaXRpZXNUZXN0c1xuIiwiaW1wb3J0IHtQb2ludHMsIFBvbHlnb24sIEFuZ2xlLCBFbGVtZW50c30gZnJvbSAnLi91dGlscy5qcydcbmltcG9ydCBFdmVudHMgZnJvbSAnLi9ldmVudHMuanMnXG5pbXBvcnQge0ludGVyYWN0aW9uTWFwcGVyfSBmcm9tICcuL2ludGVyYWN0aW9uLmpzJ1xuaW1wb3J0IHtDYXBhYmlsaXRpZXN9IGZyb20gJy4vY2FwYWJpbGl0aWVzLmpzJ1xuXG4vKipcbiAqIEEgYmFzZSBjbGFzcyBmb3Igc2NhdHRlciBzcGVjaWZpYyBldmVudHMuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge25hbWV9IFN0cmluZyAtIFRoZSBuYW1lIG9mIHRoZSBldmVudFxuICogQHBhcmFtIHt0YXJnZXR9IE9iamVjdCAtIFRoZSB0YXJnZXQgb2YgdGhlIGV2ZW50XG4gKi9cbmV4cG9ydCBjbGFzcyBCYXNlRXZlbnQge1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIHRhcmdldCkge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lXG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0XG4gICAgfVxufVxuXG4vLyBFdmVudCB0eXBlc1xuY29uc3QgU1RBUlQgPSAnb25TdGFydCdcbmNvbnN0IFVQREFURSA9ICdvblVwZGF0ZSdcbmNvbnN0IEVORCA9ICdvbkVuZCdcbmNvbnN0IFpPT00gPSAnb25ab29tJ1xuY29uc3QgTU9WRSA9ICdvbk1vdmUnXG5cbi8qKlxuICogQSBzY2F0dGVyIGV2ZW50IHRoYXQgZGVzY3JpYmVzIGhvdyB0aGUgc2NhdHRlciBoYXMgY2hhbmdlZC5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7dGFyZ2V0fSBPYmplY3QgLSBUaGUgdGFyZ2V0IHNjYXR0ZXIgb2YgdGhlIGV2ZW50XG4gKiBAcGFyYW0ge29wdGlvbmFsfSBPYmplY3QgLSBPcHRpb25hbCBwYXJhbWV0ZXJcbiAqL1xuZXhwb3J0IGNsYXNzIFNjYXR0ZXJFdmVudCBleHRlbmRzIEJhc2VFdmVudCB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHRhcmdldCxcbiAgICAgICAge1xuICAgICAgICAgICAgdHJhbnNsYXRlID0ge3g6IDAsIHk6IDB9LFxuICAgICAgICAgICAgc2NhbGUgPSBudWxsLFxuICAgICAgICAgICAgcm90YXRlID0gMCxcbiAgICAgICAgICAgIGFib3V0ID0gbnVsbCxcbiAgICAgICAgICAgIGZhc3QgPSBmYWxzZSxcbiAgICAgICAgICAgIHR5cGUgPSBudWxsXG4gICAgICAgIH0gPSB7fVxuICAgICkge1xuICAgICAgICBzdXBlcignc2NhdHRlclRyYW5zZm9ybWVkJywge3RhcmdldDogdGFyZ2V0fSlcbiAgICAgICAgdGhpcy50cmFuc2xhdGUgPSB0cmFuc2xhdGVcbiAgICAgICAgdGhpcy5zY2FsZSA9IHNjYWxlXG4gICAgICAgIHRoaXMucm90YXRlID0gcm90YXRlXG4gICAgICAgIHRoaXMuYWJvdXQgPSBhYm91dFxuICAgICAgICB0aGlzLmZhc3QgPSBmYXN0XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGVcbiAgICB9XG5cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIFwiRXZlbnQoJ3NjYXR0ZXJUcmFuc2Zvcm1lZCcsIHNjYWxlOiBcIiArXG4gICAgICAgICAgICB0aGlzLnNjYWxlICtcbiAgICAgICAgICAgICcgYWJvdXQ6ICcgK1xuICAgICAgICAgICAgdGhpcy5hYm91dC54ICtcbiAgICAgICAgICAgICcsICcgK1xuICAgICAgICAgICAgdGhpcy5hYm91dC55ICtcbiAgICAgICAgICAgICcpJ1xuICAgICAgICApXG4gICAgfVxufVxuXG4vKipcbiAqIEEgc2NhdHRlciByZXNpemUgZXZlbnQgdGhhdCBkZXNjcmliZXMgaG93IHRoZSBzY2F0dGVyIGhhcyBjaGFuZ2VkLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHt0YXJnZXR9IE9iamVjdCAtIFRoZSB0YXJnZXQgc2NhdHRlciBvZiB0aGUgZXZlbnRcbiAqIEBwYXJhbSB7b3B0aW9uYWx9IE9iamVjdCAtIE9wdGlvbmFsIHBhcmFtZXRlclxuICovXG5leHBvcnQgY2xhc3MgUmVzaXplRXZlbnQgZXh0ZW5kcyBCYXNlRXZlbnQge1xuICAgIGNvbnN0cnVjdG9yKHRhcmdldCwge3dpZHRoID0gMCwgaGVpZ2h0ID0gMH0gPSB7fSkge1xuICAgICAgICBzdXBlcignc2NhdHRlclJlc2l6ZWQnLCB7d2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodH0pXG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aFxuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodFxuICAgIH1cblxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgJ0V2ZW50KHNjYXR0ZXJSZXNpemVkIHdpZHRoOiAnICtcbiAgICAgICAgICAgIHRoaXMud2lkdGggK1xuICAgICAgICAgICAgJ2hlaWdodDogJyArXG4gICAgICAgICAgICB0aGlzLmhlaWdodCArXG4gICAgICAgICAgICAnKSdcbiAgICAgICAgKVxuICAgIH1cbn1cblxuLyoqXG4gKiBBIGFic3RyYWN0IGJhc2UgY2xhc3MgdGhhdCBpbXBsZW1lbnRzIHRoZSB0aHJvd2FibGUgYmVoYXZpb3Igb2YgYSBzY2F0dGVyXG4gKiBvYmplY3QuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmNsYXNzIFRocm93YWJsZSB7XG4gICAgY29uc3RydWN0b3Ioe1xuICAgICAgICBtb3ZhYmxlWCA9IHRydWUsXG4gICAgICAgIG1vdmFibGVZID0gdHJ1ZSxcbiAgICAgICAgdGhyb3dWaXNpYmlsaXR5ID0gNDQsXG4gICAgICAgIHRocm93RGFtcGluZyA9IDAuOTUsXG4gICAgICAgIGF1dG9UaHJvdyA9IHRydWVcbiAgICB9ID0ge30pIHtcbiAgICAgICAgdGhpcy5tb3ZhYmxlWCA9IG1vdmFibGVYXG4gICAgICAgIHRoaXMubW92YWJsZVkgPSBtb3ZhYmxlWVxuICAgICAgICB0aGlzLnRocm93VmlzaWJpbGl0eSA9IHRocm93VmlzaWJpbGl0eVxuICAgICAgICB0aGlzLnRocm93RGFtcGluZyA9IHRocm93RGFtcGluZ1xuICAgICAgICB0aGlzLmF1dG9UaHJvdyA9IGF1dG9UaHJvd1xuICAgICAgICB0aGlzLnZlbG9jaXRpZXMgPSBbXVxuICAgICAgICB0aGlzLnZlbG9jaXR5ID0gbnVsbFxuICAgICAgICB0aGlzLnRpbWVzdGFtcCA9IG51bGxcbiAgICB9XG5cbiAgICBvYnNlcnZlVmVsb2NpdHkoKSB7XG4gICAgICAgIHRoaXMubGFzdGZyYW1lID0gcGVyZm9ybWFuY2Uubm93KClcbiAgICB9XG5cbiAgICBhZGRWZWxvY2l0eShkZWx0YSwgYnVmZmVyID0gNSkge1xuICAgICAgICBsZXQgdCA9IHBlcmZvcm1hbmNlLm5vdygpXG4gICAgICAgIGxldCBkdCA9IHQgLSB0aGlzLmxhc3RmcmFtZVxuICAgICAgICB0aGlzLmxhc3RmcmFtZSA9IHRcbiAgICAgICAgbGV0IHZlbG9jaXR5ID0ge3Q6IHQsIGR0OiBkdCwgZHg6IGRlbHRhLngsIGR5OiBkZWx0YS55fVxuICAgICAgICB0aGlzLnZlbG9jaXRpZXMucHVzaCh2ZWxvY2l0eSlcbiAgICAgICAgd2hpbGUgKHRoaXMudmVsb2NpdGllcy5sZW5ndGggPiBidWZmZXIpIHtcbiAgICAgICAgICAgIHRoaXMudmVsb2NpdGllcy5zaGlmdCgpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBtZWFuVmVsb2NpdHkobWlsbGlzZWNvbmRzID0gMzApIHtcbiAgICAgICAgdGhpcy5hZGRWZWxvY2l0eSh7eDogMCwgeTogMH0pXG4gICAgICAgIGxldCBzdW0gPSB7eDogMCwgeTogMH1cbiAgICAgICAgbGV0IGNvdW50ID0gMFxuICAgICAgICBsZXQgdCA9IDBcbiAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMudmVsb2NpdGllcy5sZW5ndGggLSAxOyBpID4gMDsgaS0tKSB7XG4gICAgICAgICAgICBsZXQgdiA9IHRoaXMudmVsb2NpdGllc1tpXVxuICAgICAgICAgICAgdCArPSB2LmR0XG4gICAgICAgICAgICBsZXQgbnYgPSB7eDogdi5keCAvIHYuZHQsIHk6IHYuZHkgLyB2LmR0fVxuICAgICAgICAgICAgc3VtID0gUG9pbnRzLmFkZChzdW0sIG52KVxuICAgICAgICAgICAgY291bnQgKz0gMVxuICAgICAgICAgICAgaWYgKHQgPiBtaWxsaXNlY29uZHMpIHtcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjb3VudCA9PT0gMCkgcmV0dXJuIHN1bSAvLyBlbXB0eSB2ZWN0b3JcbiAgICAgICAgcmV0dXJuIFBvaW50cy5tdWx0aXBseVNjYWxhcihzdW0sIDEgLyBjb3VudClcbiAgICB9XG5cbiAgICBraWxsQW5pbWF0aW9uKCkge1xuICAgICAgICB0aGlzLnZlbG9jaXR5ID0gbnVsbFxuICAgICAgICB0aGlzLnZlbG9jaXRpZXMgPSBbXVxuICAgIH1cblxuICAgIHN0YXJ0VGhyb3coKSB7XG4gICAgICAgIHRoaXMudmVsb2NpdHkgPSB0aGlzLm1lYW5WZWxvY2l0eSgpXG4gICAgICAgIGlmICh0aGlzLnZlbG9jaXR5ICE9IG51bGwpIHtcbiAgICAgICAgICAgIC8vIENhbGwgbmV4dCB2ZWxvY2l0eSB0byBhbnN1cmUgdGhhdCBzcGVjaWFsaXphdGlvbnNcbiAgICAgICAgICAgIC8vIHRoYXQgdXNlIGtlZXBPblN0YWdlIGFyZSBjYWxsZWRcbiAgICAgICAgICAgIHRoaXMudmVsb2NpdHkgPSB0aGlzLm5leHRWZWxvY2l0eSh0aGlzLnZlbG9jaXR5KVxuICAgICAgICAgICAgaWYgKHRoaXMuYXV0b1Rocm93KSB0aGlzLmFuaW1hdGVUaHJvdyhwZXJmb3JtYW5jZS5ub3coKSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMub25EcmFnQ29tcGxldGUoKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgYW5pbWF0ZVRocm93KHRpbWUpIHtcbiAgICAgICAgaWYgKHRoaXMudmVsb2NpdHkgIT0gbnVsbCkge1xuICAgICAgICAgICAgbGV0IHQgPSBwZXJmb3JtYW5jZS5ub3coKVxuICAgICAgICAgICAgbGV0IGR0ID0gdCAtIHRoaXMubGFzdGZyYW1lXG4gICAgICAgICAgICB0aGlzLmxhc3RmcmFtZSA9IHRcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiYW5pbWF0ZVRocm93XCIsIGR0KVxuICAgICAgICAgICAgbGV0IG5leHQgPSB0aGlzLm5leHRWZWxvY2l0eSh0aGlzLnZlbG9jaXR5KVxuICAgICAgICAgICAgbGV0IHByZXZMZW5ndGggPSBQb2ludHMubGVuZ3RoKHRoaXMudmVsb2NpdHkpXG4gICAgICAgICAgICBsZXQgbmV4dExlbmd0aCA9IFBvaW50cy5sZW5ndGgobmV4dClcbiAgICAgICAgICAgIGlmIChuZXh0TGVuZ3RoID4gcHJldkxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGxldCBmYWN0b3IgPSBuZXh0TGVuZ3RoIC8gcHJldkxlbmd0aFxuICAgICAgICAgICAgICAgIG5leHQgPSBQb2ludHMubXVsdGlwbHlTY2FsYXIobmV4dCwgMSAvIGZhY3RvcilcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUHJldmVudCBhY2NlbGVyYXRpb24nLCBmYWN0b3IsIHRoaXMudmVsb2NpdHksIG5leHQpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnZlbG9jaXR5ID0gbmV4dFxuICAgICAgICAgICAgbGV0IGQgPSBQb2ludHMubXVsdGlwbHlTY2FsYXIodGhpcy52ZWxvY2l0eSwgZHQpXG4gICAgICAgICAgICB0aGlzLl9tb3ZlKGQpXG4gICAgICAgICAgICB0aGlzLm9uRHJhZ1VwZGF0ZShkKVxuICAgICAgICAgICAgaWYgKGR0ID09IDAgfHwgdGhpcy5uZWVkc0FuaW1hdGlvbigpKSB7XG4gICAgICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0ZVRocm93LmJpbmQodGhpcykpXG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzT3V0c2lkZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmFuaW1hdGVUaHJvdy5iaW5kKHRoaXMpKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9uRHJhZ0NvbXBsZXRlKClcbiAgICB9XG5cbiAgICBuZWVkc0FuaW1hdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIFBvaW50cy5sZW5ndGgodGhpcy52ZWxvY2l0eSkgPiAwLjAxXG4gICAgfVxuXG4gICAgbmV4dFZlbG9jaXR5KHZlbG9jaXR5KSB7XG4gICAgICAgIC8vIE11c3QgYmUgb3ZlcndyaXR0ZW46IGNvbXB1dGVzIHRoZSBjaGFuZ2VkIHZlbG9jaXR5LiBJbXBsZW1lbnRcbiAgICAgICAgLy8gZGFtcGluZywgY29sbGlzb24gZGV0ZWN0aW9uLCBldGMuIGhlcmVcbiAgICAgICAgcmV0dXJuIFBvaW50cy5tdWx0aXBseVNjYWxhcih2ZWxvY2l0eSwgdGhpcy50aHJvd0RhbXBpbmcpXG4gICAgfVxuXG4gICAgX21vdmUoZGVsdGEpIHt9XG5cbiAgICBvbkRyYWdDb21wbGV0ZSgpIHt9XG5cbiAgICBvbkRyYWdVcGRhdGUoZGVsdGEpIHt9XG59XG5cbmV4cG9ydCBjbGFzcyBBYnN0cmFjdFNjYXR0ZXIgZXh0ZW5kcyBUaHJvd2FibGUge1xuICAgIGNvbnN0cnVjdG9yKHtcbiAgICAgICAgbWluU2NhbGUgPSAwLjEsXG4gICAgICAgIG1heFNjYWxlID0gMS4wLFxuICAgICAgICBzdGFydFNjYWxlID0gMS4wLFxuICAgICAgICBhdXRvQnJpbmdUb0Zyb250ID0gdHJ1ZSxcbiAgICAgICAgYXV0b1Rocm93ID0gdHJ1ZSxcbiAgICAgICAgdHJhbnNsYXRhYmxlID0gdHJ1ZSxcbiAgICAgICAgc2NhbGFibGUgPSB0cnVlLFxuICAgICAgICByb3RhdGFibGUgPSB0cnVlLFxuICAgICAgICByZXNpemFibGUgPSBmYWxzZSxcbiAgICAgICAgbW92YWJsZVggPSB0cnVlLFxuICAgICAgICBtb3ZhYmxlWSA9IHRydWUsXG4gICAgICAgIHRocm93VmlzaWJpbGl0eSA9IDQ0LFxuICAgICAgICB0aHJvd0RhbXBpbmcgPSAwLjk1LFxuICAgICAgICBvdmVyZG9TY2FsaW5nID0gMSxcbiAgICAgICAgbW91c2Vab29tRmFjdG9yID0gMS4xLFxuICAgICAgICByb3RhdGlvbkRlZ3JlZXMgPSBudWxsLFxuICAgICAgICByb3RhdGlvbiA9IG51bGwsXG4gICAgICAgIG9uVHJhbnNmb3JtID0gbnVsbFxuICAgIH0gPSB7fSkge1xuICAgICAgICBpZiAocm90YXRpb25EZWdyZWVzICE9IG51bGwgJiYgcm90YXRpb24gIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVc2Ugcm90YXRpb25EZWdyZWVzIG9yIHJvdGF0aW9uIGJ1dCBub3QgYm90aCcpXG4gICAgICAgIH0gZWxzZSBpZiAocm90YXRpb24gIT0gbnVsbCkge1xuICAgICAgICAgICAgcm90YXRpb25EZWdyZWVzID0gQW5nbGUucmFkaWFuMmRlZ3JlZShyb3RhdGlvbilcbiAgICAgICAgfSBlbHNlIGlmIChyb3RhdGlvbkRlZ3JlZXMgPT0gbnVsbCkge1xuICAgICAgICAgICAgcm90YXRpb25EZWdyZWVzID0gMFxuICAgICAgICB9XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG1vdmFibGVYLFxuICAgICAgICAgICAgbW92YWJsZVksXG4gICAgICAgICAgICB0aHJvd1Zpc2liaWxpdHksXG4gICAgICAgICAgICB0aHJvd0RhbXBpbmcsXG4gICAgICAgICAgICBhdXRvVGhyb3dcbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy5zdGFydFJvdGF0aW9uRGVncmVlcyA9IHJvdGF0aW9uRGVncmVlc1xuICAgICAgICB0aGlzLnN0YXJ0U2NhbGUgPSBzdGFydFNjYWxlIC8vIE5lZWRlZCB0byByZXNldCBvYmplY3RcbiAgICAgICAgdGhpcy5taW5TY2FsZSA9IG1pblNjYWxlXG4gICAgICAgIHRoaXMubWF4U2NhbGUgPSBtYXhTY2FsZVxuICAgICAgICB0aGlzLm92ZXJkb1NjYWxpbmcgPSBvdmVyZG9TY2FsaW5nXG4gICAgICAgIHRoaXMudHJhbnNsYXRhYmxlID0gdHJhbnNsYXRhYmxlXG4gICAgICAgIHRoaXMuc2NhbGFibGUgPSBzY2FsYWJsZVxuICAgICAgICB0aGlzLnJvdGF0YWJsZSA9IHJvdGF0YWJsZVxuICAgICAgICB0aGlzLnJlc2l6YWJsZSA9IHJlc2l6YWJsZVxuICAgICAgICB0aGlzLm1vdXNlWm9vbUZhY3RvciA9IG1vdXNlWm9vbUZhY3RvclxuICAgICAgICB0aGlzLmF1dG9CcmluZ1RvRnJvbnQgPSBhdXRvQnJpbmdUb0Zyb250XG4gICAgICAgIHRoaXMuZHJhZ2dpbmcgPSBmYWxzZVxuICAgICAgICB0aGlzLm9uVHJhbnNmb3JtID0gb25UcmFuc2Zvcm0gIT0gbnVsbCA/IFtvblRyYW5zZm9ybV0gOiBudWxsXG4gICAgfVxuXG4gICAgYWRkVHJhbnNmb3JtRXZlbnRDYWxsYmFjayhjYWxsYmFjaykge1xuICAgICAgICBpZiAodGhpcy5vblRyYW5zZm9ybSA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLm9uVHJhbnNmb3JtID0gW11cbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9uVHJhbnNmb3JtLnB1c2goY2FsbGJhY2spXG4gICAgfVxuXG4gICAgc3RhcnRHZXN0dXJlKGludGVyYWN0aW9uKSB7XG4gICAgICAgIHRoaXMuYnJpbmdUb0Zyb250KClcbiAgICAgICAgdGhpcy5raWxsQW5pbWF0aW9uKClcbiAgICAgICAgdGhpcy5vYnNlcnZlVmVsb2NpdHkoKVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cblxuICAgIGdlc3R1cmUoaW50ZXJhY3Rpb24pIHtcbiAgICAgICAgbGV0IGRlbHRhID0gaW50ZXJhY3Rpb24uZGVsdGEoKVxuICAgICAgICBpZiAoZGVsdGEgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5hZGRWZWxvY2l0eShkZWx0YSlcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtKGRlbHRhLCBkZWx0YS56b29tLCBkZWx0YS5yb3RhdGUsIGRlbHRhLmFib3V0KVxuICAgICAgICAgICAgaWYgKGRlbHRhLnpvb20gIT0gMSkgdGhpcy5pbnRlcmFjdGlvbkFuY2hvciA9IGRlbHRhLmFib3V0XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgcG9seWdvbigpIHtcbiAgICAgICAgbGV0IHcyID0gdGhpcy53aWR0aCAqIHRoaXMuc2NhbGUgLyAyXG4gICAgICAgIGxldCBoMiA9IHRoaXMuaGVpZ2h0ICogdGhpcy5zY2FsZSAvIDJcbiAgICAgICAgbGV0IGNlbnRlciA9IHRoaXMuY2VudGVyXG4gICAgICAgIGxldCBwb2x5Z29uID0gbmV3IFBvbHlnb24oY2VudGVyKVxuICAgICAgICBwb2x5Z29uLmFkZFBvaW50KHt4OiAtdzIsIHk6IC1oMn0pXG4gICAgICAgIHBvbHlnb24uYWRkUG9pbnQoe3g6IHcyLCB5OiAtaDJ9KVxuICAgICAgICBwb2x5Z29uLmFkZFBvaW50KHt4OiB3MiwgeTogaDJ9KVxuICAgICAgICBwb2x5Z29uLmFkZFBvaW50KHt4OiAtdzIsIHk6IGgyfSlcbiAgICAgICAgcG9seWdvbi5yb3RhdGUodGhpcy5yb3RhdGlvbilcbiAgICAgICAgcmV0dXJuIHBvbHlnb25cbiAgICB9XG5cbiAgICBpc091dHNpZGUoKSB7XG4gICAgICAgIGxldCBzdGFnZVBvbHlnb24gPSB0aGlzLmNvbnRhaW5lclBvbHlnb25cbiAgICAgICAgbGV0IHBvbHlnb24gPSB0aGlzLnBvbHlnb25cbiAgICAgICAgbGV0IHJlc3VsdCA9IHN0YWdlUG9seWdvbi5pbnRlcnNlY3RzV2l0aChwb2x5Z29uKVxuICAgICAgICByZXR1cm4gcmVzdWx0ID09PSBmYWxzZSB8fCByZXN1bHQub3ZlcmxhcCA8IHRoaXMudGhyb3dWaXNpYmlsaXR5XG4gICAgfVxuXG4gICAgcmVjZW50ZXIoKSB7XG4gICAgICAgIC8vIFJldHVybiBhIHNtYWxsIHZlY3RvciB0aGF0IGd1YXJhbnRlZXMgdGhhdCB0aGUgc2NhdHRlciBpcyBtb3ZpbmdcbiAgICAgICAgLy8gdG93YXJkcyB0aGUgY2VudGVyIG9mIHRoZSBzdGFnZVxuICAgICAgICBsZXQgY2VudGVyID0gdGhpcy5jZW50ZXJcbiAgICAgICAgbGV0IHRhcmdldCA9IHRoaXMuY29udGFpbmVyLmNlbnRlclxuICAgICAgICBsZXQgZGVsdGEgPSBQb2ludHMuc3VidHJhY3QodGFyZ2V0LCBjZW50ZXIpXG4gICAgICAgIHJldHVybiBQb2ludHMubm9ybWFsaXplKGRlbHRhKVxuICAgIH1cblxuICAgIG5leHRWZWxvY2l0eSh2ZWxvY2l0eSkge1xuICAgICAgICByZXR1cm4gdGhpcy5rZWVwT25TdGFnZSh2ZWxvY2l0eSlcbiAgICB9XG5cbiAgICBib3VuY2luZygpIHtcbiAgICAgICAgLy8gSW1wbGVtZW50cyB0aGUgYm91bmNpbmcgYmVoYXZpb3Igb2YgdGhlIHNjYXR0ZXIuIE1vdmVzIHRoZSBzY2F0dGVyXG4gICAgICAgIC8vIHRvIHRoZSBjZW50ZXIgb2YgdGhlIHN0YWdlIGlmIHRoZSBzY2F0dGVyIGlzIG91dHNpZGUgdGhlIHN0YWdlIG9yXG4gICAgICAgIC8vIG5vdCB3aXRoaW4gdGhlIGxpbWl0cyBvZiB0aGUgdGhyb3dWaXNpYmlsaXR5LlxuXG4gICAgICAgIGxldCBzdGFnZVBvbHlnb24gPSB0aGlzLmNvbnRhaW5lclBvbHlnb25cbiAgICAgICAgbGV0IHBvbHlnb24gPSB0aGlzLnBvbHlnb25cbiAgICAgICAgbGV0IHJlc3VsdCA9IHN0YWdlUG9seWdvbi5pbnRlcnNlY3RzV2l0aChwb2x5Z29uKVxuICAgICAgICBpZiAocmVzdWx0ID09PSBmYWxzZSB8fCByZXN1bHQub3ZlcmxhcCA8IHRoaXMudGhyb3dWaXNpYmlsaXR5KSB7XG4gICAgICAgICAgICBsZXQgY3YgPSB0aGlzLnJlY2VudGVyKClcbiAgICAgICAgICAgIGxldCByZWNlbnRlcmVkID0gZmFsc2VcbiAgICAgICAgICAgIHdoaWxlIChyZXN1bHQgPT09IGZhbHNlIHx8IHJlc3VsdC5vdmVybGFwIDwgdGhpcy50aHJvd1Zpc2liaWxpdHkpIHtcbiAgICAgICAgICAgICAgICBwb2x5Z29uLmNlbnRlci54ICs9IGN2LnhcbiAgICAgICAgICAgICAgICBwb2x5Z29uLmNlbnRlci55ICs9IGN2LnlcbiAgICAgICAgICAgICAgICB0aGlzLl9tb3ZlKGN2KVxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHN0YWdlUG9seWdvbi5pbnRlcnNlY3RzV2l0aChwb2x5Z29uKVxuICAgICAgICAgICAgICAgIHJlY2VudGVyZWQgPSB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVjZW50ZXJlZFxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGtlZXBPblN0YWdlKHZlbG9jaXR5LCBjb2xsaXNpb24gPSAwLjUpIHtcbiAgICAgICAgbGV0IHN0YWdlUG9seWdvbiA9IHRoaXMuY29udGFpbmVyUG9seWdvblxuICAgICAgICBpZiAoIXN0YWdlUG9seWdvbikgcmV0dXJuXG4gICAgICAgIGxldCBwb2x5Z29uID0gdGhpcy5wb2x5Z29uXG4gICAgICAgIGxldCBib3VuY2VkID0gdGhpcy5ib3VuY2luZygpXG4gICAgICAgIGlmIChib3VuY2VkKSB7XG4gICAgICAgICAgICBsZXQgc3RhZ2UgPSB0aGlzLmNvbnRhaW5lckJvdW5kc1xuICAgICAgICAgICAgbGV0IHggPSB0aGlzLmNlbnRlci54XG4gICAgICAgICAgICBsZXQgeSA9IHRoaXMuY2VudGVyLnlcbiAgICAgICAgICAgIGxldCBkeCA9IHRoaXMubW92YWJsZVggPyB2ZWxvY2l0eS54IDogMFxuICAgICAgICAgICAgbGV0IGR5ID0gdGhpcy5tb3ZhYmxlWSA/IHZlbG9jaXR5LnkgOiAwXG4gICAgICAgICAgICBsZXQgZmFjdG9yID0gdGhpcy50aHJvd0RhbXBpbmdcbiAgICAgICAgICAgIC8vIGlmIChyZWNlbnRlcmVkKSB7XG4gICAgICAgICAgICBpZiAoeCA8IDApIHtcbiAgICAgICAgICAgICAgICBkeCA9IC1keFxuICAgICAgICAgICAgICAgIGZhY3RvciA9IGNvbGxpc2lvblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHggPiBzdGFnZS53aWR0aCkge1xuICAgICAgICAgICAgICAgIGR4ID0gLWR4XG4gICAgICAgICAgICAgICAgZmFjdG9yID0gY29sbGlzaW9uXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoeSA8IDApIHtcbiAgICAgICAgICAgICAgICBkeSA9IC1keVxuICAgICAgICAgICAgICAgIGZhY3RvciA9IGNvbGxpc2lvblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHkgPiBzdGFnZS5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICBkeSA9IC1keVxuICAgICAgICAgICAgICAgIGZhY3RvciA9IGNvbGxpc2lvblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgcmV0dXJuIFBvaW50cy5tdWx0aXBseVNjYWxhcih7eDogZHgsIHk6IGR5fSwgZmFjdG9yKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdXBlci5uZXh0VmVsb2NpdHkodmVsb2NpdHkpXG4gICAgfVxuXG4gICAgZW5kR2VzdHVyZShpbnRlcmFjdGlvbikge1xuICAgICAgICAvL3RoaXMuc3RhcnRUaHJvdygpXG4gICAgfVxuXG4gICAgcm90YXRlRGVncmVlcyhkZWdyZWVzLCBhbmNob3IpIHtcbiAgICAgICAgbGV0IHJhZCA9IEFuZ2xlLmRlZ3JlZTJyYWRpYW4oZGVncmVlcylcbiAgICAgICAgdGhpcy5yb3RhdGUocmFkLCBhbmNob3IpXG4gICAgfVxuXG4gICAgcm90YXRlKHJhZCwgYW5jaG9yKSB7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtKHt4OiAwLCB5OiAwfSwgMS4wLCByYWQsIGFuY2hvcilcbiAgICB9XG5cbiAgICBtb3ZlKGQsIHthbmltYXRlID0gMH0gPSB7fSkge1xuICAgICAgICBpZiAodGhpcy50cmFuc2xhdGFibGUpIHtcbiAgICAgICAgICAgIGlmIChhbmltYXRlID4gMCkge1xuICAgICAgICAgICAgICAgIGxldCBzdGFydFBvcyA9IHRoaXMucG9zaXRpb25cbiAgICAgICAgICAgICAgICBUd2VlbkxpdGUudG8odGhpcywgYW5pbWF0ZSwge1xuICAgICAgICAgICAgICAgICAgICB4OiAnKz0nICsgZC54LFxuICAgICAgICAgICAgICAgICAgICB5OiAnKz0nICsgZC55LFxuICAgICAgICAgICAgICAgICAgICAvKiBzY2FsZTogc2NhbGUsIHVvOiBub3QgZGVmaW5lZCwgd2h5IHdhcyB0aGlzIGhlcmU/ICovXG4gICAgICAgICAgICAgICAgICAgIG9uVXBkYXRlOiBlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwID0gdGhpcy5wb3NpdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGR4ID0gcC54IC0gc3RhcnRQb3MueFxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGR5ID0gcC54IC0gc3RhcnRQb3MueVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbk1vdmVkKGR4LCBkeSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX21vdmUoZClcbiAgICAgICAgICAgICAgICB0aGlzLm9uTW92ZWQoZC54LCBkLnkpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBtb3ZlVG8ocCwge2FuaW1hdGUgPSAwfSA9IHt9KSB7XG4gICAgICAgIGxldCBjID0gdGhpcy5vcmlnaW5cbiAgICAgICAgbGV0IGRlbHRhID0gUG9pbnRzLnN1YnRyYWN0KHAsIGMpXG4gICAgICAgIHRoaXMubW92ZShkZWx0YSwge2FuaW1hdGU6IGFuaW1hdGV9KVxuICAgIH1cblxuICAgIGNlbnRlckF0KHAsIHthbmltYXRlID0gMH0gPSB7fSkge1xuICAgICAgICBsZXQgYyA9IHRoaXMuY2VudGVyXG4gICAgICAgIGxldCBkZWx0YSA9IFBvaW50cy5zdWJ0cmFjdChwLCBjKVxuICAgICAgICB0aGlzLm1vdmUoZGVsdGEsIHthbmltYXRlOiBhbmltYXRlfSlcbiAgICB9XG5cbiAgICB6b29tKFxuICAgICAgICBzY2FsZSxcbiAgICAgICAge1xuICAgICAgICAgICAgYW5pbWF0ZSA9IDAsXG4gICAgICAgICAgICBhYm91dCA9IG51bGwsXG4gICAgICAgICAgICBkZWxheSA9IDAsXG4gICAgICAgICAgICB4ID0gbnVsbCxcbiAgICAgICAgICAgIHkgPSBudWxsLFxuICAgICAgICAgICAgb25Db21wbGV0ZSA9IG51bGxcbiAgICAgICAgfSA9IHt9XG4gICAgKSB7XG4gICAgICAgIGxldCBhbmNob3IgPSBhYm91dCB8fCB0aGlzLmNlbnRlclxuICAgICAgICBpZiAoc2NhbGUgIT0gdGhpcy5zY2FsZSkge1xuICAgICAgICAgICAgaWYgKGFuaW1hdGUgPiAwKSB7XG4gICAgICAgICAgICAgICAgVHdlZW5MaXRlLnRvKHRoaXMsIGFuaW1hdGUsIHtcbiAgICAgICAgICAgICAgICAgICAgc2NhbGU6IHNjYWxlLFxuICAgICAgICAgICAgICAgICAgICBkZWxheTogZGVsYXksXG4gICAgICAgICAgICAgICAgICAgIG9uQ29tcGxldGU6IG9uQ29tcGxldGUsXG4gICAgICAgICAgICAgICAgICAgIG9uVXBkYXRlOiB0aGlzLm9uWm9vbWVkLmJpbmQodGhpcylcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNjYWxlID0gc2NhbGVcbiAgICAgICAgICAgICAgICB0aGlzLm9uWm9vbWVkKGFuY2hvcilcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9tb3ZlKGRlbHRhKSB7XG4gICAgICAgIHRoaXMueCArPSB0aGlzLm1vdmFibGVYID8gZGVsdGEueCA6IDBcbiAgICAgICAgdGhpcy55ICs9IHRoaXMubW92YWJsZVggPyBkZWx0YS55IDogMFxuICAgIH1cblxuICAgIHRyYW5zZm9ybSh0cmFuc2xhdGUsIHpvb20sIHJvdGF0ZSwgYW5jaG9yKSB7XG4gICAgICAgIGxldCBkZWx0YSA9IHtcbiAgICAgICAgICAgIHg6IHRoaXMubW92YWJsZVggPyB0cmFuc2xhdGUueCA6IDAsXG4gICAgICAgICAgICB5OiB0aGlzLm1vdmFibGVZID8gdHJhbnNsYXRlLnkgOiAwXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucmVzaXphYmxlKSB2YXIgdnpvb20gPSB6b29tXG4gICAgICAgIGlmICghdGhpcy50cmFuc2xhdGFibGUpIGRlbHRhID0ge3g6IDAsIHk6IDB9XG4gICAgICAgIGlmICghdGhpcy5yb3RhdGFibGUpIHJvdGF0ZSA9IDBcbiAgICAgICAgaWYgKCF0aGlzLnNjYWxhYmxlKSB6b29tID0gMS4wXG4gICAgICAgIGlmICh6b29tID09IDEuMCAmJiByb3RhdGUgPT0gMCkge1xuICAgICAgICAgICAgdGhpcy5fbW92ZShkZWx0YSlcbiAgICAgICAgICAgIGlmICh0aGlzLm9uVHJhbnNmb3JtICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBsZXQgZXZlbnQgPSBuZXcgU2NhdHRlckV2ZW50KHRoaXMsIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRlOiBkZWx0YSxcbiAgICAgICAgICAgICAgICAgICAgc2NhbGU6IHRoaXMuc2NhbGUsXG4gICAgICAgICAgICAgICAgICAgIHJvdGF0ZTogMCxcbiAgICAgICAgICAgICAgICAgICAgYWJvdXQ6IGFuY2hvcixcbiAgICAgICAgICAgICAgICAgICAgZmFzdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFVQREFURVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgdGhpcy5vblRyYW5zZm9ybS5mb3JFYWNoKGZ1bmN0aW9uKGYpIHtcbiAgICAgICAgICAgICAgICAgICAgZihldmVudClcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgbGV0IG9yaWdpbiA9IHRoaXMucm90YXRpb25PcmlnaW5cbiAgICAgICAgbGV0IGJldGEgPSBQb2ludHMuYW5nbGUob3JpZ2luLCBhbmNob3IpXG4gICAgICAgIGxldCBkaXN0YW5jZSA9IFBvaW50cy5kaXN0YW5jZShvcmlnaW4sIGFuY2hvcilcbiAgICAgICAgbGV0IG5ld1NjYWxlID0gdGhpcy5zY2FsZSAqIHpvb21cblxuICAgICAgICBsZXQgbWluU2NhbGUgPSB0aGlzLm1pblNjYWxlIC8gdGhpcy5vdmVyZG9TY2FsaW5nXG4gICAgICAgIGxldCBtYXhTY2FsZSA9IHRoaXMubWF4U2NhbGUgKiB0aGlzLm92ZXJkb1NjYWxpbmdcbiAgICAgICAgaWYgKG5ld1NjYWxlIDwgbWluU2NhbGUpIHtcbiAgICAgICAgICAgIG5ld1NjYWxlID0gbWluU2NhbGVcbiAgICAgICAgICAgIHpvb20gPSBuZXdTY2FsZSAvIHRoaXMuc2NhbGVcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV3U2NhbGUgPiBtYXhTY2FsZSkge1xuICAgICAgICAgICAgbmV3U2NhbGUgPSBtYXhTY2FsZVxuICAgICAgICAgICAgem9vbSA9IG5ld1NjYWxlIC8gdGhpcy5zY2FsZVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG5ld09yaWdpbiA9IFBvaW50cy5hcmMoYW5jaG9yLCBiZXRhICsgcm90YXRlLCBkaXN0YW5jZSAqIHpvb20pXG4gICAgICAgIGxldCBleHRyYSA9IFBvaW50cy5zdWJ0cmFjdChuZXdPcmlnaW4sIG9yaWdpbilcbiAgICAgICAgbGV0IG9mZnNldCA9IFBvaW50cy5zdWJ0cmFjdChhbmNob3IsIG9yaWdpbilcbiAgICAgICAgdGhpcy5fbW92ZShvZmZzZXQpXG4gICAgICAgIHRoaXMuc2NhbGUgPSBuZXdTY2FsZVxuICAgICAgICB0aGlzLnJvdGF0aW9uICs9IHJvdGF0ZVxuICAgICAgICBvZmZzZXQgPSBQb2ludHMubmVnYXRlKG9mZnNldClcbiAgICAgICAgb2Zmc2V0ID0gUG9pbnRzLmFkZChvZmZzZXQsIGV4dHJhKVxuICAgICAgICBvZmZzZXQgPSBQb2ludHMuYWRkKG9mZnNldCwgdHJhbnNsYXRlKVxuICAgICAgICB0aGlzLl9tb3ZlKG9mZnNldClcblxuICAgICAgICBpZiAodGhpcy5vblRyYW5zZm9ybSAhPSBudWxsKSB7XG4gICAgICAgICAgICBsZXQgZXZlbnQgPSBuZXcgU2NhdHRlckV2ZW50KHRoaXMsIHtcbiAgICAgICAgICAgICAgICB0cmFuc2xhdGU6IGRlbHRhLFxuICAgICAgICAgICAgICAgIHNjYWxlOiBuZXdTY2FsZSxcbiAgICAgICAgICAgICAgICByb3RhdGU6IHJvdGF0ZSxcbiAgICAgICAgICAgICAgICBhYm91dDogYW5jaG9yXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgdGhpcy5vblRyYW5zZm9ybS5mb3JFYWNoKGZ1bmN0aW9uKGYpIHtcbiAgICAgICAgICAgICAgICBmKGV2ZW50KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5yZXNpemFibGUpIHtcbiAgICAgICAgICAgIHRoaXMucmVzaXplQWZ0ZXJUcmFuc2Zvcm0odnpvb20pXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXNpemVBZnRlclRyYW5zZm9ybSh6b29tKSB7XG4gICAgICAgIC8vIE92ZXJ3cml0ZSB0aGlzIGluIHN1YmNsYXNzZXMuXG4gICAgfVxuXG4gICAgdmFsaWRTY2FsZShzY2FsZSkge1xuICAgICAgICBzY2FsZSA9IE1hdGgubWF4KHNjYWxlLCB0aGlzLm1pblNjYWxlKVxuICAgICAgICBzY2FsZSA9IE1hdGgubWluKHNjYWxlLCB0aGlzLm1heFNjYWxlKVxuICAgICAgICByZXR1cm4gc2NhbGVcbiAgICB9XG5cbiAgICBhbmltYXRlWm9vbUJvdW5jZShkdCA9IDEpIHtcbiAgICAgICAgaWYgKHRoaXMuem9vbUFuY2hvciAhPSBudWxsKSB7XG4gICAgICAgICAgICBsZXQgem9vbSA9IDFcbiAgICAgICAgICAgIGxldCBhbW91bnQgPSBNYXRoLm1pbigwLjAxLCAwLjMgKiBkdCAvIDEwMDAwMC4wKVxuICAgICAgICAgICAgaWYgKHRoaXMuc2NhbGUgPCB0aGlzLm1pblNjYWxlKSB6b29tID0gMSArIGFtb3VudFxuICAgICAgICAgICAgaWYgKHRoaXMuc2NhbGUgPiB0aGlzLm1heFNjYWxlKSB6b29tID0gMSAtIGFtb3VudFxuICAgICAgICAgICAgaWYgKHpvb20gIT0gMSkge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtKHt4OiAwLCB5OiAwfSwgem9vbSwgMCwgdGhpcy56b29tQW5jaG9yKVxuICAgICAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShkdCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0ZVpvb21Cb3VuY2UoZHQpXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuem9vbUFuY2hvciA9IG51bGxcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNoZWNrU2NhbGluZyhhYm91dCwgZGVsYXkgPSAwKSB7XG4gICAgICAgIHRoaXMuem9vbUFuY2hvciA9IGFib3V0XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmFuaW1hdGVab29tQm91bmNlLmJpbmQodGhpcykpXG4gICAgICAgIHNldFRpbWVvdXQodGhpcy5hbmltYXRlWm9vbUJvdW5jZS5iaW5kKHRoaXMpLCBkZWxheSlcbiAgICB9XG5cbiAgICBvbk1vdXNlV2hlZWwoZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LmNsYWltZWRCeVNjYXR0ZXIpIHtcbiAgICAgICAgICAgIGlmIChldmVudC5jbGFpbWVkQnlTY2F0dGVyICE9IHRoaXMpIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIHRoaXMua2lsbEFuaW1hdGlvbigpXG4gICAgICAgIHRoaXMudGFyZ2V0U2NhbGUgPSBudWxsXG4gICAgICAgIGxldCBkaXJlY3Rpb24gPSBldmVudC5kZXRhaWwgPCAwIHx8IGV2ZW50LndoZWVsRGVsdGEgPiAwXG4gICAgICAgIGxldCBnbG9iYWxQb2ludCA9IHt4OiBldmVudC5jbGllbnRYLCB5OiBldmVudC5jbGllbnRZfVxuICAgICAgICBsZXQgY2VudGVyUG9pbnQgPSB0aGlzLm1hcFBvc2l0aW9uVG9Db250YWluZXJQb2ludChnbG9iYWxQb2ludClcbiAgICAgICAgaWYgKGV2ZW50LnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICBsZXQgZGVncmVlcyA9IGRpcmVjdGlvbiA/IDUgOiAtNVxuICAgICAgICAgICAgbGV0IHJhZCA9IEFuZ2xlLmRlZ3JlZTJyYWRpYW4oZGVncmVlcylcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybSh7eDogMCwgeTogMH0sIDEuMCwgcmFkLCBjZW50ZXJQb2ludClcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB6b29tRmFjdG9yID0gdGhpcy5tb3VzZVpvb21GYWN0b3JcbiAgICAgICAgbGV0IHpvb20gPSBkaXJlY3Rpb24gPyB6b29tRmFjdG9yIDogMSAvIHpvb21GYWN0b3JcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0oe3g6IDAsIHk6IDB9LCB6b29tLCAwLCBjZW50ZXJQb2ludClcbiAgICAgICAgdGhpcy5jaGVja1NjYWxpbmcoY2VudGVyUG9pbnQsIDIwMClcblxuICAgICAgICBpZiAodGhpcy5vblRyYW5zZm9ybSAhPSBudWxsKSB7XG4gICAgICAgICAgICBsZXQgZXZlbnQgPSBuZXcgU2NhdHRlckV2ZW50KHRoaXMsIHtcbiAgICAgICAgICAgICAgICB0cmFuc2xhdGU6IHt4OiAwLCB5OiAwfSxcbiAgICAgICAgICAgICAgICBzY2FsZTogdGhpcy5zY2FsZSxcbiAgICAgICAgICAgICAgICByb3RhdGU6IDAsXG4gICAgICAgICAgICAgICAgYWJvdXQ6IG51bGwsXG4gICAgICAgICAgICAgICAgZmFzdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgdHlwZTogWk9PTVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIHRoaXMub25UcmFuc2Zvcm0uZm9yRWFjaChmdW5jdGlvbihmKSB7XG4gICAgICAgICAgICAgICAgZihldmVudClcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvblN0YXJ0KGV2ZW50LCBpbnRlcmFjdGlvbikge1xuICAgICAgICBpZiAodGhpcy5zdGFydEdlc3R1cmUoaW50ZXJhY3Rpb24pKSB7XG4gICAgICAgICAgICB0aGlzLmRyYWdnaW5nID0gdHJ1ZVxuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkFuY2hvciA9IG51bGxcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5vblRyYW5zZm9ybSAhPSBudWxsKSB7XG4gICAgICAgICAgICBsZXQgZXZlbnQgPSBuZXcgU2NhdHRlckV2ZW50KHRoaXMsIHtcbiAgICAgICAgICAgICAgICB0cmFuc2xhdGU6IHt4OiAwLCB5OiAwfSxcbiAgICAgICAgICAgICAgICBzY2FsZTogdGhpcy5zY2FsZSxcbiAgICAgICAgICAgICAgICByb3RhdGU6IDAsXG4gICAgICAgICAgICAgICAgYWJvdXQ6IG51bGwsXG4gICAgICAgICAgICAgICAgZmFzdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgdHlwZTogU1RBUlRcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB0aGlzLm9uVHJhbnNmb3JtLmZvckVhY2goZnVuY3Rpb24oZikge1xuICAgICAgICAgICAgICAgIGYoZXZlbnQpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25Nb3ZlKGV2ZW50LCBpbnRlcmFjdGlvbikge1xuICAgICAgICBpZiAodGhpcy5kcmFnZ2luZykge1xuICAgICAgICAgICAgdGhpcy5nZXN0dXJlKGludGVyYWN0aW9uKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25FbmQoZXZlbnQsIGludGVyYWN0aW9uKSB7XG4gICAgICAgIGlmIChpbnRlcmFjdGlvbi5pc0ZpbmlzaGVkKCkpIHtcbiAgICAgICAgICAgIHRoaXMuZW5kR2VzdHVyZShpbnRlcmFjdGlvbilcbiAgICAgICAgICAgIHRoaXMuZHJhZ2dpbmcgPSBmYWxzZVxuICAgICAgICAgICAgZm9yIChsZXQga2V5IG9mIGludGVyYWN0aW9uLmVuZGVkLmtleXMoKSkge1xuICAgICAgICAgICAgICAgIGlmIChpbnRlcmFjdGlvbi5pc1RhcChrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwb2ludCA9IGludGVyYWN0aW9uLmVuZGVkLmdldChrZXkpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25UYXAoZXZlbnQsIGludGVyYWN0aW9uLCBwb2ludClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5vblRyYW5zZm9ybSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgbGV0IGV2ZW50ID0gbmV3IFNjYXR0ZXJFdmVudCh0aGlzLCB7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZToge3g6IDAsIHk6IDB9LFxuICAgICAgICAgICAgICAgICAgICBzY2FsZTogdGhpcy5zY2FsZSxcbiAgICAgICAgICAgICAgICAgICAgcm90YXRlOiAwLFxuICAgICAgICAgICAgICAgICAgICBhYm91dDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgZmFzdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IEVORFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgdGhpcy5vblRyYW5zZm9ybS5mb3JFYWNoKGZ1bmN0aW9uKGYpIHtcbiAgICAgICAgICAgICAgICAgICAgZihldmVudClcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBhYm91dCA9IHRoaXMuaW50ZXJhY3Rpb25BbmNob3JcbiAgICAgICAgaWYgKGFib3V0ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tTY2FsaW5nKGFib3V0LCAxMDApXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvblRhcChldmVudCwgaW50ZXJhY3Rpb24sIHBvaW50KSB7fVxuXG4gICAgb25EcmFnVXBkYXRlKGRlbHRhKSB7XG4gICAgICAgIGlmICh0aGlzLm9uVHJhbnNmb3JtICE9IG51bGwpIHtcbiAgICAgICAgICAgIGxldCBldmVudCA9IG5ldyBTY2F0dGVyRXZlbnQodGhpcywge1xuICAgICAgICAgICAgICAgIGZhc3Q6IHRydWUsXG4gICAgICAgICAgICAgICAgdHJhbnNsYXRlOiBkZWx0YSxcbiAgICAgICAgICAgICAgICBzY2FsZTogdGhpcy5zY2FsZSxcbiAgICAgICAgICAgICAgICBhYm91dDogdGhpcy5jdXJyZW50QWJvdXQsXG4gICAgICAgICAgICAgICAgdHlwZTogbnVsbFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIHRoaXMub25UcmFuc2Zvcm0uZm9yRWFjaChmdW5jdGlvbihmKSB7XG4gICAgICAgICAgICAgICAgZihldmVudClcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbkRyYWdDb21wbGV0ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMub25UcmFuc2Zvcm0pIHtcbiAgICAgICAgICAgIGxldCBldmVudCA9IG5ldyBTY2F0dGVyRXZlbnQodGhpcywge1xuICAgICAgICAgICAgICAgIHNjYWxlOiB0aGlzLnNjYWxlLFxuICAgICAgICAgICAgICAgIGFib3V0OiB0aGlzLmN1cnJlbnRBYm91dCxcbiAgICAgICAgICAgICAgICBmYXN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICB0eXBlOiBudWxsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgdGhpcy5vblRyYW5zZm9ybS5mb3JFYWNoKGZ1bmN0aW9uKGYpIHtcbiAgICAgICAgICAgICAgICBmKGV2ZW50KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uTW92ZWQoZHgsIGR5LCBhYm91dCkge1xuICAgICAgICBpZiAodGhpcy5vblRyYW5zZm9ybSAhPSBudWxsKSB7XG4gICAgICAgICAgICBsZXQgZXZlbnQgPSBuZXcgU2NhdHRlckV2ZW50KHRoaXMsIHtcbiAgICAgICAgICAgICAgICB0cmFuc2xhdGU6IHt4OiBkeCwgeTogZHl9LFxuICAgICAgICAgICAgICAgIGFib3V0OiBhYm91dCxcbiAgICAgICAgICAgICAgICBmYXN0OiB0cnVlLFxuICAgICAgICAgICAgICAgIHR5cGU6IG51bGxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB0aGlzLm9uVHJhbnNmb3JtLmZvckVhY2goZnVuY3Rpb24oZikge1xuICAgICAgICAgICAgICAgIGYoZXZlbnQpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25ab29tZWQoYWJvdXQpIHtcbiAgICAgICAgaWYgKHRoaXMub25UcmFuc2Zvcm0gIT0gbnVsbCkge1xuICAgICAgICAgICAgbGV0IGV2ZW50ID0gbmV3IFNjYXR0ZXJFdmVudCh0aGlzLCB7XG4gICAgICAgICAgICAgICAgc2NhbGU6IHRoaXMuc2NhbGUsXG4gICAgICAgICAgICAgICAgYWJvdXQ6IGFib3V0LFxuICAgICAgICAgICAgICAgIGZhc3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHR5cGU6IG51bGxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB0aGlzLm9uVHJhbnNmb3JtLmZvckVhY2goZnVuY3Rpb24oZikge1xuICAgICAgICAgICAgICAgIGYoZXZlbnQpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfVxufVxuXG4vKiogQSBjb250YWluZXIgZm9yIHNjYXR0ZXIgb2JqZWN0cywgd2hpY2ggdXNlcyBhIHNpbmdsZSBJbnRlcmFjdGlvbk1hcHBlclxuICogZm9yIGFsbCBjaGlsZHJlbi4gVGhpcyByZWR1Y2VzIHRoZSBudW1iZXIgb2YgcmVnaXN0ZXJlZCBldmVudCBoYW5kbGVyc1xuICogYW5kIGNvdmVycyB0aGUgY29tbW9uIHVzZSBjYXNlIHRoYXQgbXVsdGlwbGUgb2JqZWN0cyBhcmUgc2NhdHRlcmVkXG4gKiBvbiB0aGUgc2FtZSBsZXZlbC5cbiAqL1xuZXhwb3J0IGNsYXNzIERPTVNjYXR0ZXJDb250YWluZXIge1xuICAgIC8qKlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7RE9NIG5vZGV9IGVsZW1lbnQgLSBET00gZWxlbWVudCB0aGF0IHJlY2VpdmVzIGV2ZW50c1xuICAgICAqIEBwYXJhbSB7Qm9vbH0gc3RvcEV2ZW50cyAtICBXaGV0aGVyIGV2ZW50cyBzaG91bGQgYmUgc3RvcHBlZCBvciBwcm9wYWdhdGVkXG4gICAgICogQHBhcmFtIHtCb29sfSBjbGFpbUV2ZW50cyAtIFdoZXRoZXIgZXZlbnRzIHNob3VsZCBiZSBtYXJrZWQgYXMgY2xhaW1lZFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBmaW5kVGFyZ2V0IHJldHVybiBhcyBub24tbnVsbCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge0Jvb2x9IHRvdWNoQWN0aW9uIC0gQ1NTIHRvIHNldCB0b3VjaCBhY3Rpb24gc3R5bGUsIG5lZWRlZCB0byBwcmV2ZW50XG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb2ludGVyIGNhbmNlbCBldmVudHMuIFVzZSBudWxsIGlmIHRoZVxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlIHRvdWNoIGFjdGlvbiBzaG91bGQgbm90IGJlIHNldC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgZWxlbWVudCxcbiAgICAgICAge3N0b3BFdmVudHMgPSAnYXV0bycsIGNsYWltRXZlbnRzID0gdHJ1ZSwgdG91Y2hBY3Rpb24gPSAnbm9uZSd9ID0ge31cbiAgICApIHtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudFxuICAgICAgICBpZiAoc3RvcEV2ZW50cyA9PT0gJ2F1dG8nKSB7XG4gICAgICAgICAgICBpZiAoQ2FwYWJpbGl0aWVzLmlzU2FmYXJpKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICAgICAgICAgJ3RvdWNobW92ZScsXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50ID0+IHRoaXMucHJldmVudFBpbmNoKGV2ZW50KSxcbiAgICAgICAgICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgc3RvcEV2ZW50cyA9IGZhbHNlXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHN0b3BFdmVudHMgPSB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdG9wRXZlbnRzID0gc3RvcEV2ZW50c1xuICAgICAgICB0aGlzLmNsYWltRXZlbnRzID0gY2xhaW1FdmVudHNcbiAgICAgICAgaWYgKHRvdWNoQWN0aW9uICE9PSBudWxsKSB7XG4gICAgICAgICAgICBFbGVtZW50cy5zZXRTdHlsZShlbGVtZW50LCB7dG91Y2hBY3Rpb259KVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2NhdHRlciA9IG5ldyBNYXAoKVxuICAgICAgICB0aGlzLmRlbGVnYXRlID0gbmV3IEludGVyYWN0aW9uTWFwcGVyKGVsZW1lbnQsIHRoaXMsIHtcbiAgICAgICAgICAgIG1vdXNlV2hlZWxFbGVtZW50OiB3aW5kb3dcbiAgICAgICAgfSlcblxuICAgICAgICBpZiAodHlwZW9mIGRlYnVnQ2FudmFzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGR0ID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dUb3VjaGVzKGR0KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNob3dUb3VjaGVzKGR0KSB7XG4gICAgICAgIGxldCByZXNvbHV0aW9uID0gd2luZG93LmRldmljZVBpeGVsUmF0aW9cbiAgICAgICAgbGV0IGNhbnZhcyA9IGRlYnVnQ2FudmFzXG4gICAgICAgIGxldCBjdXJyZW50ID0gdGhpcy5kZWxlZ2F0ZS5pbnRlcmFjdGlvbi5jdXJyZW50XG4gICAgICAgIGxldCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJylcbiAgICAgICAgbGV0IHJhZGl1cyA9IDIwICogcmVzb2x1dGlvblxuICAgICAgICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpXG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJ3JnYmEoMCwgMCwgMCwgMC4zKSdcbiAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSAyXG4gICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSAnIzAwMzMwMCdcbiAgICAgICAgZm9yIChsZXQgW2tleSwgcG9pbnRdIG9mIGN1cnJlbnQuZW50cmllcygpKSB7XG4gICAgICAgICAgICBsZXQgbG9jYWwgPSBwb2ludFxuICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKVxuICAgICAgICAgICAgY29udGV4dC5hcmMoXG4gICAgICAgICAgICAgICAgbG9jYWwueCAqIHJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgbG9jYWwueSAqIHJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgcmFkaXVzLFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgMiAqIE1hdGguUEksXG4gICAgICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbCgpXG4gICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpXG4gICAgICAgIH1cbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGR0ID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2hvd1RvdWNoZXMoZHQpXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgcHJldmVudFBpbmNoKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50ID0gZXZlbnQub3JpZ2luYWxFdmVudCB8fCBldmVudFxuICAgICAgICBpZiAoZXZlbnQuc2NhbGUgIT09IDEpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFkZChzY2F0dGVyKSB7XG4gICAgICAgIHRoaXMuc2NhdHRlci5zZXQoc2NhdHRlci5lbGVtZW50LCBzY2F0dGVyKVxuICAgIH1cblxuICAgIGNhcHR1cmUoZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PSB0aGlzLmVsZW1lbnQgJiYgdGhpcy5zdG9wRXZlbnRzKSBFdmVudHMuc3RvcChldmVudClcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG5cbiAgICBtYXBQb3NpdGlvblRvUG9pbnQocG9pbnQpIHtcbiAgICAgICAgcmV0dXJuIFBvaW50cy5mcm9tUGFnZVRvTm9kZSh0aGlzLmVsZW1lbnQsIHBvaW50KVxuICAgIH1cblxuICAgIGlzRGVzY2VuZGFudChwYXJlbnQsIGNoaWxkLCBjbGlja2FibGUgPSBmYWxzZSkge1xuICAgICAgICBpZiAocGFyZW50ID09IGNoaWxkKSByZXR1cm4gdHJ1ZVxuICAgICAgICBsZXQgbm9kZSA9IGNoaWxkLnBhcmVudE5vZGVcbiAgICAgICAgd2hpbGUgKG5vZGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKCFjbGlja2FibGUgJiYgbm9kZS5vbmNsaWNrKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobm9kZSA9PSBwYXJlbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGZpbmRUYXJnZXQoZXZlbnQsIGxvY2FsLCBnbG9iYWwpIHtcbiAgICAgICAgLyoqKiBOb3RlIHRoYXQgZWxlbWVudEZyb21Qb2ludCB3b3JrcyB3aXRoIGNsaWVudFgsIGNsaWVudFksIG5vdCBwYWdlWCwgcGFnZVlcbiAgICAgICAgVGhlIGltcG9ydGFudCBwb2ludCBpcyB0aGF0IGV2ZW50IHNob3VsZCBub3QgYmUgdXNlZCwgc2luY2UgdGhlIFRvdWNoRXZlbnRcbiAgICAgICAgcG9pbnRzIGFyZSBoaWRkZW4gaW4gc3ViIG9iamVjdHMuXG4gICAgICAgICoqKi9cbiAgICAgICAgbGV0IGZvdW5kID0gZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludChnbG9iYWwueCwgZ2xvYmFsLnkpXG4gICAgICAgIGZvciAobGV0IHRhcmdldCBvZiB0aGlzLnNjYXR0ZXIudmFsdWVzKCkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzRGVzY2VuZGFudCh0YXJnZXQuZWxlbWVudCwgZm91bmQpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RvcEV2ZW50cykgRXZlbnRzLnN0b3AoZXZlbnQpXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2xhaW1FdmVudHMpIGV2ZW50LmNsYWltZWRCeVNjYXR0ZXIgPSB0YXJnZXRcbiAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICBnZXQgY2VudGVyKCkge1xuICAgICAgICBsZXQgciA9IHRoaXMuYm91bmRzXG4gICAgICAgIGxldCB3MiA9IHIud2lkdGggLyAyXG4gICAgICAgIGxldCBoMiA9IHIuaGVpZ2h0IC8gMlxuICAgICAgICByZXR1cm4ge3g6IHcyLCB5OiBoMn1cbiAgICB9XG5cbiAgICBnZXQgYm91bmRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgfVxuXG4gICAgZ2V0IHBvbHlnb24oKSB7XG4gICAgICAgIGxldCByID0gdGhpcy5ib3VuZHNcbiAgICAgICAgbGV0IHcyID0gci53aWR0aCAvIDJcbiAgICAgICAgbGV0IGgyID0gci5oZWlnaHQgLyAyXG4gICAgICAgIGxldCBjZW50ZXIgPSB7eDogdzIsIHk6IGgyfVxuICAgICAgICBsZXQgcG9seWdvbiA9IG5ldyBQb2x5Z29uKGNlbnRlcilcbiAgICAgICAgcG9seWdvbi5hZGRQb2ludCh7eDogLXcyLCB5OiAtaDJ9KVxuICAgICAgICBwb2x5Z29uLmFkZFBvaW50KHt4OiB3MiwgeTogLWgyfSlcbiAgICAgICAgcG9seWdvbi5hZGRQb2ludCh7eDogdzIsIHk6IGgyfSlcbiAgICAgICAgcG9seWdvbi5hZGRQb2ludCh7eDogLXcyLCB5OiBoMn0pXG4gICAgICAgIHJldHVybiBwb2x5Z29uXG4gICAgfVxufVxuXG5sZXQgekluZGV4ID0gMTAwMFxuXG5leHBvcnQgY2xhc3MgRE9NU2NhdHRlciBleHRlbmRzIEFic3RyYWN0U2NhdHRlciB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIGVsZW1lbnQsXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAge1xuICAgICAgICAgICAgc3RhcnRTY2FsZSA9IDEuMCxcbiAgICAgICAgICAgIG1pblNjYWxlID0gMC4xLFxuICAgICAgICAgICAgbWF4U2NhbGUgPSAxLjAsXG4gICAgICAgICAgICBvdmVyZG9TY2FsaW5nID0gMS41LFxuICAgICAgICAgICAgYXV0b0JyaW5nVG9Gcm9udCA9IHRydWUsXG4gICAgICAgICAgICB0cmFuc2xhdGFibGUgPSB0cnVlLFxuICAgICAgICAgICAgc2NhbGFibGUgPSB0cnVlLFxuICAgICAgICAgICAgcm90YXRhYmxlID0gdHJ1ZSxcbiAgICAgICAgICAgIG1vdmFibGVYID0gdHJ1ZSxcbiAgICAgICAgICAgIG1vdmFibGVZID0gdHJ1ZSxcbiAgICAgICAgICAgIHJvdGF0aW9uRGVncmVlcyA9IG51bGwsXG4gICAgICAgICAgICByb3RhdGlvbiA9IG51bGwsXG4gICAgICAgICAgICBvblRyYW5zZm9ybSA9IG51bGwsXG4gICAgICAgICAgICB0cmFuc2Zvcm1PcmlnaW4gPSAnY2VudGVyIGNlbnRlcicsXG4gICAgICAgICAgICAvLyBleHRyYXMgd2hpY2ggYXJlIGluIHBhcnQgbmVlZGVkXG4gICAgICAgICAgICB4ID0gMCxcbiAgICAgICAgICAgIHkgPSAwLFxuICAgICAgICAgICAgd2lkdGggPSBudWxsLFxuICAgICAgICAgICAgaGVpZ2h0ID0gbnVsbCxcbiAgICAgICAgICAgIHJlc2l6YWJsZSA9IGZhbHNlLFxuICAgICAgICAgICAgc2ltdWxhdGVDbGljayA9IGZhbHNlLFxuICAgICAgICAgICAgdmVyYm9zZSA9IHRydWUsXG4gICAgICAgICAgICBvblJlc2l6ZSA9IG51bGwsXG4gICAgICAgICAgICB0b3VjaEFjdGlvbiA9ICdub25lJyxcbiAgICAgICAgICAgIHRocm93VmlzaWJpbGl0eSA9IDQ0LFxuICAgICAgICAgICAgdGhyb3dEYW1waW5nID0gMC45NSxcbiAgICAgICAgICAgIGF1dG9UaHJvdyA9IHRydWVcbiAgICAgICAgfSA9IHt9XG4gICAgKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIG1pblNjYWxlLFxuICAgICAgICAgICAgbWF4U2NhbGUsXG4gICAgICAgICAgICBzdGFydFNjYWxlLFxuICAgICAgICAgICAgb3ZlcmRvU2NhbGluZyxcbiAgICAgICAgICAgIGF1dG9CcmluZ1RvRnJvbnQsXG4gICAgICAgICAgICB0cmFuc2xhdGFibGUsXG4gICAgICAgICAgICBzY2FsYWJsZSxcbiAgICAgICAgICAgIHJvdGF0YWJsZSxcbiAgICAgICAgICAgIG1vdmFibGVYLFxuICAgICAgICAgICAgbW92YWJsZVksXG4gICAgICAgICAgICByZXNpemFibGUsXG4gICAgICAgICAgICByb3RhdGlvbkRlZ3JlZXMsXG4gICAgICAgICAgICByb3RhdGlvbixcbiAgICAgICAgICAgIG9uVHJhbnNmb3JtLFxuICAgICAgICAgICAgdGhyb3dWaXNpYmlsaXR5LFxuICAgICAgICAgICAgdGhyb3dEYW1waW5nLFxuICAgICAgICAgICAgYXV0b1Rocm93XG4gICAgICAgIH0pXG4gICAgICAgIGlmIChjb250YWluZXIgPT0gbnVsbCB8fCB3aWR0aCA9PSBudWxsIHx8IGhlaWdodCA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdmFsdWU6IG51bGwnKVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnRcbiAgICAgICAgdGhpcy54ID0geFxuICAgICAgICB0aGlzLnkgPSB5XG4gICAgICAgIHRoaXMubWVhblggPSB4XG4gICAgICAgIHRoaXMubWVhblkgPSB5XG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aFxuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodFxuICAgICAgICB0aGlzLnRocm93VmlzaWJpbGl0eSA9IE1hdGgubWluKHdpZHRoLCBoZWlnaHQsIHRocm93VmlzaWJpbGl0eSlcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXJcbiAgICAgICAgdGhpcy5zaW11bGF0ZUNsaWNrID0gc2ltdWxhdGVDbGlja1xuICAgICAgICB0aGlzLnNjYWxlID0gc3RhcnRTY2FsZVxuICAgICAgICB0aGlzLnJvdGF0aW9uRGVncmVlcyA9IHRoaXMuc3RhcnRSb3RhdGlvbkRlZ3JlZXNcbiAgICAgICAgdGhpcy50cmFuc2Zvcm1PcmlnaW4gPSB0cmFuc2Zvcm1PcmlnaW5cbiAgICAgICAgdGhpcy5pbml0aWFsVmFsdWVzID0ge1xuICAgICAgICAgICAgeDogeCxcbiAgICAgICAgICAgIHk6IHksXG4gICAgICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgICAgIHNjYWxlOiBzdGFydFNjYWxlLFxuICAgICAgICAgICAgcm90YXRpb246IHRoaXMuc3RhcnRSb3RhdGlvbkRlZ3JlZXMsXG4gICAgICAgICAgICB0cmFuc2Zvcm1PcmlnaW46IHRyYW5zZm9ybU9yaWdpblxuICAgICAgICB9XG4gICAgICAgIC8vIEZvciB0d2VlbmxpdGUgd2UgbmVlZCBpbml0aWFsIHZhbHVlcyBpbiBfZ3NUcmFuc2Zvcm1cbiAgICAgICAgVHdlZW5MaXRlLnNldChlbGVtZW50LCB0aGlzLmluaXRpYWxWYWx1ZXMpXG4gICAgICAgIHRoaXMub25SZXNpemUgPSBvblJlc2l6ZVxuICAgICAgICB0aGlzLnZlcmJvc2UgPSB2ZXJib3NlXG4gICAgICAgIGlmICh0b3VjaEFjdGlvbiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgRWxlbWVudHMuc2V0U3R5bGUoZWxlbWVudCwge3RvdWNoQWN0aW9ufSlcbiAgICAgICAgfVxuICAgICAgICBjb250YWluZXIuYWRkKHRoaXMpXG4gICAgfVxuXG4gICAgLyoqIFJldHVybnMgZ2VvbWV0cnkgZGF0YSBhcyBvYmplY3QuICoqL1xuICAgIGdldFN0YXRlKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2NhbGU6IHRoaXMuc2NhbGUsXG4gICAgICAgICAgICB4OiB0aGlzLngsXG4gICAgICAgICAgICB5OiB0aGlzLnksXG4gICAgICAgICAgICByb3RhdGlvbjogdGhpcy5yb3RhdGlvblxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IHJvdGF0aW9uT3JpZ2luKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jZW50ZXJcbiAgICB9XG5cbiAgICBnZXQgeCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3hcbiAgICB9XG5cbiAgICBnZXQgeSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3lcbiAgICB9XG5cbiAgICBzZXQgeCh2YWx1ZSkge1xuICAgICAgICB0aGlzLl94ID0gdmFsdWVcbiAgICAgICAgVHdlZW5MaXRlLnNldCh0aGlzLmVsZW1lbnQsIHt4OiB2YWx1ZX0pXG4gICAgfVxuXG4gICAgc2V0IHkodmFsdWUpIHtcbiAgICAgICAgdGhpcy5feSA9IHZhbHVlXG4gICAgICAgIFR3ZWVuTGl0ZS5zZXQodGhpcy5lbGVtZW50LCB7eTogdmFsdWV9KVxuICAgIH1cblxuICAgIGdldCBwb3NpdGlvbigpIHtcbiAgICAgICAgbGV0IHRyYW5zZm9ybSA9IHRoaXMuZWxlbWVudC5fZ3NUcmFuc2Zvcm1cbiAgICAgICAgbGV0IHggPSB0cmFuc2Zvcm0ueFxuICAgICAgICBsZXQgeSA9IHRyYW5zZm9ybS55XG4gICAgICAgIHJldHVybiB7eCwgeX1cbiAgICB9XG5cbiAgICBnZXQgb3JpZ2luKCkge1xuICAgICAgICBsZXQgcCA9IHRoaXMuZnJvbU5vZGVUb1BhZ2UoMCwgMClcbiAgICAgICAgcmV0dXJuIFBvaW50cy5mcm9tUGFnZVRvTm9kZSh0aGlzLmNvbnRhaW5lci5lbGVtZW50LCBwKVxuICAgIH1cblxuICAgIGdldCBib3VuZHMoKSB7XG4gICAgICAgIGxldCBzdGFnZSA9IHRoaXMuY29udGFpbmVyLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICAgICAgbGV0IHJlY3QgPSB0aGlzLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRvcDogcmVjdC50b3AgLSBzdGFnZS50b3AsXG4gICAgICAgICAgICBsZWZ0OiByZWN0LmxlZnQgLSBzdGFnZS5sZWZ0LFxuICAgICAgICAgICAgd2lkdGg6IHJlY3Qud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IHJlY3QuaGVpZ2h0XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgY2VudGVyKCkge1xuICAgICAgICBsZXQgciA9IHRoaXMuYm91bmRzXG4gICAgICAgIGxldCB3MiA9IHIud2lkdGggLyAyXG4gICAgICAgIGxldCBoMiA9IHIuaGVpZ2h0IC8gMlxuICAgICAgICBpZiAodGhpcy5yZXNpemFibGUpIHtcbiAgICAgICAgICAgIHcyICo9IHRoaXMuc2NhbGVcbiAgICAgICAgICAgIGgyICo9IHRoaXMuc2NhbGVcbiAgICAgICAgfVxuICAgICAgICB2YXIgeCA9IHIubGVmdCArIHcyXG4gICAgICAgIHZhciB5ID0gci50b3AgKyBoMlxuICAgICAgICByZXR1cm4ge3gsIHl9XG4gICAgfVxuXG4gICAgc2V0IHJvdGF0aW9uKHJhZGlhbnMpIHtcbiAgICAgICAgbGV0IHJhZCA9IHJhZGlhbnMgLy8gQW5nbGUubm9ybWFsaXplKHJhZGlhbnMpXG4gICAgICAgIGxldCBkZWdyZWVzID0gQW5nbGUucmFkaWFuMmRlZ3JlZShyYWQpXG4gICAgICAgIFR3ZWVuTGl0ZS5zZXQodGhpcy5lbGVtZW50LCB7cm90YXRpb246IGRlZ3JlZXN9KVxuICAgICAgICB0aGlzLl9yb3RhdGlvbiA9IHJhZFxuICAgIH1cblxuICAgIHNldCByb3RhdGlvbkRlZ3JlZXMoZGVncmVlcykge1xuICAgICAgICBsZXQgZGVnID0gZGVncmVlcyAvLyBBbmdsZS5ub3JtYWxpemVEZWdyZWUoZGVncmVlcylcbiAgICAgICAgVHdlZW5MaXRlLnNldCh0aGlzLmVsZW1lbnQsIHtyb3RhdGlvbjogZGVnfSlcbiAgICAgICAgdGhpcy5fcm90YXRpb24gPSBBbmdsZS5kZWdyZWUycmFkaWFuKGRlZylcbiAgICB9XG5cbiAgICBnZXQgcm90YXRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yb3RhdGlvblxuICAgIH1cblxuICAgIGdldCByb3RhdGlvbkRlZ3JlZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yb3RhdGlvblxuICAgIH1cblxuICAgIHNldCBzY2FsZShzY2FsZSkge1xuICAgICAgICBUd2VlbkxpdGUuc2V0KHRoaXMuZWxlbWVudCwge1xuICAgICAgICAgICAgc2NhbGU6IHNjYWxlLFxuICAgICAgICAgICAgdHJhbnNmb3JtT3JpZ2luOiB0aGlzLnRyYW5zZm9ybU9yaWdpblxuICAgICAgICB9KVxuICAgICAgICB0aGlzLl9zY2FsZSA9IHNjYWxlXG4gICAgfVxuXG4gICAgZ2V0IHNjYWxlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2NhbGVcbiAgICB9XG5cbiAgICBnZXQgY29udGFpbmVyQm91bmRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXIuYm91bmRzXG4gICAgfVxuXG4gICAgZ2V0IGNvbnRhaW5lclBvbHlnb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci5wb2x5Z29uXG4gICAgfVxuXG4gICAgbWFwUG9zaXRpb25Ub0NvbnRhaW5lclBvaW50KHBvaW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci5tYXBQb3NpdGlvblRvUG9pbnQocG9pbnQpXG4gICAgfVxuXG4gICAgY2FwdHVyZShldmVudCkge1xuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cblxuICAgIHJlc2V0KCkge1xuICAgICAgICBUd2VlbkxpdGUuc2V0KHRoaXMuZWxlbWVudCwgdGhpcy5pbml0aWFsVmFsdWVzKVxuICAgIH1cblxuICAgIGhpZGUoKSB7XG4gICAgICAgIFR3ZWVuTGl0ZS50byh0aGlzLmVsZW1lbnQsIDAuMSwge1xuICAgICAgICAgICAgZGlzcGxheTogJ25vbmUnLFxuICAgICAgICAgICAgb25Db21wbGV0ZTogZSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5lbGVtZW50KVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHNob3coKSB7XG4gICAgICAgIFR3ZWVuTGl0ZS5zZXQodGhpcy5lbGVtZW50LCB7ZGlzcGxheTogJ2Jsb2NrJ30pXG4gICAgfVxuXG4gICAgc2hvd0F0KHAsIHJvdGF0aW9uRGVncmVlcykge1xuICAgICAgICBUd2VlbkxpdGUuc2V0KHRoaXMuZWxlbWVudCwge1xuICAgICAgICAgICAgZGlzcGxheTogJ2Jsb2NrJyxcbiAgICAgICAgICAgIHg6IHAueCxcbiAgICAgICAgICAgIHk6IHAueSxcbiAgICAgICAgICAgIHJvdGF0aW9uOiByb3RhdGlvbkRlZ3JlZXMsXG4gICAgICAgICAgICB0cmFuc2Zvcm1PcmlnaW46IHRoaXMudHJhbnNmb3JtT3JpZ2luXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgYnJpbmdUb0Zyb250KCkge1xuICAgICAgICAvLyB0aGlzLmVsZW1lbnQucGFyZW50Tm9kZS5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnQpXG4gICAgICAgIC8vIHVvOiBPbiBDaG9tZSBhbmQgRWxlY3RvbiBhcHBlbmRDaGlsZCBsZWFkcyB0byBmbGlja2VyXG4gICAgICAgIFR3ZWVuTGl0ZS5zZXQodGhpcy5lbGVtZW50LCB7ekluZGV4OiB6SW5kZXgrK30pXG4gICAgfVxuXG4gICAgdG9nZ2xlVmlkZW8oZWxlbWVudCkge1xuICAgICAgICBpZiAoZWxlbWVudC5wYXVzZWQpIHtcbiAgICAgICAgICAgIGVsZW1lbnQucGxheSgpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlbGVtZW50LnBhdXNlKClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uVGFwKGV2ZW50LCBpbnRlcmFjdGlvbiwgcG9pbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuc2ltdWxhdGVDbGljaykge1xuICAgICAgICAgICAgbGV0IHAgPSBQb2ludHMuZnJvbVBhZ2VUb05vZGUodGhpcy5lbGVtZW50LCBwb2ludClcbiAgICAgICAgICAgIGxldCBpZnJhbWUgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcignaWZyYW1lJylcbiAgICAgICAgICAgIGlmIChpZnJhbWUpIHtcbiAgICAgICAgICAgICAgICBsZXQgZG9jID0gaWZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnRcbiAgICAgICAgICAgICAgICBsZXQgZWxlbWVudCA9IGRvYy5lbGVtZW50RnJvbVBvaW50KHAueCwgcC55KVxuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHN3aXRjaCAoZWxlbWVudC50YWdOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ1ZJREVPJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVsZW1lbnQuY3VycmVudFNyYylcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChQb3B1cE1lbnUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQb3B1cE1lbnUub3BlbihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRnVsbHNjcmVlbjogKCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cub3BlbihlbGVtZW50LmN1cnJlbnRTcmMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGxheTogKCkgPT4gZWxlbWVudC5wbGF5KClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3gsIHl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZVZpZGVvKGVsZW1lbnQpXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5jbGljaygpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaXNEZXNjZW5kYW50KHBhcmVudCwgY2hpbGQpIHtcbiAgICAgICAgbGV0IG5vZGUgPSBjaGlsZC5wYXJlbnROb2RlXG4gICAgICAgIHdoaWxlIChub2RlICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChub2RlID09IHBhcmVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgZnJvbVBhZ2VUb05vZGUoeCwgeSkge1xuICAgICAgICByZXR1cm4gUG9pbnRzLmZyb21QYWdlVG9Ob2RlKHRoaXMuZWxlbWVudCwge3gsIHl9KVxuICAgIH1cblxuICAgIGZyb21Ob2RlVG9QYWdlKHgsIHkpIHtcbiAgICAgICAgcmV0dXJuIFBvaW50cy5mcm9tTm9kZVRvUGFnZSh0aGlzLmVsZW1lbnQsIHt4LCB5fSlcbiAgICB9XG5cbiAgICBfbW92ZShkZWx0YSkge1xuICAgICAgICAvLyBVTzogV2UgbmVlZCB0byBrZWVwIFR3ZWVuTGl0ZSdzIF9nc1RyYW5zZm9ybSBhbmQgdGhlIHByaXZhdGVcbiAgICAgICAgLy8gX3ggYW5kIF95IGF0dHJpYnV0ZXMgYWxpZ25lZFxuICAgICAgICBsZXQgeCA9IHRoaXMuZWxlbWVudC5fZ3NUcmFuc2Zvcm0ueFxuICAgICAgICBsZXQgeSA9IHRoaXMuZWxlbWVudC5fZ3NUcmFuc2Zvcm0ueVxuICAgICAgICBpZiAodGhpcy5tb3ZhYmxlWCkge1xuICAgICAgICAgICAgeCArPSBkZWx0YS54XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubW92YWJsZVkpIHtcbiAgICAgICAgICAgIHkgKz0gZGVsdGEueVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3ggPSB4XG4gICAgICAgIHRoaXMuX3kgPSB5XG4gICAgICAgIFR3ZWVuTGl0ZS5zZXQodGhpcy5lbGVtZW50LCB7eDogeCwgeTogeX0pXG4gICAgfVxuXG4gICAgcmVzaXplQWZ0ZXJUcmFuc2Zvcm0oem9vbSkge1xuICAgICAgICBsZXQgdyA9IHRoaXMud2lkdGggKiB0aGlzLnNjYWxlXG4gICAgICAgIGxldCBoID0gdGhpcy5oZWlnaHQgKiB0aGlzLnNjYWxlXG4gICAgICAgIFR3ZWVuTGl0ZS5zZXQodGhpcy5lbGVtZW50LCB7d2lkdGg6IHcsIGhlaWdodDogaH0pXG4gICAgICAgIGlmICh0aGlzLm9uUmVzaXplKSB7XG4gICAgICAgICAgICBsZXQgZXZlbnQgPSBuZXcgUmVzaXplRXZlbnQodGhpcywge3dpZHRoOiB3LCBoZWlnaHQ6IGh9KVxuICAgICAgICAgICAgdGhpcy5vblJlc2l6ZShldmVudClcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCBFdmVudHMgZnJvbSAnLi4vZXZlbnRzLmpzJ1xuaW1wb3J0IHtBYnN0cmFjdFNjYXR0ZXJ9IGZyb20gJy4uL3NjYXR0ZXIuanMnXG5pbXBvcnQge0FuZ2xlLCBQb2ludHMsIFBvbHlnb259IGZyb20gJy4uL3V0aWxzLmpzJ1xuaW1wb3J0IHtJbnRlcmFjdGlvbk1hcHBlcn0gZnJvbSAnLi4vaW50ZXJhY3Rpb24uanMnXG5cbi8qKiBBIGNvbnRhaW5lciBmb3Igc2NhdHRlciBvYmplY3RzLCB3aGljaCB1c2VzIGEgc2luZ2xlIEludGVyYWN0aW9uTWFwcGVyXG4gKiBmb3IgYWxsIGNoaWxkcmVuLiBUaGlzIHJlZHVjZXMgdGhlIG51bWJlciBvZiByZWdpc3RlcmVkIGV2ZW50IGhhbmRsZXJzXG4gKiBhbmQgY292ZXJzIHRoZSBjb21tb24gdXNlIGNhc2UgdGhhdCBtdWx0aXBsZSBvYmplY3RzIGFyZSBzY2F0dGVyZWRcbiAqIG9uIHRoZSBzYW1lIGxldmVsLlxuICovXG5leHBvcnQgY2xhc3MgU2NhdHRlckNvbnRhaW5lciBleHRlbmRzIFBJWEkuR3JhcGhpY3Mge1xuXG4gICAgLyoqXG4gICAgKiBAY29uc3RydWN0b3JcbiAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBQSVhJIHJlbmRlcmVyLCBuZWVkZWQgZm9yIGhpdCB0ZXN0aW5nXG4gICAgKiBAcGFyYW0ge0Jvb2x9IHN0b3BFdmVudHMgLSBXaGV0aGVyIGV2ZW50cyBzaG91bGQgYmUgc3RvcHBlZCBvciBwcm9wYWdhdGVkXG4gICAgKiBAcGFyYW0ge0Jvb2x9IGNsYWltRXZlbnRzIC0gV2hldGhlciBldmVudHMgc2hvdWxkIGJlIG1hcmtlZCBhcyBjbGFpbWVkXG4gICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgZmluZFRhcmdldCByZXR1cm4gYXMgbm9uLW51bGwgdmFsdWUuXG4gICAgKiBAcGFyYW0ge0Jvb2x9IHNob3dCb3VuZHMgLSBTaG93IGJvdW5kcyBmb3IgZGVidWdnaW5nIHB1cnBvc2VzLlxuICAgICogQHBhcmFtIHtCb29sfSBzaG93VG91Y2hlcyAtIFNob3cgdG91Y2hlcyBhbmQgcG9pbnRlciBmb3IgZGVidWdnaW5nIHB1cnBvc2VzLlxuICAgICogQHBhcmFtIHtDb2xvcn0gYmFja2dyb3VuZENvbG9yIC0gU2V0IGJhY2tncm91bmQgY29sb3IgaWYgc3BlY2lmaWVkLlxuICAgICogQHBhcmFtIHtQSVhJQXBwfSBhcHBsaWNhdGlvbiAtIE5lZWRlZCBpZiBzaG93Qm91bmRzIGlzIHRydWUgdG8gcmVnaXN0ZXJcbiAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGUgaGFuZGxlci5cbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHJlbmRlcmVyLCB7c3RvcEV2ZW50cyA9IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhaW1FdmVudHMgPSB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dCb3VuZHMgPSBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93UG9seWdvbiA9IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dUb3VjaGVzID0gZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yID0gbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBsaWNhdGlvbiA9IG51bGx9ID0ge30pIHtcbiAgICAgICAgc3VwZXIoKVxuICAgICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXJcbiAgICAgICAgdGhpcy5zdG9wRXZlbnRzID0gc3RvcEV2ZW50c1xuICAgICAgICB0aGlzLmNsYWltRXZlbnRzID0gY2xhaW1FdmVudHNcbiAgICAgICAgdGhpcy5kZWxlZ2F0ZSA9IG5ldyBJbnRlcmFjdGlvbk1hcHBlcih0aGlzLmV2ZW50UmVjZWl2ZXIsIHRoaXMpXG4gICAgICAgIHRoaXMuc2hvd0JvdW5kcyA9IHNob3dCb3VuZHNcbiAgICAgICAgdGhpcy5zaG93VG91Y2hlcyA9IHNob3dUb3VjaGVzXG4gICAgICAgIHRoaXMuc2hvd1BvbHlnb24gPSBzaG93UG9seWdvblxuICAgICAgICB0aGlzLmJhY2tncm91bmRDb2xvciA9IGJhY2tncm91bmRDb2xvclxuICAgICAgICBpZiAoYXBwbGljYXRpb24gJiYgKHNob3dCb3VuZHMgfHwgc2hvd1RvdWNoZXMgfHwgc2hvd1BvbHlnb24pKSB7XG4gICAgICAgICAgICBhcHBsaWNhdGlvbi50aWNrZXIuYWRkKChkZWx0YSkgPT4gdGhpcy51cGRhdGUoZGVsdGEpLCB0aGlzKVxuICAgICAgICB9XG4gICAgICAgIGlmIChiYWNrZ3JvdW5kQ29sb3IpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQmFja2dyb3VuZCgpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGVCYWNrZ3JvdW5kKCkge1xuICAgICAgICB0aGlzLmNsZWFyKClcbiAgICAgICAgdGhpcy5iZWdpbkZpbGwodGhpcy5iYWNrZ3JvdW5kQ29sb3IsIDEpXG4gICAgICAgIHRoaXMuZHJhd1JlY3QoMCwgMCwgdGhpcy5ib3VuZHMud2lkdGgsIHRoaXMuYm91bmRzLmhlaWdodClcbiAgICAgICAgdGhpcy5lbmRGaWxsKClcbiAgICB9XG5cbiAgICBnZXQgZXZlbnRSZWNlaXZlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIucGx1Z2lucy5pbnRlcmFjdGlvbi5pbnRlcmFjdGlvbkRPTUVsZW1lbnRcbiAgICB9XG5cbiAgICBnZXQgYm91bmRzKCkge1xuICAgICAgIC8vIGxldCByID0gdGhpcy5ldmVudFJlY2VpdmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgICAgIGxldCB4ID0gMCAvLyByLmxlZnRcbiAgICAgICAgbGV0IHkgPSAwIC8vIHIudG9wXG4gICAgICAgIGxldCB3ID0gYXBwLndpZHRoXG4gICAgICAgIGxldCBoID0gYXBwLmhlaWdodFxuICAgICAgICBpZiAoYXBwLmZ1bGxzY3JlZW4gJiYgYXBwLm1vbmtleVBhdGNoTWFwcGluZykge1xuICAgICAgICAgICAgICAgIGxldCBmaXhlZCA9IHRoaXMubWFwUG9zaXRpb25Ub1BvaW50KHt4IDogdywgeTogMH0pXG4gICAgICAgICAgICBpZiAoZml4ZWQueCA8IHcpIHtcbiAgICAgICAgICAgICAgICB3ID0gZml4ZWQueFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZpeGVkLnkgPiAwKSB7XG4gICAgICAgICAgICAgICAgeSArPSBmaXhlZC55XG4gICAgICAgICAgICAgICAgaCAtPSBmaXhlZC55XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBQSVhJLlJlY3RhbmdsZSh4LCB5LCB3LCBoKVxuICAgIH1cblxuICAgIGdldCBjZW50ZXIoKSB7XG4gICAgICAgIGxldCByID0gdGhpcy5ib3VuZHNcbiAgICAgICAgcmV0dXJuIHsgeDogci53aWR0aCAvIDIsIHk6IHIuaGVpZ2h0IC8gMn1cbiAgICB9XG5cbiAgICBnZXQgcG9seWdvbigpIHtcbiAgICAgICAgbGV0IHIgPSB0aGlzLmJvdW5kc1xuICAgICAgICBsZXQgdzIgPSByLndpZHRoLzJcbiAgICAgICAgbGV0IGgyID0gci5oZWlnaHQvMlxuICAgICAgICBsZXQgY2VudGVyID0ge3g6IHcyLCB5OiBoMn1cbiAgICAgICAgbGV0IHBvbHlnb24gPSBuZXcgUG9seWdvbihjZW50ZXIpXG4gICAgICAgIHBvbHlnb24uYWRkUG9pbnQoe3g6IC13MiwgeTogLWgyfSlcbiAgICAgICAgcG9seWdvbi5hZGRQb2ludCh7eDogdzIsIHk6IC1oMn0pXG4gICAgICAgIHBvbHlnb24uYWRkUG9pbnQoe3g6IHcyLCB5OiBoMn0pXG4gICAgICAgIHBvbHlnb24uYWRkUG9pbnQoe3g6IC13MiwgeTogaDJ9KVxuICAgICAgICByZXR1cm4gcG9seWdvblxuICAgIH1cblxuICAgIHVwZGF0ZShkdCkge1xuICAgICAgICB0aGlzLmNsZWFyKClcbiAgICAgICAgdGhpcy5saW5lU3R5bGUoMSwgMHgwMDAwRkYpXG4gICAgICAgIGlmICh0aGlzLnNob3dCb3VuZHMpIHtcbiAgICAgICAgICAgIGZvcihsZXQgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIGlmIChjaGlsZC5zY2F0dGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vbGV0IHt4LCB5LCB3aWR0aCwgaGVpZ2h0fSA9IGNoaWxkLnNjYXR0ZXIudGhyb3dCb3VuZHMoKVxuICAgICAgICAgICAgICAgICAgICAvLyBuZXcgUElYSS5SZWN0YW5nbGUoeCwgeSwgd2lkdGgsIGhlaWdodClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3U2hhcGUoY2hpbGQuc2NhdHRlci5ib3VuZHMpXG4gICAgICAgICAgICAgICAgICAgIGxldCBjZW50ZXIgPSAgY2hpbGQuc2NhdHRlci5jZW50ZXJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3Q2lyY2xlKGNlbnRlci54LCBjZW50ZXIueSwgNClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3Q2lyY2xlKGNoaWxkLnNjYXR0ZXIueCwgY2hpbGQuc2NhdHRlci55LCA0KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubGluZVN0eWxlKDIsIDB4MDAwMEZGKVxuICAgICAgICAgICAgdGhpcy5kcmF3U2hhcGUodGhpcy5ib3VuZHMpXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc2hvd1BvbHlnb24pIHtcbiAgICAgICAgICAgIHRoaXMubGluZVN0eWxlKDIsIDB4RkYwMDAwKVxuICAgICAgICAgICAgZm9yKGxldCBjaGlsZCBvZiB0aGlzLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgaWYoY2hpbGQuc2NhdHRlcil7XG4gICAgICAgICAgICAgICAgbGV0IHBvbHlnb24gPSBjaGlsZC5zY2F0dGVyLnBvbHlnb25cbiAgICAgICAgICAgICAgICBsZXQgc2hhcGUgPSBuZXcgUElYSS5Qb2x5Z29uKHBvbHlnb24uZmxhdEFic29sdXRlUG9pbnRzKCkpXG4gICAgICAgICAgICAgICAgc2hhcGUuY2xvc2UoKVxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd1NoYXBlKHNoYXBlKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zaG93VG91Y2hlcykge1xuICAgICAgICAgICAgbGV0IGN1cnJlbnQgPSB0aGlzLmRlbGVnYXRlLmludGVyYWN0aW9uLmN1cnJlbnRcbiAgICAgICAgICAgIGZvcihsZXQgW2tleSwgcG9pbnRdIG9mIGN1cnJlbnQuZW50cmllcygpKSB7XG4gICAgICAgICAgICAgICAgbGV0IGxvY2FsID0gdGhpcy5tYXBQb3NpdGlvblRvUG9pbnQocG9pbnQpXG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3Q2lyY2xlKGxvY2FsLngsIGxvY2FsLnksIDEyKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2FwdHVyZShldmVudCkge1xuICAgICAgICBpZiAodGhpcy5zdG9wRXZlbnRzKVxuICAgICAgICAgICAgRXZlbnRzLnN0b3AoZXZlbnQpXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuXG4gICAgZmFrZUludGVyYWN0aW9uRXZlbnQocG9pbnQsIGtleSkge1xuICAgICAgICByZXR1cm4geyBkYXRhOiB7IGdsb2JhbDogcG9pbnQsIGtleToga2V5IH19XG4gICAgfVxuXG4gICAgZmluZEhpdFNjYXR0ZXIoZGF0YSwgZGlzcGxheU9iamVjdCwgaGl0KSB7XG4gICAgLy8gICAgIGlmIChoaXQpIHtcbi8vICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZmluZEhpdFNjYXR0ZXJcIiwgZGlzcGxheU9iamVjdClcbi8vICAgICAgICAgfVxuICAgICAgICBpZiAoaGl0ICYmIHRoaXMuaGl0U2NhdHRlciA9PT0gbnVsbCAmJiB0eXBlb2YoZGlzcGxheU9iamVjdCkgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmhpdFNjYXR0ZXIgPSAoZGlzcGxheU9iamVjdC5zY2F0dGVyKSA/IGRpc3BsYXlPYmplY3Quc2NhdHRlciA6IG51bGxcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG1hcFBvc2l0aW9uVG9Qb2ludChwb2ludCkge1xuICAgICAgICBsZXQgbG9jYWwgPSBuZXcgUElYSS5Qb2ludCgpXG4gICAgICAgIGxldCBpbnRlcmFjdGlvbk1hbmFnZXIgPSB0aGlzLnJlbmRlcmVyLnBsdWdpbnMuaW50ZXJhY3Rpb25cbiAgICAgICAgaW50ZXJhY3Rpb25NYW5hZ2VyLm1hcFBvc2l0aW9uVG9Qb2ludChsb2NhbCwgcG9pbnQueCwgcG9pbnQueSlcbiAgICAgICAgcmV0dXJuIGxvY2FsXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTmV3IG1ldGhvZCBoaXRUZXN0IGltcGxlbWVudGVkIChpbiBJbnRlcmFjdGlvbk1hbmFnZXIsIHNpbmNlIDQuNS4wKS5cbiAgICAgKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLmpzL3B1bGwvMzg3OFxuICAgICAqL1xuICAgIGZpbmRUYXJnZXQoZXZlbnQsIGxvY2FsLCBnbG9iYWwpIHtcbiAgICAgICAgaWYgKGV2ZW50LmNsYWltZWRCeVNjYXR0ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5oaXRTY2F0dGVyID0gbnVsbFxuICAgICAgICBsZXQgaW50ZXJhY3Rpb25NYW5hZ2VyID0gdGhpcy5yZW5kZXJlci5wbHVnaW5zLmludGVyYWN0aW9uXG4gICAgICAgIGxldCBmYWtlRXZlbnQgPSB0aGlzLmZha2VJbnRlcmFjdGlvbkV2ZW50KGxvY2FsKVxuICAgICAgICBpbnRlcmFjdGlvbk1hbmFnZXIucHJvY2Vzc0ludGVyYWN0aXZlKGZha2VFdmVudCxcbiAgICAgICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgICAgIHRoaXMuZmluZEhpdFNjYXR0ZXIuYmluZCh0aGlzKSwgdHJ1ZSlcbiAgICAgICAgaWYgKHRoaXMuY2xhaW1FdmVudHMpXG4gICAgICAgICAgICBldmVudC5jbGFpbWVkQnlTY2F0dGVyID0gdGhpcy5oaXRTY2F0dGVyXG4gICAgICAgIHJldHVybiB0aGlzLmhpdFNjYXR0ZXJcbiAgICB9XG5cbiAgICBmaW5kVGFyZ2V0TmV3KGV2ZW50LCBsb2NhbCwgZ2xvYmFsKSB7XG4gICAgICAgIC8vIFVPOiBzdGlsbCBwcm9ibGVtYXRpYy4gRG9lcyBub3QgZmluZCBub24gaW50ZXJhY3RpdmUgZWxlbWVudHNcbiAgICAgICAgLy8gd2hpY2ggYXJlIG5lZWRlZCBmb3Igc29tZSBzdHlsdXMgYXBwbGljYXRpb25zXG4gICAgICAgIGlmIChldmVudC5jbGFpbWVkQnlTY2F0dGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICB9XG4gICAgICAgIHRoaXMuaGl0U2NhdHRlciA9IG51bGxcbiAgICAgICAgbGV0IGludGVyYWN0aW9uTWFuYWdlciA9IHRoaXMucmVuZGVyZXIucGx1Z2lucy5pbnRlcmFjdGlvblxuICAgICAgICBsZXQgZGlzcGxheU9iamVjdCA9IGludGVyYWN0aW9uTWFuYWdlci5oaXRUZXN0KGxvY2FsLCB0aGlzKVxuICAgICAgICBpZiAoZGlzcGxheU9iamVjdCAhPSBudWxsICYmIGRpc3BsYXlPYmplY3Quc2NhdHRlciAhPSBudWxsKVxuICAgICAgICAgICAgdGhpcy5oaXRTY2F0dGVyID0gZGlzcGxheU9iamVjdC5zY2F0dGVyXG4gICAgICAgIGlmICh0aGlzLmNsYWltRXZlbnRzKVxuICAgICAgICAgICAgZXZlbnQuY2xhaW1lZEJ5U2NhdHRlciA9IHRoaXMuaGl0U2NhdHRlclxuICAgICAgICByZXR1cm4gdGhpcy5oaXRTY2F0dGVyXG4gICAgfVxuXG5cbiAgICBvblN0YXJ0KGV2ZW50LCBpbnRlcmFjdGlvbikge1xuXG4gICAgfVxuXG4gICAgb25Nb3ZlKGV2ZW50LCBpbnRlcmFjdGlvbikge1xuXG4gICAgfVxuXG4gICAgb25FbmQoZXZlbnQsIGludGVyYWN0aW9uKSB7XG4gICAgICAgIGZvcihsZXQga2V5IG9mIGludGVyYWN0aW9uLmVuZGVkLmtleXMoKSkge1xuICAgICAgICAgICAgbGV0IHBvaW50ID0gaW50ZXJhY3Rpb24uZW5kZWQuZ2V0KGtleSlcbiAgICAgICAgICAgIGlmIChpbnRlcmFjdGlvbi5pc0xvbmdQcmVzcyhrZXkpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkxvbmdQcmVzcyhrZXksIHBvaW50KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGludGVyYWN0aW9uLmlzVGFwKGtleSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uVGFwKGtleSwgcG9pbnQpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvblRhcChrZXksIHBvaW50KSB7XG4gICAgICAgIGNvbnNvbGUuaW5mbygnU2NhdHRlckNvbnRhaW5lci5vblRhcCcpXG4gICAgfVxuXG4gICAgb25Mb25nUHJlc3Moa2V5LCBwb2ludCkge1xuICAgICAgICBjb25zb2xlLmluZm8oJ1NjYXR0ZXJDb250YWluZXIub25Mb25nUHJlc3MnKVxuICAgIH1cblxuICAgIGJyaW5nVG9Gcm9udChkaXNwbGF5T2JqZWN0KSB7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQoZGlzcGxheU9iamVjdClcbiAgICB9XG59XG5cbi8qKiBBIHdyYXBwZXIgZm9yIGNoaWxkIGVsZW1lbnRzIG9mIGEgU2NhdHRlckNvbnRhaW5lci4gQ2FuIGJlIHVzZWRcbiAqICB0byBjb21iaW5lIHNjYXR0ZXJlZCBvYmplY3RzIHdpdGggbm9uLXNjYXR0ZXJlZCBvYmplY3RzLiBBbnlcbiAqICBQSVhJLkRpc3BsYXlPYmplY3QgY2FuIGJlIHdyYXBwZWQuXG4gKi9cbmV4cG9ydCBjbGFzcyBEaXNwbGF5T2JqZWN0U2NhdHRlciBleHRlbmRzIEFic3RyYWN0U2NhdHRlciB7XG5cbiAgICBjb25zdHJ1Y3RvcihkaXNwbGF5T2JqZWN0LCByZW5kZXJlcixcbiAgICAgICAgICAgICAgICAgICAgeyB4PW51bGwsIHk9bnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pblNjYWxlPTAuMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heFNjYWxlPTEuMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0U2NhbGU9MS4wLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0b0JyaW5nVG9Gcm9udD10cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRhYmxlPXRydWUsIHNjYWxhYmxlPXRydWUsIHJvdGF0YWJsZT10cnVlLCByZXNpemFibGU9ZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBtb3ZhYmxlWD10cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbW92YWJsZVk9dHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93VmlzaWJpbGl0eT00NCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93RGFtcGluZyA9IDAuOTUsXG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRvVGhyb3c9dHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uRGVncmVlcz1udWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcm90YXRpb249bnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uVHJhbnNmb3JtID0gbnVsbCB9ID0ge30pIHtcbiAgICAgICAgLy8gRm9yIHRoZSBzaW11bGF0aW9uIG9mIG5hbWVkIHBhcmFtZXRlcnMsXG4gICAgICAgIC8vIHNlZTogaHR0cDovL2V4cGxvcmluZ2pzLmNvbS9lczYvY2hfcGFyYW1ldGVyLWhhbmRsaW5nLmh0bWxcbiAgICAgICAgc3VwZXIoeyBtaW5TY2FsZSwgbWF4U2NhbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydFNjYWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0b0JyaW5nVG9Gcm9udCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0YWJsZSwgc2NhbGFibGUsIHJvdGF0YWJsZSwgcmVzaXphYmxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbW92YWJsZVgsIG1vdmFibGVZLCB0aHJvd1Zpc2liaWxpdHksIHRocm93RGFtcGluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9UaHJvdyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uRGVncmVlcywgcm90YXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBvblRyYW5zZm9ybSB9KVxuICAgICAgICB0aGlzLmRpc3BsYXlPYmplY3QgPSBkaXNwbGF5T2JqZWN0XG4gICAgICAgIHRoaXMuZGlzcGxheU9iamVjdC5zY2F0dGVyID0gdGhpc1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXJcbiAgICAgICAgdGhpcy5zY2FsZSA9IHN0YXJ0U2NhbGVcbiAgICAgICAgdGhpcy5yb3RhdGlvbkRlZ3JlZXMgPSB0aGlzLnN0YXJ0Um90YXRpb25EZWdyZWVzXG4gICAgICAgIHRoaXMueCA9IHhcbiAgICAgICAgdGhpcy55ID0geVxuICAgIH1cblxuICAgIC8qKiBSZXR1cm5zIGdlb21ldHJ5IGRhdGEgYXMgb2JqZWN0LiAqKi9cbiAgICBnZXRTdGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNjYWxlOiB0aGlzLnNjYWxlLFxuICAgICAgICAgICAgeDogdGhpcy54LFxuICAgICAgICAgICAgeTogdGhpcy55LFxuICAgICAgICAgICAgcm90YXRpb246IHRoaXMucm90YXRpb25cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldHVwKCkge1xuICAgICAgICB0aGlzLnNldHVwTW91c2VXaGVlbEludGVyYWN0aW9uKClcbiAgICB9XG5cbiAgICByb3VuZFBpeGVsKHZhbHVlKSB7XG4gICAgICAgIC8vIFVPOiBTaG91bGQgYmUgb2Jzb2xldGUgYmVjYXVzZSBSZW5kZXJlciBzdXBwb3J0cyByb3VuZFBpeGVscyBieSBkZWZhdWx0XG4gICAgICAgIHJldHVybiB2YWx1ZVxuICAgICAgICBsZXQgcmVzID0gdGhpcy5yZW5kZXJlci5yZXNvbHV0aW9uXG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKHZhbHVlICogcmVzKSAvIHJlc1xuICAgIH1cblxuICAgIGdldCBjb250YWluZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpc3BsYXlPYmplY3QucGFyZW50XG4gICAgfVxuXG4gICAgZ2V0IHgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBvc2l0aW9uLnhcbiAgICB9XG5cbiAgICBzZXQgeCh2YWx1ZSkge1xuICAgICAgICB0aGlzLnBvc2l0aW9uLnggPSB2YWx1ZVxuICAgIH1cblxuICAgIGdldCB5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wb3NpdGlvbi55XG4gICAgfVxuXG4gICAgc2V0IHkodmFsdWUpIHtcbiAgICAgICAgdGhpcy5wb3NpdGlvbi55ID0gdmFsdWVcbiAgICB9XG5cbiAgICBnZXQgcG9seWdvbigpIHtcbiAgICAgICAgbGV0IHBvbHlnb24gPSBuZXcgUG9seWdvbih0aGlzLmNlbnRlcilcbiAgICAgICAgbGV0IHcyID0gdGhpcy53aWR0aCAvIDJcbiAgICAgICAgbGV0IGgyID0gdGhpcy5oZWlnaHQgLyAyXG4gICAgICAgIHBvbHlnb24uYWRkUG9pbnQoe3g6IC13MiwgeTogLWgyfSlcbiAgICAgICAgcG9seWdvbi5hZGRQb2ludCh7eDogdzIsIHk6IC1oMn0pXG4gICAgICAgIHBvbHlnb24uYWRkUG9pbnQoe3g6IHcyLCB5OiBoMn0pXG4gICAgICAgIHBvbHlnb24uYWRkUG9pbnQoe3g6IC13MiwgeTogaDJ9KVxuICAgICAgICBwb2x5Z29uLnJvdGF0ZSh0aGlzLnJvdGF0aW9uKVxuICAgICAgICByZXR1cm4gcG9seWdvblxuICAgIH1cblxuICAgIGdldCBjb250YWluZXJCb3VuZHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpc3BsYXlPYmplY3QucGFyZW50LmJvdW5kc1xuICAgIH1cblxuICAgIGdldCBjb250YWluZXJQb2x5Z29uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kaXNwbGF5T2JqZWN0LnBhcmVudC5wb2x5Z29uXG4gICAgfVxuXG4gICAgZ2V0IHBvc2l0aW9uKCkgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGlzcGxheU9iamVjdC5wb3NpdGlvblxuICAgIH1cblxuICAgIHNldCBwb3NpdGlvbih2YWx1ZSkge1xuICAgICAgICBjb25zb2xlLmxvZyhcInNldCBwb3NpdGlvblwiKVxuICAgICAgICB0aGlzLmRpc3BsYXlPYmplY3QucG9zaXRpb24gPSB2YWx1ZVxuICAgIH1cblxuICAgIGdldCBzY2FsZSgpICB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpc3BsYXlPYmplY3Quc2NhbGUueFxuICAgIH1cblxuICAgIHNldCBzY2FsZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLmRpc3BsYXlPYmplY3Quc2NhbGUueCA9IHZhbHVlXG4gICAgICAgIHRoaXMuZGlzcGxheU9iamVjdC5zY2FsZS55ID0gdmFsdWVcbiAgICB9XG5cbiAgICBnZXQgd2lkdGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpc3BsYXlPYmplY3Qud2lkdGhcbiAgICB9XG5cbiAgICBnZXQgaGVpZ2h0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kaXNwbGF5T2JqZWN0LmhlaWdodFxuICAgIH1cblxuICAgIGdldCBib3VuZHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpc3BsYXlPYmplY3QuZ2V0Qm91bmRzKClcbiAgICB9XG5cbiAgICBnZXQgcGl2b3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpc3BsYXlPYmplY3QucGl2b3RcbiAgICB9XG5cbiAgICBnZXQgcm90YXRpb24oKSAge1xuICAgICAgICByZXR1cm4gdGhpcy5kaXNwbGF5T2JqZWN0LnJvdGF0aW9uXG4gICAgfVxuXG4gICAgc2V0IHJvdGF0aW9uKHZhbHVlKSAge1xuICAgICAgICB0aGlzLmRpc3BsYXlPYmplY3Qucm90YXRpb24gPSB2YWx1ZVxuICAgIH1cblxuICAgIGdldCByb3RhdGlvbkRlZ3JlZXMoKSAge1xuICAgICAgICByZXR1cm4gQW5nbGUucmFkaWFuMmRlZ3JlZSh0aGlzLmRpc3BsYXlPYmplY3Qucm90YXRpb24pXG4gICAgfVxuXG4gICAgc2V0IHJvdGF0aW9uRGVncmVlcyh2YWx1ZSkgIHtcbiAgICAgICAgdGhpcy5kaXNwbGF5T2JqZWN0LnJvdGF0aW9uID0gQW5nbGUuZGVncmVlMnJhZGlhbih2YWx1ZSlcbiAgICB9XG5cbiAgICBnZXQgY2VudGVyKCkge1xuICAgICAgICBsZXQgdzIgPSB0aGlzLndpZHRoLzJcbiAgICAgICAgbGV0IGgyID0gdGhpcy5oZWlnaHQvMlxuICAgICAgICBsZXQgZGlzdCA9IE1hdGguc3FydCh3Mip3MiArIGgyKmgyKVxuICAgICAgICBsZXQgYW5nbGUgPSBQb2ludHMuYW5nbGUoe3g6IHcyLCB5OiBoMn0sIHt4OiAwLCB5OiAwfSlcbiAgICAgICAgbGV0IHAgPSB0aGlzLmRpc3BsYXlPYmplY3QueFxuICAgICAgICBsZXQgYyA9IFBvaW50cy5hcmModGhpcy5wb3NpdGlvbiwgdGhpcy5yb3RhdGlvbiArIGFuZ2xlLCBkaXN0KVxuICAgICAgICByZXR1cm4gYyAvLyBQb2ludHMuc3VidHJhY3QoYywgdGhpcy5waXZvdClcbiAgICB9XG5cbiAgICBnZXQgcm90YXRpb25PcmlnaW4oKSB7XG4gICAgICAgIC8vIEluIFBJWEkgdGhlIGRlZmF1bHQgcm90YXRpb24gYW5kIHNjYWxlIG9yaWdpbiBpcyB0aGUgcG9zaXRpb25cbiAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb24gLy8gUG9pbnRzLmFkZCh0aGlzLnBvc2l0aW9uLCB0aGlzLnBpdm90KVxuICAgIH1cblxuICAgIG1hcFBvc2l0aW9uVG9Db250YWluZXJQb2ludChwb2ludCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kaXNwbGF5T2JqZWN0LnBhcmVudC5tYXBQb3NpdGlvblRvUG9pbnQocG9pbnQpXG4gICAgfVxuXG4gICAgY2FwdHVyZShldmVudCkge1xuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cblxuICAgIGJyaW5nVG9Gcm9udCgpIHtcbiAgICAgICAgaWYgKHRoaXMuYXV0b0JyaW5nVG9Gcm9udCkge1xuICAgICAgICAgICAgbGV0IHNjYXR0ZXJDb250YWluZXIgPSB0aGlzLmRpc3BsYXlPYmplY3QucGFyZW50XG4gICAgICAgICAgICBzY2F0dGVyQ29udGFpbmVyLmJyaW5nVG9Gcm9udCh0aGlzLmRpc3BsYXlPYmplY3QpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YWxpZFNjYWxlKHNjYWxlKSB7XG4gICAgICAgIHNjYWxlID0gTWF0aC5tYXgoc2NhbGUsIHRoaXMubWluU2NhbGUpXG4gICAgICAgIHNjYWxlID0gTWF0aC5taW4oc2NhbGUsIHRoaXMubWF4U2NhbGUpXG4gICAgICAgIHJldHVybiBzY2FsZVxuICAgIH1cblxuICAgIGdldCBjb250YWluZXJQb2x5Z29uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kaXNwbGF5T2JqZWN0LnBhcmVudC5wb2x5Z29uXG4gICAgfVxuXG59XG4iLCJpbXBvcnQge2dldElkfSBmcm9tICcuL3V0aWxzLmpzJ1xuaW1wb3J0IHtET01TY2F0dGVyfSBmcm9tICcuL3NjYXR0ZXIuanMnXG5cbmV4cG9ydCBjbGFzcyBDYXJkTG9hZGVyIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgc3JjLFxuICAgICAgICB7XG4gICAgICAgICAgICB4ID0gMCxcbiAgICAgICAgICAgIHkgPSAwLFxuICAgICAgICAgICAgd2lkdGggPSAxMDAwLFxuICAgICAgICAgICAgaGVpZ2h0ID0gODAwLFxuICAgICAgICAgICAgbWF4V2lkdGggPSBudWxsLFxuICAgICAgICAgICAgbWF4SGVpZ2h0ID0gbnVsbCxcbiAgICAgICAgICAgIHNjYWxlID0gMSxcbiAgICAgICAgICAgIG1pblNjYWxlID0gMC41LFxuICAgICAgICAgICAgbWF4U2NhbGUgPSAxLjUsXG4gICAgICAgICAgICByb3RhdGlvbiA9IDBcbiAgICAgICAgfSA9IHt9XG4gICAgKSB7XG4gICAgICAgIHRoaXMuc3JjID0gc3JjXG4gICAgICAgIHRoaXMueCA9IHhcbiAgICAgICAgdGhpcy55ID0geVxuICAgICAgICB0aGlzLnNjYWxlID0gc2NhbGVcbiAgICAgICAgdGhpcy5yb3RhdGlvbiA9IDBcbiAgICAgICAgdGhpcy5tYXhTY2FsZSA9IG1heFNjYWxlXG4gICAgICAgIHRoaXMubWluU2NhbGUgPSBtaW5TY2FsZVxuICAgICAgICB0aGlzLndhbnRlZFdpZHRoID0gd2lkdGhcbiAgICAgICAgdGhpcy53YW50ZWRIZWlnaHQgPSBoZWlnaHRcbiAgICAgICAgdGhpcy5tYXhXaWR0aCA9IG1heFdpZHRoICE9IG51bGwgPyBtYXhXaWR0aCA6IHdpbmRvdy5pbm5lcldpZHRoXG4gICAgICAgIHRoaXMubWF4SGVpZ2h0ID0gbWF4SGVpZ2h0ICE9IG51bGwgPyBtYXhIZWlnaHQgOiB3aW5kb3cuaW5uZXJIZWlnaHRcbiAgICAgICAgdGhpcy5hZGRlZE5vZGUgPSBudWxsXG4gICAgfVxuXG4gICAgdW5sb2FkKCkge1xuICAgICAgICBpZiAodGhpcy5hZGRlZE5vZGUpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkZWROb2RlLnJlbW92ZSgpXG4gICAgICAgICAgICB0aGlzLmFkZGVkTm9kZSA9IG51bGxcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFBERkxvYWRlciBleHRlbmRzIENhcmRMb2FkZXIge1xuICAgIGNvbnN0cnVjdG9yKHNyYywge3dpZHRoID0gMTY0MCwgaGVpZ2h0ID0gODAwLCBzY2FsZSA9IDF9ID0ge30pIHtcbiAgICAgICAgc3VwZXIoc3JjLCB7d2lkdGgsIGhlaWdodCwgc2NhbGV9KVxuICAgICAgICBpZiAodHlwZW9mIFBERkpTID09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBhbGVydCgnUERGLmpzIG5lZWRlZCcpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBsb2FkKGRvbU5vZGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIFBERkpTLmdldERvY3VtZW50KHRoaXMuc3JjKS50aGVuKHBkZiA9PiB7XG4gICAgICAgICAgICAgICAgcGRmLmdldFBhZ2UoMSkudGhlbihwYWdlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNjYWxlID0gdGhpcy5zY2FsZSAqIGFwcC5yZW5kZXJlci5yZXNvbHV0aW9uXG4gICAgICAgICAgICAgICAgICAgIGxldCBpbnZTY2FsZSA9IDEgLyBzY2FsZVxuICAgICAgICAgICAgICAgICAgICBsZXQgdmlld3BvcnQgPSBwYWdlLmdldFZpZXdwb3J0KHNjYWxlKVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIFByZXBhcmUgY2FudmFzIHVzaW5nIFBERiBwYWdlIGRpbWVuc2lvbnMuXG4gICAgICAgICAgICAgICAgICAgIGxldCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKVxuICAgICAgICAgICAgICAgICAgICBsZXQgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpXG4gICAgICAgICAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSB2aWV3cG9ydC5oZWlnaHRcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzLndpZHRoID0gdmlld3BvcnQud2lkdGhcblxuICAgICAgICAgICAgICAgICAgICAvLyBSZW5kZXIgUERGIHBhZ2UgaW50byBjYW52YXMgY29udGV4dC5cbiAgICAgICAgICAgICAgICAgICAgbGV0IHJlbmRlckNvbnRleHQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYW52YXNDb250ZXh0OiBjb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgdmlld3BvcnQ6IHZpZXdwb3J0XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcGFnZS5yZW5kZXIocmVuZGVyQ29udGV4dClcbiAgICAgICAgICAgICAgICAgICAgZG9tTm9kZS5hcHBlbmRDaGlsZChjYW52YXMpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMud2FudGVkV2lkdGggPSBjYW52YXMud2lkdGhcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53YW50ZWRIZWlnaHQgPSBjYW52YXMuaGVpZ2h0XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NhbGUgPSBpbnZTY2FsZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZGVkTm9kZSA9IGNhbnZhc1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMpXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgSW1hZ2VMb2FkZXIgZXh0ZW5kcyBDYXJkTG9hZGVyIHtcbiAgICBsb2FkKGRvbU5vZGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGxldCBpc0ltYWdlID0gZG9tTm9kZSBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnRcbiAgICAgICAgICAgIGxldCBpbWFnZSA9IGlzSW1hZ2UgPyBkb21Ob2RlIDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJylcbiAgICAgICAgICAgIGltYWdlLm9ubG9hZCA9IGUgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghaXNJbWFnZSkge1xuICAgICAgICAgICAgICAgICAgICBkb21Ob2RlLmFwcGVuZENoaWxkKGltYWdlKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZGVkTm9kZSA9IGltYWdlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMud2FudGVkV2lkdGggPSBpbWFnZS5uYXR1cmFsV2lkdGhcbiAgICAgICAgICAgICAgICB0aGlzLndhbnRlZEhlaWdodCA9IGltYWdlLm5hdHVyYWxIZWlnaHRcblxuICAgICAgICAgICAgICAgIGxldCBzY2FsZVcgPSB0aGlzLm1heFdpZHRoIC8gaW1hZ2UubmF0dXJhbFdpZHRoXG4gICAgICAgICAgICAgICAgbGV0IHNjYWxlSCA9IHRoaXMubWF4SGVpZ2h0IC8gaW1hZ2UubmF0dXJhbEhlaWdodFxuICAgICAgICAgICAgICAgIHRoaXMuc2NhbGUgPSBNYXRoLm1pbih0aGlzLm1heFNjYWxlLCBNYXRoLm1pbihzY2FsZVcsIHNjYWxlSCkpXG4gICAgICAgICAgICAgICAgaW1hZ2Uuc2V0QXR0cmlidXRlKCdkcmFnZ2FibGUnLCBmYWxzZSlcbiAgICAgICAgICAgICAgICBpbWFnZS53aWR0aCA9IGltYWdlLm5hdHVyYWxXaWR0aFxuICAgICAgICAgICAgICAgIGltYWdlLmhlaWdodCA9IGltYWdlLm5hdHVyYWxIZWlnaHRcbiAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbWFnZS5vbmVycm9yID0gZSA9PiB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KHRoaXMpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbWFnZS5zcmMgPSB0aGlzLnNyY1xuICAgICAgICB9KVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZyYW1lTG9hZGVyIGV4dGVuZHMgQ2FyZExvYWRlciB7XG4gICAgbG9hZChkb21Ob2RlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBsZXQgaWZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJylcbiAgICAgICAgICAgIGlmcmFtZS5mcmFtZUJvcmRlciA9IDBcbiAgICAgICAgICAgIGlmcmFtZS5zdHlsZS5zY3JvbGxpbmcgPSBmYWxzZVxuICAgICAgICAgICAgaWZyYW1lLndpZHRoID0gdGhpcy53YW50ZWRXaWR0aFxuICAgICAgICAgICAgaWZyYW1lLmhlaWdodCA9IHRoaXMud2FudGVkSGVpZ2h0XG4gICAgICAgICAgICBkb21Ob2RlLmFwcGVuZENoaWxkKGlmcmFtZSlcbiAgICAgICAgICAgIHRoaXMuYWRkZWROb2RlID0gaWZyYW1lXG4gICAgICAgICAgICBpZnJhbWUub25sb2FkID0gZSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWZyYW1lLm9uZXJyb3IgPSBlID0+IHtcbiAgICAgICAgICAgICAgICByZWplY3QodGhpcylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmcmFtZS5zcmMgPSB0aGlzLnNyY1xuICAgICAgICB9KVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIERPTUZsaXAge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBkb21TY2F0dGVyQ29udGFpbmVyLFxuICAgICAgICBmbGlwVGVtcGxhdGUsXG4gICAgICAgIGZyb250TG9hZGVyLFxuICAgICAgICBiYWNrTG9hZGVyLFxuICAgICAgICB7XG4gICAgICAgICAgICBhdXRvTG9hZCA9IGZhbHNlLFxuICAgICAgICAgICAgY2VudGVyID0gbnVsbCxcbiAgICAgICAgICAgIHByZWxvYWRCYWNrID0gZmFsc2UsXG4gICAgICAgICAgICB0cmFuc2xhdGFibGUgPSB0cnVlLFxuICAgICAgICAgICAgc2NhbGFibGUgPSB0cnVlLFxuICAgICAgICAgICAgcm90YXRhYmxlID0gdHJ1ZSxcbiAgICAgICAgICAgIG9uRnJvbnQgPSBudWxsLFxuICAgICAgICAgICAgb25CYWNrID0gbnVsbCxcbiAgICAgICAgICAgIG9uQ2xvc2UgPSBudWxsLFxuICAgICAgICAgICAgb25VcGRhdGUgPSBudWxsLFxuICAgICAgICAgICAgb25SZW1vdmVkID0gbnVsbFxuICAgICAgICB9ID0ge31cbiAgICApIHtcbiAgICAgICAgdGhpcy5kb21TY2F0dGVyQ29udGFpbmVyID0gZG9tU2NhdHRlckNvbnRhaW5lclxuICAgICAgICB0aGlzLmlkID0gZ2V0SWQoKVxuICAgICAgICB0aGlzLmZsaXBUZW1wbGF0ZSA9IGZsaXBUZW1wbGF0ZVxuICAgICAgICB0aGlzLmZyb250TG9hZGVyID0gZnJvbnRMb2FkZXJcbiAgICAgICAgdGhpcy5iYWNrTG9hZGVyID0gYmFja0xvYWRlclxuICAgICAgICB0aGlzLnRyYW5zbGF0YWJsZSA9IHRyYW5zbGF0YWJsZVxuICAgICAgICB0aGlzLnNjYWxhYmxlID0gc2NhbGFibGVcbiAgICAgICAgdGhpcy5yb3RhdGFibGUgPSByb3RhdGFibGVcbiAgICAgICAgdGhpcy5vbkZyb250RmxpcHBlZCA9IG9uRnJvbnRcbiAgICAgICAgdGhpcy5vbkJhY2tGbGlwcGVkID0gb25CYWNrXG4gICAgICAgIHRoaXMub25DbG9zZSA9IG9uQ2xvc2VcbiAgICAgICAgdGhpcy5vblJlbW92ZWQgPSBvblJlbW92ZWRcbiAgICAgICAgdGhpcy5vblVwZGF0ZSA9IG9uVXBkYXRlXG4gICAgICAgIHRoaXMuY2VudGVyID0gY2VudGVyXG4gICAgICAgIHRoaXMucHJlbG9hZEJhY2sgPSBwcmVsb2FkQmFja1xuICAgICAgICBpZiAoYXV0b0xvYWQpIHtcbiAgICAgICAgICAgIHRoaXMubG9hZCgpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBsb2FkKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgbGV0IHQgPSB0aGlzLmZsaXBUZW1wbGF0ZVxuICAgICAgICAgICAgbGV0IGRvbSA9IHRoaXMuZG9tU2NhdHRlckNvbnRhaW5lci5lbGVtZW50XG4gICAgICAgICAgICBsZXQgd3JhcHBlciA9IHQuY29udGVudC5xdWVyeVNlbGVjdG9yKCcuZmxpcFdyYXBwZXInKVxuICAgICAgICAgICAgd3JhcHBlci5pZCA9IHRoaXMuaWRcbiAgICAgICAgICAgIGxldCBjbG9uZSA9IGRvY3VtZW50LmltcG9ydE5vZGUodC5jb250ZW50LCB0cnVlKVxuICAgICAgICAgICAgZG9tLmFwcGVuZENoaWxkKGNsb25lKVxuICAgICAgICAgICAgLy8gV2UgY2Fubm90IHVzZSB0aGUgZG9jdW1lbnQgZnJhZ21lbnQgaXRzZWxmIGJlY2F1c2UgaXRcbiAgICAgICAgICAgIC8vIGlzIG5vdCBwYXJ0IG9mIHRoZSBtYWluIGRvbSB0cmVlLiBBZnRlciB0aGUgYXBwZW5kQ2hpbGRcbiAgICAgICAgICAgIC8vIGNhbGwgd2UgY2FuIGFjY2VzcyB0aGUgbmV3IGRvbSBlbGVtZW50IGJ5IGlkXG4gICAgICAgICAgICB0aGlzLmNhcmRXcmFwcGVyID0gZG9tLnF1ZXJ5U2VsZWN0b3IoJyMnICsgdGhpcy5pZClcbiAgICAgICAgICAgIGxldCBmcm9udCA9IHRoaXMuY2FyZFdyYXBwZXIucXVlcnlTZWxlY3RvcignLmZyb250JylcbiAgICAgICAgICAgIHRoaXMuZnJvbnRMb2FkZXIubG9hZChmcm9udCkudGhlbihsb2FkZXIgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRMb2FkZWQobG9hZGVyKS50aGVuKHJlc29sdmUpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGZyb250TG9hZGVkKGxvYWRlcikge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgbGV0IHNjYXR0ZXIgPSBuZXcgRE9NU2NhdHRlcihcbiAgICAgICAgICAgICAgICB0aGlzLmNhcmRXcmFwcGVyLFxuICAgICAgICAgICAgICAgIHRoaXMuZG9tU2NhdHRlckNvbnRhaW5lcixcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHg6IGxvYWRlci54LFxuICAgICAgICAgICAgICAgICAgICB5OiBsb2FkZXIueSxcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRTY2FsZTogbG9hZGVyLnNjYWxlLFxuICAgICAgICAgICAgICAgICAgICBzY2FsZTogbG9hZGVyLnNjYWxlLFxuICAgICAgICAgICAgICAgICAgICBtYXhTY2FsZTogbG9hZGVyLm1heFNjYWxlLFxuICAgICAgICAgICAgICAgICAgICBtaW5TY2FsZTogbG9hZGVyLm1pblNjYWxlLFxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogbG9hZGVyLndhbnRlZFdpZHRoLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGxvYWRlci53YW50ZWRIZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiBsb2FkZXIucm90YXRpb24sXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0YWJsZTogdGhpcy50cmFuc2xhdGFibGUsXG4gICAgICAgICAgICAgICAgICAgIHNjYWxhYmxlOiB0aGlzLnNjYWxhYmxlLFxuICAgICAgICAgICAgICAgICAgICByb3RhdGFibGU6IHRoaXMucm90YXRhYmxlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgaWYgKHRoaXMuY2VudGVyKSB7XG4gICAgICAgICAgICAgICAgc2NhdHRlci5jZW50ZXJBdCh0aGlzLmNlbnRlcilcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGZsaXBwYWJsZSA9IG5ldyBET01GbGlwcGFibGUodGhpcy5jYXJkV3JhcHBlciwgc2NhdHRlciwgdGhpcylcbiAgICAgICAgICAgIGxldCBiYWNrID0gdGhpcy5jYXJkV3JhcHBlci5xdWVyeVNlbGVjdG9yKCcuYmFjaycpXG5cbiAgICAgICAgICAgIGlmICh0aGlzLnByZWxvYWRCYWNrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5iYWNrTG9hZGVyLmxvYWQoYmFjaykudGhlbihsb2FkZXIgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldHVwRmxpcHBhYmxlKGZsaXBwYWJsZSwgbG9hZGVyKVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmZsaXBwYWJsZSA9IGZsaXBwYWJsZVxuICAgICAgICAgICAgcmVzb2x2ZSh0aGlzKVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGNlbnRlckF0KHApIHtcbiAgICAgICAgdGhpcy5jZW50ZXIgPSBwXG4gICAgICAgIHRoaXMuZmxpcHBhYmxlLmNlbnRlckF0KHApXG4gICAgfVxuXG4gICAgem9vbShzY2FsZSkge1xuICAgICAgICB0aGlzLmZsaXBwYWJsZS56b29tKHNjYWxlKVxuICAgIH1cblxuICAgIHNldHVwRmxpcHBhYmxlKGZsaXBwYWJsZSwgbG9hZGVyKSB7XG4gICAgICAgIGZsaXBwYWJsZS53YW50ZWRXaWR0aCA9IGxvYWRlci53YW50ZWRXaWR0aFxuICAgICAgICBmbGlwcGFibGUud2FudGVkSGVpZ2h0ID0gbG9hZGVyLndhbnRlZEhlaWdodFxuICAgICAgICBmbGlwcGFibGUud2FudGVkU2NhbGUgPSBsb2FkZXIuc2NhbGVcbiAgICAgICAgZmxpcHBhYmxlLm1pblNjYWxlID0gbG9hZGVyLm1pblNjYWxlXG4gICAgICAgIGZsaXBwYWJsZS5tYXhTY2FsZSA9IGxvYWRlci5tYXhTY2FsZVxuICAgICAgICBmbGlwcGFibGUuc2NhbGVCdXR0b25zKClcbiAgICB9XG5cbiAgICBzdGFydCh7ZHVyYXRpb24gPSAxLjAsIHRhcmdldENlbnRlciA9IG51bGx9ID0ge30pIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0RPTUZsaXAuc3RhcnQnLCB0YXJnZXRDZW50ZXIpXG4gICAgICAgIGlmICh0aGlzLnByZWxvYWRCYWNrKSB0aGlzLmZsaXBwYWJsZS5zdGFydCh7ZHVyYXRpb24sIHRhcmdldENlbnRlcn0pXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IGJhY2sgPSB0aGlzLmNhcmRXcmFwcGVyLnF1ZXJ5U2VsZWN0b3IoJy5iYWNrJylcbiAgICAgICAgICAgIGxldCBmbGlwcGFibGUgPSB0aGlzLmZsaXBwYWJsZVxuICAgICAgICAgICAgdGhpcy5iYWNrTG9hZGVyLmxvYWQoYmFjaykudGhlbihsb2FkZXIgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0dXBGbGlwcGFibGUoZmxpcHBhYmxlLCBsb2FkZXIpXG4gICAgICAgICAgICAgICAgZmxpcHBhYmxlLnN0YXJ0KHtkdXJhdGlvbiwgdGFyZ2V0Q2VudGVyfSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmYWRlT3V0QW5kUmVtb3ZlKCkge1xuICAgICAgICBUd2VlbkxpdGUudG8odGhpcy5jYXJkV3JhcHBlciwgMC4yLCB7XG4gICAgICAgICAgICBvcGFjaXR5OiAwLFxuICAgICAgICAgICAgb25Db21wbGV0ZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuY2FyZFdyYXBwZXIucmVtb3ZlKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBjbG9zZWQoKSB7XG4gICAgICAgIGlmICghdGhpcy5wcmVsb2FkQmFjaykge1xuICAgICAgICAgICAgdGhpcy5iYWNrTG9hZGVyLnVubG9hZCgpXG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBET01GbGlwcGFibGUge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIHNjYXR0ZXIsIGZsaXApIHtcbiAgICAgICAgLy8gU2V0IGxvZyB0byBjb25zb2xlLmxvZyBvciBhIGN1c3RvbSBsb2cgZnVuY3Rpb25cbiAgICAgICAgLy8gZGVmaW5lIGRhdGEgc3RydWN0dXJlcyB0byBzdG9yZSBvdXIgdG91Y2hwb2ludHMgaW5cblxuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50XG4gICAgICAgIHRoaXMuZmxpcCA9IGZsaXBcbiAgICAgICAgdGhpcy5jYXJkID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZmxpcENhcmQnKVxuICAgICAgICB0aGlzLmZyb250ID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZnJvbnQnKVxuICAgICAgICB0aGlzLmJhY2sgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5iYWNrJylcbiAgICAgICAgdGhpcy5mbGlwcGVkID0gZmFsc2VcbiAgICAgICAgdGhpcy5zY2F0dGVyID0gc2NhdHRlclxuICAgICAgICB0aGlzLm9uRnJvbnRGbGlwcGVkID0gZmxpcC5vbkZyb250RmxpcHBlZFxuICAgICAgICB0aGlzLm9uQmFja0ZsaXBwZWQgPSBmbGlwLm9uQmFja0ZsaXBwZWRcbiAgICAgICAgdGhpcy5vbkNsb3NlID0gZmxpcC5vbkNsb3NlXG4gICAgICAgIHRoaXMub25SZW1vdmVkID0gZmxpcC5vblJlbW92ZWRcbiAgICAgICAgdGhpcy5vblVwZGF0ZSA9IGZsaXAub25VcGRhdGVcbiAgICAgICAgc2NhdHRlci5hZGRUcmFuc2Zvcm1FdmVudENhbGxiYWNrKHRoaXMuc2NhdHRlclRyYW5zZm9ybWVkLmJpbmQodGhpcykpXG4gICAgICAgIGNvbnNvbGUubG9nKCdsaWIuRE9NRmxpcHBhYmxlJywgNTAwMClcbiAgICAgICAgVHdlZW5MaXRlLnNldCh0aGlzLmVsZW1lbnQsIHtwZXJzcGVjdGl2ZTogNTAwMH0pXG4gICAgICAgIFR3ZWVuTGl0ZS5zZXQodGhpcy5jYXJkLCB7dHJhbnNmb3JtU3R5bGU6ICdwcmVzZXJ2ZS0zZCd9KVxuICAgICAgICBUd2VlbkxpdGUuc2V0KHRoaXMuYmFjaywge3JvdGF0aW9uWTogLTE4MH0pXG4gICAgICAgIFR3ZWVuTGl0ZS5zZXQoW3RoaXMuYmFjaywgdGhpcy5mcm9udF0sIHtiYWNrZmFjZVZpc2liaWxpdHk6ICdoaWRkZW4nLCBwZXJzcGVjdGl2ZTogNTAwMH0pXG4gICAgICAgIFR3ZWVuTGl0ZS5zZXQodGhpcy5mcm9udCwge3Zpc2liaWxpdHk6ICd2aXNpYmxlJ30pXG4gICAgICAgIHRoaXMuaW5mb0J0biA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignLmluZm9CdG4nKVxuICAgICAgICB0aGlzLmJhY2tCdG4gPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5iYWNrQnRuJylcbiAgICAgICAgdGhpcy5jbG9zZUJ0biA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignLmNsb3NlQnRuJylcbiAgICAgICAgLyogQnV0dG9ucyBhcmUgbm90IGd1YXJhbnRlZWQgdG8gZXhpc3QuICovXG4gICAgICAgIGlmICh0aGlzLmluZm9CdG4pIHtcbiAgICAgICAgICAgIHRoaXMuaW5mb0J0bi5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZmxpcC5zdGFydCgpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNob3codGhpcy5pbmZvQnRuKVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmJhY2tCdG4pIHtcbiAgICAgICAgICAgIHRoaXMuYmFja0J0bi5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnQoKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNsb3NlQnRuKSB7XG4gICAgICAgICAgICB0aGlzLmNsb3NlQnRuLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNob3codGhpcy5jbG9zZUJ0bilcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNjYWxlQnV0dG9ucygpXG4gICAgICAgIHRoaXMuYnJpbmdUb0Zyb250KClcbiAgICB9XG5cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgdGhpcy5oaWRlKHRoaXMuaW5mb0J0bilcbiAgICAgICAgdGhpcy5oaWRlKHRoaXMuY2xvc2VCdG4pXG4gICAgICAgIGlmICh0aGlzLm9uQ2xvc2UpIHtcbiAgICAgICAgICAgIHRoaXMub25DbG9zZSh0aGlzKVxuICAgICAgICAgICAgdGhpcy5mbGlwLmNsb3NlZCgpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNjYXR0ZXIuem9vbSgwLjEsIHtcbiAgICAgICAgICAgICAgICBhbmltYXRlOiAwLjUsXG4gICAgICAgICAgICAgICAgb25Db21wbGV0ZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlKClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mbGlwLmNsb3NlZCgpXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9uUmVtb3ZlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vblJlbW92ZWQuY2FsbCh0aGlzKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNob3dGcm9udCgpIHtcbiAgICAgICAgVHdlZW5MaXRlLnNldCh0aGlzLmZyb250LCB7dmlzaWJpbGl0eTogJ3Zpc2libGUnfSlcbiAgICB9XG5cbiAgICBjZW50ZXJBdChwKSB7XG4gICAgICAgIHRoaXMuc2NhdHRlci5jZW50ZXJBdChwKVxuICAgIH1cblxuICAgIHpvb20oc2NhbGUpIHtcbiAgICAgICAgdGhpcy5zY2F0dGVyLnpvb20oc2NhbGUpXG4gICAgfVxuXG4gICAgZ2V0IGJ1dHRvblNjYWxlKCkge1xuICAgICAgICBsZXQgaXNjYWxlID0gMS4wXG4gICAgICAgIGlmICh0aGlzLnNjYXR0ZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgaXNjYWxlID0gMS4wIC8gdGhpcy5zY2F0dGVyLnNjYWxlXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlzY2FsZVxuICAgIH1cblxuICAgIHNjYWxlQnV0dG9ucygpIHtcbiAgICAgICAgVHdlZW5MaXRlLnNldChbdGhpcy5pbmZvQnRuLCB0aGlzLmJhY2tCdG4sIHRoaXMuY2xvc2VCdG5dLCB7XG4gICAgICAgICAgICBzY2FsZTogdGhpcy5idXR0b25TY2FsZVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGJyaW5nVG9Gcm9udCgpIHtcbiAgICAgICAgdGhpcy5zY2F0dGVyLmJyaW5nVG9Gcm9udCgpXG4gICAgICAgIFR3ZWVuTGl0ZS5zZXQodGhpcy5lbGVtZW50LCB7ekluZGV4OiBET01GbGlwcGFibGUuekluZGV4Kyt9KVxuICAgIH1cblxuICAgIGNsaWNrSW5mbygpIHtcbiAgICAgICAgdGhpcy5icmluZ1RvRnJvbnQoKVxuICAgICAgICB0aGlzLmluZm9CdG4uY2xpY2soKVxuICAgIH1cblxuICAgIHNjYXR0ZXJUcmFuc2Zvcm1lZChldmVudCkge1xuICAgICAgICB0aGlzLnNjYWxlQnV0dG9ucygpXG4gICAgfVxuXG4gICAgdGFyZ2V0Um90YXRpb24oYWxwaGEpIHtcbiAgICAgICAgbGV0IG9ydGhvID0gOTBcbiAgICAgICAgbGV0IHJlc3QgPSBhbHBoYSAlIG9ydGhvXG4gICAgICAgIGxldCBkZWx0YSA9IDAuMFxuICAgICAgICBpZiAocmVzdCA+IG9ydGhvIC8gMi4wKSB7XG4gICAgICAgICAgICBkZWx0YSA9IG9ydGhvIC0gcmVzdFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGVsdGEgPSAtcmVzdFxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZWx0YVxuICAgIH1cblxuICAgIGluZm9WYWx1ZXMoaW5mbykge1xuICAgICAgICBsZXQgc3RhcnRYID0gdGhpcy5lbGVtZW50Ll9nc1RyYW5zZm9ybS54XG4gICAgICAgIGxldCBzdGFydFkgPSB0aGlzLmVsZW1lbnQuX2dzVHJhbnNmb3JtLnlcbiAgICAgICAgbGV0IHN0YXJ0QW5nbGUgPSB0aGlzLmVsZW1lbnQuX2dzVHJhbnNmb3JtLnJvdGF0aW9uXG4gICAgICAgIGxldCBzdGFydFNjYWxlID0gdGhpcy5lbGVtZW50Ll9nc1RyYW5zZm9ybS5zY2FsZVhcbiAgICAgICAgbGV0IHcgPSB0aGlzLmVsZW1lbnQuc3R5bGUud2lkdGhcbiAgICAgICAgbGV0IGggPSB0aGlzLmVsZW1lbnQuc3R5bGUuaGVpZ2h0XG4gICAgICAgIGNvbnNvbGUubG9nKGluZm8sIHN0YXJ0WCwgc3RhcnRZLCBzdGFydEFuZ2xlLCBzdGFydFNjYWxlLCB3LCBoKVxuICAgIH1cblxuICAgIHNob3coZWxlbWVudCkge1xuICAgICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICAgICAgVHdlZW5MaXRlLnNldChlbGVtZW50LCB7dmlzaWJpbGl0eTogJ3Zpc2libGUnLCBkaXNwbGF5OiAnaW5pdGlhbCd9KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGlkZShlbGVtZW50KSB7XG4gICAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgICAgICBUd2VlbkxpdGUuc2V0KGVsZW1lbnQsIHt2aXNpYmlsaXR5OiAnaGlkZGVuJywgZGlzcGxheTogJ25vbmUnfSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXJ0KHtkdXJhdGlvbiA9IDEuMCwgdGFyZ2V0Q2VudGVyID0gbnVsbH0gPSB7fSkge1xuICAgICAgICB0aGlzLmJyaW5nVG9Gcm9udCgpXG4gICAgICAgIGlmICghdGhpcy5mbGlwcGVkKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0WCA9IHRoaXMuZWxlbWVudC5fZ3NUcmFuc2Zvcm0ueFxuICAgICAgICAgICAgdGhpcy5zdGFydFkgPSB0aGlzLmVsZW1lbnQuX2dzVHJhbnNmb3JtLnlcbiAgICAgICAgICAgIHRoaXMuc3RhcnRBbmdsZSA9IHRoaXMuZWxlbWVudC5fZ3NUcmFuc2Zvcm0ucm90YXRpb25cbiAgICAgICAgICAgIHRoaXMuc3RhcnRTY2FsZSA9IHRoaXMuZWxlbWVudC5fZ3NUcmFuc2Zvcm0uc2NhbGVYXG4gICAgICAgICAgICB0aGlzLnN0YXJ0V2lkdGggPSB0aGlzLmVsZW1lbnQuc3R5bGUud2lkdGhcbiAgICAgICAgICAgIHRoaXMuc3RhcnRIZWlnaHQgPSB0aGlzLmVsZW1lbnQuc3R5bGUuaGVpZ2h0XG4gICAgICAgICAgICB0aGlzLnNjYXR0ZXJTdGFydFdpZHRoID0gdGhpcy5zY2F0dGVyLndpZHRoXG4gICAgICAgICAgICB0aGlzLnNjYXR0ZXJTdGFydEhlaWdodCA9IHRoaXMuc2NhdHRlci5oZWlnaHRcbiAgICAgICAgICAgIHRoaXMuc2hvdyh0aGlzLmJhY2spXG4gICAgICAgICAgICB0aGlzLmhpZGUodGhpcy5pbmZvQnRuKVxuICAgICAgICAgICAgdGhpcy5oaWRlKHRoaXMuY2xvc2VCdG4pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNob3codGhpcy5mcm9udClcbiAgICAgICAgICAgIHRoaXMuaGlkZSh0aGlzLmJhY2tCdG4pXG4gICAgICAgIH1cbiAgICAgICAgbGV0IHtzY2FsYWJsZSwgdHJhbnNsYXRhYmxlLCByb3RhdGFibGV9ID0gdGhpcy5zY2F0dGVyXG4gICAgICAgIHRoaXMuc2F2ZWQgPSB7c2NhbGFibGUsIHRyYW5zbGF0YWJsZSwgcm90YXRhYmxlfVxuICAgICAgICB0aGlzLnNjYXR0ZXIuc2NhbGFibGUgPSBmYWxzZVxuICAgICAgICB0aGlzLnNjYXR0ZXIudHJhbnNsYXRhYmxlID0gZmFsc2VcbiAgICAgICAgdGhpcy5zY2F0dGVyLnJvdGF0YWJsZSA9IGZhbHNlXG5cbiAgICAgICAgdGhpcy5mbGlwcGVkID0gIXRoaXMuZmxpcHBlZFxuICAgICAgICBsZXQgdGFyZ2V0WSA9IHRoaXMuZmxpcHBlZCA/IDE4MCA6IDBcbiAgICAgICAgbGV0IHRhcmdldFogPSB0aGlzLmZsaXBwZWRcbiAgICAgICAgICAgID8gdGhpcy5zdGFydEFuZ2xlICsgdGhpcy50YXJnZXRSb3RhdGlvbih0aGlzLnN0YXJ0QW5nbGUpXG4gICAgICAgICAgICA6IHRoaXMuc3RhcnRBbmdsZVxuICAgICAgICBsZXQgdGFyZ2V0U2NhbGUgPSB0aGlzLmZsaXBwZWQgPyB0aGlzLndhbnRlZFNjYWxlIDogdGhpcy5zdGFydFNjYWxlXG4gICAgICAgIGxldCB3ID0gdGhpcy5mbGlwcGVkID8gdGhpcy53YW50ZWRXaWR0aCA6IHRoaXMuc3RhcnRXaWR0aFxuICAgICAgICBsZXQgaCA9IHRoaXMuZmxpcHBlZCA/IHRoaXMud2FudGVkSGVpZ2h0IDogdGhpcy5zdGFydEhlaWdodFxuICAgICAgICBsZXQgZHcgPSB0aGlzLndhbnRlZFdpZHRoIC0gdGhpcy5zY2F0dGVyLndpZHRoXG4gICAgICAgIGxldCBkaCA9IHRoaXMud2FudGVkSGVpZ2h0IC0gdGhpcy5zY2F0dGVyLmhlaWdodFxuXG4gICAgICAgIGxldCB4eCA9XG4gICAgICAgICAgICB0YXJnZXRDZW50ZXIgIT0gbnVsbCA/IHRhcmdldENlbnRlci54IC0gdyAvIDIgOiB0aGlzLnN0YXJ0WCAtIGR3IC8gMlxuICAgICAgICBsZXQgeXkgPVxuICAgICAgICAgICAgdGFyZ2V0Q2VudGVyICE9IG51bGwgPyB0YXJnZXRDZW50ZXIueSAtIGggLyAyIDogdGhpcy5zdGFydFkgLSBkaCAvIDJcbiAgICAgICAgbGV0IHggPSB0aGlzLmZsaXBwZWQgPyB4eCA6IHRoaXMuc3RhcnRYXG4gICAgICAgIGxldCB5ID0gdGhpcy5mbGlwcGVkID8geXkgOiB0aGlzLnN0YXJ0WVxuXG4gICAgICAgIC8vY29uc29sZS5sb2coXCJET01GbGlwcGFibGUuc3RhcnRcIiwgdGhpcy5mbGlwcGVkLCB0YXJnZXRDZW50ZXIsIHgsIHksIHRoaXMuc2F2ZWQpXG4gICAgICAgIC8vIHRhcmdldFogPSBBbmdsZS5ub3JtYWxpemVEZWdyZWUodGFyZ2V0WilcbiAgICAgICAgbGV0IG9uVXBkYXRlID0gdGhpcy5vblVwZGF0ZSAhPT0gbnVsbCA/ICgpID0+IHRoaXMub25VcGRhdGUodGhpcykgOiBudWxsXG4gICAgICAgIFR3ZWVuTGl0ZS50byh0aGlzLmNhcmQsIGR1cmF0aW9uLCB7XG4gICAgICAgICAgICByb3RhdGlvblk6IHRhcmdldFkgKyAwLjEsXG4gICAgICAgICAgICB0cmFuc2Zvcm1PcmlnaW46ICc1MCUgNTAlJyxcbiAgICAgICAgICAgIG9uVXBkYXRlLFxuICAgICAgICAgICAgb25Db21wbGV0ZTogZSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZmxpcHBlZCkge1xuICAgICAgICAgICAgICAgICAgICAvL3RoaXMuaGlkZSh0aGlzLmZyb250KVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3codGhpcy5iYWNrQnRuKVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vbkZyb250RmxpcHBlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkZyb250RmxpcHBlZCh0aGlzKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy90aGlzLmhpZGUodGhpcy5iYWNrKVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vbkJhY2tGbGlwcGVkID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvdyh0aGlzLmluZm9CdG4pXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3codGhpcy5jbG9zZUJ0bilcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25CYWNrRmxpcHBlZCh0aGlzKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmxpcC5jbG9zZWQoKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnNjYXR0ZXIuc2NhbGUgPSB0YXJnZXRTY2FsZVxuICAgICAgICAgICAgICAgIHRoaXMuc2NhbGVCdXR0b25zKClcbiAgICAgICAgICAgICAgICB0aGlzLnNjYXR0ZXIucm90YXRpb25EZWdyZWVzID0gdGFyZ2V0WlxuICAgICAgICAgICAgICAgIHRoaXMuc2NhdHRlci53aWR0aCA9IHRoaXMuZmxpcHBlZCA/IHcgOiB0aGlzLnNjYXR0ZXJTdGFydFdpZHRoXG4gICAgICAgICAgICAgICAgdGhpcy5zY2F0dGVyLmhlaWdodCA9IHRoaXMuZmxpcHBlZCA/IGggOiB0aGlzLnNjYXR0ZXJTdGFydEhlaWdodFxuXG4gICAgICAgICAgICAgICAgbGV0IHtzY2FsYWJsZSwgdHJhbnNsYXRhYmxlLCByb3RhdGFibGV9ID0gdGhpcy5zYXZlZFxuICAgICAgICAgICAgICAgIHRoaXMuc2NhdHRlci5zY2FsYWJsZSA9IHNjYWxhYmxlXG4gICAgICAgICAgICAgICAgdGhpcy5zY2F0dGVyLnRyYW5zbGF0YWJsZSA9IHRyYW5zbGF0YWJsZVxuICAgICAgICAgICAgICAgIHRoaXMuc2NhdHRlci5yb3RhdGFibGUgPSByb3RhdGFibGVcblxuICAgICAgICAgICAgICAgIHRoaXMuYnJpbmdUb0Zyb250KClcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmb3JjZTNEOiB0cnVlXG4gICAgICAgIH0pXG5cbiAgICAgICAgVHdlZW5MaXRlLnRvKHRoaXMuZWxlbWVudCwgZHVyYXRpb24gLyAyLCB7XG4gICAgICAgICAgICBzY2FsZTogdGFyZ2V0U2NhbGUsXG4gICAgICAgICAgICByb3RhdGlvblo6IHRhcmdldFogICsgMC4xLFxuICAgICAgICAgICAgdHJhbnNmb3JtT3JpZ2luOiAnNTAlIDUwJScsXG4gICAgICAgICAgICB3aWR0aDogdyxcbiAgICAgICAgICAgIGhlaWdodDogaCxcbiAgICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgICB5OiB5LFxuICAgICAgICAgICAgb25Db21wbGV0ZTogZSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZmxpcHBlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhpZGUodGhpcy5mcm9udClcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhpZGUodGhpcy5iYWNrKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG59XG5cbkRPTUZsaXBwYWJsZS56SW5kZXggPSAwXG4iLCJpbXBvcnQge0NhcGFiaWxpdGllc30gZnJvbSAnLi4vY2FwYWJpbGl0aWVzLmpzJ1xuaW1wb3J0IHtQb2ludHN9IGZyb20gJy4uL3V0aWxzLmpzJ1xuXG5mdW5jdGlvbiBpc0V2ZW4obikge1xuICAgIHJldHVybiBuICUgMiA9PSAwXG59XG5cbi8qKlxuICogQSB1dGlsaXR5IGNsYXNzIHRoYXQgaG9sZHMgaW5mb3JtYXRpb24gdHlwaWNhbGx5IHByb3ZpZGVkIGJ5IERaSSBmaWxlcywgaS5lLlxuICogaGVpZ2h0IGFuZCB3aWR0aCBvZiB0aGUgb3ZlcmFsbCBpbWFnZSwgb3ZlcmxhcCwgYW5kIGltYWdlIHR5cGUuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge29ian0gYXR0cnMgLSBBIEpTT04tT2JqZWN0IGhvbGRpbmcgdGhlIGxpc3RlZCBrZXlzIGFuZCB2YWx1ZXNcbiAqIEBleGFtcGxlXG4gKiAgICAge1xuICogICAgICAgICBcInRpbGVTaXplXCI6IDEwMjQsXG4gKiAgICAgICAgIFwiZm9ybWF0XCI6IFwianBlZ1wiLFxuICogICAgICAgICBcIm92ZXJsYXBcIjogMSxcbiAqICAgICAgICAgXCJoZWlnaHRcIjogNDc5NCxcbiAqICAgICAgICAgXCJ3aWR0aFwiOiA0MDk1LFxuICogICAgICAgICBcImNsaXBcIjogeyBcIm1pbkxldmVsXCI6IDEyLCBcIm1heExldmVsXCI6IDIwLCBcInN0YXJ0Q29sXCI6IDMwMTQzNiwgXCJzdGFydFJvd1wiOiAzNTQwNjAgfSxcbiAqICAgICAgICAgICAgICAgICAgIC8vIG9wdGlvbmFsOiBtaW5MZXZlbCBhbmQgbWF4TGV2ZWwgZGVmaW5lIHRoZSBsZXZlbCBib3VuZHNcbiAqICAgICAgICAgICAgICAgICAgIC8vIHN0YXJ0Q29sOiBmaXJzdCBjb2wgYXQgbWF4TGV2ZWxcbiAqICAgICAgICAgICAgICAgICAgIC8vIHN0YXJ0Um93OiBmaXJzdCByb3cgYXQgbWF4TGV2ZWxcbiAqICAgICAgICAgXCJwYXRoXCI6IFwidmFyL1Zlcm1lZXIvVmVybWVlcl9maWxlc1wiLFxuICogICAgICAgICBcInR5cGVcIjogXCJkemlcIiwgIC8vIG9wdGlvbmFsOiBkemkgKGRlZmF1bHQpIG9yIG1hcFxuICogICAgICAgICBcInVybFRpbGVUZW1wbGF0ZVwiOiBcIntwYXRofS97bGV2ZWx9L3tjb2x1bW59L3tyb3d9Lntmb3JtYXR9XCJcbiAqICAgICAgICAgICAvLyBvcHRpb25hbDoge3BhdGh9L3tsZXZlbH0ve2NvbHVtbn1fe3Jvd30ue2Zvcm1hdH0gKGRlZmF1bHQpIG9yXG4gKiAgICAgICAgICAgLy8gYSB0ZW1wbGF0ZSBTdHJpbmcgd2l0aCB0aGUgZm9ybWF0IG9mIHRoZSBVUkxcbiAqICAgICB9XG4gKi9cbmV4cG9ydCBjbGFzcyBEZWVwWm9vbUluZm8ge1xuICAgIGNvbnN0cnVjdG9yKGF0dHJzKSB7XG4gICAgICAgIGZvciAobGV0IGtleSBpbiBhdHRycykge1xuICAgICAgICAgICAgdGhpc1trZXldID0gYXR0cnNba2V5XVxuICAgICAgICB9XG4gICAgICAgIHRoaXMubWF4TGV2ZWwgPSAwIC8vIFRoZSBoaWdoZXN0IGxldmVsIG51bWJlciwgdHlwaWNhbGx5IGNvcnJlc3BvbmRzIHRvIHRoZVxuICAgICAgICAvLyBudW1iZXIgaW4gdGhlIGZpbGUgc3lzdGVtIGZvciB0aGUgZm9sZGVyIHdpdGggdGlsZXNcbiAgICAgICAgdGhpcy5jbGlwID0gdGhpcy5jbGlwIHx8IG51bGwgLy8gZS5nLiB7IGxldmVsOiAxMiwgY29sOiAzMDE0MzYsIHJvdzogMzU0MDYwIH1cbiAgICAgICAgdGhpcy50eXBlID0gdGhpcy50eXBlIHx8ICdkemknXG4gICAgICAgIHRoaXMudXJsVGlsZVRlbXBsYXRlID1cbiAgICAgICAgICAgIHRoaXMudXJsVGlsZVRlbXBsYXRlIHx8ICd7cGF0aH0ve2xldmVsfS97Y29sdW1ufV97cm93fS57Zm9ybWF0fSdcbiAgICAgICAgdGhpcy5zZXR1cERpbWVuc2lvbnMoKVxuICAgIH1cblxuICAgIC8qIENvbXB1dGVzIHRoZSBuZWVkZWQgbnVtYmVyIG9mIGxheWVycyBmcm9tIHRoZSB3aWR0aCBhbmQgaGVpZ2h0XG4gICAgKiAgb2YgdGhlIGltYWdlLiBOb3RlIHRoYXQgdGhpcyBpbmNsdWRlcyB0aGUgbGV2ZWwgMCwgaS5lLiAwIC4uLiA0XG4gICAgKiBtZWFucyB0aGF0IDUgbGV2ZWxzIGV4aXN0LlxuICAgICoqL1xuICAgIG51bUxldmVscygpIHtcbiAgICAgICAgbGV0IG1heERpbWVuc2lvbiA9IE1hdGgubWF4KHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KVxuICAgICAgICBsZXQgYm91bmRhcnkgPSB0aGlzLnR5cGUgPT09ICdkemknID8gMSA6IHRoaXMudGlsZVNpemVcbiAgICAgICAgbGV0IG51bUxldmVscyA9IDBcbiAgICAgICAgd2hpbGUgKG1heERpbWVuc2lvbiA+PSBib3VuZGFyeSkge1xuICAgICAgICAgICAgbWF4RGltZW5zaW9uIC89IDJcbiAgICAgICAgICAgIG51bUxldmVscysrXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bUxldmVsc1xuICAgIH1cblxuICAgIC8qKiBDb21wdXRlcyB0aGUgc2NhbGUgYXQgdGhlIGdpdmVuIGxldmVsLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsZXZlbCAtIFRoZSBsZXZlbCBvZiB0aGUgd2FudGVkIGxheWVyXG4gICAgICogQHJldHVybnMge251bWJlcn0gc2NhbGVcbiAgICAgKiovXG4gICAgZ2V0U2NhbGUobGV2ZWwpIHtcbiAgICAgICAgbGV0IHNjYWxlID0gMVxuICAgICAgICBpZiAodGhpcy50eXBlID09PSAnZHppJykge1xuICAgICAgICAgICAgc2NhbGUgPSBNYXRoLnBvdygwLjUsIHRoaXMubWF4TGV2ZWwgLSBsZXZlbCArIDEpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzY2FsZSA9IE1hdGgucG93KDAuNSwgdGhpcy5tYXhMZXZlbCAtIGxldmVsKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzY2FsZVxuICAgIH1cblxuICAgIC8qKiBDb21wdXRlcyB0aGUgc2NhbGVkIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGhlIGdpdmVuIGxldmVsLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsZXZlbCAtIFRoZSBsZXZlbCBvZiB0aGUgd2FudGVkIGxheWVyXG4gICAgICogQHJldHVybnMge2FycmF5fSBzaXplIC0gVGhlIHdpZHRoIGFuZCBoZWlnaHRcbiAgICAgKiovXG4gICAgZ2V0RGltZW5zaW9ucyhsZXZlbCkge1xuICAgICAgICBsZXQgc2NhbGUgPSB0aGlzLmdldFNjYWxlKGxldmVsKVxuICAgICAgICBsZXQgdyA9IE1hdGguY2VpbCh0aGlzLndpZHRoICogc2NhbGUpXG4gICAgICAgIGxldCBoID0gTWF0aC5jZWlsKHRoaXMuaGVpZ2h0ICogc2NhbGUpXG4gICAgICAgIHJldHVybiBbdywgaF1cbiAgICB9XG5cbiAgICAvKiogQ29tcHV0ZXMgdGhlIG51bWJlciBvZiBjb2xzIGFuZCByb3dzIG9mIHRpbGVzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsZXZlbCAtIFRoZSBsZXZlbCBvZiB0aGUgd2FudGVkIGxheWVyXG4gICAgICogQHJldHVybnMge2FycmF5fSBzaXplIC0gVGhlIGNvbHMgYW5kIHJvd3NcbiAgICAgKiovXG4gICAgZ2V0TnVtVGlsZXMobGV2ZWwpIHtcbiAgICAgICAgbGV0IGRpbSA9IHRoaXMuZ2V0RGltZW5zaW9ucyhsZXZlbClcbiAgICAgICAgbGV0IGNvbHMgPSBNYXRoLmNlaWwoZGltWzBdIC8gdGhpcy50aWxlU2l6ZSlcbiAgICAgICAgbGV0IHJvd3MgPSBNYXRoLmNlaWwoZGltWzFdIC8gdGhpcy50aWxlU2l6ZSlcbiAgICAgICAgaWYgKHRoaXMuY2xpcCkge1xuICAgICAgICAgICAgbGV0IHJlc3QgPSB0aGlzLnJlc3RzW2xldmVsXVxuICAgICAgICAgICAgaWYgKHJlc3QpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzdC5yZXN0Q29sKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbHMgKz0gMVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocmVzdC5yZXN0Um93cykge1xuICAgICAgICAgICAgICAgICAgICByb3dzICs9IDFcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtjb2xzLCByb3dzXVxuICAgIH1cblxuICAgIHNldHVwRGltZW5zaW9ucyhsb2FkQmFzZUltYWdlID0gZmFsc2UpIHtcbiAgICAgICAgLyoqIFNldHVwIGluc3RhbmNlIHZhcmlhYmxlcyBhbmQgbG9hZCB0aGUgYmFzZSBpbWFnZSwgaS5lLiB0aGUgbGFyZ2VzdFxuICAgICAgICBpbWFnZSB0aGF0IGNhbiBiZSByZXByZXNlbnRlZCBhcyBhIHNpbmdsZSB0aWxlLlxuICAgICAgICBAcHJpdmF0ZVxuICAgICAgICAqKi9cbiAgICAgICAgbGV0IHd3ID0gdGhpcy53aWR0aFxuICAgICAgICBsZXQgaGggPSB0aGlzLmhlaWdodFxuICAgICAgICBsZXQgc2NhbGUgPSAxLjBcbiAgICAgICAgbGV0IGxldmVsID0gMFxuICAgICAgICBsZXQgc2luZ2xlID0gMFxuICAgICAgICBjb25zdCB0c2l6ZSA9IHRoaXMudGlsZVNpemVcblxuICAgICAgICBpZiAodGhpcy5jbGlwKSB7XG4gICAgICAgICAgICB0aGlzLmJhc2VMZXZlbCA9IHRoaXMuY2xpcC5taW5MZXZlbFxuICAgICAgICAgICAgdGhpcy5tYXhMZXZlbCA9IHRoaXMuY2xpcC5tYXhMZXZlbFxuICAgICAgICAgICAgdGhpcy5iYXNlSW1hZ2UgPSBudWxsXG4gICAgICAgICAgICB0aGlzLnNpemUgPSB0aGlzLmdldERpbWVuc2lvbnModGhpcy5iYXNlTGV2ZWwpXG4gICAgICAgICAgICB0aGlzLm9mZnNldHMgPSB7fVxuICAgICAgICAgICAgdGhpcy5yZXN0cyA9IHt9XG4gICAgICAgICAgICBsZXQgc3RhcnRDb2wgPSB0aGlzLmNsaXAuc3RhcnRDb2xcbiAgICAgICAgICAgIGxldCBzdGFydFJvdyA9IHRoaXMuY2xpcC5zdGFydFJvd1xuICAgICAgICAgICAgbGV0IGZsb2F0U3RhcnRDb2wgPSBzdGFydENvbFxuICAgICAgICAgICAgbGV0IGZsb2F0U3RhcnRSb3cgPSBzdGFydFJvd1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMubWF4TGV2ZWw7IGkgPj0gdGhpcy5iYXNlTGV2ZWw7IGktLSkge1xuICAgICAgICAgICAgICAgIHRoaXMub2Zmc2V0c1tpXSA9IHtzdGFydENvbCwgc3RhcnRSb3d9XG4gICAgICAgICAgICAgICAgbGV0IHJlc3RDb2wgPSBmbG9hdFN0YXJ0Q29sICUgMVxuICAgICAgICAgICAgICAgIGxldCByZXN0Um93ID0gZmxvYXRTdGFydFJvdyAlIDFcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3RzW2ldID0ge3Jlc3RDb2wsIHJlc3RSb3d9XG4gICAgICAgICAgICAgICAgc3RhcnRDb2wgPSBNYXRoLmZsb29yKHN0YXJ0Q29sIC8gMilcbiAgICAgICAgICAgICAgICBzdGFydFJvdyA9IE1hdGguZmxvb3Ioc3RhcnRSb3cgLyAyKVxuICAgICAgICAgICAgICAgIGZsb2F0U3RhcnRDb2wgLz0gMlxuICAgICAgICAgICAgICAgIGZsb2F0U3RhcnRSb3cgLz0gMlxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgYm91bmRhcnkgPSB0aGlzLnR5cGUgPT09ICdkemknID8gMS4wIDogdHNpemVcbiAgICAgICAgICAgIHdoaWxlICh3dyA+IGJvdW5kYXJ5ICYmIGhoID4gYm91bmRhcnkpIHtcbiAgICAgICAgICAgICAgICBpZiAod3cgPj0gdHNpemUgJiYgaGggPj0gdHNpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2luZ2xlICs9IDFcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2NhbGUgPSBzY2FsZSAvIDIuMFxuICAgICAgICAgICAgICAgIHd3ID0gTWF0aC5jZWlsKHRoaXMud2lkdGggKiBzY2FsZSlcbiAgICAgICAgICAgICAgICBoaCA9IE1hdGguY2VpbCh0aGlzLmhlaWdodCAqIHNjYWxlKVxuICAgICAgICAgICAgICAgIGxldmVsICs9IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYmFzZUxldmVsID0gbGV2ZWwgLSBzaW5nbGVcbiAgICAgICAgICAgIHRoaXMubWF4TGV2ZWwgPSB0aGlzLm51bUxldmVscygpIC0gMVxuICAgICAgICAgICAgdGhpcy5iYXNlVVJMID0gdGhpcy51cmxGb3JUaWxlKHRoaXMuYmFzZUxldmVsLCAwLCAwLCBmYWxzZSlcblxuICAgICAgICAgICAgaWYgKGxvYWRCYXNlSW1hZ2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlRm9yVVJMKHRoaXMuYmFzZVVSTCwgZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2l6ZSA9IFtlLnRhcmdldC5uYXR1cmFsV2lkdGgsIGUudGFyZ2V0Lm5hdHVyYWxIZWlnaHRdXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmFzZUltYWdlID0gZS50YXJnZXRcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJhc2VJbWFnZSA9IG51bGxcbiAgICAgICAgICAgICAgICB0aGlzLnNpemUgPSB0aGlzLmdldERpbWVuc2lvbnModGhpcy5iYXNlTGV2ZWwpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgbWF4TG9hZGFibGVMZXZlbCgpIHtcbiAgICAgICAgaWYgKHRoaXMuY2xpcCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubWF4TGV2ZWxcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy50eXBlID09PSAnZHppJyA/IHRoaXMubWF4TGV2ZWwgOiB0aGlzLm1heExldmVsXG4gICAgfVxuXG4gICAgLyoqIENvbXB1dGVzIHRoZSB1cmwgZm9yIHRoZSBnaXZlbiBsZXZlbCwgY29sdW1uIGFuZCBhbmQgcm93LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsZXZlbCAtIFRoZSBsZXZlbCBvZiB0aGUgd2FudGVkIGxheWVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNvbHVtbiAtIFRoZSBjb2x1bW4gb2YgdGhlIHRpbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm93IC0gVGhlIHJvdyBvZiB0aGUgdGlsZVxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IHVybFxuICAgICAqKi9cbiAgICB1cmxGb3JUaWxlKGxldmVsLCBjb2x1bW4sIHJvdywgY29tcHJlc3NlZCA9IHRydWUpIHtcbiAgICAgICAgbGV0IGZvcm1hdCA9IHRoaXMuZm9ybWF0XG4gICAgICAgIGlmIChjb21wcmVzc2VkICYmIHRoaXMuY29tcHJlc3Npb24pIHtcbiAgICAgICAgICAgIGxldCBzdXBwb3J0ZWQgPSBDYXBhYmlsaXRpZXMuaXNJT1MgPyAncHZyJyA6ICdkZHMnXG4gICAgICAgICAgICBpZiAodGhpcy5jb21wcmVzc2lvbi5pbmRleE9mKHN1cHBvcnRlZCkgPj0gMCkge1xuICAgICAgICAgICAgICAgIGZvcm1hdCA9IHN1cHBvcnRlZFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNsaXApIHtcbiAgICAgICAgICAgIGxldCBvZmZzZXQgPSB0aGlzLm9mZnNldHNbbGV2ZWxdXG4gICAgICAgICAgICBpZiAob2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgbGV0IHtzdGFydENvbCwgc3RhcnRSb3d9ID0gb2Zmc2V0XG4gICAgICAgICAgICAgICAgY29sdW1uICs9IHN0YXJ0Q29sXG4gICAgICAgICAgICAgICAgcm93ICs9IHN0YXJ0Um93XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHVybCA9IHRoaXMudXJsVGlsZVRlbXBsYXRlXG4gICAgICAgICAgICAucmVwbGFjZSgvXFx7cGF0aFxcfS9nLCB0aGlzLnBhdGgpXG4gICAgICAgICAgICAucmVwbGFjZSgvXFx7bGV2ZWxcXH0vZywgbGV2ZWwpXG4gICAgICAgICAgICAucmVwbGFjZSgvXFx7cm93XFx9L2csIHJvdylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXHtjb2x1bW5cXH0vZywgY29sdW1uKVxuICAgICAgICAgICAgLnJlcGxhY2UoL1xce2Zvcm1hdFxcfS9nLCBmb3JtYXQpXG4gICAgICAgIHJldHVybiB1cmxcbiAgICB9XG5cbiAgICAvKiogTG9hZHMgdGhlIGltYWdlIGZvciB0aGUgZ2l2ZW4gdXJsIGFuZCBleGVjdXRlcyBhIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICAgb24gY29tcGxldGlvbi5cbiAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgdXJsIG9mIHRoZSB0aWxlXG4gICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjb21wbGV0ZSAtIFRoZSBjYWxsYmFjayBmdW5jdGlvblxuICAgICogQHJldHVybnMge0ltYWdlfSBvYmpcbiAgICAqKi9cbiAgICBpbWFnZUZvclVSTCh1cmwsIGNvbXBsZXRlKSB7XG4gICAgICAgIGxldCBpbWcgPSBuZXcgSW1hZ2UoKVxuICAgICAgICBpbWcub25sb2FkID0gY29tcGxldGUuYmluZCh0aGlzKVxuICAgICAgICBpbWcuc3JjID0gdXJsXG4gICAgICAgIHJldHVybiBpbWdcbiAgICB9XG5cbiAgICAvKiogQ29tcHV0ZXMgdGhlIGNvbHVtbnMgYW5kIHJvd3MgYXMgd2VsbCBhcyBzY2FsZWQgd2lkdGggYW5kIGhlaWdodC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbGV2ZWwgLSBUaGUgbGV2ZWwgb2YgdGhlIHdhbnRlZCBsYXllclxuICAgICAqIEByZXR1cm5zIHthcnJheX0gW2NvbHMsIHJvd3MsIHdpZHRoLCBoZWlnaHRdXG4gICAgICoqL1xuICAgIGRpbWVuc2lvbnMobGV2ZWwpIHtcbiAgICAgICAgbGV0IGRpbSA9IHRoaXMuZ2V0RGltZW5zaW9ucyhsZXZlbClcbiAgICAgICAgbGV0IHRpbGVzID0gdGhpcy5nZXROdW1UaWxlcyhsZXZlbClcbiAgICAgICAgcmV0dXJuIFt0aWxlc1swXSwgdGlsZXNbMV0sIGRpbVswXSwgZGltWzFdXVxuICAgIH1cblxuICAgIHRlc3QoKSB7XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJ3PVwiICsgdGhpcy53aWR0aCArIFwiIGg9XCIgKyB0aGlzLmhlaWdodCArIFwiIG1heGxldmVsPVwiICsgdGhpcy5tYXhMZXZlbCArIFwiIGJhc2U9XCIgKyB0aGlzLmJhc2VMZXZlbClcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gdGhpcy5tYXhMZXZlbDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICAgICAgICAnICcgK1xuICAgICAgICAgICAgICAgICAgICBpICtcbiAgICAgICAgICAgICAgICAgICAgJyAtPiAnICtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRTY2FsZShpKSArXG4gICAgICAgICAgICAgICAgICAgICcgWycgK1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpbWVuc2lvbnMoaSkgK1xuICAgICAgICAgICAgICAgICAgICAnXSdcbiAgICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnVybEZvclRpbGUodGhpcy5iYXNlTGV2ZWwsIDAsIDApKVxuICAgIH1cbn1cblxuLyoqXG4gKiBBIHV0aWxpdHkgY2xhc3MgdGhhdCBkZXNjcmliZXMgYSBxdWFkIHRyZWUgb2YgdGlsZXMuIEVhY2ggdGlsZSBvbiBhIGdpdmVuXG4gKiBsZXZlbCBoYXMgdXAgdG8gZm91ciBjb3JyZXNwb25kaW5nIHRpbGVzIG9uIHRoZSBuZXh0IGxldmVsLiBBIFRpbGVRdWFkTm9kZVxuICogdXNlcyB0aGUgYXR0cmlidXRlcyBudyAoaS5lLiBub3J0aHdlc3QpLCBuZSwgc3csIHNlIHRvIGxpbmsgdG8gdGhlXG4gKiBxdWFkIG5vZGVzIG9uIHRoZSBuZXh0IGxldmVsLiBUaGUgcHJldmlvdXMgYXR0cmlidXRlcyBsaW5rcyB0byB0aGUgcXVhZFxuICogb25lIGxldmVsIGJlbG93IHRoYXQgaG9sZHMgdGhlIGdpdmVuIHF1YWQgYXMgbncsIG5lLCBzdywgb3Igc2UuXG4gKiBXZSB1c2UgdGhpcyBub2RlIGNsYXNzIGJlY2F1c2Ugd2UgbmVlZCBhIHJlcHJlc2VudGF0aW9uIG9mIHRpbGVzIHRoYXQgYXJlXG4gKiBuZWVkZWQgYnV0IG5vdCBsb2FkZWQgeWV0IHRvIGNvbXB1dGUgdGlsZXMgd2hpY2ggY2FuIGJlIGFiYW5kb25lZCB0byByZWR1Y2VcbiAqIHRoZSBtZW1vcnkgcHJlc3N1cmUuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge2xldmVsfSBOdW1iZXIgLSBUaGUgbGV2ZWwgdGhlIHF1YWQgbm9kZSBiZWxvbmdzIHRvXG4gKiBAcGFyYW0ge2NvbH0gTnVtYmVyIC0gVGhlIGNvbCBvZiB0aGUgcXVhZFxuICogQHBhcmFtIHtyb3d9IE51bWJlciAtIFRoZSBsZXZlbCB0aGUgcXVhZCBub2RlIGJlbG9uZ3MgdG9cbiAqIEBwYXJhbSB7dXJsfSBTdHJpbmcgLSBUaGUgbGV2ZWwgdGhlIHF1YWQgbm9kZSBiZWxvbmdzIHRvXG4gKi9cbmNsYXNzIFRpbGVRdWFkTm9kZSB7XG4gICAgY29uc3RydWN0b3IobGV2ZWwsIGNvbCwgcm93LCB1cmwpIHtcbiAgICAgICAgdGhpcy5sZXZlbCA9IGxldmVsXG4gICAgICAgIHRoaXMuY29sID0gY29sXG4gICAgICAgIHRoaXMucm93ID0gcm93XG4gICAgICAgIHRoaXMudXJsID0gdXJsXG4gICAgICAgIHRoaXMubncgPSBudWxsXG4gICAgICAgIHRoaXMubmUgPSBudWxsXG4gICAgICAgIHRoaXMuc3cgPSBudWxsXG4gICAgICAgIHRoaXMuc2UgPSBudWxsXG4gICAgICAgIHRoaXMucHJldmlvdXMgPSBudWxsXG4gICAgfVxuXG4gICAgLyoqIFJldHVybiBUcnVlIGlmIHRoaXMgbm9kZSBoYXMgbm8gc3VjY2Vzc29ycyBhbmQgY2FuIGJlIHVzZWQgYXNcbiAgICBhbiBpbmRpY2F0b3Igb2YgdGlsZXMgdG8gZnJlZS5cbiAgICAqKi9cbiAgICBub1F1YWRzKCkge1xuICAgICAgICBpZiAodGhpcy5wcmV2aW91cyA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICB0aGlzLm53ID09PSBudWxsICYmXG4gICAgICAgICAgICB0aGlzLm5lID09PSBudWxsICYmXG4gICAgICAgICAgICB0aGlzLnN3ID09PSBudWxsICYmXG4gICAgICAgICAgICB0aGlzLnNlID09PSBudWxsXG4gICAgICAgIClcbiAgICB9XG5cbiAgICAvKiogVW5saW5rIHRoZSBnaXZlbiBxdWFkIG5vZGVcblxuICAgICogQHBhcmFtIHtub2RlfSBUaWxlUXVhZE5vZGUgLSBUaGUgVGlsZVF1YWROb2RlIHRvIHJlbW92ZVxuICAgICoqL1xuICAgIHVubGluayhub2RlKSB7XG4gICAgICAgIGlmICh0aGlzLm53ID09PSBub2RlKSB0aGlzLm53ID0gbnVsbFxuICAgICAgICBpZiAodGhpcy5uZSA9PT0gbm9kZSkgdGhpcy5uZSA9IG51bGxcbiAgICAgICAgaWYgKHRoaXMuc3cgPT09IG5vZGUpIHRoaXMuc3cgPSBudWxsXG4gICAgICAgIGlmICh0aGlzLnNlID09PSBub2RlKSB0aGlzLnNlID0gbnVsbFxuICAgIH1cblxuICAgIC8qKiBMaW5rIHRoaXMgcXVhZCBub2RlIHRvIHRoZSBnaXZlbiBwcmV2aW91cyBub2RlLiBVc2UgdGhlIG5vcnRoXG4gICAgKiBhbmQgd2VzdCBmbGFncyB0byBhZGRyZXNzIG53LCBuZSwgc3csIGFuZCBzZS5cblxuICAgICogQHBhcmFtIHtub2RlfSBUaWxlUXVhZE5vZGUgLSBUaGUgVGlsZVF1YWROb2RlIHRvIHJlbW92ZVxuICAgICogQHBhcmFtIHtub3J0aH0gQm9vbGVhbiAtIExpbmsgdG8gbm9ydGggKHRydWUpIG9yIHNvdXRoIChmYWxzZSlcbiAgICAqIEBwYXJhbSB7d2VzdH0gQm9vbGVhbiAtIExpbmsgdG8gd2VzdCAodHJ1ZSkgb3IgZWFzdCAoZmFsc2UpXG4gICAgKiovXG4gICAgbGluayhub3J0aCwgd2VzdCwgcHJldmlvdXMpIHtcbiAgICAgICAgdGhpcy5wcmV2aW91cyA9IHByZXZpb3VzXG4gICAgICAgIGlmIChub3J0aCkge1xuICAgICAgICAgICAgaWYgKHdlc3QpIHtcbiAgICAgICAgICAgICAgICBwcmV2aW91cy5udyA9IHRoaXNcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcHJldmlvdXMubmUgPSB0aGlzXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAod2VzdCkge1xuICAgICAgICAgICAgICAgIHByZXZpb3VzLnN3ID0gdGhpc1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwcmV2aW91cy5zZSA9IHRoaXNcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqIFRoZSBjdXJyZW50IFRpbGUgaW1wbGVtZW50YXRpb24gc2ltcGx5IHVzZXMgUElYSS5TcHJpdGVzLlxuICpcbiAqIEJUVzogUElYSS5leHRyYXMuVGlsaW5nU3ByaXRlIGlzIG5vdCBhcHByb3ByaWF0ZS4gSXQgc2hvdWxkIGJlIHVzZWQgZm9yXG4gKiByZXBlYXRpbmcgcGF0dGVybnMuXG4gKiovXG5jbGFzcyBUaWxlIGV4dGVuZHMgUElYSS5TcHJpdGUge1xuICAgIGNvbnN0cnVjdG9yKHRleHR1cmUpIHtcbiAgICAgICAgc3VwZXIodGV4dHVyZSlcbiAgICB9XG59XG5cbi8qKlxuICogQSBUaWxlIExvYWRlciBjb21wb25lbnQgdGhhdCBjYW4gYmUgcGx1Z2dlZCBpbnRvIGEgVGlsZXMgTGF5ZXIuXG4gKi9cbmNsYXNzIFRpbGVMb2FkZXIge1xuICAgIGNvbnN0cnVjdG9yKHRpbGVzKSB7XG4gICAgICAgIHRoaXMuZGVidWcgPSBmYWxzZVxuICAgICAgICB0aGlzLnRpbGVzID0gdGlsZXNcbiAgICAgICAgdGhpcy5zZXR1cCgpXG4gICAgfVxuXG4gICAgLyoqIFNldHVwIGNvbGxlY3Rpb25zIGFuZCBpbnN0YW5jZSB2YXJzLiAqL1xuICAgIHNldHVwKCkge1xuICAgICAgICB0aGlzLm1hcCA9IG5ldyBNYXAoKSAvLyBNYXAge3VybCA6IFsgY29sLCByb3ddfVxuICAgICAgICB0aGlzLmxvYWRpbmcgPSBuZXcgU2V0KCkgLy8gU2V0IHVybFxuICAgICAgICB0aGlzLmxvYWRlZCA9IG5ldyBNYXAoKSAvLyBNYXAge3VybCA6IHNwcml0ZSB9XG4gICAgICAgIHRoaXMubG9hZFF1ZXVlID0gW11cbiAgICB9XG5cbiAgICAvKiogU2NoZWR1bGVzIGEgdGlsZSB1cmwgZm9yIGxvYWRpbmcuIFRoZSBsb2FkaW5nIGl0c2VsZiBtdXN0IGJlIHRyaWdnZXJlZFxuICAgIGJ5IGEgY2FsbCB0byBsb2FkT25lVGlsZSBvciBsb2FkQWxsXG5cbiAgICAqIEBwYXJhbSB7U3RyaW5nfSB1cmwgLSB0aGUgdXJsIG9mIHRoZSB0ZXh0dXJlIC8gdGlsZVxuICAgICogQHBhcmFtIHtOdW1iZXJ9IGNvbCAtIHRoZSB0aWxlIGNvbFxuICAgICogQHBhcmFtIHtOdW1iZXJ9IHJvdyAtIHRoZSB0aWxlIHJvd1xuICAgICoqL1xuICAgIHNjaGVkdWxlKHVybCwgY29sLCByb3cpIHtcbiAgICAgICAgaWYgKHRoaXMubG9hZGVkLmhhcyh1cmwpKSByZXR1cm4gZmFsc2VcbiAgICAgICAgaWYgKHRoaXMubG9hZGluZy5oYXModXJsKSkgcmV0dXJuIGZhbHNlXG4gICAgICAgIHRoaXMubWFwLnNldCh1cmwsIFtjb2wsIHJvd10pXG4gICAgICAgIHRoaXMubG9hZGluZy5hZGQodXJsKVxuICAgICAgICB0aGlzLmxvYWRRdWV1ZS5wdXNoKHVybClcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG5cbiAgICAvKiogQ2FuY2VscyBsb2FkaW5nIGJ5IGNsZWFyaW5nIHRoZSBsb2FkIHF1ZXVlICoqL1xuICAgIGNhbmNlbCgpIHtcbiAgICAgICAgdGhpcy5sb2FkUXVldWUgPSBbXVxuICAgICAgICB0aGlzLmxvYWRpbmcuY2xlYXIoKVxuICAgIH1cblxuICAgIC8qKiBEZXN0cm95cyBhbGxzIGNvbGxlY3Rpb25zLiAqKi9cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnNldHVwKClcbiAgICB9XG5cbiAgICAvKiogUHJpdmF0ZSBtZXRob2QuIEluZm9ybXMgdGhlIHRpbGUgbGF5ZXIgYWJvdXQgYSB0ZXh0dXJlIGZvciBhIGdpdmVuIHVybC5cbiAgICAgKiBDcmVhdGVzIHRoZSBzcHJpdGUgZm9yIHRoZSBsb2FkZWQgdGV4dHVyZSBhbmQgaW5mb3JtcyB0aGUgdGlsZSBsYXllci5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdXJsIC0gdGhlIHVybFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB0ZXh0dXJlIC0gdGhlIGxvYWRlZCByZXNvdXJjZVxuICAgICAqKi9cbiAgICBfdGV4dHVyZUF2YWlsYWJsZSh1cmwsIGNvbCwgcm93LCB0ZXh0dXJlKSB7XG4gICAgICAgIGxldCB0aWxlID0gbmV3IFRpbGUodGV4dHVyZSlcbiAgICAgICAgdGhpcy5sb2FkZWQuc2V0KHVybCwgdGlsZSlcbiAgICAgICAgdGhpcy50aWxlcy50aWxlQXZhaWxhYmxlKHRpbGUsIGNvbCwgcm93LCB1cmwpXG4gICAgfVxufVxuXG4vKipcbiAqIEEgVGlsZSBMb2FkZXIgY29tcG9uZW50IHRoYXQgY2FuIGJlIHBsdWdnZWQgaW50byBhIFRpbGVzIExheWVyLlxuICogVXNlcyB0aGUgUElYSSBMb2FkZXIgYnV0IGNhbiBiZSByZXBsYWNlZCB3aXRoIG90aGUgbG9hZGVycyBpbXBsZW1lbnRpbmdcbiAqIHRoZSBwdWJsaWMgbWV0aG9kcyB3aXRob3V0IHVuZGVyc2NvcmUuXG4gKiBDYWxscyB0aGUgVGlsZXMudGlsZUF2YWlsYWJsZSBtZXRob2QgaWYgdGhlIHNwcml0ZSBpcyBhdmFpbGFibGUuXG4gKiovXG5jbGFzcyBQSVhJVGlsZUxvYWRlciBleHRlbmRzIFRpbGVMb2FkZXIge1xuXG4gICAgY29uc3RydWN0b3IodGlsZXMsIGNvbXByZXNzaW9uKSB7XG4gICAgICAgIHN1cGVyKHRpbGVzKVxuICAgICAgICB0aGlzLmxvYWRlciA9IG5ldyBQSVhJLmxvYWRlcnMuTG9hZGVyKClcbiAgICAgICAgdGhpcy5sb2FkZXIub24oJ2xvYWQnLCB0aGlzLl9vbkxvYWRlZC5iaW5kKHRoaXMpKVxuICAgICAgICB0aGlzLmxvYWRlci5vbignZXJyb3InLCB0aGlzLl9vbkVycm9yLmJpbmQodGhpcykpXG4gICAgICAgIGlmIChjb21wcmVzc2lvbikge1xuICAgICAgICAgICAgdGhpcy5sb2FkZXIucHJlKFBJWEkuY29tcHJlc3NlZFRleHR1cmVzLmltYWdlUGFyc2VyKCkpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzY2hlZHVsZSh1cmwsIGNvbCwgcm93KSB7XG4gICAgICAgIC8vIE92ZXJ3cml0dGVuIHNjaGVkdWxlIHRvIGF2b2lkIEJhc2VUZXh0dXJlIGFuZCBUZXh0dXJlIGFscmVhZHkgbG9hZGVkIGVycm9ycy5cbiAgICAgICAgbGV0IHRleHR1cmUgPSBQSVhJLnV0aWxzLlRleHR1cmVDYWNoZVt1cmxdXG4gICAgICAgIGlmICh0ZXh0dXJlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5kZWJ1ZykgY29uc29sZS5sb2coJ1RleHR1cmUgYWxyZWFkeSBsb2FkZWQnLCB0ZXh0dXJlKVxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZUF2YWlsYWJsZSh1cmwsIGNvbCwgcm93LCB0ZXh0dXJlKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgbGV0IGJhc2UgPSBQSVhJLnV0aWxzLkJhc2VUZXh0dXJlQ2FjaGVbdXJsXVxuICAgICAgICBpZiAoYmFzZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZGVidWcpIGNvbnNvbGUubG9nKCdCYXNlVGV4dHVyZSBhbHJlYWR5IGxvYWRlZCcsIGJhc2UpXG4gICAgICAgICAgICBsZXQgdGV4dHVyZSA9IG5ldyBQSVhJLlRleHR1cmUoYmFzZSlcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmVBdmFpbGFibGUodXJsLCBjb2wsIHJvdywgdGV4dHVyZSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdXBlci5zY2hlZHVsZSh1cmwsIGNvbCwgcm93KVxuICAgIH1cblxuICAgIC8qKiBMb2FkIG9uZSBhbmQgb25seSBvbmUgb2YgdGhlIHNjaGVkdWxlZCB0aWxlcyAqKi9cbiAgICBsb2FkT25lVGlsZSgpIHtcbiAgICAgICAgdGhpcy5fbG9hZE9uZVRpbGUoKVxuICAgIH1cblxuICAgIC8qKiBMb2FkIGFsbCBzY2hlZHVsZWQgdGlsZXMgKiovXG4gICAgbG9hZEFsbCgpIHtcbiAgICAgICAgdGhpcy5fbG9hZEFsbFRpbGVzKClcbiAgICB9XG5cbiAgICAvKiogRGVzdHJveXMgdGhlIGxvYWRlciBjb21wbGV0bHkgKiovXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5sb2FkZXIucmVzZXQoKVxuICAgICAgICBzdXBlci5kZXN0cm95KClcbiAgICB9XG5cbiAgICBfb25FcnJvcihsb2FkZXIsIGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignQ2Fubm90IGxvYWQnLCBlcnJvcilcbiAgICB9XG5cbiAgICAvKiogUHJpdmF0ZSBtZXRob2QuIENhbGxlZCBieSB0aGUgUElYSSBsb2FkZXIgYWZ0ZXIgZWFjaCBzdWNjZXNzZnVsbFxuICAgICAqIGxvYWRpbmcgb2YgYSBzaW5nbGUgdGlsZS5cbiAgICAgKiBDcmVhdGVzIHRoZSBzcHJpdGUgZm9yIHRoZSBsb2FkZWQgdGV4dHVyZSBhbmQgaW5mb3JtcyB0aGUgdGlsZSBsYXllci5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gbG9hZGVyIC0gdGhlIGxvYWRlciBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSByZXNvdXJjZSAtIHRoZSBsb2FkZWQgcmVzb3VyY2Ugd2l0aCB1cmwgYW5kIHRleHR1cmUgYXR0clxuICAgICAqKi9cbiAgICBfb25Mb2FkZWQobG9hZGVyLCByZXNvdXJjZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGV0IFtjb2wsIHJvd10gPSB0aGlzLm1hcC5nZXQocmVzb3VyY2UudXJsKVxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZUF2YWlsYWJsZShyZXNvdXJjZS51cmwsIGNvbCwgcm93LCByZXNvdXJjZS50ZXh0dXJlKVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoKGVycikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVGV4dHVyZSB1bmF2YWlsYWJsZTogXCIgKyBlcnIubWVzc2FnZSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKiBQcml2YXRlIG1ldGhvZDogbG9hZHMgb25lIHRpbGUgZnJvbSB0aGUgcXVldWUuICoqL1xuICAgIF9sb2FkT25lVGlsZShyZXRyeSA9IDEpIHtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcIl9sb2FkT25lVGlsZVwiKVxuICAgICAgICBpZiAodGhpcy5sb2FkZXIubG9hZGluZykge1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9hZE9uZVRpbGUoKVxuICAgICAgICAgICAgfSwgcmV0cnkpXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5sb2FkUXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbGV0IHVybCA9IHRoaXMubG9hZFF1ZXVlLnBvcCgpXG4gICAgICAgICAgICB0aGlzLmxvYWRlci5hZGQodXJsLCB1cmwpXG4gICAgICAgICAgICB0aGlzLmxvYWRlci5sb2FkKClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKiBQcml2YXRlIG1ldGhvZDogbG9hZHMgYWxsIHRpbGVzIGZyb20gdGhlIHF1ZXVlIGluIGJhdGNoZXMuIEJhdGNoZXMgYXJlXG4gICAgaGVscGZ1bGwgdG8gYXZvaWQgbG9hZGluZyB0aWxlcyB0aGF0IGFyZSBubyBsb25nZXIgbmVlZGVkIGJlY2F1c2UgdGhlXG4gICAgdXNlciBoYXMgYWxyZWFkeSB6b29tZWQgdG8gYSBkaWZmZXJlbnQgbGV2ZWwuKiovXG4gICAgX2xvYWRBbGxUaWxlcyhiYXRjaFNpemUgPSA4LCByZXRyeSA9IDE2KSB7XG4gICAgICAgIGlmICh0aGlzLmxvYWRRdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5sb2FkZXIubG9hZGluZykge1xuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJMb2FkZXIgYnVzeVwiLCB0aGlzLmxvYWRRdWV1ZS5sZW5ndGgpXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvYWRBbGxUaWxlcygpXG4gICAgICAgICAgICAgICAgfSwgcmV0cnkpXG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgaSA9IDBcbiAgICAgICAgICAgIGxldCB1cmxzID0gW11cbiAgICAgICAgICAgIHdoaWxlIChpIDwgYmF0Y2hTaXplICYmIHRoaXMubG9hZFF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBsZXQgdXJsID0gdGhpcy5sb2FkUXVldWUucG9wKClcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMubG9hZGVkLmhhcyh1cmwpKSB7XG4gICAgICAgICAgICAgICAgICAgIHVybHMucHVzaCh1cmwpXG4gICAgICAgICAgICAgICAgICAgIGkgKz0gMVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubG9hZGVyLmFkZCh1cmxzKS5sb2FkKCgpID0+IHRoaXMuX2xvYWRBbGxUaWxlcygpKVxuICAgICAgICB9XG4gICAgfVxufVxuXG5jbGFzcyBSZXF1ZXN0VGlsZUxvYWRlciBleHRlbmRzIFRpbGVMb2FkZXIge1xuXG4gICAgY29uc3RydWN0b3IodGlsZXMsIGNvbXByZXNzaW9uKSB7XG4gICAgICAgIHN1cGVyKHRpbGVzKVxuICAgICAgICB0aGlzLmNvbXByZXNzaW9uID0gY29tcHJlc3Npb25cbiAgICB9XG5cbiAgICBzY2hlZHVsZSh1cmwsIGNvbCwgcm93KSB7XG4gICAgICAgIHRoaXMuX2xvYWQodXJsLCBjb2wsIHJvdylcbiAgICAgICAgcmV0dXJuIHN1cGVyLnNjaGVkdWxlKHVybCwgY29sLCByb3cpXG4gICAgfVxuXG4gICAgX2xvYWQodXJsLCBjb2wsIHJvdywgY2FsbGJhY2sgPSBudWxsKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbXByZXNzaW9uKSB7XG4gICAgICAgICAgICBsZXQgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KClcbiAgICAgICAgICAgIHhoci5vcGVuKCdHRVQnLCB1cmwsIGZhbHNlKVxuICAgICAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdhcnJheWJ1ZmZlcidcbiAgICAgICAgICAgIHhoci5vbmxvYWQgPSBlID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgQ29tcHJlc3NlZEltYWdlID0gUElYSS5jb21wcmVzc2VkVGV4dHVyZXMuQ29tcHJlc3NlZEltYWdlXG4gICAgICAgICAgICAgICAgbGV0IGNvbXByZXNzZWQgPSBDb21wcmVzc2VkSW1hZ2UubG9hZEZyb21BcnJheUJ1ZmZlcihcbiAgICAgICAgICAgICAgICAgICAgeGhyLnJlc3BvbnNlLFxuICAgICAgICAgICAgICAgICAgICB1cmxcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0NvbXByZXNzZWRJbWFnZSBsb2FkZWQnKVxuICAgICAgICAgICAgICAgIGxldCBiYXNlID0gbmV3IFBJWEkuQmFzZVRleHR1cmUoY29tcHJlc3NlZClcbiAgICAgICAgICAgICAgICBsZXQgdGV4dHVyZSA9IG5ldyBQSVhJLlRleHR1cmUoYmFzZSlcbiAgICAgICAgICAgICAgICB0aGlzLl90ZXh0dXJlQXZhaWxhYmxlKHVybCwgY29sLCByb3csIHRleHR1cmUpXG4gICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjaygpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB4aHIuc2VuZCgpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgdGV4dHVyZSA9IFBJWEkuVGV4dHVyZS5mcm9tSW1hZ2UoJ2Fzc2V0cy9pbWFnZS5wbmcnKVxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZUF2YWlsYWJsZSh1cmwsIGNvbCwgcm93LCB0ZXh0dXJlKVxuICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjaygpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKiogTG9hZCBvbmUgYW5kIG9ubHkgb25lIG9mIHRoZSBzY2hlZHVsZWQgdGlsZXMgKiovXG4gICAgbG9hZE9uZVRpbGUoKSB7XG4gICAgICAgIHRoaXMuX2xvYWRPbmVUaWxlKClcbiAgICB9XG5cbiAgICAvKiogTG9hZCBhbGwgc2NoZWR1bGVkIHRpbGVzICoqL1xuICAgIGxvYWRBbGwoKSB7XG4gICAgICAgIHRoaXMuX2xvYWRBbGxUaWxlcygpXG4gICAgfVxuXG4gICAgLyoqIFByaXZhdGUgbWV0aG9kOiBsb2FkcyBvbmUgdGlsZSBmcm9tIHRoZSBxdWV1ZS4gKiovXG4gICAgX2xvYWRPbmVUaWxlKHJldHJ5ID0gMSkge1xuICAgICAgICBpZiAodGhpcy5sb2FkUXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbGV0IHVybCA9IHRoaXMubG9hZFF1ZXVlLnBvcCgpXG4gICAgICAgICAgICBsZXQgW2NvbCwgcm93XSA9IHRoaXMubWFwLmdldCh1cmwpXG4gICAgICAgICAgICB0aGlzLl9sb2FkKHVybCwgY29sLCByb3cpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKiogUHJpdmF0ZSBtZXRob2Q6IGxvYWRzIGFsbCB0aWxlcyBmcm9tIHRoZSBxdWV1ZSBpbiBiYXRjaGVzLiBCYXRjaGVzIGFyZVxuICAgIGhlbHBmdWxsIHRvIGF2b2lkIGxvYWRpbmcgdGlsZXMgdGhhdCBhcmUgbm8gbG9uZ2VyIG5lZWRlZCBiZWNhdXNlIHRoZVxuICAgIHVzZXIgaGFzIGFscmVhZHkgem9vbWVkIHRvIGEgZGlmZmVyZW50IGxldmVsLioqL1xuICAgIF9sb2FkQWxsVGlsZXMoYmF0Y2hTaXplID0gOCwgcmV0cnkgPSAxNikge1xuICAgICAgICBpZiAodGhpcy5sb2FkUXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbGV0IGkgPSAwXG4gICAgICAgICAgICBsZXQgdXJscyA9IFtdXG4gICAgICAgICAgICB3aGlsZSAoaSA8IGJhdGNoU2l6ZSAmJiB0aGlzLmxvYWRRdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgbGV0IHVybCA9IHRoaXMubG9hZFF1ZXVlLnBvcCgpXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVidWcpIGNvbnNvbGUudGltZSh1cmwpXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmxvYWRlZC5oYXModXJsKSkge1xuICAgICAgICAgICAgICAgICAgICB1cmxzLnB1c2godXJsKVxuICAgICAgICAgICAgICAgICAgICBpICs9IDFcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgdG90YWwgPSB1cmxzLmxlbmd0aFxuICAgICAgICAgICAgbGV0IGNvdW50ID0gMFxuICAgICAgICAgICAgZm9yIChsZXQgdXJsIG9mIHVybHMpIHtcbiAgICAgICAgICAgICAgICBsZXQgW2NvbCwgcm93XSA9IHRoaXMubWFwLmdldCh1cmwpXG4gICAgICAgICAgICAgICAgdGhpcy5fbG9hZCh1cmwsIGNvbCwgcm93LCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvdW50KytcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvdW50ID09IHRvdGFsKSB0aGlzLl9sb2FkQWxsVGlsZXMoKVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmNsYXNzIFdvcmtlclRpbGVMb2FkZXIgZXh0ZW5kcyBUaWxlTG9hZGVyIHtcblxuICAgIGNvbnN0cnVjdG9yKHRpbGVzKSB7XG4gICAgICAgIHN1cGVyKHRpbGVzKVxuICAgICAgICBsZXQgd29ya2VyID0gdGhpcy53b3JrZXIgPSBuZXcgV29ya2VyKFwiLi4vLi4vbGliL3BpeGkvdGlsZWxvYWRlci5qc1wiKVxuICAgICAgICB3b3JrZXIub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoZXZlbnQuZGF0YS5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgIGxldCB7dXJsLCBjb2wsIHJvdywgYnVmZmVyfSA9IGV2ZW50LmRhdGFcbiAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIldvcmtlclRpbGVMb2FkZXIubG9hZGVkXCIsIHVybCwgYnVmZmVyKVxuICAgICAgICAgICAgICAgICBsZXQgQ29tcHJlc3NlZEltYWdlID0gUElYSS5jb21wcmVzc2VkVGV4dHVyZXMuQ29tcHJlc3NlZEltYWdlXG4gICAgICAgICAgICAgICAgIGxldCBjb21wcmVzc2VkID0gQ29tcHJlc3NlZEltYWdlLmxvYWRGcm9tQXJyYXlCdWZmZXIoYnVmZmVyLCB1cmwpXG4gICAgICAgICAgICAgICAgIGxldCBiYXNlID0gbmV3IFBJWEkuQmFzZVRleHR1cmUoY29tcHJlc3NlZClcbiAgICAgICAgICAgICAgICAgbGV0IHRleHR1cmUgPSBuZXcgUElYSS5UZXh0dXJlKGJhc2UpXG4gICAgICAgICAgICAgICAgIHRoaXMuX3RleHR1cmVBdmFpbGFibGUodXJsLCBjb2wsIHJvdywgdGV4dHVyZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgIH1cbiAgICB9XG5cbiAgICBsb2FkT25lKCkge1xuICAgICAgICBpZiAodGhpcy5sb2FkUXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbGV0IHVybCA9IHRoaXMubG9hZFF1ZXVlLnBvcCgpXG4gICAgICAgICAgICBsZXQgW2NvbCwgcm93XSA9IHRoaXMubWFwLmdldCh1cmwpXG4gICAgICAgICAgICBsZXQgdGlsZSA9IFtjb2wsIHJvdywgdXJsXVxuICAgICAgICAgICAgdGhpcy53b3JrZXIucG9zdE1lc3NhZ2Uoe2NvbW1hbmQ6IFwibG9hZFwiLCB0aWxlczogW3RpbGVdfSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGxvYWRBbGwoKSB7XG4gICAgICAgIGxldCB0aWxlcyA9IFtdXG4gICAgICAgIHdoaWxlKHRoaXMubG9hZFF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGxldCB1cmwgPSB0aGlzLmxvYWRRdWV1ZS5wb3AoKVxuICAgICAgICAgICAgbGV0IFtjb2wsIHJvd10gPSB0aGlzLm1hcC5nZXQodXJsKVxuICAgICAgICAgICAgdGlsZXMucHVzaChbY29sLCByb3csIHVybF0pXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy53b3JrZXIucG9zdE1lc3NhZ2Uoe2NvbW1hbmQ6IFwibG9hZFwiLCB0aWxlc30pXG4gICAgfVxuXG4gICAgY2FuY2VsKCkge1xuICAgICAgICBzdXBlci5jYW5jZWwoKVxuICAgICAgICB0aGlzLndvcmtlci5wb3N0TWVzc2FnZSh7Y29tbWFuZDogXCJhYm9ydFwifSlcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLndvcmtlci5wb3N0TWVzc2FnZSh7Y29tbWFuZDogXCJhYm9ydFwifSlcbiAgICAgICAgdGhpcy53b3JrZXIudGVybWluYXRlKClcbiAgICAgICAgdGhpcy53b3JrZXIgPSBudWxsXG4gICAgICAgIHN1cGVyLmRlc3Ryb3koKVxuICAgIH1cbn1cbi8qKlxuICogQSBsYXllciBvZiB0aWxlcyB0aGF0IHJlcHJlc2VudHMgYSB6b29tIGxldmVsIG9mIGEgRGVlcFpvb21JbWFnZSBhcyBhIGdyaWRcbiAqIG9mIHNwcml0ZXMuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7bnVtYmVyfSBsZXZlbCAtIHRoZSB6b29tIGxldmVsIG9mIHRoZSB0aWxlIGxheWVyXG4gKiBAcGFyYW0ge0RlZXBab29tSW1hZ2V9IHZpZXcgLSB0aGUgem9vbWFibGUgaW1hZ2UgdGhlIGxheWVyIGJlbG9uZ3MgdG9cbiAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZSAtIHRoZSBzY2FsZSBvZiB0aGUgdGlsZSBsYXllclxuICogQHBhcmFtIHtudW1iZXJ9IGNvbHMgLSB0aGUgbnVtYmVyIG9mIGNvbHVtbnMgb2YgdGhlIGxheWVyXG4gKiBAcGFyYW0ge251bWJlcn0gcm93cyAtIHRoZSBudW1iZXIgb2Ygcm93cyBvZiB0aGUgbGF5ZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIHRoZSB3aWR0aCBvZiB0aGUgbGF5ZXIgaW4gcGl4ZWxcbiAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSB0aGUgaGVpZ2h0IG9mIHRoZSBsYXllciBpbiBwaXhlbFxuICogQHBhcmFtIHtudW1iZXJ9IHRpbGVTaXplIC0gdGhlIHNpemUgb2YgYSBzaW5nbGUgdGlsZSBpbiBwaXhlbFxuICogQHBhcmFtIHtudW1iZXJ9IG92ZXJsYXAgLSB0aGUgb3ZlcmxhcCBvZiB0aGUgdGlsZXMgaW4gcGl4ZWxcbiAqIEBwYXJhbSB7bnVtYmVyfSBmYWRlSW5UaW1lIC0gdGltZSBuZWVkZWQgdG8gZmFkZSBpbiB0aWxlcyBpZiBUd2VlbkxpdGUgaXMgc2V0XG4gKiovXG5jbGFzcyBUaWxlcyBleHRlbmRzIFBJWEkuQ29udGFpbmVyIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgbGV2ZWwsXG4gICAgICAgIHZpZXcsXG4gICAgICAgIHNjYWxlLFxuICAgICAgICBjb2xzLFxuICAgICAgICByb3dzLFxuICAgICAgICB3aWR0aCxcbiAgICAgICAgaGVpZ2h0LFxuICAgICAgICB0aWxlU2l6ZSxcbiAgICAgICAgb3ZlcmxhcCxcbiAgICAgICAgZmFkZUluVGltZSA9IDAuMjVcbiAgICApIHtcbiAgICAgICAgc3VwZXIoKVxuICAgICAgICB0aGlzLmRlYnVnID0gZmFsc2VcbiAgICAgICAgdGhpcy5zaG93R3JpZCA9IGZhbHNlXG4gICAgICAgIHRoaXMudmlldyA9IHZpZXdcbiAgICAgICAgdGhpcy5sZXZlbCA9IGxldmVsXG4gICAgICAgIHRoaXMuY29scyA9IGNvbHNcbiAgICAgICAgdGhpcy5yb3dzID0gcm93c1xuICAgICAgICB0aGlzLnBpeGVsV2lkdGggPSB3aWR0aFxuICAgICAgICB0aGlzLnBpeGVsSGVpZ2h0ID0gaGVpZ2h0XG4gICAgICAgIHRoaXMudGlsZVNpemUgPSB0aWxlU2l6ZVxuICAgICAgICB0aGlzLm92ZXJsYXAgPSBvdmVybGFwXG4gICAgICAgIHRoaXMubmVlZGVkID0gbmV3IE1hcCgpIC8vIHVybCBhcyBrZXksIFtjb2wsIHJvd10gYXMgdmFsdWVcbiAgICAgICAgdGhpcy5yZXF1ZXN0ZWQgPSBuZXcgU2V0KClcbiAgICAgICAgdGhpcy5hdmFpbGFibGUgPSBuZXcgTWFwKClcbiAgICAgICAgdGhpcy5zY2FsZS5zZXQoc2NhbGUsIHNjYWxlKVxuICAgICAgICB0aGlzLnRpbGVTY2FsZSA9IHNjYWxlXG4gICAgICAgIHRoaXMuZmFkZUluVGltZSA9IGZhZGVJblRpbWVcbiAgICAgICAgdGhpcy5rZWVwID0gZmFsc2VcbiAgICAgICAgaWYgKHRoaXMudmlldy5wcmVmZXJXb3JrZXIgJiYgdmlldy5pbmZvLmNvbXByZXNzaW9uLmxlbmd0aD4wKVxuICAgICAgICAgICAgdGhpcy5sb2FkZXIgPSBuZXcgV29ya2VyVGlsZUxvYWRlcih0aGlzKVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLmxvYWRlciA9IG5ldyBQSVhJVGlsZUxvYWRlcih0aGlzLCB2aWV3LmluZm8uY29tcHJlc3Npb24pXG4gICAgICAgIHRoaXMuaW50ZXJhY3RpdmUgPSBmYWxzZVxuICAgICAgICB0aGlzLl9oaWdobGlnaHQgPSBudWxsXG4gICAgICAgIHRoaXMucHByaW50KClcbiAgICB9XG5cbiAgICAvKiogVGVzdHMgd2hldGhlciBhbGwgdGlsZXMgYXJlIGxvYWRlZC4gKiovXG4gICAgaXNDb21wbGV0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29scyAqIHRoaXMucm93cyA9PT0gdGhpcy5jaGlsZHJlbi5sZW5ndGhcbiAgICB9XG5cbiAgICAvKiogUmV0dXJucyB0aGUgaGlnaGxpZ2ggZ3JhcGhpY3MgbGF5ZXIgZm9yIGRlYnVnZ2luZyBwdXJwb3Nlcy5cbiAgICAgKiovXG4gICAgZ2V0IGhpZ2hsaWdodCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2hpZ2hsaWdodCA9PSBudWxsKSB7XG4gICAgICAgICAgICBsZXQgZ3JhcGhpY3MgPSBuZXcgUElYSS5HcmFwaGljcygpXG4gICAgICAgICAgICBncmFwaGljcy5iZWdpbkZpbGwoMHhmZmZmMDAsIDAuMSlcbiAgICAgICAgICAgIGdyYXBoaWNzLmxpbmVTdHlsZSgyLCAweGZmZmYwMClcbiAgICAgICAgICAgIGdyYXBoaWNzLmRyYXdSZWN0KDEsIDEsIHRpbGVTaXplIC0gMiwgdGlsZVNpemUgLSAyKVxuICAgICAgICAgICAgZ3JhcGhpY3MuZW5kRmlsbCgpXG4gICAgICAgICAgICBncmFwaGljcy5pbnRlcmFjdGl2ZSA9IGZhbHNlXG4gICAgICAgICAgICB0aGlzLl9oaWdobGlnaHQgPSBncmFwaGljc1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9oaWdobGlnaHRcbiAgICB9XG5cbiAgICAvKiogSGVscGVyIG1ldGhvZCBwcmV0dHkgcHJpbnRpbmcgZGVidWcgaW5mb3JtYXRpb24uICoqL1xuICAgIHBwcmludCgpIHtcbiAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICAnVGlsZXMgbGV2ZWw6ICcgK1xuICAgICAgICAgICAgICAgIHRoaXMubGV2ZWwgK1xuICAgICAgICAgICAgICAgICcgc2NhbGU6ICcgK1xuICAgICAgICAgICAgICAgIHRoaXMuc2NhbGUueCArXG4gICAgICAgICAgICAgICAgJyBjb2xzOiAnICtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbHMgK1xuICAgICAgICAgICAgICAgICcgcm93czogJyArXG4gICAgICAgICAgICAgICAgdGhpcy5yb3dzICtcbiAgICAgICAgICAgICAgICAnIHc6ICcgK1xuICAgICAgICAgICAgICAgIHRoaXMucGl4ZWxXaWR0aCArXG4gICAgICAgICAgICAgICAgJyBoOiAnICtcbiAgICAgICAgICAgICAgICB0aGlzLnBpeGVsSGVpZ2h0ICtcbiAgICAgICAgICAgICAgICAnIHRzaXplOicgK1xuICAgICAgICAgICAgICAgIHRoaXMudGlsZVNpemVcbiAgICAgICAgKVxuICAgIH1cblxuICAgIC8qKiBDb21wdXRlcyB0aGUgdGlsZSBwb3NpdGlvbiBhbmQgb2JleXMgdGhlIG92ZXJsYXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNvbCAtIFRoZSBjb2x1bW4gb2YgdGhlIHRpbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm93IC0gVGhlIHJvdyBvZiB0aGUgdGlsZVxuICAgICAqIEByZXR1cm5zIHtQSVhJLlBvaW50fSBvYmpcbiAgICAgKiovXG4gICAgdGlsZVBvc2l0aW9uKGNvbCwgcm93KSB7XG4gICAgICAgIGxldCB4ID0gY29sICogdGhpcy50aWxlU2l6ZVxuICAgICAgICBsZXQgeSA9IHJvdyAqIHRoaXMudGlsZVNpemVcbiAgICAgICAgbGV0IG92ZXJsYXAgPSB0aGlzLm92ZXJsYXBcbiAgICAgICAgaWYgKGNvbCAhPSAwKSB7XG4gICAgICAgICAgICB4IC09IG92ZXJsYXBcbiAgICAgICAgfVxuICAgICAgICBpZiAocm93ICE9IDApIHtcbiAgICAgICAgICAgIHkgLT0gb3ZlcmxhcFxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUElYSS5Qb2ludCh4LCB5KVxuICAgIH1cblxuICAgIC8qKiBDb21wdXRlcyB0aGUgdGlsZSBzaXplIHdpdGhvdXQgb3ZlcmxhcFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjb2wgLSBUaGUgY29sdW1uIG9mIHRoZSB0aWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvdyAtIFRoZSByb3cgb2YgdGhlIHRpbGVcbiAgICAgKiBAcmV0dXJucyB7UElYSS5Qb2ludH0gb2JqXG4gICAgICoqL1xuICAgIHRpbGVEaW1lbnNpb25zKGNvbCwgcm93KSB7XG4gICAgICAgIGxldCB3ID0gdGhpcy50aWxlU2l6ZVxuICAgICAgICBsZXQgaCA9IHRoaXMudGlsZVNpemVcbiAgICAgICAgbGV0IHBvcyA9IHRoaXMudGlsZVBvc2l0aW9uKGNvbCwgcm93KVxuICAgICAgICBpZiAoY29sID09IHRoaXMuY29scyAtIDEpIHtcbiAgICAgICAgICAgIHcgPSB0aGlzLnBpeGVsV2lkdGggLSBwb3MueFxuICAgICAgICB9XG4gICAgICAgIGlmIChyb3cgPT0gdGhpcy5yb3dzIC0gMSkge1xuICAgICAgICAgICAgaCA9IHRoaXMucGl4ZWxIZWlnaHQgLSBwb3MueVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUElYSS5Qb2ludCh3LCBoKVxuICAgIH1cblxuICAgIC8qKiBNZXRob2QgdG8gc3VwcG9ydCBkZWJ1Z2dpbmcuIEhpZ2hsaWdodHMgdGhlIHNwZWNpZmllZCB0aWxlIGF0IGNvbCwgcm93ICoqL1xuICAgIGhpZ2hsaWdodFRpbGUoY29sLCByb3cpIHtcbiAgICAgICAgaWYgKGNvbCA+IC0xICYmIHJvdyA+IC0xICYmIGNvbCA8IHRoaXMuY29scyAmJiByb3cgPCB0aGlzLnJvd3MpIHtcbiAgICAgICAgICAgIGxldCBncmFwaGljcyA9IHRoaXMuaGlnaGxpZ2h0XG4gICAgICAgICAgICBsZXQgZGltID0gdGhpcy50aWxlRGltZW5zaW9ucyhjb2wsIHJvdylcbiAgICAgICAgICAgIGdyYXBoaWNzLnBvc2l0aW9uID0gdGhpcy50aWxlUG9zaXRpb24oY29sLCByb3cpXG4gICAgICAgICAgICBncmFwaGljcy5jbGVhcigpXG4gICAgICAgICAgICBncmFwaGljcy5iZWdpbkZpbGwoMHhmZjAwZmYsIDAuMSlcbiAgICAgICAgICAgIGdyYXBoaWNzLmxpbmVTdHlsZSgyLCAweGZmZmYwMClcbiAgICAgICAgICAgIGdyYXBoaWNzLmRyYXdSZWN0KDEsIDEsIGRpbS54IC0gMiwgZGltLnkgLSAyKVxuICAgICAgICAgICAgZ3JhcGhpY3MuZW5kRmlsbCgpXG4gICAgICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMuaGlnaGxpZ2h0KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVDaGlsZCh0aGlzLmhpZ2hsaWdodClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKiBMb2FkcyB0aGUgdGlsZXMgZm9yIHRoZSBnaXZlbiB1cmxzIGFuZCBhZGRzIHRoZSB0aWxlcyBhcyBzcHJpdGVzLlxuICAgICAqIEBwYXJhbSB7YXJyYXl9IHVybHBvcyAtIEFuIGFycmF5IG9mIFVSTCwgcG9zIHBhaXJzXG4gICAgICogQHBhcmFtIHtib29sZWFufSBvbmx5b25lIC0gTG9hZHMgb25seSBvbiB0aWxlIGF0IGEgdGltZSBpZiB0cnVlXG4gICAgICoqL1xuICAgIGxvYWRUaWxlcyh1cmxwb3MsIG9ubHlvbmUsIHJlZkNvbCwgcmVmUm93KSB7XG4gICAgICAgIGlmICh0aGlzLnNob3dHcmlkKSB7XG4gICAgICAgICAgICB0aGlzLmhpZ2hsaWdodFRpbGUocmVmQ29sLCByZWZSb3cpXG4gICAgICAgIH1cbiAgICAgICAgdXJscG9zLmZvckVhY2goZCA9PiB7XG4gICAgICAgICAgICBsZXQgW3VybCwgY29sLCByb3ddID0gZFxuICAgICAgICAgICAgaWYgKHRoaXMubG9hZGVyLnNjaGVkdWxlKHVybCwgY29sLCByb3cpKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9ubHlvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9hZGVyLmxvYWRPbmVUaWxlKClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIHRoaXMubG9hZGVyLmxvYWRBbGwoKVxuICAgIH1cblxuICAgIC8qKiBQcml2YXRlIG1ldGhvZDogYWRkIGEgcmVkIGJvcmRlciB0byBhIHRpbGUgZm9yIGRlYnVnZ2luZyBwdXJwb3Nlcy4gKiovXG4gICAgX2FkZFRpbGVCb3JkZXIodGlsZSwgY29sLCByb3cpIHtcbiAgICAgICAgbGV0IGRpbSA9IHRoaXMudGlsZURpbWVuc2lvbnMoY29sLCByb3cpXG4gICAgICAgIGxldCBncmFwaGljcyA9IG5ldyBQSVhJLkdyYXBoaWNzKClcbiAgICAgICAgZ3JhcGhpY3MuYmVnaW5GaWxsKDAsIDApXG4gICAgICAgIGdyYXBoaWNzLmxpbmVTdHlsZSgyLCAweGZmMDAwMClcbiAgICAgICAgZ3JhcGhpY3MuZHJhd1JlY3QoMSwgMSwgZGltLnggLSAyLCBkaW0ueSAtIDIpXG4gICAgICAgIGdyYXBoaWNzLmVuZEZpbGwoKVxuICAgICAgICB0aWxlLmFkZENoaWxkKGdyYXBoaWNzKVxuICAgIH1cblxuICAgIC8qKiBBZGRzIGEgdGlsZS4gKiovXG4gICAgYWRkVGlsZSh0aWxlLCBjb2wsIHJvdywgdXJsKSB7XG4gICAgICAgIGlmICh0aGlzLmF2YWlsYWJsZS5oYXModXJsKSkgcmV0dXJuXG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGlsZSlcbiAgICAgICAgdGhpcy5hdmFpbGFibGUuc2V0KHVybCwgdGlsZSlcbiAgICB9XG5cbiAgICAvLyAgICAqIFJlbW92ZSBhIHRpbGUuICoqL1xuICAgIC8vICAgICByZW1vdmVUaWxlKGNvbCwgcm93LCB1cmwpIHtcbiAgICAvLyAgICAgICAgIGlmICh0aGlzLmF2YWlsYWJsZS5oYXModXJsKSkge1xuICAgIC8vICAgICAgICAgICAgIGxldCB0aWxlID0gdGhpcy5hdmFpbGFibGUuZ2V0KHVybClcbiAgICAvLyAgICAgICAgICAgICB0aGlzLnJlbW92ZUNoaWxkKHRpbGUpXG4gICAgLy8gICAgICAgICAgICAgdGlsZS5kZXN0cm95KHRydWUpXG4gICAgLy8gICAgICAgICAgICAgaWYgKHRoaXMuZGVidWcpIGNvbnNvbGUubG9nKFwiRGVzdHJveWVkIHRpbGVcIiwgdXJsKVxuICAgIC8vICAgICAgICAgICAgIHRoaXMuYXZhaWxhYmxlLmRlbGV0ZSh1cmwpXG4gICAgLy8gICAgICAgICB9XG4gICAgLy8gICAgIH1cblxuICAgIC8qKiBDYWxsZWQgYnkgdGhlIGxvYWRlciBhZnRlciBlYWNoIHN1Y2Nlc3NmdWxsIGxvYWRpbmcgb2YgYSBzaW5nbGUgdGlsZS5cbiAgICAgKiBBZGRzIHRoZSBzcHJpdGUgdG8gdGhlIHRpbGUgbGF5ZXIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHRpbGUgLSB0aGUgbG9hZGVkIHRpbGUgc3ByaXRlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGNvbCAtIHRoZSBjb2wgcG9zaXRpb25cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcm93IC0gdGhlIHJvd3Bvc2l0aW9uXG4gICAgICoqL1xuICAgIHRpbGVBdmFpbGFibGUodGlsZSwgY29sLCByb3csIHVybCkge1xuICAgICAgICBsZXQgcG9zID0gdGhpcy50aWxlUG9zaXRpb24oY29sLCByb3cpXG4gICAgICAgIGlmICh0aGlzLnNob3dHcmlkKSB7XG4gICAgICAgICAgICB0aGlzLl9hZGRUaWxlQm9yZGVyKHRpbGUsIGNvbCwgcm93KVxuICAgICAgICB9XG4gICAgICAgIHRpbGUucG9zaXRpb24gPSBwb3NcbiAgICAgICAgdGlsZS5pbnRlcmFjdGl2ZSA9IGZhbHNlXG4gICAgICAgIGlmIChUd2Vlbk1heCkge1xuICAgICAgICAgICAgdGlsZS5hbHBoYSA9IDBcbiAgICAgICAgICAgIFR3ZWVuTWF4LnRvKHRpbGUsIHRoaXMuZmFkZUluVGltZSwge2FscGhhOiB0aGlzLmFscGhhfSlcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFkZFRpbGUodGlsZSwgY29sLCByb3csIHVybClcbiAgICB9XG5cbiAgICAvKiogRGVzdHJveXMgdGhlIHRpbGVzIGxheWVyIGFuZCAgICBkZXN0cm95cyB0aGUgbG9hZGVyLiBBc3luYyBsb2FkIGNhbGxzIGFyZVxuICAgICAqIGNhbmNlbGxlZC5cbiAgICAgKiovXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5sb2FkZXIuZGVzdHJveSgpXG4gICAgICAgIGFwcC5yZW5kZXJlci50ZXh0dXJlR0MudW5sb2FkKHRoaXMpXG4gICAgICAgIHN1cGVyLmRlc3Ryb3kodHJ1ZSkgLy8gQ2FsbHMgZGVzdHJveUNoaWxkcmVuXG4gICAgICAgIHRoaXMuYXZhaWxhYmxlLmNsZWFyKClcbiAgICB9XG5cbiAgICAvKiBEZXN0cm95cyB0aGUgdGlsZXMgd2hpY2ggYXJlIG5vdCB3aXRoIHRoZSBib3VuZHMgb2YgdGhlIGFwcCB0byBmcmVlXG4gICAgKiBtZW1vcnkuXG4gICAgKiovXG4gICAgZGVzdHJveVRpbGVzKHF1YWRUcmVlcykge1xuICAgICAgICBsZXQgY291bnQgPSAwXG4gICAgICAgIGZvciAobGV0IFt1cmwsIHRpbGVdIG9mIHRoaXMuYXZhaWxhYmxlLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgaWYgKCFxdWFkVHJlZXMuaGFzKHVybCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUNoaWxkKHRpbGUpXG4gICAgICAgICAgICAgICAgdGlsZS5kZXN0cm95KHRydWUpXG4gICAgICAgICAgICAgICAgdGhpcy5yZXF1ZXN0ZWQuZGVsZXRlKHVybClcbiAgICAgICAgICAgICAgICB0aGlzLmF2YWlsYWJsZS5kZWxldGUodXJsKVxuICAgICAgICAgICAgICAgIGNvdW50ICs9IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoY291bnQgJiYgdGhpcy5kZWJ1ZylcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdkZXN0cm95T2Jzb2xldGVUaWxlcycsIHRoaXMubGV2ZWwsIGNvdW50KVxuICAgIH1cblxuICAgIHRpbnRUaWxlcyhxdWFkVHJlZXMpIHtcbiAgICAgICAgZm9yIChsZXQgW3VybCwgdGlsZV0gb2YgdGhpcy5hdmFpbGFibGUuZW50cmllcygpKSB7XG4gICAgICAgICAgICBpZiAoIXF1YWRUcmVlcy5oYXModXJsKSkgdGlsZS50aW50ID0gMHhmZjAwMDBcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVudGludFRpbGVzKCkge1xuICAgICAgICBmb3IgKGxldCBbdXJsLCB0aWxlXSBvZiB0aGlzLmF2YWlsYWJsZS5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIHRpbGUudGludCA9IDB4ZmZmZmZmXG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuKiBUaGUgbWFpbiBjbGFzcyBvZiBhIGRlZXBseSB6b29tYWJsZSBpbWFnZSB0aGF0IGlzIHJlcHJlc2VudGVkIGJ5IGEgaGllcmFyY2h5XG4qIG9mIHRpbGUgbGF5ZXJzIGZvciBlYWNoIHpvb20gbGV2ZWwuIFRoaXMgZ2l2ZXMgdGhlIHVzZXIgdGhlIGltcHJlc3Npb24gdGhhdFxuKiBldmVuIGh1Z2UgcGljdHVyZXMgKHVwIHRvIGdpZ2FwaXhlbC1pbWFnZXMpIGNhbiBiZSB6b29tZWQgaW5zdGFudGFuZW91c2x5LFxuKiBzaW5jZSB0aGUgdGlsZXMgYXQgc21hbGxlciBsZXZlbHMgYXJlIHNjYWxlZCBpbW1lZGlhdGVseSBhbmQgb3ZlcmxvYWRlZCBieVxuKiBtb3JlIGRldGFpbGVkIHRpbGVzIGF0IHRoZSBsYXJnZXIgbGV2ZWwgYXMgZmFzdCBhcyBwb3NzaWJsZS5cblxuKiBAY29uc3RydWN0b3JcbiogQHBhcmFtIHtEZWVwWm9vbUluZm99IGRlZXBab29tSW5mbyAtIEluZm9ybWF0aW9uIGV4dHJhY3RlZCBmcm9tIGEgSlNPTi1PYmplY3RcbiovXG5leHBvcnQgY2xhc3MgRGVlcFpvb21JbWFnZSBleHRlbmRzIFBJWEkuQ29udGFpbmVyIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgZGVlcFpvb21JbmZvLFxuICAgICAgICB7XG4gICAgICAgICAgICBkZWJ1ZyA9IGZhbHNlLFxuICAgICAgICAgICAgc2hhZG93ID0gZmFsc2UsXG4gICAgICAgICAgICBjZW50ZXIgPSBmYWxzZSxcbiAgICAgICAgICAgIGhpZ2hSZXNvbHV0aW9uID0gdHJ1ZSxcbiAgICAgICAgICAgIGF1dG9Mb2FkVGlsZXMgPSB0cnVlLFxuICAgICAgICAgICAgcHJlZmVyV29ya2VyID0gZmFsc2UsXG4gICAgICAgICAgICBtaW5pbXVtTGV2ZWwgPSAwLFxuICAgICAgICAgICAgYWxwaGEgPSAxXG4gICAgICAgIH0gPSB7fVxuICAgICkge1xuICAgICAgICBzdXBlcigpXG4gICAgICAgIHRoaXMuZGVidWcgPSBkZWJ1Z1xuICAgICAgICB0aGlzLnNoYWRvdyA9IHNoYWRvd1xuICAgICAgICB0aGlzLnByZWZlcldvcmtlciA9IHByZWZlcldvcmtlclxuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSBoaWdoUmVzb2x1dGlvblxuICAgICAgICAgICAgPyBNYXRoLnJvdW5kKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKVxuICAgICAgICAgICAgOiAxXG4gICAgICAgIHRoaXMuYWxwaGEgPSBhbHBoYVxuICAgICAgICB0aGlzLmZhc3RMb2FkcyA9IDBcbiAgICAgICAgdGhpcy5hdXRvTG9hZFRpbGVzID0gYXV0b0xvYWRUaWxlc1xuICAgICAgICB0aGlzLm1pbmltdW1MZXZlbCA9IG1pbmltdW1MZXZlbFxuICAgICAgICB0aGlzLnF1YWRUcmVlcyA9IG5ldyBNYXAoKSAvLyB1cmwgYXMga2V5cywgVGlsZVF1YWROb2RlcyBhcyB2YWx1ZXNcbiAgICAgICAgdGhpcy5zZXR1cChkZWVwWm9vbUluZm8sIGNlbnRlcilcbiAgICAgICAgaWYgKGRlYnVnKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRGVlcFpvb21JbWFnZS5jb25zdHJ1Y3RvcicsIG1pbmltdW1MZXZlbClcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiICAgcHJlZmVycyB3b3JrZXIgbG9hZGVyXCIpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKiogUmVhZHMgdGhlIERlZXBab29tSW5mbyBvYmplY3QgYW5kIGluaXRpYWxpemVzIGFsbCB0aWxlIGxheWVycy5cbiAgICAgKiBDYWxsZWQgYnkgdGhlIGNvbnN0cnVjdG9yLlxuICAgICAqIENyZWF0ZXMgdGhlIHNwcml0ZSBmb3IgdGhlIGxvYWRlZCB0ZXh0dXJlIGFuZCBhZGQgdGhlIHNwcml0ZSB0byB0aGUgdGlsZVxuICAgICAqIGxheWVyLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkZWVwWm9vbUluZm8gLSB0aGUgRGVlcFpvb21JbmZvIGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBjZW50ZXIgLSBJZiB0cnVlIGVuc3VyZXMgdGhhdCB0aGUgcGl2b3QgaXMgc2V0IHRvIHRoZSBjZW50ZXJcbiAgICAgKiovXG4gICAgc2V0dXAoZGVlcFpvb21JbmZvLCBjZW50ZXIpIHtcbiAgICAgICAgdGhpcy5pbmZvID0gZGVlcFpvb21JbmZvXG4gICAgICAgIHRoaXMuaW50ZXJhY3RpdmUgPSB0cnVlXG4gICAgICAgIHRoaXMudGlsZUxheWVycyA9IHt9XG5cbiAgICAgICAgdGhpcy5fZm9yZWdyb3VuZCA9IG51bGxcbiAgICAgICAgdGhpcy50aWxlQ29udGFpbmVyID0gbmV3IFBJWEkuQ29udGFpbmVyKClcbiAgICAgICAgdGhpcy50aWxlQ29udGFpbmVyLmludGVyYWN0aXZlID0gZmFsc2VcbiAgICAgICAgbGV0IFt3LCBoXSA9IHRoaXMuYmFzZVNpemVcbiAgICAgICAgaWYgKHRoaXMuc2hhZG93KSB7XG4gICAgICAgICAgICB0aGlzLmZpbHRlcnMgPSBbbmV3IFBJWEkuZmlsdGVycy5Ecm9wU2hhZG93RmlsdGVyKDQ1LCAzKV1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMudGlsZUNvbnRhaW5lcilcblxuICAgICAgICBpZiAoZGVlcFpvb21JbmZvLmNsaXApIHtcbiAgICAgICAgICAgIGxldCBtYXNrID0gbmV3IFBJWEkuR3JhcGhpY3MoKVxuICAgICAgICAgICAgbWFzay5iZWdpbkZpbGwoMSwgMSlcbiAgICAgICAgICAgIG1hc2suZHJhd1JlY3QoMCwgMCwgdywgaClcbiAgICAgICAgICAgIG1hc2suZW5kRmlsbCgpXG4gICAgICAgICAgICB0aGlzLm1hc2sgPSBtYXNrXG4gICAgICAgICAgICB0aGlzLmFkZENoaWxkKG1hc2spXG4gICAgICAgICAgICB0aGlzLm1pbmltdW1MZXZlbCA9IGRlZXBab29tSW5mby5iYXNlTGV2ZWxcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN1cnJlbnRMZXZlbCA9IE1hdGgubWF4KHRoaXMubWluaW11bUxldmVsLCBkZWVwWm9vbUluZm8uYmFzZUxldmVsKVxuICAgICAgICBpZiAodGhpcy5hdXRvTG9hZFRpbGVzKSB7XG4gICAgICAgICAgICB0aGlzLnNldHVwVGlsZXMoY2VudGVyKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqIERlZmF1bHQgc2V0dXAgbWV0aG9kIGZvciB0aWxlcy4gTG9hZHMgYWxsIHRpbGVzIG9mIHRoZSBjdXJyZW50IGxldmVsLlxuICAgIENhbiBiZSBvdmVyd3JpdHRlbiBpbiBzdWJjbGFzc2VzLlxuICAgIEBwYXJhbSB7Ym9vbGVhbn0gY2VudGVyIC0gSWYgdHJ1ZSBlbnN1cmVzIHRoYXQgdGhlIHBpdm90IGlzIHNldCB0byB0aGUgY2VudGVyXG4gICAgKiovXG4gICAgc2V0dXBUaWxlcyhjZW50ZXIgPSBmYWxzZSkge1xuICAgICAgICAvLyBGaXJzdCBsb2FkIGJhY2tncm91bmQgdGlsZVxuICAgICAgICBsZXQgdGlsZXMgPSB0aGlzLmVuc3VyZUFsbFRpbGVzKHRoaXMuY3VycmVudExldmVsKVxuICAgICAgICBpZiAoY2VudGVyKSB7XG4gICAgICAgICAgICB0aGlzLnBpdm90LnNldCh3IC8gMiwgaCAvIDIpXG4gICAgICAgIH1cbiAgICAgICAgbGV0IHNjYWxlTGV2ZWwgPSB0aGlzLmxldmVsRm9yU2NhbGUoMSlcbiAgICAgICAgdGhpcy5lbnN1cmVBbGxUaWxlcyhzY2FsZUxldmVsKVxuICAgIH1cblxuICAgIHJlbW92ZVRpbGVRdWFkTm9kZShsZXZlbCwgY29sLCByb3csIHVybCkge1xuICAgICAgICBpZiAodGhpcy5xdWFkVHJlZXMuaGFzKHVybCkpIHtcbiAgICAgICAgICAgIGxldCBxdWFkID0gdGhpcy5xdWFkVHJlZXMuZ2V0KHVybClcbiAgICAgICAgICAgIHRoaXMudGlsZVF1YWRSZW1vdmVkKHF1YWQpXG4gICAgICAgICAgICB0aGlzLnF1YWRUcmVlcy5kZWxldGUodXJsKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWRkVGlsZVF1YWROb2RlKGxldmVsLCBjb2wsIHJvdywgdXJsKSB7XG4gICAgICAgIGlmICh0aGlzLnF1YWRUcmVlcy5oYXModXJsKSkgcmV0dXJuIHRoaXMucXVhZFRyZWVzLmdldCh1cmwpXG4gICAgICAgIGxldCBxdWFkID0gbmV3IFRpbGVRdWFkTm9kZShsZXZlbCwgY29sLCByb3csIHVybClcbiAgICAgICAgdGhpcy5xdWFkVHJlZXMuc2V0KHVybCwgcXVhZClcbiAgICAgICAgdGhpcy50aWxlUXVhZEFkZGVkKHF1YWQpXG4gICAgICAgIHJldHVybiBxdWFkXG4gICAgfVxuXG4gICAgdGlsZVF1YWRSZW1vdmVkKHF1YWQpIHtcbiAgICAgICAgbGV0IGJlbG93ID0gcXVhZC5wcmV2aW91c1xuICAgICAgICAvLyBpZiAodGhpcy5kZWJ1ZykgY29uc29sZS5sb2coXCJ0aWxlUXVhZFJlbW92ZWRcIiwgcXVhZClcbiAgICAgICAgaWYgKGJlbG93KSB7XG4gICAgICAgICAgICBiZWxvdy51bmxpbmsocXVhZClcbiAgICAgICAgICAgIGlmIChiZWxvdy5ub1F1YWRzKCkpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kZWJ1ZykgY29uc29sZS5sb2coJ1JlbW92ZWQgdGlsZSBiZWxvdycpXG4gICAgICAgICAgICAgICAgbGV0IGxldmVsQmVsb3cgPSBxdWFkLmxldmVsIC0gMVxuICAgICAgICAgICAgICAgIGlmIChsZXZlbEJlbG93IDwgdGhpcy5taW5pbXVtTGV2ZWwpIHJldHVyblxuICAgICAgICAgICAgICAgIGxldCBjID0gTWF0aC5mbG9vcihxdWFkLmNvbCAvIDIpXG4gICAgICAgICAgICAgICAgbGV0IHIgPSBNYXRoLmZsb29yKHF1YWQucm93IC8gMilcbiAgICAgICAgICAgICAgICBsZXQgdXJsQmVsb3cgPSB0aGlzLmluZm8udXJsRm9yVGlsZShsZXZlbEJlbG93LCBjLCByKVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnF1YWRUcmVlcy5oYXModXJsQmVsb3cpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlVGlsZVF1YWROb2RlKGxldmVsQmVsb3csIGMsIHIsIHVybEJlbG93KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRpbGVRdWFkQWRkZWQocXVhZCkge1xuICAgICAgICBsZXQgbGV2ZWxCZWxvdyA9IHF1YWQubGV2ZWwgLSAxXG4gICAgICAgIGlmIChsZXZlbEJlbG93IDwgdGhpcy5taW5pbXVtTGV2ZWwpIHJldHVyblxuICAgICAgICAvL2lmICh0aGlzLmRlYnVnKSBjb25zb2xlLmxvZyhcInRpbGVRdWFkQWRkZWRcIiwgcXVhZClcbiAgICAgICAgbGV0IGMgPSBNYXRoLmZsb29yKHF1YWQuY29sIC8gMilcbiAgICAgICAgbGV0IHIgPSBNYXRoLmZsb29yKHF1YWQucm93IC8gMilcbiAgICAgICAgbGV0IHVybEJlbG93ID0gdGhpcy5pbmZvLnVybEZvclRpbGUobGV2ZWxCZWxvdywgYywgcilcbiAgICAgICAgbGV0IGJlbG93ID0gbnVsbFxuICAgICAgICBpZiAoIXRoaXMucXVhZFRyZWVzLmhhcyh1cmxCZWxvdykpIHtcbiAgICAgICAgICAgIGJlbG93ID0gdGhpcy5hZGRUaWxlUXVhZE5vZGUobGV2ZWxCZWxvdywgYywgciwgdXJsQmVsb3cpXG4gICAgICAgICAgICBxdWFkLmxpbmsoaXNFdmVuKHF1YWQucm93KSwgaXNFdmVuKHF1YWQuY29sKSwgYmVsb3cpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKiogUmV0dXJucyB0aGUgdGlsZSBsYXllciBsZXZlbCB0aGF0IGNvcnJlc3BvbmRzIHRvIHRoZSBnaXZlbiBzY2FsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGUgLSB0aGUgc2NhbGUgZmFjdG9yXG4gICAgICoqL1xuICAgIGxldmVsRm9yU2NhbGUoc2NhbGUpIHtcbiAgICAgICAgbGV0IGxldmVsID0gTWF0aC5yb3VuZChNYXRoLmxvZzIoc2NhbGUgKiB0aGlzLnJlc29sdXRpb24pKSAvLyBNYXRoLmZsb29yKE1hdGgubG9nMihldmVudC5zY2FsZSkpKzFcbiAgICAgICAgbGV0IG5ld0xldmVsID0gdGhpcy5pbmZvLmJhc2VMZXZlbCArIE1hdGgubWF4KGxldmVsLCAwKVxuICAgICAgICByZXR1cm4gTWF0aC5taW4obmV3TGV2ZWwsIHRoaXMuaW5mby5tYXhMb2FkYWJsZUxldmVsKVxuICAgIH1cblxuXG4gICAgLyoqIEFkZHMgYSB0aWxlIGxheWVyIHRvIHRoZSBEZWVwWm9vbUltYWdlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSB0aGUgYWNjZXNzIGtleVxuICAgICAqIEBwYXJhbSB7VGlsZXN9IHRpbGVzIC0gdGhlIHRpbGUgbGF5ZXIgb2JqZWN0XG4gICAgICoqL1xuICAgIGFkZFRpbGVzKGtleSwgdGlsZXMpIHtcbiAgICAgICAgdGhpcy50aWxlQ29udGFpbmVyLmFkZENoaWxkKHRpbGVzKVxuICAgICAgICB0aGlzLnRpbGVMYXllcnNba2V5XSA9IHRpbGVzXG4gICAgfVxuXG4gICAgLyoqIEdldHRlciBmb3IgUElYSS5Db250YWluZXIgZm9yZWdyb3VuZCBsYXllci5cbiAgICAgKiBBZGRzIGEgUElYSS5Db250YWluZXIgaWYgbmVjZXNzYXJ5LlxuICAgICAqKi9cbiAgICBnZXQgZm9yZWdyb3VuZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2ZvcmVncm91bmQgPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fZm9yZWdyb3VuZCA9IG5ldyBQSVhJLkNvbnRhaW5lcigpXG4gICAgICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMuX2ZvcmVncm91bmQpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZvcmVncm91bmRcbiAgICB9XG5cbiAgICAvKiogR2V0dGVyIGZvciB0aGUgRGVlcFpvb21JbmZvIGJhc2UgbGV2ZWwgc2l6ZS5cbiAgICAgKiovXG4gICAgZ2V0IGJhc2VTaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbmZvLmdldERpbWVuc2lvbnModGhpcy5pbmZvLmJhc2VMZXZlbClcbiAgICB9XG5cbiAgICAvKiogR2V0dGVyIGZvciB0aGUgY3VycmVudCBzY2FsZWQgc2l6ZSBpbiBwaXhlbHMuXG4gICAgICoqL1xuICAgIGdldCBwaXhlbFNpemUoKSB7XG4gICAgICAgIGxldCBbdywgaF0gPSB0aGlzLmJhc2VTaXplXG4gICAgICAgIHJldHVybiBbdyAqIHRoaXMuc2NhbGUueCwgaCAqIHRoaXMuc2NhbGUueV1cbiAgICB9XG5cbiAgICAvKiogR2V0dGVyIGZvciB0aGUgbWF4IHNjYWxlIGZhY3Rvci5cbiAgICAgKiovXG4gICAgZ2V0IG1heFNjYWxlKCkge1xuICAgICAgICBsZXQgZGVsdGEgPSB0aGlzLmluZm8ubWF4TGV2ZWwgLSB0aGlzLmluZm8uYmFzZUxldmVsXG4gICAgICAgIHJldHVybiBNYXRoLnBvdygyLCBkZWx0YSkgLyB0aGlzLnJlc29sdXRpb24gKiAyXG4gICAgfVxuXG4gICAgLyoqIEdldHRlciBmb3IgdGhlIGN1cnJlbnQgd2lkdGguXG4gICAgICoqL1xuICAgIGdldCB3aWR0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGl4ZWxTaXplWzBdXG4gICAgfVxuXG4gICAgLyoqIEdldHRlciBmb3IgdGhlIGN1cnJlbnQgaGVpZ2h0LlxuICAgICAqKi9cbiAgICBnZXQgaGVpZ2h0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5waXhlbFNpemVbMV1cbiAgICB9XG5cbiAgICAvKiogT3ZlcnJpZGVzIFBJWEkuQ29udGFpbmVyLmhpdEFyZWEoKVxuICAgICAqIEFsbG93cyB0byBvcHRpbWl6ZSB0aGUgaGl0IHRlc3RpbmcuIENvbnRhaW5lciB3aXRoIGhpdCBhcmVhcyBhcmUgZGlyZWN0bHlcbiAgICAgKiBoaXQgdGVzdGVkIHdpdGhvdXQgY29uc2lkZXJhdGlvbiBvZiBjaGlsZHJlbi5cbiAgICAgKi9cbiAgICBnZXQgaGl0QXJlYSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICAvKiogT3ZlcnJpZGVzIFBJWEkuQ29udGFpbmVyLmNvbnRhaW5zKClcbiAgICAgKiBBbGxvd3MgdG8gb3B0aW1pemUgdGhlIGhpdCB0ZXN0aW5nLlxuICAgICAqL1xuICAgIGNvbnRhaW5zKHgsIHkpIHtcbiAgICAgICAgbGV0IFt3LCBoXSA9IHRoaXMuYmFzZVNpemVcbiAgICAgICAgcmV0dXJuIHggPj0gMCAmJiB4IDw9IHcgJiYgeSA+PSAwICYmIHkgPD0gaFxuICAgIH1cblxuICAgIC8qKiBPdmVycmlkZXMgUElYSS5Db250YWluZXIuX2NhbGN1bGF0ZUJvdW5kcygpXG4gICAgICogT25seSBjb25zaWRlcnMgdGhlIGJhc2Ugc2l6ZSBhbmQgcmVkdWNlcyB0aGUgY2FsY3VsYXRpb24gdG8gYSBzaW5nbGVcbiAgICAgKiByZWN0LlxuICAgICAqL1xuICAgIF9jYWxjdWxhdGVCb3VuZHMoKSB7XG4gICAgICAgIGxldCBbdywgaF0gPSB0aGlzLmJhc2VTaXplXG4gICAgICAgIHRoaXMuX2JvdW5kcy5hZGRGcmFtZSh0aGlzLnRyYW5zZm9ybSwgMCwgMCwgdywgaClcbiAgICB9XG5cbiAgICAvKiogT3ZlcnJpZGVzIFBJWEkuQ29udGFpbmVyLmNhbGN1bGF0ZUJvdW5kcygpXG4gICAgICogU2tpcHMgdGhlIGNoaWxkcmVuIGFuZCBvbmx5IGNvbnNpZGVycyB0aGUgZGVlcCB6b29tIGJhc2Ugc2l6ZS4gQ2FsbHNcbiAgICAgKiB0aGUgYWxzbyBvdmVyd3JpdHRlbiBfY2FsY3VsYXRlQm91bmRzIG1ldGhvZC5cbiAgICAgKi9cbiAgICBjYWxjdWxhdGVCb3VuZHMoKSB7XG4gICAgICAgIHRoaXMuX2JvdW5kcy5jbGVhcigpXG4gICAgICAgIHRoaXMuX2NhbGN1bGF0ZUJvdW5kcygpXG4gICAgICAgIHRoaXMuX2xhc3RCb3VuZHNJRCA9IHRoaXMuX2JvdW5kc0lEXG4gICAgfVxuXG4gICAgLyoqIFJldHVybnMgYSBzaW5nbGUgc3ByaXRlIHRoYXQgY2FuIGJlIHVzZWQgYSB0aHVtYm5haWwgcmVwcmVzZW50YXRpb24gb2ZcbiAgICAgKiBsYXJnZSBpbWFnZXMuXG4gICAgICogQHJldHVybiB7U3ByaXRlfSBzcHJpdGUgLSBBIHNwcml0ZSB3aXRoIGEgc2luZ2xlIHRpbGUgdGV4dHVyZVxuICAgICAqL1xuICAgIHRodW1ibmFpbCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQSVhJLlNwcml0ZS5mcm9tSW1hZ2UodGhpcy5pbmZvLmJhc2VVUkwpXG4gICAgfVxuXG4gICAgLyoqIFJldHVybnMgYSBsaXN0IG9mIGFsbCB0aWxlcyBvZiBhIGdpdmVuIGxldmVsLlxuICAgICAqIEBwYXJhbSB7VGlsZXN9IHRpbGVzIC0gdGhlIGdyaWQgb2YgdGlsZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbGV2ZWwgLSBUaGUgem9vbSBsZXZlbCBvZiB0aGUgZ3JpZFxuICAgICAqIEByZXR1cm4ge0FycmF5W119IC0gQW4gYXJyYXkgb2YgW3VybCwgY29sLCByb3ddIGFycmF5c1xuICAgICAqKi9cbiAgICBhbGxUaWxlcyh0aWxlcywgbGV2ZWwpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdXG4gICAgICAgIGZvciAobGV0IGNvbCA9IDA7IGNvbCA8IHRpbGVzLmNvbHM7IGNvbCsrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCB0aWxlcy5yb3dzOyByb3crKykge1xuICAgICAgICAgICAgICAgIGxldCB1cmwgPSB0aGlzLmluZm8udXJsRm9yVGlsZShsZXZlbCwgY29sLCByb3cpXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goW3VybCwgY29sLCByb3ddKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHRcbiAgICB9XG5cbiAgICAvKiogTG9hZHMgYWxsIHRpbGVzIHRoYXQgYXJlIG5lZWRlZCB0byBmaWxsIHRoZSBhcHAgYm91bmRzLlxuICAgICAqIEBwYXJhbSB7VGlsZXN9IHRpbGVzIC0gdGhlIGdyaWQgb2YgdGlsZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbGV2ZWwgLSBUaGUgem9vbSBsZXZlbCBvZiB0aGUgZ3JpZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gZGVidWdcbiAgICAgKiBAcmV0dXJuIHtBcnJheVtdfSAtIEFuIGFycmF5IG9mIFt1cmwsIGNvbCwgcm93XSBhcnJheXNcbiAgICAgKi9cbiAgICBuZWVkZWRUaWxlcyh0aWxlcywgbGV2ZWwsIGRlYnVnID0gZmFsc2UpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdXG4gICAgICAgIGxldCB0c2l6ZSA9IHRpbGVzLnRpbGVTaXplXG4gICAgICAgIGxldCBkb21Cb3VuZHMgPSBhcHAudmlldy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgICAgICBsZXQgbWF4V2lkdGggPSBkb21Cb3VuZHMud2lkdGhcbiAgICAgICAgbGV0IG1heEhlaWdodCA9IGRvbUJvdW5kcy5oZWlnaHRcbiAgICAgICAgbGV0IG9mZnNldCA9IHRzaXplXG4gICAgICAgIGxldCBib3VuZHMgPSBuZXcgUElYSS5SZWN0YW5nbGUoXG4gICAgICAgICAgICAtb2Zmc2V0LFxuICAgICAgICAgICAgLW9mZnNldCxcbiAgICAgICAgICAgIG1heFdpZHRoICsgMiAqIG9mZnNldCxcbiAgICAgICAgICAgIG1heEhlaWdodCArIDIgKiBvZmZzZXRcbiAgICAgICAgKVxuICAgICAgICBsZXQgc2NhbGVkVGlsZVNpemUgPSB0c2l6ZSAqIHRpbGVzLnRpbGVTY2FsZVxuICAgICAgICBsZXQgcG9pbnRJbldpbmRvdyA9IG5ldyBQSVhJLlBvaW50KClcblxuICAgICAgICBsZXQgd29ybGRUcmFuc2Zvcm0gPSB0aGlzLndvcmxkVHJhbnNmb3JtXG4gICAgICAgIGxldCB3b3JsZENlbnRlciA9IG5ldyBQSVhJLlBvaW50KG1heFdpZHRoIC8gMiwgbWF4V2lkdGggLyAyKVxuXG4gICAgICAgIGxldCB0aWxlc0NlbnRlciA9IHRoaXMudG9Mb2NhbCh3b3JsZENlbnRlcilcbiAgICAgICAgLyogVU86IHdlIG5lZWQgYSB0b0xvY2FsIGNhbGwgaGVyZSBzaW5jZSB0aGUgdHJhbnNmb3JtIG1heSBuZWVkIGFuIHVwZGF0ZVxuICAgICAgICB3aGljaCBpcyBndWFyYW50ZWVkIGJ5IHRoZSB0b0xvY2FsIG1ldGhvZC4gKi9cbiAgICAgICAgbGV0IGNlbnRlckNvbCA9IE1hdGgucm91bmQodGlsZXNDZW50ZXIueCAvIHNjYWxlZFRpbGVTaXplKVxuICAgICAgICBsZXQgY2VudGVyUm93ID0gTWF0aC5yb3VuZCh0aWxlc0NlbnRlci55IC8gc2NhbGVkVGlsZVNpemUpXG5cbiAgICAgICAgbGV0IG1heFRpbGVzV2lkdGggPVxuICAgICAgICAgICAgTWF0aC5jZWlsKG1heFdpZHRoIC8gdGlsZXMudGlsZVNpemUgLyAyICsgNikgKiB0aGlzLnJlc29sdXRpb25cbiAgICAgICAgbGV0IG1heFRpbGVzSGVpZ2h0ID1cbiAgICAgICAgICAgIE1hdGguY2VpbChtYXhIZWlnaHQgLyB0aWxlcy50aWxlU2l6ZSAvIDIgKyA0KSAqIHRoaXMucmVzb2x1dGlvblxuXG4gICAgICAgIGxldCBzdGFydENvbCA9IE1hdGgubWF4KDAsIGNlbnRlckNvbCAtIG1heFRpbGVzV2lkdGgpXG4gICAgICAgIGxldCBlbmRDb2wgPSBNYXRoLm1pbih0aWxlcy5jb2xzLCBjZW50ZXJDb2wgKyBtYXhUaWxlc1dpZHRoKVxuXG4gICAgICAgIGxldCBzdGFydFJvdyA9IE1hdGgubWF4KDAsIGNlbnRlclJvdyAtIG1heFRpbGVzSGVpZ2h0KVxuICAgICAgICBsZXQgZW5kUm93ID0gTWF0aC5taW4odGlsZXMucm93cywgY2VudGVyUm93ICsgbWF4VGlsZXNIZWlnaHQpXG5cbiAgICAgICAgZm9yIChsZXQgY29sID0gc3RhcnRDb2w7IGNvbCA8IGVuZENvbDsgY29sKyspIHtcbiAgICAgICAgICAgIGxldCBjeCA9IChjb2wgKyAwLjUpICogc2NhbGVkVGlsZVNpemVcbiAgICAgICAgICAgIGZvciAobGV0IHJvdyA9IHN0YXJ0Um93OyByb3cgPCBlbmRSb3c7IHJvdysrKSB7XG4gICAgICAgICAgICAgICAgbGV0IGN5ID0gKHJvdyArIDAuNSkgKiBzY2FsZWRUaWxlU2l6ZVxuICAgICAgICAgICAgICAgIGxldCB0aWxlQ2VudGVyID0gbmV3IFBJWEkuUG9pbnQoY3gsIGN5KVxuICAgICAgICAgICAgICAgIC8vIFRoaXMgcmVwbGFjZXMgdGhlIG1vcmUgdHJhZGl0aW9uYWwgdGhpcy50b0dsb2JhbChjZW50ZXIsIHBvaW50SW5XaW5kb3csIHRydWUpXG4gICAgICAgICAgICAgICAgd29ybGRUcmFuc2Zvcm0uYXBwbHkodGlsZUNlbnRlciwgcG9pbnRJbldpbmRvdylcbiAgICAgICAgICAgICAgICBpZiAoYm91bmRzLmNvbnRhaW5zKHBvaW50SW5XaW5kb3cueCwgcG9pbnRJbldpbmRvdy55KSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgdXJsID0gdGhpcy5pbmZvLnVybEZvclRpbGUobGV2ZWwsIGNvbCwgcm93KVxuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChbdXJsLCBjb2wsIHJvd10pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHRcbiAgICB9XG5cbiAgICAvKiogUmV0dXJucyBhbGwgY2hhbmdlZCB0aWxlcyBmb3IgYSBnaXZlbiBsZXZlbC5cbiAgICAgKiBAcGFyYW0ge1RpbGVzfSB0aWxlcyAtIHRoZSBncmlkIG9mIHRpbGVzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGxldmVsIC0gVGhlIHpvb20gbGV2ZWwgb2YgdGhlIGdyaWRcbiAgICAgKiBAcmV0dXJuIHsgYWRkZWQ6IEFycmF5W10sIHJlbW92ZWQ6IEFycmF5W119IC0gQW4gb2JqZWN0IHdpdGggYWRkZWQgYW5kIHJlbW92ZWQgW3VybCwgY29sLCByb3ddIGFycmF5c1xuICAgICAqL1xuICAgIGNoYW5nZWRUaWxlcyh0aWxlcywgbGV2ZWwpIHtcbiAgICAgICAgaWYgKHRoaXMuZGVidWcpIGNvbnNvbGUudGltZSgnY2hhbmdlZFRpbGVzJylcbiAgICAgICAgbGV0IGNoYW5nZWQgPSB7YWRkZWQ6IFtdLCByZW1vdmVkOiBbXX1cbiAgICAgICAgaWYgKCF0aWxlcy5pc0NvbXBsZXRlKCkpIHtcbiAgICAgICAgICAgIGxldCBuZXdOZWVkZWQgPSBuZXcgTWFwKClcbiAgICAgICAgICAgIGxldCBuZWVkZWQgPSB0aGlzLm5lZWRlZFRpbGVzKHRpbGVzLCBsZXZlbClcbiAgICAgICAgICAgIG5lZWRlZC5mb3JFYWNoKGQgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBbdXJsLCBjb2wsIHJvd10gPSBkXG4gICAgICAgICAgICAgICAgbmV3TmVlZGVkLnNldCh1cmwsIFtjb2wsIHJvd10pXG4gICAgICAgICAgICAgICAgaWYgKCF0aWxlcy5yZXF1ZXN0ZWQuaGFzKHVybCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlZC5hZGRlZC5wdXNoKGQpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIGZvciAobGV0IHVybCBvZiB0aWxlcy5uZWVkZWQua2V5cygpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFuZXdOZWVkZWQuaGFzKHVybCkpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IFtjb2wsIHJvd10gPSB0aWxlcy5uZWVkZWQuZ2V0KHVybClcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlZC5yZW1vdmVkLnB1c2goW3VybCwgY29sLCByb3ddKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRpbGVzLm5lZWRlZCA9IG5ld05lZWRlZFxuICAgICAgICAgICAgaWYgKHRoaXMuZGVidWcpIGNvbnNvbGUubG9nKG5ld05lZWRlZClcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5kZWJ1ZykgY29uc29sZS50aW1lRW5kKCdjaGFuZ2VkVGlsZXMnKVxuXG4gICAgICAgIHJldHVybiBjaGFuZ2VkXG4gICAgfVxuXG4gICAgLyoqIFBvcHVsYXRlcyBhbGwgdGlsZXMgZm9yIGEgZ2l2ZW4gbGV2ZWwuXG4gICAgICogQHBhcmFtIHtUaWxlc30gdGlsZXMgLSB0aGUgZ3JpZCBvZiB0aWxlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsZXZlbCAtIFRoZSB6b29tIGxldmVsIG9mIHRoZSBncmlkXG4gICAgICovXG4gICAgcG9wdWxhdGVBbGxUaWxlcyh0aWxlcywgbGV2ZWwpIHtcbiAgICAgICAgbGV0IGFsbCA9IHRoaXMuYWxsVGlsZXModGlsZXMsIGxldmVsKVxuICAgICAgICBmb3IgKGxldCBbdXJsLCBjb2wsIHJvd10gb2YgYWxsKSB7XG4gICAgICAgICAgICB0aGlzLmFkZFRpbGVRdWFkTm9kZShsZXZlbCwgY29sLCByb3csIHVybClcbiAgICAgICAgfVxuICAgICAgICB0aWxlcy5sb2FkVGlsZXMoYWxsLCBmYWxzZSwgMCwgMClcbiAgICB9XG5cbiAgICAvKiogTG9hZHMgYWxsIHRpbGVzIHRoYXQgYXJlIG5lZWRlZCB0byBmaWxsIHRoZSBicm93c2VyIHdpbmRvdy5cbiAgICAgKiBJZiB0aGUgb3B0aW9uYWwgYWJvdXQgcGFyYW1ldGVyIGlzIHByb3ZpZGVkIChhcyBhIHBvaW50IHdpdGggY29sIGFzIHgsXG4gICAgICogYW5kIHJvdyBhcyB5IGF0dHIpIHRoZSB0aWxlcyBhcmUgc29ydGVkIGJ5IHRoZSBkaXN0YW5jZSB0byB0aGlzIHBvaW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtUaWxlc30gdGlsZXMgLSB0aGUgZ3JpZCBvZiB0aWxlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsZXZlbCAtIFRoZSB6b29tIGxldmVsIG9mIHRoZSBncmlkXG4gICAgICogT3B0aW9uYWwgcGFyYW1ldGVyOlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gb25seW9uZSAtIGlmIHRydWUgb25seSBvbmUgdGlsZSBpcyBsb2FkZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IGFib3V0IC0gcG9pbnQgb2YgaW50ZXJhY3Rpb25cbiAgICAgKi9cbiAgICBwb3B1bGF0ZVRpbGVzKHRpbGVzLCBsZXZlbCwge29ubHlvbmUgPSBmYWxzZSwgYWJvdXQgPSBudWxsfSA9IHt9KSB7XG4gICAgICAgIGxldCBjaGFuZ2VkID0gdGhpcy5jaGFuZ2VkVGlsZXModGlsZXMsIGxldmVsKVxuICAgICAgICBsZXQgcmVtb3ZlZCA9IGNoYW5nZWQucmVtb3ZlZFxuICAgICAgICBmb3IgKGxldCBbdXJsLCBjb2wsIHJvd10gb2YgcmVtb3ZlZCkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVUaWxlUXVhZE5vZGUobGV2ZWwsIGNvbCwgcm93LCB1cmwpXG4gICAgICAgIH1cbiAgICAgICAgbGV0IGFkZGVkID0gY2hhbmdlZC5hZGRlZFxuICAgICAgICBpZiAoYWRkZWQubGVuZ3RoID09IDApIHJldHVyblxuICAgICAgICBmb3IgKGxldCBbdXJsLCBjb2wsIHJvd10gb2YgYWRkZWQpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkVGlsZVF1YWROb2RlKGxldmVsLCBjb2wsIHJvdywgdXJsKVxuICAgICAgICB9XG4gICAgICAgIGxldCByZWZlcmVuY2VDb2wgPSAtMVxuICAgICAgICBsZXQgcmVmZXJlbmNlUm93ID0gLTFcbiAgICAgICAgaWYgKGFib3V0ICE9IG51bGwpIHtcbiAgICAgICAgICAgIC8vIFdlIHdhbnQgdG8gbG9hZCB0aWxlcyBpbiB0aGUgZm9jdXMgb2YgdGhlIHVzZXIgZmlyc3QsIHRoZXJlZm9yZVxuICAgICAgICAgICAgLy8gd2Ugc29ydCBhY2NvcmRpbmcgdG8gdGhlIGRpc3RhbmNlIG9mIHRoZSBmb2N1cyBvZiBpbnRlcmFjdGlvblxuICAgICAgICAgICAgbGV0IHJlZlBvaW50ID0gdGhpcy50b0xvY2FsKGFib3V0KVxuICAgICAgICAgICAgbGV0IHNjYWxlZFRpbGVTaXplID0gdGlsZXMudGlsZVNpemUgKiB0aWxlcy50aWxlU2NhbGVcblxuICAgICAgICAgICAgcmVmZXJlbmNlQ29sID0gTWF0aC5mbG9vcihyZWZQb2ludC54IC8gc2NhbGVkVGlsZVNpemUpXG4gICAgICAgICAgICByZWZlcmVuY2VSb3cgPSBNYXRoLmZsb29yKHJlZlBvaW50LnkgLyBzY2FsZWRUaWxlU2l6ZSlcblxuICAgICAgICAgICAgbGV0IHJlZiA9IG5ldyBQSVhJLlBvaW50KHJlZmVyZW5jZUNvbCwgcmVmZXJlbmNlUm93KVxuXG4gICAgICAgICAgICAvLyBOb3RlOiBUaGUgYXJyYXkgbXVzdCBiZSBzb3J0ZWQgaW4gYSB3YXkgdGhhdCB0aGUgbmVhcmVzdCB0aWxlc1xuICAgICAgICAgICAgLy8gYXJlIGF0IHRoZSBlbmQgb2YgdGhlIGFycmF5IHNpbmNlIHRoZSBsb2FkIHF1ZXVlIHVzZXMgQXJyYXkucHVzaFxuICAgICAgICAgICAgLy8gQXJyYXkucG9wXG5cbiAgICAgICAgICAgIGFkZGVkLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgYWEgPSBuZXcgUElYSS5Qb2ludChhWzFdLCBhWzJdKVxuICAgICAgICAgICAgICAgIGxldCBiYiA9IG5ldyBQSVhJLlBvaW50KGJbMV0sIGJbMl0pXG4gICAgICAgICAgICAgICAgbGV0IGRhID0gUG9pbnRzLmRpc3RhbmNlKGFhLCByZWYpXG4gICAgICAgICAgICAgICAgbGV0IGRiID0gUG9pbnRzLmRpc3RhbmNlKGJiLCByZWYpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRiIC0gZGFcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwic29ydGVkIHBvcHVsYXRlVGlsZXNcIiwgIHJlZmVyZW5jZUNvbCwgcmVmZXJlbmNlUm93LCBtaXNzaW5nKVxuICAgICAgICB9XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJwb3B1bGF0ZVRpbGVzIFwiICsgIG1pc3NpbmcubGVuZ3RoKVxuICAgICAgICB0aWxlcy5sb2FkVGlsZXMoYWRkZWQsIG9ubHlvbmUsIHJlZmVyZW5jZUNvbCwgcmVmZXJlbmNlUm93KVxuICAgIH1cblxuICAgIC8qKiBQcml2YXRlIG1ldGhvZDogY3JlYXRlcyBhbGwgdGlsZXMgZm9yIGEgZ2l2ZW4gbGV2ZWwuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGxldmVsIC0gVGhlIHpvb20gbGV2ZWwgb2YgdGhlIGdyaWRcbiAgICAgKiBAcmV0dXJuIHtUaWxlc30gLSB0aWxlc1xuICAgICAqL1xuICAgIF9jcmVhdGVUaWxlcyhrZXksIGxldmVsKSB7XG4gICAgICAgIGxldCBbY29scywgcm93cywgdywgaF0gPSB0aGlzLmluZm8uZGltZW5zaW9ucyhsZXZlbClcbiAgICAgICAgbGV0IGluY3JlYXNlZExldmVscyA9IGxldmVsIC0gdGhpcy5pbmZvLmJhc2VMZXZlbFxuICAgICAgICBsZXQgaW52U2NhbGUgPSBNYXRoLnBvdygwLjUsIGluY3JlYXNlZExldmVscylcbiAgICAgICAgbGV0IHRpbGVzID0gbmV3IFRpbGVzKFxuICAgICAgICAgICAgbGV2ZWwsXG4gICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgaW52U2NhbGUsXG4gICAgICAgICAgICBjb2xzLFxuICAgICAgICAgICAgcm93cyxcbiAgICAgICAgICAgIHcsXG4gICAgICAgICAgICBoLFxuICAgICAgICAgICAgdGhpcy5pbmZvLnRpbGVTaXplLFxuICAgICAgICAgICAgdGhpcy5pbmZvLm92ZXJsYXBcbiAgICAgICAgKVxuICAgICAgICB0aGlzLmFkZFRpbGVzKGtleSwgdGlsZXMpXG4gICAgICAgIGlmICh0aGlzLmluZm8uY2xpcCkge1xuICAgICAgICAgICAgbGV0IHJlc3QgPSB0aGlzLmluZm8ucmVzdHNbbGV2ZWxdXG4gICAgICAgICAgICBpZiAocmVzdCkge1xuICAgICAgICAgICAgICAgIGxldCB4ID0gcmVzdC5yZXN0Q29sICogdGhpcy5pbmZvLnRpbGVTaXplICogaW52U2NhbGVcbiAgICAgICAgICAgICAgICBsZXQgeSA9IHJlc3QucmVzdFJvdyAqIHRoaXMuaW5mby50aWxlU2l6ZSAqIGludlNjYWxlXG4gICAgICAgICAgICAgICAgdGlsZXMueCA9IC14XG4gICAgICAgICAgICAgICAgdGlsZXMueSA9IC15XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRpbGVzXG4gICAgfVxuXG4gICAgLyoqIEVuc3VyZXMgdGhhdCBhbGwgbmVlZGVkIHRpbGVzIG9mIGEgZ2l2ZW4gbGV2ZWwgYXJlIGxvYWRlZC4gQ3JlYXRlc1xuICAgICAqIGEgbmV3IFRpbGVzIGxheWVyIGlmIG5lY2Vzc2FyeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsZXZlbCAtIFRoZSB6b29tIGxldmVsIG9mIHRoZSBncmlkXG4gICAgICogQHJldHVybiB7VGlsZXN9IHRpbGVzXG4gICAgICovXG4gICAgZW5zdXJlVGlsZXMobGV2ZWwsIGFib3V0KSB7XG4gICAgICAgIGxldCBrZXkgPSBsZXZlbC50b1N0cmluZygpXG4gICAgICAgIGlmIChrZXkgaW4gdGhpcy50aWxlTGF5ZXJzKSB7XG4gICAgICAgICAgICBsZXQgdGlsZXMgPSB0aGlzLnRpbGVMYXllcnNba2V5XVxuICAgICAgICAgICAgdGhpcy5wb3B1bGF0ZVRpbGVzKHRpbGVzLCBsZXZlbCwge2Fib3V0OiBhYm91dH0pXG4gICAgICAgICAgICByZXR1cm4gdGlsZXNcbiAgICAgICAgfVxuICAgICAgICBsZXQgdGlsZXMgPSB0aGlzLl9jcmVhdGVUaWxlcyhrZXksIGxldmVsKVxuICAgICAgICB0aGlzLnBvcHVsYXRlVGlsZXModGlsZXMsIGxldmVsLCB7YWJvdXQ6IGFib3V0fSlcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcImVuc3VyZVRpbGVzXCIsIGxldmVsKVxuICAgICAgICByZXR1cm4gdGlsZXNcbiAgICB9XG5cbiAgICB1bnRpbnRUaWxlcyhsZXZlbCkge1xuICAgICAgICBsZXQga2V5ID0gbGV2ZWwudG9TdHJpbmcoKVxuICAgICAgICBpZiAoa2V5IGluIHRoaXMudGlsZUxheWVycykge1xuICAgICAgICAgICAgbGV0IHRpbGVzID0gdGhpcy50aWxlTGF5ZXJzW2tleV1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKiBFbnN1cmVzIHRoYXQgYWxsIHRpbGVzIG9mIGEgZ2l2ZW4gbGV2ZWwgYXJlIGxvYWRlZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbGV2ZWwgLSBUaGUgem9vbSBsZXZlbCBvZiB0aGUgZ3JpZFxuICAgICAqL1xuICAgIGVuc3VyZUFsbFRpbGVzKGxldmVsKSB7XG4gICAgICAgIGxldCBrZXkgPSBsZXZlbC50b1N0cmluZygpXG4gICAgICAgIGlmIChrZXkgaW4gdGhpcy50aWxlTGF5ZXJzKSB7XG4gICAgICAgICAgICBsZXQgdGlsZXMgPSB0aGlzLnRpbGVMYXllcnNba2V5XVxuICAgICAgICAgICAgdGhpcy5wb3B1bGF0ZUFsbFRpbGVzKHRpbGVzLCBsZXZlbClcbiAgICAgICAgICAgIHRpbGVzLmtlZXAgPSB0cnVlXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICBsZXQgdGlsZXMgPSB0aGlzLl9jcmVhdGVUaWxlcyhrZXksIGxldmVsKVxuICAgICAgICB0aGlzLnBvcHVsYXRlQWxsVGlsZXModGlsZXMsIGxldmVsKVxuICAgICAgICB0aWxlcy5rZWVwID0gdHJ1ZVxuICAgICAgICByZXR1cm4gdGlsZXNcbiAgICB9XG5cbiAgICAvKiogRGVzdHJveXMgYWxsIHRpbGVzIGFib3ZlIGEgZ2l2ZW4gbGV2ZWwgdG8gZW5zdXJlIHRoYXQgdGhlIG1lbW9yeSBjYW5cbiAgICAgKiBiZSByZXVzZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGxldmVsIC0gVGhlIHpvb20gbGV2ZWwgb2YgdGhlIGdyaWRcbiAgICAgKi9cbiAgICBkZXN0cm95VGlsZXNBYm92ZUxldmVsKGxldmVsKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKHRoaXMudGlsZUxheWVycykuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgICAgbGV0IHRpbGVzID0gdGhpcy50aWxlTGF5ZXJzW2tleV1cbiAgICAgICAgICAgIGlmICh0aWxlcy5sZXZlbCA+IGxldmVsICYmICF0aWxlcy5rZWVwKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgdXJsIG9mIHRpbGVzLmF2YWlsYWJsZS5rZXlzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHF1YWQgPSB0aGlzLnF1YWRUcmVlcy5nZXQodXJsKVxuICAgICAgICAgICAgICAgICAgICBpZiAocXVhZCkgdGhpcy5yZW1vdmVUaWxlUXVhZE5vZGUocXVhZClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy50aWxlQ29udGFpbmVyLnJlbW92ZUNoaWxkKHRpbGVzKVxuICAgICAgICAgICAgICAgIHRpbGVzLmRlc3Ryb3koKVxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnRpbGVMYXllcnNba2V5XVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGRlc3Ryb3lUaWxlcygpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICAgIC8vIFVPOiBUaGlzIGlzIGJ1Z2d5XG4gICAgICAgIE9iamVjdC5rZXlzKHRoaXMudGlsZUxheWVycykuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgICAgbGV0IHRpbGVzID0gdGhpcy50aWxlTGF5ZXJzW2tleV1cbiAgICAgICAgICAgIGlmICghdGlsZXMua2VlcCkgdGlsZXMuZGVzdHJveVRpbGVzKHRoaXMucXVhZFRyZWVzKVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIC8qIFRpbnQgYWxsIHRpbGVzXG4gICAgKiBAcGFyYW0ge251bWJlcn0gbGV2ZWwgLSBUaGUgem9vbSBsZXZlbCBvZiB0aGUgZ3JpZFxuICAgICovXG4gICAgdGludFRpbGVzQmVsb3dMZXZlbChsZXZlbCkge1xuICAgICAgICBPYmplY3Qua2V5cyh0aGlzLnRpbGVMYXllcnMpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICAgIGxldCB0aWxlcyA9IHRoaXMudGlsZUxheWVyc1trZXldXG4gICAgICAgICAgICBpZiAodGlsZXMubGV2ZWwgPCBsZXZlbCkge1xuICAgICAgICAgICAgICAgIHRpbGVzLnRpbnRUaWxlcyh0aGlzLnF1YWRUcmVlcylcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBfZXZlbnRMZXZlbChldmVudCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sZXZlbEZvclNjYWxlKGV2ZW50LnNjYWxlKVxuICAgIH1cblxuICAgIC8qKiBBIGNhbGxiYWNrIGZ1bmN0aW9uIHRoYXQgY2FuIGJlIHVzZWQgYnkgYSBTY2F0dGVyIHZpZXcgdG8gaW5mb3JtXG4gICAgICogdGhlIHpvb21hYmxlIGltYWdlIHRoYXQgaXQgaGFzIGJlZW4gbW92ZWQsIHJvdGF0ZWQgb3Igc2NhbGVkLCBhbmQgc2hvdWxkXG4gICAgICogbG9hZCB0aWxlcyBhY2NvcmRpbmdseS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IHRyYW5zbGF0ZWQgLSB0aGUgbW92ZW1lbnQgb2YgdGhlIHNjYXR0ZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGUgLSB0aGUgem9vbSBmYWN0b3JcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IGFib3V0IC0gdGhlIGFuY2hvciBwb2ludCBvZiB0aGUgem9vbVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gZmFzdCAtIGluZm9ybXMgdGhlIGNhbGxiYWNrIHRvIHJldHVybiBhcyBmYXN0IGFzIHBvc3NpYmxlLFxuICAgICAqICBpLmUuIGFmdGVyIGxvYWRpbmcgYSBzaW5nbGUgdGlsZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gZGVidWcgLSBsb2cgZGVidWcgaW5mb3NcbiAgICAgKi9cbiAgICB0cmFuc2Zvcm1lZChldmVudCkge1xuICAgICAgICBsZXQga2V5ID0gdGhpcy5jdXJyZW50TGV2ZWwudG9TdHJpbmcoKVxuICAgICAgICBsZXQgY3VycmVudFRpbGVzID0gdGhpcy50aWxlTGF5ZXJzW2tleV1cbiAgICAgICAgaWYgKGV2ZW50LmZhc3QpIHtcbiAgICAgICAgICAgIHRoaXMuZmFzdExvYWRzICs9IDFcbiAgICAgICAgICAgIHRoaXMucG9wdWxhdGVUaWxlcyhjdXJyZW50VGlsZXMsIHRoaXMuY3VycmVudExldmVsLCB7XG4gICAgICAgICAgICAgICAgb25seW9uZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgYWJvdXQ6IGV2ZW50LmFib3V0XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgdGhpcy5kZXN0cm95VGlsZXMoKVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2ZW50LnNjYWxlID09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuZW5zdXJlVGlsZXModGhpcy5jdXJyZW50TGV2ZWwsIGV2ZW50LmFib3V0KVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgbGV0IG5ld0xldmVsID0gTWF0aC5tYXgodGhpcy5fZXZlbnRMZXZlbChldmVudCksIHRoaXMubWluaW11bUxldmVsKVxuICAgICAgICBpZiAobmV3TGV2ZWwgIT0gdGhpcy5jdXJyZW50TGV2ZWwpIHtcbiAgICAgICAgICAgIGlmICghY3VycmVudFRpbGVzLmtlZXApIGN1cnJlbnRUaWxlcy5sb2FkZXIuY2FuY2VsKClcbiAgICAgICAgICAgIHRoaXMuZGVzdHJveVRpbGVzQWJvdmVMZXZlbChuZXdMZXZlbClcbiAgICAgICAgICAgIGlmICh0aGlzLmRlYnVnKSB0aGlzLnRpbnRUaWxlc0JlbG93TGV2ZWwobmV3TGV2ZWwpXG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3lUaWxlcygpXG4gICAgICAgICAgICBsZXQgdGlsZXMgPSB0aGlzLmVuc3VyZVRpbGVzKG5ld0xldmVsLCBldmVudC5hYm91dClcbiAgICAgICAgICAgIHRpbGVzLnVudGludFRpbGVzKClcbiAgICAgICAgICAgIHRoaXMuY3VycmVudExldmVsID0gbmV3TGV2ZWxcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZW5zdXJlVGlsZXModGhpcy5jdXJyZW50TGV2ZWwsIGV2ZW50LmFib3V0KVxuICAgICAgICAgICAgdGhpcy5kZXN0cm95VGlsZXMoKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2ZvcmVncm91bmQpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy5fZm9yZWdyb3VuZClcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8vaW1wb3J0IHtnZXRJZH0gZnJvbSAnLi91dGlscy5qcydcbi8vaW1wb3J0IHtET01TY2F0dGVyfSBmcm9tICcuL3NjYXR0ZXIuanMnXG5pbXBvcnQge2dldElkfSBmcm9tICcuLi9saWIvdXRpbHMuanMnXG5pbXBvcnQge0RPTVNjYXR0ZXJ9IGZyb20gJy4uL2xpYi9zY2F0dGVyLmpzJ1xuaW1wb3J0IEVwb2NoYWxBcHAgZnJvbSAnLi9lcG9jaGFsLmpzJ1xuXG5leHBvcnQgY2xhc3MgQ2FyZExvYWRlciB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHNyYyxcbiAgICAgICAge1xuICAgICAgICAgICAgeCA9IDAsXG4gICAgICAgICAgICB5ID0gMCxcbiAgICAgICAgICAgIHdpZHRoID0gMTAwMCxcbiAgICAgICAgICAgIGhlaWdodCA9IDgwMCxcbiAgICAgICAgICAgIG1heFdpZHRoID0gbnVsbCxcbiAgICAgICAgICAgIG1heEhlaWdodCA9IG51bGwsXG4gICAgICAgICAgICBzY2FsZSA9IDEsXG4gICAgICAgICAgICBtaW5TY2FsZSA9IDAuNSxcbiAgICAgICAgICAgIG1heFNjYWxlID0gMS41LFxuICAgICAgICAgICAgcm90YXRpb24gPSAwXG4gICAgICAgIH0gPSB7fVxuICAgICkge1xuICAgICAgICB0aGlzLnNyYyA9IHNyY1xuICAgICAgICB0aGlzLnggPSB4XG4gICAgICAgIHRoaXMueSA9IHlcbiAgICAgICAgdGhpcy5zY2FsZSA9IHNjYWxlXG4gICAgICAgIHRoaXMucm90YXRpb24gPSAwXG4gICAgICAgIHRoaXMubWF4U2NhbGUgPSBtYXhTY2FsZVxuICAgICAgICB0aGlzLm1pblNjYWxlID0gbWluU2NhbGVcbiAgICAgICAgdGhpcy53YW50ZWRXaWR0aCA9IHdpZHRoXG4gICAgICAgIHRoaXMud2FudGVkSGVpZ2h0ID0gaGVpZ2h0XG4gICAgICAgIHRoaXMubWF4V2lkdGggPSBtYXhXaWR0aCAhPSBudWxsID8gbWF4V2lkdGggOiB3aW5kb3cuaW5uZXJXaWR0aFxuICAgICAgICB0aGlzLm1heEhlaWdodCA9IG1heEhlaWdodCAhPSBudWxsID8gbWF4SGVpZ2h0IDogd2luZG93LmlubmVySGVpZ2h0XG4gICAgICAgIHRoaXMuYWRkZWROb2RlID0gbnVsbFxuICAgIH1cblxuICAgIHVubG9hZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuYWRkZWROb2RlKSB7XG4gICAgICAgICAgICB0aGlzLmFkZGVkTm9kZS5yZW1vdmUoKVxuICAgICAgICAgICAgdGhpcy5hZGRlZE5vZGUgPSBudWxsXG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQREZMb2FkZXIgZXh0ZW5kcyBDYXJkTG9hZGVyIHtcbiAgICBjb25zdHJ1Y3RvcihzcmMsIHt3aWR0aCA9IDE2NDAsIGhlaWdodCA9IDgwMCwgc2NhbGUgPSAxfSA9IHt9KSB7XG4gICAgICAgIHN1cGVyKHNyYywge3dpZHRoLCBoZWlnaHQsIHNjYWxlfSlcbiAgICAgICAgaWYgKHR5cGVvZiBQREZKUyA9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgYWxlcnQoJ1BERi5qcyBuZWVkZWQnKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgbG9hZChkb21Ob2RlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBQREZKUy5nZXREb2N1bWVudCh0aGlzLnNyYykudGhlbihwZGYgPT4ge1xuICAgICAgICAgICAgICAgIHBkZi5nZXRQYWdlKDEpLnRoZW4ocGFnZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzY2FsZSA9IHRoaXMuc2NhbGUgKiBhcHAucmVuZGVyZXIucmVzb2x1dGlvblxuICAgICAgICAgICAgICAgICAgICBsZXQgaW52U2NhbGUgPSAxIC8gc2NhbGVcbiAgICAgICAgICAgICAgICAgICAgbGV0IHZpZXdwb3J0ID0gcGFnZS5nZXRWaWV3cG9ydChzY2FsZSlcblxuICAgICAgICAgICAgICAgICAgICAvLyBQcmVwYXJlIGNhbnZhcyB1c2luZyBQREYgcGFnZSBkaW1lbnNpb25zLlxuICAgICAgICAgICAgICAgICAgICBsZXQgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJylcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKVxuICAgICAgICAgICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gdmlld3BvcnQuaGVpZ2h0XG4gICAgICAgICAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IHZpZXdwb3J0LndpZHRoXG5cbiAgICAgICAgICAgICAgICAgICAgLy8gUmVuZGVyIFBERiBwYWdlIGludG8gY2FudmFzIGNvbnRleHQuXG4gICAgICAgICAgICAgICAgICAgIGxldCByZW5kZXJDb250ZXh0ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzQ29udGV4dDogY29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZXdwb3J0OiB2aWV3cG9ydFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHBhZ2UucmVuZGVyKHJlbmRlckNvbnRleHQpXG4gICAgICAgICAgICAgICAgICAgIGRvbU5vZGUuYXBwZW5kQ2hpbGQoY2FudmFzKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLndhbnRlZFdpZHRoID0gY2FudmFzLndpZHRoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMud2FudGVkSGVpZ2h0ID0gY2FudmFzLmhlaWdodFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjYWxlID0gaW52U2NhbGVcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRlZE5vZGUgPSBjYW52YXNcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzKVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEltYWdlTG9hZGVyIGV4dGVuZHMgQ2FyZExvYWRlciB7XG4gICAgbG9hZChkb21Ob2RlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBsZXQgaXNJbWFnZSA9IGRvbU5vZGUgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50XG4gICAgICAgICAgICBsZXQgaW1hZ2UgPSBpc0ltYWdlID8gZG9tTm9kZSA6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpXG4gICAgICAgICAgICBpbWFnZS5vbmxvYWQgPSBlID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzSW1hZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgZG9tTm9kZS5hcHBlbmRDaGlsZChpbWFnZSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRlZE5vZGUgPSBpbWFnZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLndhbnRlZFdpZHRoID0gaW1hZ2UubmF0dXJhbFdpZHRoXG4gICAgICAgICAgICAgICAgdGhpcy53YW50ZWRIZWlnaHQgPSBpbWFnZS5uYXR1cmFsSGVpZ2h0XG5cbiAgICAgICAgICAgICAgICBsZXQgc2NhbGVXID0gdGhpcy5tYXhXaWR0aCAvIGltYWdlLm5hdHVyYWxXaWR0aFxuICAgICAgICAgICAgICAgIGxldCBzY2FsZUggPSB0aGlzLm1heEhlaWdodCAvIGltYWdlLm5hdHVyYWxIZWlnaHRcbiAgICAgICAgICAgICAgICB0aGlzLnNjYWxlID0gTWF0aC5taW4odGhpcy5tYXhTY2FsZSwgTWF0aC5taW4oc2NhbGVXLCBzY2FsZUgpKVxuICAgICAgICAgICAgICAgIGltYWdlLnNldEF0dHJpYnV0ZSgnZHJhZ2dhYmxlJywgZmFsc2UpXG4gICAgICAgICAgICAgICAgaW1hZ2Uud2lkdGggPSBpbWFnZS5uYXR1cmFsV2lkdGhcbiAgICAgICAgICAgICAgICBpbWFnZS5oZWlnaHQgPSBpbWFnZS5uYXR1cmFsSGVpZ2h0XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW1hZ2Uub25lcnJvciA9IGUgPT4ge1xuICAgICAgICAgICAgICAgIHJlamVjdCh0aGlzKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW1hZ2Uuc3JjID0gdGhpcy5zcmNcbiAgICAgICAgfSlcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGcmFtZUxvYWRlciBleHRlbmRzIENhcmRMb2FkZXIge1xuICAgIGxvYWQoZG9tTm9kZSkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgbGV0IGlzRnJhbWUgPSBkb21Ob2RlIGluc3RhbmNlb2YgSFRNTElGcmFtZUVsZW1lbnRcbiAgICAgICAgICAgIGxldCBpZnJhbWUgPSBpc0ZyYW1lID8gZG9tTm9kZSA6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRnJhbWVMb2FkZXIubG9hZCcsIGlzRnJhbWUsIGlmcmFtZSwgdGhpcy5zcmMpXG4gICAgICAgICAgICBpZnJhbWUuZnJhbWVCb3JkZXIgPSAwXG4gICAgICAgICAgICBpZnJhbWUuc3R5bGUuc2Nyb2xsaW5nID0gZmFsc2VcbiAgICAgICAgICAgIGlmcmFtZS53aWR0aCA9IHRoaXMud2FudGVkV2lkdGhcbiAgICAgICAgICAgIGlmcmFtZS5oZWlnaHQgPSB0aGlzLndhbnRlZEhlaWdodFxuICAgICAgICAgICAgaWYgKCFpc0ZyYW1lKSB7XG4gICAgICAgICAgICAgICAgLy8gVW5saWtlIGltZyBvbmxvYWQgaXMgb25seSB0cmlnZ2VyZWQgaWYgdGhlIGlmcmFtZSBpcyBwYXJ0IG9mIHRoZSBET00gdHJlZVxuICAgICAgICAgICAgICAgIGRvbU5vZGUuYXBwZW5kQ2hpbGQoaWZyYW1lKVxuICAgICAgICAgICAgICAgIHRoaXMuYWRkZWROb2RlID0gaWZyYW1lXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZnJhbWUub25sb2FkID0gZSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWZyYW1lLm9uZXJyb3IgPSBlID0+IHtcbiAgICAgICAgICAgICAgICByZWplY3QodGhpcylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmcmFtZS5zcmMgPSB0aGlzLnNyY1xuICAgICAgICB9KVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEhUTUxMb2FkZXIgZXh0ZW5kcyBDYXJkTG9hZGVyIHtcbiAgICBsb2FkKGRvbU5vZGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGxldCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKVxuICAgICAgICAgICAgeGhyLm9wZW4oJ0dFVCcsIHRoaXMuc3JjLCBmYWxzZSlcbiAgICAgICAgICAgIHhoci5vbmxvYWQgPSBlID0+IHtcbiAgICAgICAgICAgICAgICBkb21Ob2RlLmlubmVySFRNTCA9IHhoci5yZXNwb25zZVxuICAgICAgICAgICAgICAgIHRoaXMuYWRkZWROb2RlID0gZG9tTm9kZS5maXJzdEVsZW1lbnRDaGlsZFxuICAgICAgICAgICAgICAgIGxldCByZWN0ID0gdGhpcy5hZGRlZE5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICAgICAgICAgICAgICB0aGlzLndhbnRlZFdpZHRoID0gcmVjdC53aWR0aFxuICAgICAgICAgICAgICAgIHRoaXMud2FudGVkSGVpZ2h0ID0gcmVjdC5oZWlnaHRcbiAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB4aHIub25lcnJvciA9IGUgPT4ge1xuICAgICAgICAgICAgICAgIHJlamVjdCh0aGlzKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgeGhyLnNlbmQoKVxuICAgICAgICB9KVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIERPTUZsaXAge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBkb21TY2F0dGVyQ29udGFpbmVyLFxuICAgICAgICBmbGlwVGVtcGxhdGUsXG4gICAgICAgIGZyb250TG9hZGVyLFxuICAgICAgICBiYWNrTG9hZGVyLFxuICAgICAgICB7XG4gICAgICAgICAgICBhdXRvTG9hZCA9IGZhbHNlLFxuICAgICAgICAgICAgY2VudGVyID0gbnVsbCxcbiAgICAgICAgICAgIHByZWxvYWRCYWNrID0gZmFsc2UsXG4gICAgICAgICAgICB0cmFuc2xhdGFibGUgPSB0cnVlLFxuICAgICAgICAgICAgc2NhbGFibGUgPSB0cnVlLFxuICAgICAgICAgICAgcm90YXRhYmxlID0gdHJ1ZSxcbiAgICAgICAgICAgIG9uRnJvbnQgPSBudWxsLFxuICAgICAgICAgICAgb25CYWNrID0gbnVsbCxcbiAgICAgICAgICAgIG9uQ2xvc2UgPSBudWxsLFxuICAgICAgICAgICAgb25VcGRhdGUgPSBudWxsLFxuICAgICAgICAgICAgb25SZW1vdmVkID0gbnVsbFxuICAgICAgICB9ID0ge31cbiAgICApIHtcbiAgICAgICAgdGhpcy5kb21TY2F0dGVyQ29udGFpbmVyID0gZG9tU2NhdHRlckNvbnRhaW5lclxuICAgICAgICB0aGlzLmlkID0gZ2V0SWQoKVxuICAgICAgICB0aGlzLmZsaXBUZW1wbGF0ZSA9IGZsaXBUZW1wbGF0ZVxuICAgICAgICB0aGlzLmZyb250TG9hZGVyID0gZnJvbnRMb2FkZXJcbiAgICAgICAgdGhpcy5iYWNrTG9hZGVyID0gYmFja0xvYWRlclxuICAgICAgICB0aGlzLnRyYW5zbGF0YWJsZSA9IHRyYW5zbGF0YWJsZVxuICAgICAgICB0aGlzLnNjYWxhYmxlID0gc2NhbGFibGVcbiAgICAgICAgdGhpcy5yb3RhdGFibGUgPSByb3RhdGFibGVcbiAgICAgICAgdGhpcy5vbkZyb250RmxpcHBlZCA9IG9uRnJvbnRcbiAgICAgICAgdGhpcy5vbkJhY2tGbGlwcGVkID0gb25CYWNrXG4gICAgICAgIHRoaXMub25DbG9zZSA9IG9uQ2xvc2VcbiAgICAgICAgdGhpcy5vblJlbW92ZWQgPSBvblJlbW92ZWRcbiAgICAgICAgdGhpcy5vblVwZGF0ZSA9IG9uVXBkYXRlXG4gICAgICAgIHRoaXMuY2VudGVyID0gY2VudGVyXG4gICAgICAgIHRoaXMucHJlbG9hZEJhY2sgPSBwcmVsb2FkQmFja1xuICAgICAgICBpZiAoYXV0b0xvYWQpIHtcbiAgICAgICAgICAgIHRoaXMubG9hZCgpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBsb2FkKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgbGV0IHQgPSB0aGlzLmZsaXBUZW1wbGF0ZVxuICAgICAgICAgICAgbGV0IGRvbSA9IHRoaXMuZG9tU2NhdHRlckNvbnRhaW5lci5lbGVtZW50XG4gICAgICAgICAgICBsZXQgd3JhcHBlciA9IHQuY29udGVudC5xdWVyeVNlbGVjdG9yKCcuZmxpcFdyYXBwZXInKVxuICAgICAgICAgICAgd3JhcHBlci5pZCA9IHRoaXMuaWRcbiAgICAgICAgICAgIGxldCBjbG9uZSA9IGRvY3VtZW50LmltcG9ydE5vZGUodC5jb250ZW50LCB0cnVlKVxuICAgICAgICAgICAgZG9tLmFwcGVuZENoaWxkKGNsb25lKVxuICAgICAgICAgICAgLy8gV2UgY2Fubm90IHVzZSB0aGUgZG9jdW1lbnQgZnJhZ21lbnQgaXRzZWxmIGJlY2F1c2UgaXRcbiAgICAgICAgICAgIC8vIGlzIG5vdCBwYXJ0IG9mIHRoZSBtYWluIGRvbSB0cmVlLiBBZnRlciB0aGUgYXBwZW5kQ2hpbGRcbiAgICAgICAgICAgIC8vIGNhbGwgd2UgY2FuIGFjY2VzcyB0aGUgbmV3IGRvbSBlbGVtZW50IGJ5IGlkXG4gICAgICAgICAgICB0aGlzLmNhcmRXcmFwcGVyID0gZG9tLnF1ZXJ5U2VsZWN0b3IoJyMnICsgdGhpcy5pZClcbiAgICAgICAgICAgIGxldCBmcm9udCA9IHRoaXMuY2FyZFdyYXBwZXIucXVlcnlTZWxlY3RvcignLmZyb250JylcbiAgICAgICAgICAgIHRoaXMuZnJvbnRMb2FkZXIubG9hZChmcm9udCkudGhlbihsb2FkZXIgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRMb2FkZWQobG9hZGVyKS50aGVuKHJlc29sdmUpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGZyb250TG9hZGVkKGxvYWRlcikge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgbGV0IHNjYXR0ZXIgPSBuZXcgRE9NU2NhdHRlcihcbiAgICAgICAgICAgICAgICB0aGlzLmNhcmRXcmFwcGVyLFxuICAgICAgICAgICAgICAgIHRoaXMuZG9tU2NhdHRlckNvbnRhaW5lcixcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHg6IGxvYWRlci54LFxuICAgICAgICAgICAgICAgICAgICB5OiBsb2FkZXIueSxcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRTY2FsZTogbG9hZGVyLnNjYWxlLFxuICAgICAgICAgICAgICAgICAgICBzY2FsZTogbG9hZGVyLnNjYWxlLFxuICAgICAgICAgICAgICAgICAgICBtYXhTY2FsZTogbG9hZGVyLm1heFNjYWxlLFxuICAgICAgICAgICAgICAgICAgICBtaW5TY2FsZTogbG9hZGVyLm1pblNjYWxlLFxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogbG9hZGVyLndhbnRlZFdpZHRoLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGxvYWRlci53YW50ZWRIZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiBsb2FkZXIucm90YXRpb24sXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0YWJsZTogdGhpcy50cmFuc2xhdGFibGUsXG4gICAgICAgICAgICAgICAgICAgIHNjYWxhYmxlOiB0aGlzLnNjYWxhYmxlLFxuICAgICAgICAgICAgICAgICAgICByb3RhdGFibGU6IHRoaXMucm90YXRhYmxlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgaWYgKHRoaXMuY2VudGVyKSB7XG4gICAgICAgICAgICAgICAgc2NhdHRlci5jZW50ZXJBdCh0aGlzLmNlbnRlcilcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGZsaXBwYWJsZSA9IG5ldyBET01GbGlwcGFibGUodGhpcy5jYXJkV3JhcHBlciwgc2NhdHRlciwgdGhpcylcbiAgICAgICAgICAgIGxldCBiYWNrID0gdGhpcy5jYXJkV3JhcHBlci5xdWVyeVNlbGVjdG9yKCcuYmFjaycpXG5cbiAgICAgICAgICAgIGlmICh0aGlzLnByZWxvYWRCYWNrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5iYWNrTG9hZGVyLmxvYWQoYmFjaykudGhlbihsb2FkZXIgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldHVwRmxpcHBhYmxlKGZsaXBwYWJsZSwgbG9hZGVyKVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmZsaXBwYWJsZSA9IGZsaXBwYWJsZVxuICAgICAgICAgICAgcmVzb2x2ZSh0aGlzKVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGNlbnRlckF0KHApIHtcbiAgICAgICAgdGhpcy5jZW50ZXIgPSBwXG4gICAgICAgIHRoaXMuZmxpcHBhYmxlLmNlbnRlckF0KHApXG4gICAgfVxuXG4gICAgem9vbShzY2FsZSkge1xuICAgICAgICB0aGlzLmZsaXBwYWJsZS56b29tKHNjYWxlKVxuICAgIH1cblxuICAgIHNldHVwRmxpcHBhYmxlKGZsaXBwYWJsZSwgbG9hZGVyKSB7XG4gICAgICAgIGZsaXBwYWJsZS53YW50ZWRXaWR0aCA9IGxvYWRlci53YW50ZWRXaWR0aFxuICAgICAgICBmbGlwcGFibGUud2FudGVkSGVpZ2h0ID0gbG9hZGVyLndhbnRlZEhlaWdodFxuICAgICAgICBmbGlwcGFibGUud2FudGVkU2NhbGUgPSBsb2FkZXIuc2NhbGVcbiAgICAgICAgZmxpcHBhYmxlLm1pblNjYWxlID0gbG9hZGVyLm1pblNjYWxlXG4gICAgICAgIGZsaXBwYWJsZS5tYXhTY2FsZSA9IGxvYWRlci5tYXhTY2FsZVxuICAgICAgICBmbGlwcGFibGUuc2NhbGVCdXR0b25zKClcbiAgICB9XG5cbiAgICBzdGFydCh7ZHVyYXRpb24gPSAxLjAsIHRhcmdldENlbnRlciA9IG51bGx9ID0ge30pIHtcbiAgICAgICAgLy9jb25zb2xlLmxvZygnRE9NRmxpcC5zdGFydCcsIHRhcmdldENlbnRlcilcbiAgICAgICAgaWYgKHRoaXMucHJlbG9hZEJhY2spIHRoaXMuZmxpcHBhYmxlLnN0YXJ0KHtkdXJhdGlvbiwgdGFyZ2V0Q2VudGVyfSlcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgYmFjayA9IHRoaXMuY2FyZFdyYXBwZXIucXVlcnlTZWxlY3RvcignLmJhY2snKVxuICAgICAgICAgICAgbGV0IGZsaXBwYWJsZSA9IHRoaXMuZmxpcHBhYmxlXG4gICAgICAgICAgICB0aGlzLmJhY2tMb2FkZXIubG9hZChiYWNrKS50aGVuKGxvYWRlciA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXR1cEZsaXBwYWJsZShmbGlwcGFibGUsIGxvYWRlcilcbiAgICAgICAgICAgICAgICBmbGlwcGFibGUuc3RhcnQoe2R1cmF0aW9uLCB0YXJnZXRDZW50ZXJ9KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZhZGVPdXRBbmRSZW1vdmUoKSB7XG4gICAgICAgIFR3ZWVuTGl0ZS50byh0aGlzLmNhcmRXcmFwcGVyLCAwLjIsIHtcbiAgICAgICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgICAgICBvbkNvbXBsZXRlOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYXJkV3JhcHBlci5yZW1vdmUoKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGNsb3NlZCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnByZWxvYWRCYWNrKSB7XG4gICAgICAgICAgICB0aGlzLmJhY2tMb2FkZXIudW5sb2FkKClcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIERPTUZsaXBwYWJsZSB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgc2NhdHRlciwgZmxpcCkge1xuICAgICAgICAvLyBTZXQgbG9nIHRvIGNvbnNvbGUubG9nIG9yIGEgY3VzdG9tIGxvZyBmdW5jdGlvblxuICAgICAgICAvLyBkZWZpbmUgZGF0YSBzdHJ1Y3R1cmVzIHRvIHN0b3JlIG91ciB0b3VjaHBvaW50cyBpblxuXG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnRcbiAgICAgICAgdGhpcy5mbGlwID0gZmxpcFxuICAgICAgICB0aGlzLmNhcmQgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mbGlwQ2FyZCcpXG4gICAgICAgIHRoaXMuZnJvbnQgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mcm9udCcpXG4gICAgICAgIHRoaXMuYmFjayA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignLmJhY2snKVxuICAgICAgICB0aGlzLmZsaXBwZWQgPSBmYWxzZVxuICAgICAgICB0aGlzLnNjYXR0ZXIgPSBzY2F0dGVyXG4gICAgICAgIHRoaXMub25Gcm9udEZsaXBwZWQgPSBmbGlwLm9uRnJvbnRGbGlwcGVkXG4gICAgICAgIHRoaXMub25CYWNrRmxpcHBlZCA9IGZsaXAub25CYWNrRmxpcHBlZFxuICAgICAgICB0aGlzLm9uQ2xvc2UgPSBmbGlwLm9uQ2xvc2VcbiAgICAgICAgdGhpcy5vblJlbW92ZWQgPSBmbGlwLm9uUmVtb3ZlZFxuICAgICAgICB0aGlzLm9uVXBkYXRlID0gZmxpcC5vblVwZGF0ZVxuICAgICAgICBzY2F0dGVyLmFkZFRyYW5zZm9ybUV2ZW50Q2FsbGJhY2sodGhpcy5zY2F0dGVyVHJhbnNmb3JtZWQuYmluZCh0aGlzKSlcbiAgICAgICAgY29uc29sZS5sb2coJ2xpYi5ET01GbGlwcGFibGUnLCA1MDAwKVxuICAgICAgICBUd2VlbkxpdGUuc2V0KHRoaXMuZWxlbWVudCwge3BlcnNwZWN0aXZlOiA1MDAwfSlcbiAgICAgICAgVHdlZW5MaXRlLnNldCh0aGlzLmNhcmQsIHt0cmFuc2Zvcm1TdHlsZTogJ3ByZXNlcnZlLTNkJ30pXG4gICAgICAgIFR3ZWVuTGl0ZS5zZXQodGhpcy5iYWNrLCB7cm90YXRpb25ZOiAtMTgwfSlcbiAgICAgICAgVHdlZW5MaXRlLnNldChbdGhpcy5iYWNrLCB0aGlzLmZyb250XSwge1xuICAgICAgICAgICAgYmFja2ZhY2VWaXNpYmlsaXR5OiAnaGlkZGVuJyxcbiAgICAgICAgICAgIHBlcnNwZWN0aXZlOiA1MDAwXG4gICAgICAgIH0pXG4gICAgICAgIFR3ZWVuTGl0ZS5zZXQodGhpcy5mcm9udCwge3Zpc2liaWxpdHk6ICd2aXNpYmxlJ30pXG4gICAgICAgIHRoaXMuaW5mb0J0biA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignLmluZm9CdG4nKVxuICAgICAgICB0aGlzLmJhY2tCdG4gPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5iYWNrQnRuJylcbiAgICAgICAgdGhpcy5jbG9zZUJ0biA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignLmNsb3NlQnRuJylcbiAgICAgICAgLyogQnV0dG9ucyBhcmUgbm90IGd1YXJhbnRlZWQgdG8gZXhpc3QuICovXG4gICAgICAgIGlmICh0aGlzLmluZm9CdG4pIHtcbiAgICAgICAgICAgIHRoaXMuaW5mb0J0bi5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZmxpcC5zdGFydCgpXG4gICAgICAgICAgICAgICAgLy9sb2dnaW5nXG4gICAgICAgICAgICAgICAgYXBwLmxvZyhcImltYWdlIGZsaXBwZWQgdG8gYmFja1wiLHtpZDogZmxpcC5mbGlwcGFibGUuZGF0YS5udW1iZXJ9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zaG93KHRoaXMuaW5mb0J0bilcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5iYWNrQnRuKSB7XG4gICAgICAgICAgICB0aGlzLmJhY2tCdG4ub25jbGljayA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0KClcbiAgICAgICAgICAgICAgICAvL2xvZ2dpbmdcbiAgICAgICAgICAgICAgICBhcHAubG9nKFwiaW1hZ2UgZmxpcHBlZCB0byBmcm9udFwiLHtpZDogZmxpcC5mbGlwcGFibGUuZGF0YS5udW1iZXJ9KVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNsb3NlQnRuKSB7XG4gICAgICAgICAgICB0aGlzLmNsb3NlQnRuLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNob3codGhpcy5jbG9zZUJ0bilcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNjYWxlQnV0dG9ucygpXG4gICAgICAgIHRoaXMuYnJpbmdUb0Zyb250KClcbiAgICB9XG5cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgdGhpcy5oaWRlKHRoaXMuaW5mb0J0bilcbiAgICAgICAgdGhpcy5oaWRlKHRoaXMuY2xvc2VCdG4pXG4gICAgICAgIGlmICh0aGlzLm9uQ2xvc2UpIHtcbiAgICAgICAgICAgIHRoaXMub25DbG9zZSh0aGlzKVxuICAgICAgICAgICAgdGhpcy5mbGlwLmNsb3NlZCgpXG4gICAgICAgICAgICAvL2xvZ2dpbmdcbiAgICAgICAgICAgIGFwcC5sb2coXCJpbWFnZSBjbG9zZWQgdmlhIGJ1dHRvblwiLHtpZDogdGhpcy5mbGlwLmZsaXBwYWJsZS5kYXRhLm51bWJlcn0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNjYXR0ZXIuem9vbSgwLjEsIHtcbiAgICAgICAgICAgICAgICBhbmltYXRlOiAwLjUsXG4gICAgICAgICAgICAgICAgb25Db21wbGV0ZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlKClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mbGlwLmNsb3NlZCgpXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9uUmVtb3ZlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vblJlbW92ZWQuY2FsbCh0aGlzKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNob3dGcm9udCgpIHtcbiAgICAgICAgVHdlZW5MaXRlLnNldCh0aGlzLmZyb250LCB7dmlzaWJpbGl0eTogJ3Zpc2libGUnfSlcbiAgICB9XG5cbiAgICBjZW50ZXJBdChwKSB7XG4gICAgICAgIHRoaXMuc2NhdHRlci5jZW50ZXJBdChwKVxuICAgIH1cblxuICAgIHpvb20oc2NhbGUpIHtcbiAgICAgICAgdGhpcy5zY2F0dGVyLnpvb20oc2NhbGUpXG4gICAgfVxuXG4gICAgZ2V0IGJ1dHRvblNjYWxlKCkge1xuICAgICAgICBsZXQgaXNjYWxlID0gMS4wXG4gICAgICAgIGlmICh0aGlzLnNjYXR0ZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgaXNjYWxlID0gMS4wIC8gdGhpcy5zY2F0dGVyLnNjYWxlXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlzY2FsZVxuICAgIH1cblxuICAgIHNjYWxlQnV0dG9ucygpIHtcbiAgICAgICAgVHdlZW5MaXRlLnNldChbdGhpcy5pbmZvQnRuLCB0aGlzLmJhY2tCdG4sIHRoaXMuY2xvc2VCdG5dLCB7XG4gICAgICAgICAgICBzY2FsZTogdGhpcy5idXR0b25TY2FsZVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGJyaW5nVG9Gcm9udCgpIHtcbiAgICAgICAgdGhpcy5zY2F0dGVyLmJyaW5nVG9Gcm9udCgpXG4gICAgICAgIFR3ZWVuTGl0ZS5zZXQodGhpcy5lbGVtZW50LCB7ekluZGV4OiBET01TY2F0dGVyLnpJbmRleCsrfSlcbiAgICB9XG5cbiAgICBjbGlja0luZm8oKSB7XG4gICAgICAgIHRoaXMuYnJpbmdUb0Zyb250KClcbiAgICAgICAgdGhpcy5pbmZvQnRuLmNsaWNrKClcbiAgICB9XG5cbiAgICBzY2F0dGVyVHJhbnNmb3JtZWQoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5zY2FsZUJ1dHRvbnMoKVxuICAgIH1cblxuICAgIHRhcmdldFJvdGF0aW9uKGFscGhhKSB7XG4gICAgICAgIGxldCBvcnRobyA9IDkwXG4gICAgICAgIGxldCByZXN0ID0gYWxwaGEgJSBvcnRob1xuICAgICAgICBsZXQgZGVsdGEgPSAwLjBcbiAgICAgICAgaWYgKHJlc3QgPiBvcnRobyAvIDIuMCkge1xuICAgICAgICAgICAgZGVsdGEgPSBvcnRobyAtIHJlc3RcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRlbHRhID0gLXJlc3RcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGVsdGFcbiAgICB9XG5cbiAgICBpbmZvVmFsdWVzKGluZm8pIHtcbiAgICAgICAgbGV0IHN0YXJ0WCA9IHRoaXMuZWxlbWVudC5fZ3NUcmFuc2Zvcm0ueFxuICAgICAgICBsZXQgc3RhcnRZID0gdGhpcy5lbGVtZW50Ll9nc1RyYW5zZm9ybS55XG4gICAgICAgIGxldCBzdGFydEFuZ2xlID0gdGhpcy5lbGVtZW50Ll9nc1RyYW5zZm9ybS5yb3RhdGlvblxuICAgICAgICBsZXQgc3RhcnRTY2FsZSA9IHRoaXMuZWxlbWVudC5fZ3NUcmFuc2Zvcm0uc2NhbGVYXG4gICAgICAgIGxldCB3ID0gdGhpcy5lbGVtZW50LnN0eWxlLndpZHRoXG4gICAgICAgIGxldCBoID0gdGhpcy5lbGVtZW50LnN0eWxlLmhlaWdodFxuICAgICAgICBjb25zb2xlLmxvZyhpbmZvLCBzdGFydFgsIHN0YXJ0WSwgc3RhcnRBbmdsZSwgc3RhcnRTY2FsZSwgdywgaClcbiAgICB9XG5cbiAgICBzaG93KGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIFR3ZWVuTGl0ZS5zZXQoZWxlbWVudCwge3Zpc2liaWxpdHk6ICd2aXNpYmxlJywgZGlzcGxheTogJ2luaXRpYWwnfSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhpZGUoZWxlbWVudCkge1xuICAgICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICAgICAgVHdlZW5MaXRlLnNldChlbGVtZW50LCB7dmlzaWJpbGl0eTogJ2hpZGRlbicsIGRpc3BsYXk6ICdub25lJ30pXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGFydCh7ZHVyYXRpb24gPSAxLjAsIHRhcmdldENlbnRlciA9IG51bGx9ID0ge30pIHtcbiAgICAgICAgdGhpcy5icmluZ1RvRnJvbnQoKVxuICAgICAgICBpZiAoIXRoaXMuZmxpcHBlZCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydFggPSB0aGlzLmVsZW1lbnQuX2dzVHJhbnNmb3JtLnhcbiAgICAgICAgICAgIHRoaXMuc3RhcnRZID0gdGhpcy5lbGVtZW50Ll9nc1RyYW5zZm9ybS55XG4gICAgICAgICAgICB0aGlzLnN0YXJ0QW5nbGUgPSB0aGlzLmVsZW1lbnQuX2dzVHJhbnNmb3JtLnJvdGF0aW9uXG4gICAgICAgICAgICB0aGlzLnN0YXJ0U2NhbGUgPSB0aGlzLmVsZW1lbnQuX2dzVHJhbnNmb3JtLnNjYWxlWFxuICAgICAgICAgICAgdGhpcy5zdGFydFdpZHRoID0gdGhpcy5lbGVtZW50LnN0eWxlLndpZHRoXG4gICAgICAgICAgICB0aGlzLnN0YXJ0SGVpZ2h0ID0gdGhpcy5lbGVtZW50LnN0eWxlLmhlaWdodFxuICAgICAgICAgICAgdGhpcy5zY2F0dGVyU3RhcnRXaWR0aCA9IHRoaXMuc2NhdHRlci53aWR0aFxuICAgICAgICAgICAgdGhpcy5zY2F0dGVyU3RhcnRIZWlnaHQgPSB0aGlzLnNjYXR0ZXIuaGVpZ2h0XG4gICAgICAgICAgICB0aGlzLnNob3codGhpcy5iYWNrKVxuICAgICAgICAgICAgdGhpcy5oaWRlKHRoaXMuaW5mb0J0bilcbiAgICAgICAgICAgIHRoaXMuaGlkZSh0aGlzLmNsb3NlQnRuKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zaG93KHRoaXMuZnJvbnQpXG4gICAgICAgICAgICB0aGlzLmhpZGUodGhpcy5iYWNrQnRuKVxuICAgICAgICB9XG4gICAgICAgIGxldCB7c2NhbGFibGUsIHRyYW5zbGF0YWJsZSwgcm90YXRhYmxlfSA9IHRoaXMuc2NhdHRlclxuICAgICAgICB0aGlzLnNhdmVkID0ge3NjYWxhYmxlLCB0cmFuc2xhdGFibGUsIHJvdGF0YWJsZX1cbiAgICAgICAgdGhpcy5zY2F0dGVyLnNjYWxhYmxlID0gZmFsc2VcbiAgICAgICAgdGhpcy5zY2F0dGVyLnRyYW5zbGF0YWJsZSA9IGZhbHNlXG4gICAgICAgIHRoaXMuc2NhdHRlci5yb3RhdGFibGUgPSBmYWxzZVxuICAgICAgICB0aGlzLnNjYXR0ZXIua2lsbEFuaW1hdGlvbigpXG5cbiAgICAgICAgdGhpcy5mbGlwcGVkID0gIXRoaXMuZmxpcHBlZFxuICAgICAgICBsZXQgdGFyZ2V0WSA9IHRoaXMuZmxpcHBlZCA/IDE4MCA6IDBcbiAgICAgICAgbGV0IHRhcmdldFogPSB0aGlzLmZsaXBwZWRcbiAgICAgICAgICAgID8gdGhpcy5zdGFydEFuZ2xlICsgdGhpcy50YXJnZXRSb3RhdGlvbih0aGlzLnN0YXJ0QW5nbGUpXG4gICAgICAgICAgICA6IHRoaXMuc3RhcnRBbmdsZVxuICAgICAgICBsZXQgdGFyZ2V0U2NhbGUgPSB0aGlzLmZsaXBwZWQgPyB0aGlzLndhbnRlZFNjYWxlIDogdGhpcy5zdGFydFNjYWxlXG4gICAgICAgIGxldCB3ID0gdGhpcy5mbGlwcGVkID8gdGhpcy53YW50ZWRXaWR0aCA6IHRoaXMuc3RhcnRXaWR0aFxuICAgICAgICBsZXQgaCA9IHRoaXMuZmxpcHBlZCA/IHRoaXMud2FudGVkSGVpZ2h0IDogdGhpcy5zdGFydEhlaWdodFxuICAgICAgICBsZXQgZHcgPSB0aGlzLndhbnRlZFdpZHRoIC0gdGhpcy5zY2F0dGVyLndpZHRoXG4gICAgICAgIGxldCBkaCA9IHRoaXMud2FudGVkSGVpZ2h0IC0gdGhpcy5zY2F0dGVyLmhlaWdodFxuICAgICAgICBsZXQgdGMgPSB0YXJnZXRDZW50ZXJcbiAgICAgICAgbGV0IHh4ID0gdGMgIT0gbnVsbCA/IHRjLnggLSB3IC8gMiA6IHRoaXMuc3RhcnRYIC0gZHcgLyAyXG4gICAgICAgIGxldCB5eSA9IHRjICE9IG51bGwgPyB0Yy55IC0gaCAvIDIgOiB0aGlzLnN0YXJ0WSAtIGRoIC8gMlxuICAgICAgICBsZXQgeCA9IHRoaXMuZmxpcHBlZCA/IHh4IDogdGhpcy5zdGFydFhcbiAgICAgICAgbGV0IHkgPSB0aGlzLmZsaXBwZWQgPyB5eSA6IHRoaXMuc3RhcnRZXG5cbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJET01GbGlwcGFibGUuc3RhcnRcIiwgdGhpcy5mbGlwcGVkLCB0YXJnZXRDZW50ZXIsIHgsIHksIHRoaXMuc2F2ZWQpXG4gICAgICAgIGxldCBvblVwZGF0ZSA9IHRoaXMub25VcGRhdGUgIT09IG51bGwgPyAoKSA9PiB0aGlzLm9uVXBkYXRlKHRoaXMpIDogbnVsbFxuICAgICAgICBUd2VlbkxpdGUudG8odGhpcy5jYXJkLCBkdXJhdGlvbiwge1xuICAgICAgICAgICAgcm90YXRpb25ZOiB0YXJnZXRZLFxuICAgICAgICAgICAgZWFzZTogUG93ZXIzLmVhc2VPdXQsXG4gICAgICAgICAgICB0cmFuc2Zvcm1PcmlnaW46ICc1MCUgNTAlJyxcbiAgICAgICAgICAgIG9uVXBkYXRlLFxuICAgICAgICAgICAgb25Db21wbGV0ZTogZSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZmxpcHBlZCkge1xuICAgICAgICAgICAgICAgICAgICAvL3RoaXMuaGlkZSh0aGlzLmZyb250KVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3codGhpcy5iYWNrQnRuKVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vbkZyb250RmxpcHBlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkZyb250RmxpcHBlZCh0aGlzKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy90aGlzLmhpZGUodGhpcy5iYWNrKVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vbkJhY2tGbGlwcGVkID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvdyh0aGlzLmluZm9CdG4pXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3codGhpcy5jbG9zZUJ0bilcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25CYWNrRmxpcHBlZCh0aGlzKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmxpcC5jbG9zZWQoKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnNjYXR0ZXIuc2NhbGUgPSB0YXJnZXRTY2FsZVxuICAgICAgICAgICAgICAgIHRoaXMuc2NhbGVCdXR0b25zKClcbiAgICAgICAgICAgICAgICB0aGlzLnNjYXR0ZXIucm90YXRpb25EZWdyZWVzID0gdGFyZ2V0WlxuICAgICAgICAgICAgICAgIHRoaXMuc2NhdHRlci53aWR0aCA9IHRoaXMuZmxpcHBlZCA/IHcgOiB0aGlzLnNjYXR0ZXJTdGFydFdpZHRoXG4gICAgICAgICAgICAgICAgdGhpcy5zY2F0dGVyLmhlaWdodCA9IHRoaXMuZmxpcHBlZCA/IGggOiB0aGlzLnNjYXR0ZXJTdGFydEhlaWdodFxuXG4gICAgICAgICAgICAgICAgbGV0IHtzY2FsYWJsZSwgdHJhbnNsYXRhYmxlLCByb3RhdGFibGV9ID0gdGhpcy5zYXZlZFxuICAgICAgICAgICAgICAgIHRoaXMuc2NhdHRlci5zY2FsYWJsZSA9IHNjYWxhYmxlXG4gICAgICAgICAgICAgICAgdGhpcy5zY2F0dGVyLnRyYW5zbGF0YWJsZSA9IHRyYW5zbGF0YWJsZVxuICAgICAgICAgICAgICAgIHRoaXMuc2NhdHRlci5yb3RhdGFibGUgPSByb3RhdGFibGVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmb3JjZTNEOiB0cnVlXG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8gU2VlIGh0dHBzOi8vZ3JlZW5zb2NrLmNvbS9mb3J1bXMvdG9waWMvNzk5Ny1yb3RhdGUtdGhlLXNob3J0ZXN0LXdheS9cbiAgICAgICAgVHdlZW5MaXRlLnRvKHRoaXMuZWxlbWVudCwgZHVyYXRpb24gLyAyLCB7XG4gICAgICAgICAgICBzY2FsZTogdGFyZ2V0U2NhbGUsXG4gICAgICAgICAgICBlYXNlOiBQb3dlcjMuZWFzZU91dCxcbiAgICAgICAgICAgIHJvdGF0aW9uWjogdGFyZ2V0WiArICdfc2hvcnQnLFxuICAgICAgICAgICAgdHJhbnNmb3JtT3JpZ2luOiAnNTAlIDUwJScsXG4gICAgICAgICAgICB3aWR0aDogdyxcbiAgICAgICAgICAgIGhlaWdodDogaCxcbiAgICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgICB5OiB5LFxuICAgICAgICAgICAgb25Db21wbGV0ZTogZSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZmxpcHBlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhpZGUodGhpcy5mcm9udClcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhpZGUodGhpcy5iYWNrKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG59XG4iLCJpbXBvcnQge0VsZW1lbnRzfSBmcm9tIFwiLi91dGlscy5qc1wiXG5cbi8qKiBBIFBvcHVwIHRoYXQgc2hvd3MgdGV4dCBsYWJlbHMsIGltYWdlcywgb3IgaHRtbFxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gICAgLyoqXG4gICAgKiBUaGUgY29uc3RydWN0b3IuXG4gICAgKiBAY29uc3RydWN0b3JcbiAgICAqIEBwYXJhbSB7RE9NIEVsZW1lbnR9IHBhcmVudCAtIFRoZSBET00gcGFyZW50IGVsZW1lbnQuXG4gICAgKiBAcGFyYW0ge09iamVjdH0gY29udGVudCAtIEEgZGljdCBvYmplY3Qgd2l0aCB0eXBlIHN0cmluZ3MgKHRleHQsIGltZywgaHRtbCkgYXMga2V5c1xuICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5kIGNvcnJlc3BvbmRpbmcgdmFsdWVzLlxuICAgICogQHBhcmFtIHtzdHJpbmd9IGZvbnRTaXplIC0gRGVzY3JpYmVzIHRoZSBmb250IHNpemUgYXMgQ1NTIHZhbHVlXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gZm9udEZhbWlseSAtIERlc2NyaWJlcyB0aGUgZm9udCBmYW1pbHkgYXMgQ1NTIHZhbHVlXG4gICAgKiBAcGFyYW0ge251bWJlciB8fCBzdHJpbmd9IHBhZGRpbmcgLSBEZXNjcmliZXMgdGhlIHBhZGRpbmcgYXMgQ1NTIHZhbHVlXG4gICAgKiBAcGFyYW0ge251bWJlciB8fCBzdHJpbmd9IG5vdGNoU2l6ZSAtIERlc2NyaWJlcyB0aGUgc2l6ZSBvZiB0aGUgbm90Y2ggKGNhbGxvdXQpIGFzIENTUyB2YWx1ZVxuICAgICogQHBhcmFtIHtzdHJpbmd9IGJhY2tncm91bmRDb2xvciAgLSBUaGUgY29sb3Igb2YgdGhlIGJhY2tncm91bmQgYXMgQ1NTIHZhbHVlXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gbm9ybWFsQ29sb3IgIC0gVGhlIGNvbG9yIG9mIHRleHRpdGVtcyBhcyBDU1MgdmFsdWVcbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYXV0b0Nsb3NlICAtIEF1dG9jbG9zZSB0aGUgUG9wdXAgb24gdGFwXG4gICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih7cGFyZW50ID0gbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgY29udGVudCA9IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTaXplPScxZW0nLFxuICAgICAgICAgICAgICAgICAgICBmb250RmFtaWx5PSdBcmlhbCcsXG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmc9MTYsXG4gICAgICAgICAgICAgICAgICAgIG5vdGNoU2l6ZT0xMCxcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoUG9zPWZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBtYXhXaWR0aD04MDAsXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcj0nI0VFRScsXG4gICAgICAgICAgICAgICAgICAgIG5vcm1hbENvbG9yPScjNDQ0JyxcbiAgICAgICAgICAgICAgICAgICAgbm90Y2hQb3NpdGlvbj0nYm90dG9tTGVmdCcsXG4gICAgICAgICAgICAgICAgICAgIGF1dG9DbG9zZT10cnVlfSA9IHt9KSB7XG4gICAgICAgIHRoaXMucGFkZGluZyA9IHBhZGRpbmdcbiAgICAgICAgdGhpcy5ub3RjaFBvc2l0aW9uID0gbm90Y2hQb3NpdGlvblxuICAgICAgICB0aGlzLm5vdGNoU2l6ZSA9IG5vdGNoU2l6ZVxuICAgICAgICB0aGlzLnN3aXRjaFBvcyA9IHN3aXRjaFBvc1xuICAgICAgICB0aGlzLmZvbnRTaXplID0gZm9udFNpemVcbiAgICAgICAgdGhpcy5mb250RmFtaWx5ID0gZm9udEZhbWlseVxuICAgICAgICB0aGlzLm1heFdpZHRoID0gbWF4V2lkdGhcbiAgICAgICAgdGhpcy5ub3JtYWxDb2xvciA9IG5vcm1hbENvbG9yXG4gICAgICAgIHRoaXMuYmFja2dyb3VuZENvbG9yID0gYmFja2dyb3VuZENvbG9yXG4gICAgICAgIHRoaXMuYXV0b0Nsb3NlID0gYXV0b0Nsb3NlXG4gICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50IHx8IGRvY3VtZW50LmJvZHlcbiAgICAgICAgaWYgKGNvbnRlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuc2hvdyhjb250ZW50KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqIFNldHVwIG1lbnUgd2l0aCBhIGRpY3Rpb25hcnkgb2YgY29udGVudCB0eXBlcyBhbmQgY29udGVudHMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGNvbnRlbnQgLSBBIGRpY3Qgb2JqZWN0IHdpdGggdHlwZSBzdHJpbmdzICh0ZXh0LCBpbWcsIGh0bWwpIGFzIGtleXNcbiAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZCBjb3JyZXNwb25kaW5nIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJuIHtQb3B1cH0gdGhpc1xuICAgICAqL1xuICAgIHNldHVwKGNvbnRlbnQpIHtcbiAgICAgICAgdGhpcy5jb250ZW50ID0gY29udGVudFxuICAgICAgICB0aGlzLml0ZW1zID0ge31cbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgICAgRWxlbWVudHMuYWRkQ2xhc3ModGhpcy5lbGVtZW50LCAndW5zZWxlY3RhYmxlJylcbiAgICAgICAgdGhpcy5ub3RjaCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgICAgIEVsZW1lbnRzLnNldFN0eWxlKHRoaXMubm90Y2gsIHRoaXMubm90Y2hTdHlsZSgpKVxuICAgICAgICBmb3IobGV0IGtleSBpbiBjb250ZW50KSB7XG4gICAgICAgICAgICBzd2l0Y2goa2V5KSB7XG4gICAgICAgICAgICAgICAgY2FzZSAndGV4dCc6XG4gICAgICAgICAgICAgICAgICAgIGxldCB0ZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZCh0ZXh0KVxuICAgICAgICAgICAgICAgICAgICB0ZXh0LmlubmVySFRNTCA9IGNvbnRlbnRba2V5XVxuICAgICAgICAgICAgICAgICAgICBFbGVtZW50cy5zZXRTdHlsZSh0ZXh0LCB7Y29sb3I6IHRoaXMubm9ybWFsQ29sb3J9KVxuICAgICAgICAgICAgICAgICAgICBFbGVtZW50cy5hZGRDbGFzcyh0ZXh0LCAndW5zZWxlY3RhYmxlJylcbiAgICAgICAgICAgICAgICAgICAgRWxlbWVudHMuYWRkQ2xhc3ModGV4dCwgJ1BvcHVwQ29udGVudCcpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSAnaW1nJzpcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJpbWcgdG8gYmUgaW1wbGVtZW50ZWRcIilcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlICdodG1sJzpcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZChkaXYpXG4gICAgICAgICAgICAgICAgICAgIGRpdi5pbm5lckhUTUwgPSBjb250ZW50W2tleV1cbiAgICAgICAgICAgICAgICAgICAgRWxlbWVudHMuYWRkQ2xhc3MoZGl2LCAnUG9wdXBDb250ZW50JylcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBhbGVydChcIlVuZXhwZWN0ZWQgY29udGVudCB0eXBlOiBcIiArIGtleSlcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5ub3RjaClcbiAgICAgICAgdGhpcy5wYXJlbnQuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50KVxuICAgICAgICBFbGVtZW50cy5zZXRTdHlsZSh0aGlzLmVsZW1lbnQsIHRoaXMuZGVmYXVsdFN0eWxlKCkpXG4gICAgICAgIGNvbnNvbGUubG9nKFwiUG9wdXAuc2V0dXBcIiwgdGhpcy5kZWZhdWx0U3R5bGUoKSlcbiAgICAgICAgdGhpcy5sYXlvdXQoKVxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIC8qKiBMYXlvdXQgdGhlIG1lbnUgaXRlbXNcbiAgICAgKi9cbiAgICBsYXlvdXQoKSB7XG5cbiAgICB9XG5cbiAgICAvKiogQ2xvc2UgYW5kIHJlbW92ZSB0aGUgUG9wdXAgZnJvbSB0aGUgRE9NIHRyZWUuXG4gICAgKi9cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQucmVtb3ZlQ2hpbGQodGhpcy5lbGVtZW50KVxuICAgICAgICBpZiAoUG9wdXAub3BlblBvcHVwID09IHRoaXMpIHtcbiAgICAgICAgICAgIFBvcHVwLm9wZW5Qb3B1cCA9IG51bGxcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKiBTaG93cyB0aGUgUG9wdXAgd2l0aCB0aGUgZ2l2ZW4gY29tbWFuZHMgYXQgdGhlIHNwZWNpZmllZCBwb2ludC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29udGVudCAtIEEgZGljdCBvYmplY3Qgd2l0aCB0eXBlIHN0cmluZ3MgKHRleHQsIGltZywgaHRtbCkgYXMga2V5c1xuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZCBjb3JyZXNwb25kaW5nIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge1BvaW50fSBwb2ludCAtIFRoZSBwb3NpdGlvbiBhcyB4LCB5IGNvb3JkaW5hdGVzIHtweH0uXG4gICAgICogQHJldHVybiB7UG9wdXB9IHRoaXNcbiAgICAqL1xuICAgIHNob3dBdChjb250ZW50LCBwb2ludCkge1xuICAgICAgICB0aGlzLnNob3coY29udGVudClcbiAgICAgICAgdGhpcy5wbGFjZUF0KHBvaW50KVxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIHBsYWNlQXQocG9pbnQpIHtcbiAgICAgICAgbGV0IHggPSBwb2ludC54XG4gICAgICAgIGxldCB5ID0gcG9pbnQueVxuICAgICAgICBsZXQgcmVjdCA9IHRoaXMuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgICAgICBsZXQgaCA9IHJlY3QuYm90dG9tLXJlY3QudG9wXG4gICAgICAgIC8qIFRPRE86IEltcGxlbWVudCBkaWZmZXJlbnQgbm90Y2hQb3NpdGlvbnMgKi9cbiAgICAgICAgc3dpdGNoKHRoaXMubm90Y2hQb3NpdGlvbikge1xuICAgICAgICAgICAgY2FzZSBcImJvdHRvbUxlZnRcIjpcbiAgICAgICAgICAgICAgICB4IC09IHRoaXMucGFkZGluZ1xuICAgICAgICAgICAgICAgIHggLT0gdGhpcy5ub3RjaFNpemVcbiAgICAgICAgICAgICAgICB5IC09ICh0aGlzLm5vdGNoU2l6ZStoKTtcbiAgICAgICAgICAgICAgICBFbGVtZW50cy5zZXRTdHlsZSh0aGlzLmVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICB7IGxlZnQ6IHggKyAncHgnLCB0b3A6IHkgKyAncHgnfSApXG4gICAgICAgICAgICAgICAgYnJlYWtcblxuICAgICAgICAgICAgY2FzZSBcInRvcExlZnRcIjpcbiAgICAgICAgICAgICAgICB4IC09IHRoaXMucGFkZGluZ1xuICAgICAgICAgICAgICAgIHggLT0gdGhpcy5ub3RjaFNpemVcbiAgICAgICAgICAgICAgICB5ICs9IHRoaXMubm90Y2hTaXplXG4gICAgICAgICAgICAgICAgRWxlbWVudHMuc2V0U3R5bGUodGhpcy5lbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB7IGxlZnQ6IHggKyAncHgnLCB0b3A6IHkgKyAncHgnfSApXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgRWxlbWVudHMuc2V0U3R5bGUodGhpcy5lbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB7IGxlZnQ6IHggKyAncHgnLCB0b3A6IHkgKyAncHgnfSApXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKiBTaG93cyB0aGUgUG9wdXAgd2l0aCB0aGUgZ2l2ZW4gY29tbWFuZHMgYXQgdGhlIGN1cnJlbnQgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGNvbnRlbnQgLSBBIGRpY3Qgb2JqZWN0IHdpdGggdHlwZSBzdHJpbmdzICh0ZXh0LCBpbWcsIGh0bWwpIGFzIGtleXNcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmQgY29ycmVzcG9uZGluZyB2YWx1ZXMuXG4gICAgICogQHJldHVybiB7UG9wdXB9IHRoaXNcbiAgICAgKi9cbiAgICBzaG93KGNvbnRlbnQpIHtcbiAgICAgICAgdGhpcy5zZXR1cChjb250ZW50KVxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIC8qKiBDb25maWd1cmF0aW9uIG9iamVjdC4gUmV0dXJuIGRlZmF1bHQgc3R5bGVzIGFzIENTUyB2YWx1ZXMuXG4gICAgKi9cbiAgICBkZWZhdWx0U3R5bGUoKSB7XG4gICAgICAgIGxldCBwYWRkaW5nID0gdGhpcy5wYWRkaW5nXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6IE1hdGgucm91bmQodGhpcy5wYWRkaW5nIC8gMikgKyAncHgnLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGlzLmJhY2tncm91bmRDb2xvcixcbiAgICAgICAgICAgIHBhZGRpbmc6IHRoaXMucGFkZGluZyArICdweCcsXG4gICAgICAgICAgICBtYXhXaWR0aDogdGhpcy5tYXhXaWR0aCArICdweCcsXG4gICAgICAgICAgICBib3hTaGFkb3c6ICcwIDEwcHggMTVweCByZ2JhKDAsIDAsIDAsIDAuMyknLFxuICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgICAgICBmb250RmFtaWx5IDogdGhpcy5mb250RmFtaWx5LFxuICAgICAgICAgICAgZm9udFNpemU6IHRoaXMuZm9udFNpemUsXG4gICAgICAgICAgICBzdHJva2U6ICdibGFjaycsXG4gICAgICAgICAgICBmaWxsIDogJ3doaXRlJ31cbiAgICB9XG5cbiAgICAvKiogQ29uZmlndXJhdGlvbiBvYmplY3QuIFJldHVybiBub3RjaCBzdHlsZXMgYXMgQ1NTIHZhbHVlcy5cbiAgICAqL1xuICAgIG5vdGNoU3R5bGUoKSB7XG4gICAgICAgIHN3aXRjaCh0aGlzLm5vdGNoUG9zaXRpb24pIHtcbiAgICAgICAgICAgIGNhc2UgXCJib3R0b21MZWZ0XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogMCxcbiAgICAgICAgICAgICAgICAgICAgYm94U2hhZG93OiAnMCAxMnB4IDE1cHggcmdiYSgwLCAwLCAwLCAwLjEpJyxcbiAgICAgICAgICAgICAgICAgICAgYm90dG9tOiAtdGhpcy5ub3RjaFNpemUgKyAncHgnLCAvLyAnLTEwcHgnLFxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyVG9wOiB0aGlzLm5vdGNoU2l6ZSArICdweCBzb2xpZCAnICsgdGhpcy5iYWNrZ3JvdW5kQ29sb3IsXG4gICAgICAgICAgICAgICAgICAgIGJvcmRlclJpZ2h0OiB0aGlzLm5vdGNoU2l6ZSArICdweCBzb2xpZCB0cmFuc3BhcmVudCcsXG4gICAgICAgICAgICAgICAgICAgIGJvcmRlckxlZnQ6IHRoaXMubm90Y2hTaXplICsgJ3B4IHNvbGlkIHRyYW5zcGFyZW50JyxcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyQm90dG9tOiAwXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvcExlZnRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB3aWR0aDogMCxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAwLFxuICAgICAgICAgICAgICAgICAgICB0b3A6IC10aGlzLm5vdGNoU2l6ZSArICdweCcsXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICAgICAgICAgICAgICBib3JkZXJCb3R0b206IHRoaXMubm90Y2hTaXplICsgJ3B4IHNvbGlkICcgKyB0aGlzLmJhY2tncm91bmRDb2xvcixcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmlnaHQ6IHRoaXMubm90Y2hTaXplICsgJ3B4IHNvbGlkIHRyYW5zcGFyZW50JyxcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyTGVmdDogdGhpcy5ub3RjaFNpemUgKyAncHggc29saWQgdHJhbnNwYXJlbnQnLFxuICAgICAgICAgICAgICAgICAgICBib3JkZXJUb3A6IDBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAwLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDAsXG4gICAgICAgICAgICAgICAgICAgIGJveFNoYWRvdzogJzAgMTJweCAxNXB4IHJnYmEoMCwgMCwgMCwgMC4xKScsXG4gICAgICAgICAgICAgICAgICAgIGJvdHRvbTogLXRoaXMubm90Y2hTaXplICsgJ3B4JywgLy8gJy0xMHB4JyxcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgICAgICAgICAgICAgIGJvcmRlclRvcDogdGhpcy5ub3RjaFNpemUgKyAncHggc29saWQgJyArIHRoaXMuYmFja2dyb3VuZENvbG9yLFxuICAgICAgICAgICAgICAgICAgICBib3JkZXJSaWdodDogdGhpcy5ub3RjaFNpemUgKyAncHggc29saWQgdHJhbnNwYXJlbnQnLFxuICAgICAgICAgICAgICAgICAgICBib3JkZXJMZWZ0OiB0aGlzLm5vdGNoU2l6ZSArICdweCBzb2xpZCB0cmFuc3BhcmVudCcsXG4gICAgICAgICAgICAgICAgICAgIGJvcmRlckJvdHRvbTogMFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKiBDb252ZW5pZW50IHN0YXRpYyBtZXRob2RzIHRvIHNob3cgYW5kIHJldXNlIGEgUG9wdXAgaW1wbGVtZW50ZWRcbiAgICAgKiBhcyBhIGNsYXNzIHZhcmlhYmxlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZW50IC0gQSBkaWN0IG9iamVjdCB3aXRoIHR5cGUgc3RyaW5ncyAodGV4dCwgaW1nLCBodG1sKSBhcyBrZXlzXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5kIGNvcnJlc3BvbmRpbmcgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7UG9pbnR9IHBvaW50IC0gVGhlIHBvc2l0aW9uIGFzIHgsIHkgY29vcmRpbmF0ZXMge3B4fS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGF1dG9DbG9zZSAtIEF1dG9jbG9zZSB0aGUgbWVudSBhZnRlciBzZWxlY3RpbmcgYW4gaXRlbS5cbiAgICAgKi9cbiAgICBzdGF0aWMgb3Blbihjb250ZW50LCBwb2ludCwge3BhcmVudCA9IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTaXplPScxZW0nLFxuICAgICAgICAgICAgICAgICAgICBmb250RmFtaWx5PSdBcmlhbCcsXG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmc9MTYsXG4gICAgICAgICAgICAgICAgICAgIG5vdGNoU2l6ZT0xMCxcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoUG9zPWZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBtYXhXaWR0aD04MDAsXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcj0nI0VFRScsXG4gICAgICAgICAgICAgICAgICAgIG5vcm1hbENvbG9yPScjNDQ0JyxcbiAgICAgICAgICAgICAgICAgICAgYXV0b0Nsb3NlPXRydWV9ID0ge30pIHtcbiAgICAgICAgaWYgKFBvcHVwLm9wZW5Qb3B1cCkge1xuICAgICAgICAgICAgdGhpcy5jbG9zZVBvcHVwKClcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJlbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHBvaW50ID0gY29udmVydFBvaW50RnJvbVBhZ2VUb05vZGUocGFyZW50LCBwb2ludC54LCBwb2ludC55KVxuICAgICAgICB9XG4gICAgICAgIGxldCBub3RjaFBvc2l0aW9uID0gJ2JvdHRvbUxlZnQnXG4gICAgICAgIGlmIChwb2ludC55IDwgNTApIHtcbiAgICAgICAgICAgIGlmKHN3aXRjaFBvcylub3RjaFBvc2l0aW9uID0gJ3RvcExlZnQnXG4gICAgICAgIH1cbiAgICAgICAgbGV0IHBvcHVwID0gbmV3IFBvcHVwKHtwYXJlbnQsIGZvbnRTaXplLCBwYWRkaW5nLCBub3RjaFNpemUsIHN3aXRjaFBvcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4V2lkdGgsIGJhY2tncm91bmRDb2xvciwgbm9ybWFsQ29sb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGNoUG9zaXRpb24sIGF1dG9DbG9zZX0pXG4gICAgICAgIHBvcHVwLnNob3dBdChjb250ZW50LCBwb2ludClcbiAgICAgICAgUG9wdXAub3BlblBvcHVwID0gcG9wdXBcbiAgICAgICAgLyppZiAoYXV0b0Nsb3NlKSB7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGUpID0+IHRoaXMuY2xvc2VQb3B1cChlKSwgdHJ1ZSlcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgKGUpID0+IHRoaXMuY2xvc2VQb3B1cChlKSwgdHJ1ZSlcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIChlKSA9PiB0aGlzLmNsb3NlUG9wdXAoZSksIHRydWUpXG4gICAgICAgIH0qL1xuICAgICAgICBQb3B1cC5jbG9zZUV2ZW50TGlzdGVuZXIgPSAoZSkgPT4geyBpZiAodGhpcy5ldmVudE91dHNpZGUoZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VQb3B1cChlKTt9O1xuICAgICAgICBpZiAoYXV0b0Nsb3NlKSB7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgUG9wdXAuY2xvc2VFdmVudExpc3RlbmVyLCB0cnVlKTtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgUG9wdXAuY2xvc2VFdmVudExpc3RlbmVyLCB0cnVlKTtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIFBvcHVwLmNsb3NlRXZlbnRMaXN0ZW5lciwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgZXZlbnRPdXRzaWRlKGUpIHtcbiAgICAgICAgcmV0dXJuICFFbGVtZW50cy5oYXNDbGFzcyhlLnRhcmdldCwgJ1BvcHVwQ29udGVudCcpXG4gICAgfVxuXG4gICAgLyoqIENvbnZlbmllbnQgc3RhdGljIG1ldGhvZHMgdG8gY2xvc2UgdGhlIFBvcHVwIGltcGxlbWVudGVkXG4gICAgICogYXMgYSBjbGFzcyB2YXJpYWJsZS5cbiAgICAgKi9cbiAgICBzdGF0aWMgY2xvc2VQb3B1cChlKSB7XG4gICAgICAgIGlmIChQb3B1cC5vcGVuUG9wdXApIHtcbiAgICAgICAgICAgIFBvcHVwLm9wZW5Qb3B1cC5jbG9zZSgpXG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qIENsYXNzIHZhcmlhYmxlICovXG5Qb3B1cC5vcGVuUG9wdXAgPSBudWxsXG4iLCJpbXBvcnQge1BvaW50c30gZnJvbSAnLi4vbGliL3V0aWxzLmpzJ1xuaW1wb3J0IFBvcHVwIGZyb20gJy4uL2xpYi9wb3B1cC5qcydcblxuLyoqKiBCYXNlIHBhcnNlciBmb3IgbG9hZGluZyBFeWVWaXNpdC1zdHlsZSBYTUwuIENvbnZlcnRzIHRoZSBYTUwgaW50b1xuICogYW4gaW50ZXJuYWwgSlNPTiBmb3JtYXQgdGhhdCBpbiB0dXJuIGlzIGNvbnZlcnRlZCBpbnRvIGEgSFRNTCA1IHJlcHJlc2VudGF0aW9uXG4gKiBvZiBFeWVWaXNpdCBjYXJkcy5cbiAqXG4gKiBEZWZpbmVzIHRoZSBiYXNlIEFQSSBmb3IgcHJvY2Vzc2luZyB0aGUgWE1MLlxuKioqL1xuXG5jbGFzcyBYTUxQYXJzZXIge1xuXG4gIGNvbnN0cnVjdG9yKHBhdGgpIHtcbiAgICB0aGlzLnBhdGggPSBwYXRoXG4gICAgbGV0IGJhc2VQYXRoID0gdGhpcy5yZW1vdmVMYXN0U2VnbWVudCh0aGlzLnBhdGgpXG4gICAgdGhpcy5iYXNlUGF0aCA9IHRoaXMucmVtb3ZlTGFzdFNlZ21lbnQoYmFzZVBhdGgpXG4gIH1cblxuICByZW1vdmVMYXN0U2VnbWVudChwYXRoKSB7XG4gICAgbGV0IHRvID0gcGF0aC5sYXN0SW5kZXhPZignLycpXG4gICAgcmV0dXJuIHBhdGguc3Vic3RyaW5nKDAsIHRvKVxuICB9XG5cbiAgZXh0cmFjdExhc3RTZWdtZW50KHBhdGgpIHtcbiAgICBsZXQgdG8gPSBwYXRoLmxhc3RJbmRleE9mKCcvJylcbiAgICByZXR1cm4gcGF0aC5zdWJzdHJpbmcodG8gKyAxLCBwYXRoLmxlbmd0aClcbiAgfVxuXG4gIC8qKiogTG9hZHMgdGhlIFhNTCBmcm9tIHRoZSBnaXZlbiBwYXRoLiAqKiovXG4gIGxvYWRYTUwoKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICQuYWpheCh7XG4gICAgICAgIHR5cGU6IFwiR0VUXCIsXG4gICAgICAgIHVybDogdGhpcy5wYXRoLFxuICAgICAgICBkYXRhVHlwZTogXCJ4bWxcIixcbiAgICAgICAgc3VjY2VzczogKHhtbCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUoeG1sKVxuICAgICAgICB9LFxuICAgICAgICBlcnJvcjogKGUpID0+IHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXCJFcnJvciBsb2FkaW5nIFwiICsgdGhpcy5wYXRoLCBlKVxuICAgICAgICAgIHJlamVjdCgpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIC8qKiogRW50cnkgcG9pbnQsIGxvYWRzIGFuZCBwYXJzZXMgdGhlIFhNTC4gUmV0dXJucyBhIHByb21pc2UgdGhhdFxuICAgIGNvbXBsZXRlcyBpZiBhbGwgc3ViIG9iamVjdHMgYXJlIGxvYWRlZCBhbmQgY29udmVydGVkIGludG8gYSBzaW5nbGVcbiAgICBET00gdHJlZSBhbmQgdG8gYWRkLioqKi9cbiAgbG9hZFBhcnNlQW5kQ3JlYXRlRE9NKCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIHRoaXMubG9hZFhNTCgpLnRoZW4oKHhtbCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5wYXJzZVhNTCh4bWwpLnRoZW4oKGpzb24pID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgZG9tVHJlZSA9IHRoaXMuY3JlYXRlRE9NKGpzb24pXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShkb21UcmVlKVxuICAgICAgICAgICAgfSkuY2F0Y2goKHJlYXNvbikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcInBhcnNlWE1MIGZhaWxlZFwiLCByZWFzb24pXG4gICAgICAgICAgICAgICAgcmVqZWN0KHJlYXNvbilcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pLmNhdGNoKChyZWFzb24pID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcImxvYWRYTUwgZmFpbGVkXCIsIHJlYXNvbilcbiAgICAgICAgICAgIHJlamVjdChyZWFzb24pXG4gICAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIGxvYWRBbmRQYXJzZVhNTCgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdGhpcy5sb2FkWE1MKCkudGhlbigoeG1sKSA9PiB7XG4gICAgICAgIHRoaXMucGFyc2VYTUwoeG1sKS50aGVuKChqc29uKSA9PiB7XG4gICAgICAgICAgICAgcmVzb2x2ZShqc29uKVxuICAgICAgICB9KS5jYXRjaCgocmVhc29uKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJwYXJzZVhNTCBpbiBsb2FkQW5kUGFyc2VYTUwgZmFpbGVkXCIsIHJlYXNvbilcbiAgICAgICAgICAgIHJlamVjdChyZWFzb24pXG4gICAgICAgIH0pXG4gICAgICB9KS5jYXRjaCgocmVhc29uKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJsb2FkWE1MIGluIGxvYWRBbmRQYXJzZVhNTCBmYWlsZWRcIiwgcmVhc29uKVxuICAgICAgICAgICAgcmVqZWN0KHJlYXNvbilcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIC8qKiogUGFyc2UgdGhlIHJlY2VpdmVkIFhNTCBpbnRvIGEgSlNPTiBzdHJ1Y3R1cmUuIFJldHVybnMgYSBwcm9taXNlLiAqKiovXG4gIHBhcnNlWE1MKHhtbGRhdCkge1xuICAgIGNvbnNvbGUud2FybihcIk5lZWRzIHRvIGJlIG92ZXJ3cml0dGVuXCIpXG4gIH1cblxuICAvKioqIENyZWF0ZSBET00gbm9kZXMgZnJvbSBKU09OIHN0cnVjdHVyZS4gUmV0dXJucyBhIHByb21pc2UuICoqKi9cbiAgY3JlYXRlRE9NKGpzb24pIHtcbiAgICBjb25zb2xlLndhcm4oXCJOZWVkcyB0byBiZSBvdmVyd3JpdHRlblwiKVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBYTUxJbmRleFBhcnNlciBleHRlbmRzIFhNTFBhcnNlciB7XG5cbiAgY29uc3RydWN0b3IocGF0aCwgeyB3aWR0aD0gd2luZG93LmlubmVyV2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0PSB3aW5kb3cuaW5uZXJIZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgLy9hc3NldHNQYXRoPSAnLi4vLi4vdmFyL2V5ZXZpc2l0LycsXG4gICAgICAgICAgICAgICAgICAgICAgYXNzZXRzUGF0aCA9ICcuL2NhcmRzLycsXG4gICAgICAgICAgICAgICAgICAgICAgY29sb3JzID0geyBhcnRpc3Q6JyNiMGM2YjInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlbWE6JyNjM2MwZDEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsczonI2RlYzFiMicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWJlbl9kZXNfa3Vuc3R3ZXJrczogJyNlMWRlYTcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga29tcG9zaXRpb246ICcjYmViZWJlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpY2h0X3VuZF9mYXJiZTogJyM5MGEyYWInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmFfaW5mbzogJyNjOGQ5ZDcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmE6ICcjYzhkOWQ3JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhaW5mbzogJyNjOGQ5ZDcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJ0d29yazogJyNlMWRlYTcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVjaG5pazogJyNkOWIzYmQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICB9ID0ge30pIHtcbiAgICBzdXBlcihwYXRoKVxuICAgIHRoaXMud2lkdGggPSB3aWR0aFxuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0XG4gICAgdGhpcy5hc3NldHNQYXRoID0gYXNzZXRzUGF0aFxuICAgIHRoaXMuY29sb3JzID0gY29sb3JzXG4gIH1cblxuICBwYXJzZVhNTCh4bWxkYXQpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IGluZGV4ZGF0ID0ge1xuICAgICAgICBjYXJkczogW10sXG4gICAgICAgIGNhcmRzb3VyY2VzOiBbXVxuICAgICAgfVxuICAgICAgbGV0IGRhdGEgPSAkKHhtbGRhdCkuZmluZCgnZGF0YScpXG4gICAgICBmb3IgKGxldCBrZXkgb2ZbJ3RodW1ibmFpbCcsXG4gICAgICAgICdhcnRpc3QnLFxuICAgICAgICAndGl0bGUnLFxuICAgICAgICAnbWlzYycsXG4gICAgICAgICdkZXNjcmlwdGlvbicsXG4gICAgICAgICd5ZWFyJyxcbiAgICAgICAgJ25yJyxcbiAgICAgICAgJ2Fubm90YXRpb24nXSkge1xuICAgICAgICBpbmRleGRhdFtrZXldID0gZGF0YS5maW5kKGtleSkuaHRtbCgpXG4gICAgICB9XG4gICAgICBsZXQgcHJvbWlzZXMgPSBbXVxuICAgICAgZGF0YS5maW5kKCdjYXJkJykuZWFjaCgoaSwgY2FyZCkgPT4ge1xuICAgICAgICBsZXQgc3JjID0gJChjYXJkKS5hdHRyKCdzcmMnKVxuICAgICAgICBpbmRleGRhdC5jYXJkc291cmNlcy5wdXNoKHNyYylcbiAgICAgICAgbGV0IHBhcnNlciA9IG5ldyBYTUxDYXJkUGFyc2VyKHRoaXMuYmFzZVBhdGggKyAnLycgKyBzcmMpXG4gICAgICAgIGxldCBzdWJDYXJkID0gcGFyc2VyLmxvYWRBbmRQYXJzZVhNTCgpLnRoZW4oKGpzb24pID0+IHtcbiAgICAgICAgICBpbmRleGRhdC5jYXJkcy5wdXNoKGpzb24pXG4gICAgICAgIH0pXG4gICAgICAgIHByb21pc2VzLnB1c2goc3ViQ2FyZClcbiAgICAgIH0pXG4gICAgICBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIHJlc29sdmUoaW5kZXhkYXQpXG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICBjcmVhdGVET00odHJlZSkge1xuXG4gICAgbGV0IHRhcmdldG5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICQodGFyZ2V0bm9kZSkuYXR0cignaWQnLCB0cmVlLm5yKVxuXG4gICAgbGV0IGNsb25lID0gJChcIiNCQUNLXCIpLmh0bWwoKVxuICAgICQodGFyZ2V0bm9kZSkuYXBwZW5kKGNsb25lKVxuICAgIGNsb25lID0gJCh0YXJnZXRub2RlKS5jaGlsZHJlbigpLmxhc3QoKVxuXG4gICAgJCgkKGNsb25lKS5maW5kKCdoZWFkZXIgaW1nJykpLmF0dHIoJ3NyYycsIHRoaXMuYXNzZXRzUGF0aCArIHRyZWUudGh1bWJuYWlsKVxuICAgICQoJChjbG9uZSkuZmluZCgnLmFydGlzdCcpKS5hcHBlbmQodHJlZS5hcnRpc3QpXG4gICAgJCgkKGNsb25lKS5maW5kKCcudGl0bGUnKSkuYXBwZW5kKHRyZWUudGl0bGUpXG4gICAgJCgkKGNsb25lKS5maW5kKCcubWlzYycpKS5hcHBlbmQodHJlZS5taXNjKVxuICAgICQoJChjbG9uZSkuZmluZCgnLmRlc2NyaXB0aW9uJykpLmFwcGVuZCh0cmVlLmRlc2NyaXB0aW9uKVxuXG4gICAgaWYgKHRyZWUuYW5ub3RhdGlvbiAhPSBudWxsKSB7XG4gICAgICAkKCQoY2xvbmUpKS5maW5kKCcuYW5ub3RhdGlvbicpLmFwcGVuZCh0cmVlLmFubm90YXRpb24pXG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0cmVlLmNhcmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgaWQgPSB0cmVlLmNhcmRzb3VyY2VzW2ldLm1hdGNoKC9bXi9dKiQvLCAnJylbMF0ucmVwbGFjZSgnLnhtbCcsICcnKVxuICAgICAgbGV0IGNhcmRjbG9uZSA9ICQoXCIjQ0FSRFwiKS5odG1sKClcbiAgICAgICQoY2xvbmUpLmZpbmQoJ21haW4nKS5hcHBlbmQoY2FyZGNsb25lKVxuICAgICAgY2FyZGNsb25lID0gJChjbG9uZSkuZmluZCgnbWFpbicpLmNoaWxkcmVuKCkubGFzdCgpXG4gICAgICBjYXJkY2xvbmUuYXR0cignaWQnLCBpZClcbiAgICAgIHRoaXMuY3JlYXRlQ2FyZERPTSh0cmVlLmNhcmRzW2ldLCBjYXJkY2xvbmUpXG4gICAgfVxuXG4gICAgdGhpcy5zZXR1cEluZGV4KHRhcmdldG5vZGUpXG4gICAgcmV0dXJuIHRhcmdldG5vZGVcbiAgfVxuXG4gIGNyZWF0ZUNhcmRET00odHJlZSwgdGFyZ2V0bm9kZSkge1xuXG4gICAgaWYgKHRyZWUudGVtcGxhdGUgPT0gMikge1xuICAgICAgdGFyZ2V0bm9kZS5maW5kKCcjbGVmdGNvbCcpLmFkZENsYXNzKCd3aWRlJylcbiAgICAgIHRhcmdldG5vZGUuZmluZCgnI3JpZ2h0Y29sJykuYWRkQ2xhc3MoJ25hcnJvdycpXG4gICAgfVxuXG4gICAgbGV0IGNvbGN0ID0gMlxuXG4gICAgaWYgKHRyZWUudGVtcGxhdGUgPT0gMykge1xuICAgICAgdGFyZ2V0bm9kZS5maW5kKCcud3JhcHBlcicpLmFwcGVuZChcIjxkaXYgaWQ9J2JvdHRvbWNvbCc+PC9kaXY+XCIpXG4gICAgICAvLyBzZXQgbGVmdGNvbC9yaWdodGNvbCBoZWlnaHRcbiAgICAgIC8vIHNldCBib3R0b20gY29sIHN0eWxlc1xuICAgICAgY29sY3QgPSAzXG4gICAgfVxuXG4gICAgdGFyZ2V0bm9kZS5maW5kKCcudGl0bGViYXInKS5hcHBlbmQoJzxwPicgKyB0cmVlLmhlYWRlciArICc8L3A+JylcbiAgICB0YXJnZXRub2RlLmZpbmQoJy50aXRsZWJhcicpLmNzcyh7J2JhY2tncm91bmQnOiB0aGlzLmNvbG9yc1t0cmVlLnR5cGVdfSlcbiAgICB0YXJnZXRub2RlLmZpbmQoJy5wcmV2aWV3JykuYXBwZW5kKCc8cD4nICsgdHJlZS5wcmV2aWV3ICsgJzwvcD4nKVxuICAgIGZvciAodmFyIGluZGV4ID0gMTsgaW5kZXggPCBjb2xjdCsxOyBpbmRleCsrKSB7XG5cbiAgICAgIGxldCB0YXJnZXRjb2wgPSB0YXJnZXRub2RlLmZpbmQoJy53cmFwcGVyJykuY2hpbGRyZW4oKVtpbmRleF1cbiAgICAgIGxldCBzb3VyY2Vjb2wgPSB0YXJnZXRub2RlLmZpbmQoJy53cmFwcGVyJykuY2hpbGRyZW4oKVtpbmRleF0uaWRcbiAgICAgIC8vY29uc29sZS5sb2coc291cmNlY29sKVxuXG4gICAgICB3aGlsZSAodHJlZVtzb3VyY2Vjb2xdLmxlbmd0aCA+IDApIHtcblxuICAgICAgICBsZXQgbm9kZSA9IHRyZWVbc291cmNlY29sXS5wb3AoKVxuXG4gICAgICAgIGlmIChub2RlLnR5cGUgPT0gXCJ0ZXh0XCIpIHtcbiAgICAgICAgICBsZXQgY2xvbmUgPSAkKFwiI1RFWFRcIikuaHRtbCgpXG4gICAgICAgICAgJCh0YXJnZXRjb2wpLmFwcGVuZChjbG9uZSkuZmluZChcIi50ZXh0XCIpLmxhc3QoKS5hcHBlbmQobm9kZS5odG1sKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5vZGUudHlwZSA9PSBcInNpbmdsZWltYWdlXCIpIHtcblxuICAgICAgICAgIGxldCBjbG9uZSA9ICQoXCIjU0lOR0xFSU1BR0VcIikuaHRtbCgpXG4gICAgICAgICAgJCh0YXJnZXRjb2wpLmFwcGVuZChjbG9uZSlcbiAgICAgICAgICBjbG9uZSA9ICQodGFyZ2V0Y29sKS5jaGlsZHJlbigpLmxhc3QoKVxuXG4gICAgICAgICAgbGV0IHJhdGlvID0gdGhpcy5nZXRSYXRpbyh0aGlzLmFzc2V0c1BhdGggKyBub2RlLnNvdXJjZSlcbiAgICAgICAgICBsZXQgaCA9IChub2RlLm1heGhlaWdodCAvIDY3MCkgKiB0aGlzLmhlaWdodFxuICAgICAgICAgIGxldCB3ID0gaCAqIHJhdGlvXG5cbiAgICAgICAgICAkKGNsb25lKS5jc3Moe1xuICAgICAgICAgICAgJ2hlaWdodCc6IGgsXG4gICAgICAgICAgICAnd2lkdGgnOiB3XG4gICAgICAgICAgfSlcblxuICAgICAgICAgICQoJChjbG9uZSkuY2hpbGRyZW4oJy5tYWluaW1nJykpLmF0dHIoJ3NyYycsIHRoaXMuYXNzZXRzUGF0aCArIG5vZGUuc291cmNlKVxuICAgICAgICAgICQoY2xvbmUpLmF0dHIoJ2lkJywgbm9kZS5pZClcbiAgICAgICAgICAkKCQoY2xvbmUpLmNoaWxkcmVuKCcuem9vbWljb24nKSkuYXR0cignaWQnLCBub2RlLmljb25pZClcblxuICAgICAgICAgICQoY2xvbmUpLmNoaWxkcmVuKCdmaWdjYXB0aW9uLmNhcCcpLmFwcGVuZChub2RlLmNhcCkgLy8gdW86IGFscmVhZHkgcmVwbGFjZWQgaW4gcGFyc2VYTUwgLnJlcGxhY2UoXCImbHQ7XCIsIFwiPFwiKS5yZXBsYWNlKFwiJmd0O1wiLCBcIj5cIilcbiAgICAgICAgICAkKGNsb25lKS5jaGlsZHJlbignZmlnY2FwdGlvbi56b29tY2FwJykuYXBwZW5kKG5vZGUuem9vbWNhcClcblxuICAgICAgICAgIC8vIHNob3cgaW1hZ2UgaGlnaGxpZ2h0c1xuICAgICAgICAgIGxldCBoaWdobGlnaHRzID0gbm9kZS5oaWdobGlnaHRzXG4gICAgICAgICAgbm9kZSA9IFwiXCJcbiAgICAgICAgICBcbiAgICAgICAgICAvKndoaWxlIChoaWdobGlnaHRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBcbiAgICAgICAgICAgIGxldCBoaWdobGlnaHQgPSBoaWdobGlnaHRzLnBvcCgpXG4gICAgICAgICAgICBub2RlICs9IFwiPGEgaWQ9J1wiICsgaGlnaGxpZ2h0LmlkLnJlcGxhY2UoL1xcLi9nLCBcIl9cIikgKyBcIicgY2xhc3M9J2RldGFpbCcgaHJlZj0nIycgZGF0YS10YXJnZXQ9J1wiICsgaGlnaGxpZ2h0LnRhcmdldCArIFwiJyBkYXRhLXJhZGl1cyA9ICdcIiArIGhpZ2hsaWdodC5yYWRpdXMgKyBcIicgc3R5bGU9J1wiICsgaGlnaGxpZ2h0LnN0eWxlICsgXCInID48L2E+XCJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ2hpZ2hsaWdodCB3aXRoIHJhZGl1czogJyxoaWdobGlnaHQucmFkaXVzLCBoaWdobGlnaHQudGFyZ2V0KVxuICAgICAgICAgIH0qL1xuXG4gICAgICAgICAgJChjbG9uZSkuYXBwZW5kKG5vZGUpXG4gICAgICAgIH1cblxuICAgICAgICBpZiAobm9kZS50eXBlID09IFwidmlkZW9cIikge1xuXG4gICAgICAgICAgbGV0IHRhcmdldHNyYyA9IG5vZGUuc291cmNlLnJlcGxhY2UoJ2Y0dicsICdtcDQnKVxuXG4gICAgICAgICAgbGV0IGNsb25lID0gJChcIiNWSURFT1wiKS5odG1sKClcbiAgICAgICAgICAkKHRhcmdldGNvbCkuYXBwZW5kKGNsb25lKVxuICAgICAgICAgIGNsb25lID0gJCh0YXJnZXRjb2wpLmNoaWxkcmVuKCkubGFzdCgpXG5cbiAgICAgICAgICAkKGNsb25lKS5jc3Moe1xuICAgICAgICAgICAgJ21heC1oZWlnaHQnOiAobm9kZS5tYXhoZWlnaHQgLyA2NzApICogdGhpcy5oZWlnaHRcbiAgICAgICAgICB9KVxuICAgICAgICAgICQoJChjbG9uZSkuY2hpbGRyZW4oJ3ZpZGVvJykuY2hpbGRyZW4oJ3NvdXJjZScpKS5hdHRyKCdzcmMnLCB0aGlzLmFzc2V0c1BhdGggKyB0YXJnZXRzcmMpXG5cbiAgICAgICAgICAkKGNsb25lKS5hdHRyKCdpZCcsIG5vZGUuaWQpXG4gICAgICAgICAgJCgkKGNsb25lKS5jaGlsZHJlbignLnpvb21pY29uJykpLmF0dHIoJ2lkJywgbm9kZS5pY29uaWQpXG4gICAgICAgICAgJChjbG9uZSkuY2hpbGRyZW4oJ2ZpZ2NhcHRpb24uY2FwJykuYXBwZW5kKG5vZGUuY2FwKSAvLyB1bzogYWxyZWFkeSByZXBsYWNlZCBpbiBwYXJzZVhNTCAucmVwbGFjZShcIiZsdDtcIiwgXCI8XCIpLnJlcGxhY2UoXCImZ3Q7XCIsIFwiPlwiKSlcbiAgICAgICAgICAkKGNsb25lKS5jaGlsZHJlbignZmlnY2FwdGlvbi56b29tY2FwJykuYXBwZW5kKG5vZGUuem9vbWNhcClcblxuICAgICAgICAgICQoY2xvbmUpLmFwcGVuZChub2RlKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5vZGUudHlwZSA9PSBcInNwYWNlXCIpIHtcbiAgICAgICAgICAkKHRhcmdldGNvbCkuYXBwZW5kKCQoXCIjU1BBQ0VcIikuaHRtbCgpKVxuICAgICAgICAgIGxldCBjbG9uZSA9ICQodGFyZ2V0Y29sKS5jaGlsZHJlbigpLmxhc3QoKVxuICAgICAgICAgICQoY2xvbmUpLmNzcyh7aGVpZ2h0OiBub2RlLmhlaWdodH0pXG4gICAgICAgIH1cblxuICAgICAgICBpZiAobm9kZS50eXBlID09IFwiZ3JvdXBpbWFnZVwiKSB7XG5cbiAgICAgICAgICBsZXQgY2xvbmUgPSAkKFwiI0dST1VQSU1BR0VcIikuaHRtbCgpXG4gICAgICAgICAgJCh0YXJnZXRjb2wpLmFwcGVuZChjbG9uZSlcbiAgICAgICAgICBjbG9uZSA9ICQodGFyZ2V0Y29sKS5jaGlsZHJlbigpLmxhc3QoKVxuXG4gICAgICAgICAgJChjbG9uZSkuY3NzKHtcbiAgICAgICAgICAgICdoZWlnaHQnOiAobm9kZS5tYXhoZWlnaHQgLyA2NzApICogdGhpcy5oZWlnaHRcbiAgICAgICAgICB9KVxuXG4gICAgICAgICAgbGV0IGxlbiA9IE9iamVjdC5rZXlzKG5vZGUuZmlndXJlcykubGVuZ3RoXG4gICAgICAgICAgaWYobGVuID4gMil7XG4gICAgICAgICAgICBsZXQgZGlmZiA9IGxlbiAtIDJcbiAgICAgICAgICAgIHdoaWxlKGRpZmYgPiAwKXtcbiAgICAgICAgICAgICAgbGV0IGdyX2ZpZ3VyZSA9ICQoXCIjR1JPVVBJTUFHRV9GSUdVUkVcIikuaHRtbCgpXG4gICAgICAgICAgICAgICQoY2xvbmUpLmFwcGVuZChncl9maWd1cmUpXG4gICAgICAgICAgICAgIGRpZmYgLT0gMVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgICAgICAgIGxldCBmaWd1cmUgPSAkKCQoY2xvbmUpLmNoaWxkcmVuKCdmaWd1cmUnKVtqXSlcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ2dyb3VwIGltYWdlOiAnLG5vZGUuZmlndXJlc1tqKzFdKVxuICAgICAgICAgICAgZmlndXJlLmNoaWxkcmVuKCcubWFpbmltZ2hhbGYnKS5hdHRyKCdzcmMnLCB0aGlzLmFzc2V0c1BhdGggKyBub2RlLmZpZ3VyZXNbaisxXS5zb3VyY2UpXG4gICAgICAgICAgICBmaWd1cmUuYXR0cignaWQnLCBub2RlLmZpZ3VyZXNbaisxXS5pZClcbiAgICAgICAgICAgIGZpZ3VyZS5jaGlsZHJlbignLnpvb21pY29uJykuYXR0cignaWQnLCBub2RlLmZpZ3VyZXNbaisxXS5pY29uaWQpXG5cbiAgICAgICAgICAgIGZpZ3VyZS5jaGlsZHJlbignZmlnY2FwdGlvbi5jYXAnKS5hcHBlbmQobm9kZS5maWd1cmVzW2orMV0uY2FwKVxuICAgICAgICAgICAgZmlndXJlLmNoaWxkcmVuKCdmaWdjYXB0aW9uLnpvb21jYXAnKS5hcHBlbmQobm9kZS5maWd1cmVzW2orMV0uem9vbWNhcClcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0YXJnZXRub2RlLmZpbmQoJ2EnKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICBsZXQgdmFsdWUgPSB0cmVlLnRvb2x0aXBkYXRhWyQodGhpcykuYXR0cignZGF0YS10YXJnZXQnKV1cbiAgICAgICAgLy8kKHRoaXMpLmF0dHIoJ2RhdGEtdG9vbHRpcCcsIHZhbHVlKVxuICAgIH0pXG5cbiAgfVxuXG4gIGNvbXBsZXRlZChkb21Ob2RlKSB7XG4gICAgLyoqKiBDYWxsZWQgYWZ0ZXIgdGhlIGRvbU5vZGUgaGFzIGJlZW4gYWRkZWQuXG5cbiAgICBBdCB0aGlzIHBvaW50IHdlIGNhbiByZWdpc3RlciBhIGNsaWNrIGhhbmRsZXIgZm9yIHRoZVxuICAgIGZsaXAgd3JhcHBlciB3aGljaCBhbGxvd3MgdXMgdG8gYWRkIGEgcG9wdXAgdGhhdCBjYW4gZXh0ZW5kIG92ZXIgdGhlIGJhY2tcbiAgICBhbmQgZnJvbnQgY2FyZCBib3VuZHMuIE5vdGUgdGhhdCBwb3B1cHMgaGF2ZSB0byBiZSBjbG9zZWQgb24gY2xpY2sgZXZlbnRzXG4gICAgb3V0c2lkZSB0aGUgcG9wdXBzLlxuXG4gICAgVE9ETzogT24gbW9iaWxlIGRldmljZXMgd2UgaGF2ZSB0b1xuICAgIHN0YXkgd2l0aGluIHRoZSBjYXJkIGJvdW5kcy4gVGhhdCdzIG11Y2ggbW9yZSBjb21wbGljYXRlZC5cbiAgICAqKiovXG4gICAgbGV0IHdyYXBwZXIgPSAkKGRvbU5vZGUpLmNsb3Nlc3QoJy5mbGlwV3JhcHBlcicpXG4gICAgd3JhcHBlci5vbignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICBpZiAod3JhcHBlclswXS5wb3B1cCkge1xuICAgICAgICAgICAgd3JhcHBlclswXS5wb3B1cC5jbG9zZSgpXG4gICAgICAgICAgICB3cmFwcGVyWzBdLnBvcHVwID0gbnVsbFxuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVtb3ZlWm9vbWFibGUoKVxuICAgICAgICB0aGlzLnJlbW92ZUltYWdlSGlnaGxpZ2h0KClcbiAgICAgICAgbGV0IHRhcmdldCA9ICQoZS50YXJnZXQpXG4gICAgICAgIGxldCB0b29sdGlwID0gdGFyZ2V0LmF0dHIoJ2RhdGEtdG9vbHRpcCcpXG4gICAgICAgIGlmICh0b29sdGlwKSB7XG4gICAgICAgICAgICBsZXQgZ2xvYmFsUG9zID0geyB4OiBlLnBhZ2VYLCB5OiBlLnBhZ2VZIH1cbiAgICAgICAgICAgIGxldCBsb2NhbFBvcyA9IFBvaW50cy5mcm9tUGFnZVRvTm9kZSh3cmFwcGVyWzBdLCBnbG9iYWxQb3MpXG4gICAgICAgICAgICBsZXQgcG9wdXAgPSBuZXcgUG9wdXAoeyBwYXJlbnQ6IHdyYXBwZXJbMF0sIGJhY2tncm91bmRDb2xvcjonIzIyMid9KVxuICAgICAgICAgICAgbG9jYWxQb3MueSA9IHRoaXMuaGVpZ2h0IC0gbG9jYWxQb3MueVxuICAgICAgICAgICAgcG9wdXAuc2hvd0F0KHtodG1sOiB0b29sdGlwfSwgbG9jYWxQb3MpXG4gICAgICAgICAgICB3cmFwcGVyWzBdLnBvcHVwID0gcG9wdXBcblxuICAgICAgICAgICAgaWYodGFyZ2V0LmF0dHIoJ2NsYXNzJykgPT0gJ2RldGFpbCcpe1xuICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRIaWdobGlnaHQgPSB0YXJnZXRcbiAgICAgICAgICAgICAgdGhpcy5vcGVuSW1hZ2VIaWdobGlnaHQoKTtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ29wZW4gaW1hZ2UgaGlnaGxpZ2h0IHdpdGggaWQ6JywgdGFyZ2V0LmF0dHIoJ2lkJykpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKHRhcmdldC5hdHRyKCdpbWFnZWhpZ2hsaWdodGlkJykpe1xuICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKHRhcmdldC5hdHRyKCdpbWFnZWhpZ2hsaWdodGlkJykpXG4gICAgICAgICAgICAgIC8vY29uc29sZS5sb2coKHRhcmdldC5hdHRyKCdpZCcpICsgXCJEZXRhaWxcIikucmVwbGFjZSgvXFwuL2csIFwiX1wiKSlcbiAgICAgICAgICAgICAgbGV0IGRldGFpbElkID0gKHRhcmdldC5hdHRyKCdpZCcpICsgXCJEZXRhaWxcIikucmVwbGFjZSgvXFwuL2csIFwiX1wiKVxuICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRIaWdobGlnaHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkZXRhaWxJZClcbiAgICAgICAgICAgICAgdGhpcy5vcGVuSW1hZ2VIaWdobGlnaHQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZygndG9vbHRpcCBmb3VuZDonLHRhcmdldCwgdGFyZ2V0LmF0dHIoJ2RhdGEtdG9vbHRpcCcpLCB0YXJnZXQuc2NhbGUsIHRoaXMuY3VycmVudEhpZ2hsaWdodClcblxuICAgICAgICB9XG4gICAgICAgIGxldCB6b29tYWJsZSA9IHRhcmdldC5jbG9zZXN0KCcuem9vbWFibGUnKVxuICAgICAgICBpZiAoem9vbWFibGUubGVuZ3RoID4gMCAmJiAhdG9vbHRpcCkge1xuICAgICAgICAgICAgLy8gbGV0IHdyYXBwZXIgPSAkKGUudGFyZ2V0KS5jbG9zZXN0KCcuZmxpcFdyYXBwZXInKVxuLy8gICAgICAgICAgICAgbGV0IGRpdiA9IHdyYXBwZXIuZmluZCgnLlpvb21lZEZpZ3VyZScpXG4vLyAgICAgICAgICAgICBpZiAoZGl2Lmxlbmd0aCA+IDApIHtcbi8vICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlWm9vbWFibGUod3JhcHBlciwgZGl2KVxuLy8gICAgICAgICAgICAgICAgIHJldHVyblxuLy8gICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5vcGVuWm9vbWFibGUod3JhcHBlciwgem9vbWFibGUpXG4gICAgICAgIH1cbiAgICB9KVxuICAgIHRoaXMuZG9tTm9kZSA9IGRvbU5vZGVcbiAgfVxuXG4gIG9wZW5JbWFnZUhpZ2hsaWdodCgpIHtcbiAgICAvKlxuICAgIFR3ZWVuTWF4LnRvKHRoaXMuY3VycmVudEhpZ2hsaWdodCwgMC40LCB7XG4gICAgICAgICAgICAgIHNjYWxlOiAxLjE1LFxuICAgICAgICAgICAgICBlYXNlOiBCYWNrLmVhc2VPdXQsXG4gICAgICAgICAgICAgIGFscGhhOiAxLFxuICAgICAgICAgICAgICBvbkNvbXBsZXRlOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8uLi5cbiAgICAgICAgICAgIH19KVxuICAgICAgICAgICAgKi9cbiAgICBUd2Vlbk1heC5zZXQodGhpcy5jdXJyZW50SGlnaGxpZ2h0LCB7XG4gICAgICBzY2FsZTogMS4xNSxcbiAgICAgIGFscGhhOiAxLFxuICAgICAgb25Db21wbGV0ZTogKCkgPT4ge1xuICAgICAgICAvLy4uLlxuICAgIH19KVxuICB9XG5cbiAgcmVtb3ZlSW1hZ2VIaWdobGlnaHQoKXtcbiAgICBpZih0aGlzLmN1cnJlbnRIaWdobGlnaHQpe1xuICAgICAgLy9Ud2Vlbk1heC50byh0aGlzLmN1cnJlbnRIaWdobGlnaHQsIDAuNCwge3NjYWxlOiAxfSlcbiAgICAgIFR3ZWVuTWF4LnNldCh0aGlzLmN1cnJlbnRIaWdobGlnaHQsIHtzY2FsZTogMX0pXG4gICAgICB0aGlzLmN1cnJlbnRIaWdobGlnaHQgPSBudWxsXG4gICAgfVxuICAgIFxuICB9XG5cbiAgY2xvc2Vab29tYWJsZSh3cmFwcGVyLCBkaXYsIHpvb21hYmxlLCBwb3MsIHNjYWxlLCBkdXJhdGlvbj0wLjQpIHtcbiAgICAvL2NvbnNvbGUubG9nKFwiY2xvc2Vab29tYWJsZVwiKVxuICAgIHRoaXMuem9vbWFibGVUd2VlbkluUHJvZ3Jlc3MgPSB0cnVlXG4gICAgaWYgKHpvb21hYmxlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgVHdlZW5NYXgudG8oem9vbWFibGVbMF0sIGR1cmF0aW9uLCB7XG4gICAgICAgICAgYXV0b0FscGhhOiAxLFxuICAgICAgICAgIG9uQ29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJ0d2VlbiBmaW5pc2hlZFwiKVxuICAgICAgICB9fSlcbiAgICB9XG4gICAgVHdlZW5NYXgudG8oZGl2WzBdLCBkdXJhdGlvbiwge1xuICAgICAgICBzY2FsZTogc2NhbGUsXG4gICAgICAgIHg6IHBvcy54LFxuICAgICAgICB5OiBwb3MueSxcbiAgICAgICAgb25Db21wbGV0ZTogKCkgPT4ge1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcImNsb3NlWm9vbWFibGUgdHdlZW4gZmluaXNoZWRcIilcbiAgICAgICAgICAgIGRpdi5yZW1vdmUoKVxuICAgICAgICAgICAgbGV0IGljb24gPSB3cmFwcGVyLmZpbmQoJy5ab29tZWRJY29uJylcbiAgICAgICAgICAgIGljb24ucmVtb3ZlKClcbiAgICAgICAgICAgIHRoaXMuem9vbWFibGVUd2VlbkluUHJvZ3Jlc3MgPSBmYWxzZVxuICAgICAgICB9fSlcbiAgfVxuXG4gIHJlbW92ZVpvb21hYmxlKGFuaW1hdGVkPWZhbHNlKSB7XG4gICAgICAvL2xvZ2dpbmdcbiAgICAgIC8vYXBwLmxvZyhcInpvb21hYmxlIGltYWdlIGNsb3NlZFwiLHtpZDogJyd9KVxuXG4gICAgICAvL2NvbnNvbGUubG9nKFwiY2hlY2tpbmcgZm9yIG9wZW4gem9vbWFibGVzIChhbmltYXRlZD86IFwiICsgYW5pbWF0ZWQgKyBcIiApXCIpXG4gICAgICAgbGV0IHdyYXBwZXIgPSAkKHRoaXMuZG9tTm9kZSkuY2xvc2VzdCgnLmZsaXBXcmFwcGVyJylcbiAgICAgICBsZXQgZGl2ID0gd3JhcHBlci5maW5kKCcuWm9vbWVkRmlndXJlJylcbiAgICAgICBpZiAoZGl2Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgaWYgKGFuaW1hdGVkKSB7XG4gICAgICAgICAgICAgIGxldCB6b29tYWJsZSA9IGRpdlswXS56b29tYWJsZVxuICAgICAgICAgICAgICBsZXQgem9vbWFibGVQb3MgPSBkaXZbMF0uem9vbWFibGVQb3NcbiAgICAgICAgICAgICAgbGV0IHpvb21hYmxlU2NhbGUgPSBkaXZbMF0uem9vbWFibGVTY2FsZVxuICAgICAgICAgICAgICBpZiAoem9vbWFibGUpIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2Vab29tYWJsZSh3cmFwcGVyLCBkaXYsIHpvb21hYmxlLCB6b29tYWJsZVBvcywgem9vbWFibGVTY2FsZSwgMC4xKVxuICAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgLy9jbGVhbnVwIGlzIG5vdCBuZWNlc3NhcnkgaWYgem9vbWFibGUgdHdlZW4gaXMgaW4gcHJvZ3Jlc3NcbiAgICAgICAgICBpZighdGhpcy56b29tYWJsZVR3ZWVuSW5Qcm9ncmVzcyl7XG4gICAgICAgICAgICBsZXQgem9vbWFibGUgPSBkaXZbMF0uem9vbWFibGVcbiAgICAgICAgICAgIGlmKHpvb21hYmxlLmxlbmd0aCA+IDApe1xuICAgICAgICAgICAgICB6b29tYWJsZVswXS5zdHlsZS52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCJcbiAgICAgICAgICAgICAgem9vbWFibGVbMF0uc3R5bGUub3BhY2l0eSA9IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBpY29uID0gd3JhcHBlci5maW5kKCcuWm9vbWVkSWNvbicpXG4gICAgICAgICAgICBkaXYucmVtb3ZlKClcbiAgICAgICAgICAgIGljb24ucmVtb3ZlKClcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgfVxuXG4gIG9wZW5ab29tYWJsZSh3cmFwcGVyLCB6b29tYWJsZSkge1xuICAgIC8vY29uc29sZS5sb2coXCJvcGVuWm9vbWFibGVcIix3cmFwcGVyLHpvb21hYmxlKVxuICAgIHdyYXBwZXIuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiWm9vbWVkRmlndXJlXCIgc3R5bGU9XCJkaXNwbGF5OmhpZGRlbjtcIj48ZmlndXJlPjwvZmlndXJlPjwvZGl2PicpXG4gICAgbGV0IGRpdiA9IHdyYXBwZXIuZmluZCgnLlpvb21lZEZpZ3VyZScpXG5cbiAgICBsZXQgZmlndXJlID0gZGl2LmZpbmQoJ2ZpZ3VyZScpXG4gICAgbGV0IGltZyA9IHpvb21hYmxlLmZpbmQoJy5tYWluaW1nJylcbiAgICBpZiAoaW1nLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgIGltZyA9IHpvb21hYmxlLmZpbmQoJy5tYWluaW1naGFsZicpXG4gICAgfVxuICAgIGZpZ3VyZS5hcHBlbmQoJzxpbWcgc3JjPVwiJyArIGltZy5hdHRyKCdzcmMnKSArICdcIj4nKVxuICAgIGxldCB6b29tQ2FwID0gem9vbWFibGUuZmluZCgnLnpvb21jYXAnKVxuICAgIGxldCB6b29tQ2FwQ2xvbmUgPSB6b29tQ2FwLmNsb25lKClcbiAgICBmaWd1cmUuYXBwZW5kKHpvb21DYXBDbG9uZSlcbiAgICB6b29tQ2FwQ2xvbmUuc2hvdygpXG5cbiAgICBsZXQgem9vbUljb24gPSB6b29tYWJsZS5maW5kKCcuem9vbWljb24nKVxuICAgIHdyYXBwZXIuYXBwZW5kKCc8aW1nIGNsYXNzPVwiem9vbWljb24gWm9vbWVkSWNvblwiIHNyYz1cIi4uLy4uL3NyYy9jYXJkcy9pY29ucy9jbG9zZS5zdmdcIj4nKVxuXG4gICAgbGV0IGdsb2JhbEljb25Qb3MgPSBQb2ludHMuZnJvbU5vZGVUb1BhZ2Uoem9vbUljb25bMF0sIHsgeDogMCwgeTogMH0pXG4gICAgbGV0IGxvY2FsSWNvblBvcyA9IFBvaW50cy5mcm9tUGFnZVRvTm9kZSh3cmFwcGVyWzBdLCBnbG9iYWxJY29uUG9zKVxuXG4gICAgbGV0IGdsb2JhbEZpZ3VyZVBvcyA9IFBvaW50cy5mcm9tTm9kZVRvUGFnZSh6b29tYWJsZVswXSwgeyB4OiAwLCB5OiAwfSlcbiAgICBsZXQgbG9jYWxGaWd1cmVQb3MgPSBQb2ludHMuZnJvbVBhZ2VUb05vZGUod3JhcHBlclswXSwgZ2xvYmFsRmlndXJlUG9zKVxuICAgIGxldCByZWxhdGl2ZUljb25Qb3MgPSBQb2ludHMuZnJvbVBhZ2VUb05vZGUoem9vbWFibGVbMF0sIGdsb2JhbEljb25Qb3MpXG5cbiAgICBsZXQgY3VycmVudFdpZHRoID0gcmVsYXRpdmVJY29uUG9zLnhcbiAgICBsZXQgY3VycmVudEhlaWdodCA9IHJlbGF0aXZlSWNvblBvcy55XG4gICAgbGV0IHdpZHRoID0gaW1nWzBdLm5hdHVyYWxXaWR0aCAtIDE2XG4gICAgbGV0IGhlaWdodCA9IGltZ1swXS5uYXR1cmFsSGVpZ2h0IC0gMTZcbiAgICBsZXQgc2NhbGUgPSAoY3VycmVudFdpZHRoIC8gd2lkdGgpICogMS4xXG5cbiAgICBkaXZbMF0uem9vbWFibGUgPSB6b29tYWJsZVxuICAgIGRpdlswXS56b29tYWJsZVBvcyA9IGxvY2FsRmlndXJlUG9zXG4gICAgZGl2WzBdLnpvb21hYmxlU2NhbGUgPSBzY2FsZVxuXG4gICAgbGV0IGljb24gPSB3cmFwcGVyLmZpbmQoJy5ab29tZWRJY29uJylcbiAgICBpY29uLm9uKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgIHRoaXMuY2xvc2Vab29tYWJsZSh3cmFwcGVyLCBkaXYsIHpvb21hYmxlLCBsb2NhbEZpZ3VyZVBvcywgc2NhbGUpXG4gICAgfSlcblxuICAgIC8vbG9nZ2luZ1xuICAgIGFwcC5sb2coXCJ6b29tYWJsZSBpbWFnZSBvcGVuZWRcIix7aWQ6IHpvb21hYmxlLmF0dHIoJ2lkJyl9KVxuXG4gICAgZGl2LnNob3coKVxuICAgIFR3ZWVuTWF4LnNldChpY29uWzBdLCB7IHg6IGxvY2FsSWNvblBvcy54LCB5OiBsb2NhbEljb25Qb3MueSB9KVxuICAgIFR3ZWVuTWF4LnNldChkaXZbMF0sIHsgIHg6bG9jYWxGaWd1cmVQb3MueCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5OmxvY2FsRmlndXJlUG9zLnksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NhbGU6IHNjYWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybU9yaWdpbjogXCJ0b3AgbGVmdFwifSlcbiAgICBcbiAgICAvL3BtOiB0aGlzIGlzIG1vcmUgb3IgbGVzcyBhIHF1aWNrIGFuZCBkaXJ0eSBzb2x1dGlvbiB0byB6b29tYWJsZXMgdGhhdCBhcmUgdG9vIGxhcmdlLi4uIHNob3VsZCBiZSByZXdvcmtlZFxuICAgIGxldCBzY2FsZUZhY3RvciA9IDFcbiAgICBpZihoZWlnaHQ+YXBwLmhlaWdodCowLjUpXG4gICAgICBzY2FsZUZhY3RvciA9IDAuNzVcblxuICAgIFR3ZWVuTWF4LnRvKHpvb21hYmxlWzBdLCAwLjQsIHsgYXV0b0FscGhhOiAwfSlcbiAgICBUd2Vlbk1heC50byhkaXZbMF0sIDAuNCwgeyBzY2FsZTogc2NhbGVGYWN0b3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OiBcIi09XCIgKyAod2lkdGggKiBzY2FsZUZhY3RvciAtIGN1cnJlbnRXaWR0aCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5OiBcIi09XCIgKyAoaGVpZ2h0ICogc2NhbGVGYWN0b3IgLSBjdXJyZW50SGVpZ2h0KX0pXG4gIH1cblxuICBnZXRSYXRpbyhzb3VyY2UpIHtcbiAgICBsZXQgZHVtbXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiSU1HXCIpO1xuICAgIGR1bW15LnNldEF0dHJpYnV0ZShcInNyY1wiLCBzb3VyY2UpO1xuICAgIGxldCByYXRpbyA9IGR1bW15Lm5hdHVyYWxXaWR0aCAvIGR1bW15Lm5hdHVyYWxIZWlnaHRcbiAgICByZXR1cm4gcmF0aW9cbiAgfVxuXG4gIHNldHVwSW5kZXgoaW5kZXhub2RlLCB1c2VHcmVlblNvY2s9dHJ1ZSkge1xuICAgIGxldCBkdXJhdGlvbiA9IDMwMFxuICAgIGxldCB0aGF0ID0gdGhpc1xuICAgICQoaW5kZXhub2RlKS5maW5kKCcuY2FyZCcpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAkKHRoaXMpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG5cbiAgICAgICAgLy9sb2dnaW5nXG4gICAgICAgIGxldCBjYXJkVHlwZSA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuaWQuc3Vic3RyaW5nKDQpXG4gICAgICAgIGNhcmRUeXBlID0gY2FyZFR5cGUucmVwbGFjZSgvXFxkKyQvLCBcIlwiKVxuICAgICAgICBhcHAubG9nKFwidG9waWMgb3BlbmVkXCIse2lkOiBldmVudC5jdXJyZW50VGFyZ2V0LmlkLnN1YnN0cmluZygwLDMpLCB0eXBlOiBjYXJkVHlwZX0pXG5cbiAgICAgICAgaWYgKCQodGhpcykuYXR0cihcImV4cGFuZGVkXCIpID09IFwidHJ1ZVwiKSB7XG4gICAgICAgICAgJCh0aGlzKS5hdHRyKFwiZXhwYW5kZWRcIiwgXCJmYWxzZVwiKVxuICAgICAgICAgICQodGhpcykuY3NzKCdmbGV4LWdyb3cnLCAnMCcpXG4gICAgICAgIH1cbiAgICAgICAgdGhhdC5yZW1vdmVab29tYWJsZSh0cnVlKVxuXG4gICAgICAgIGxldCBjYXJkYm94ID0gJCh0aGlzKS5wYXJlbnQoKVxuICAgICAgICBsZXQgaW5kZXhib3ggPSAkKHRoaXMpLnBhcmVudHMoJy5tYWludmlldycpXG5cbiAgICAgICAgbGV0IGVsID0gJCh0aGlzKVswXTtcbiAgICAgICAgbGV0IHN0ID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwsIG51bGwpXG4gICAgICAgIGxldCB0ciA9IHN0LmdldFByb3BlcnR5VmFsdWUoJ3RyYW5zZm9ybScpXG4gICAgICAgIGxldCBhbmdsZSA9IDBcbiAgICAgICAgaWYgKHRyICE9PSBcIm5vbmVcIikge1xuICAgICAgICAgIGxldCB2YWx1ZXMgPSB0ci5zcGxpdCgnKCcpWzFdLnNwbGl0KCcpJylbMF0uc3BsaXQoJywnKVxuICAgICAgICAgIGxldCBhID0gdmFsdWVzWzBdXG4gICAgICAgICAgbGV0IGIgPSB2YWx1ZXNbMV1cbiAgICAgICAgICBhbmdsZSA9IE1hdGgucm91bmQoTWF0aC5hdGFuMihiLCBhKSAqICgxODAgLyBNYXRoLlBJKSlcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB0YXJnZXQgPSAkKHRoaXMpLmNsb25lKClcbiAgICAgICAgbGV0IHJvb3QgPSAkKHRoaXMpXG5cbiAgICAgICAgJCh0YXJnZXQpLmF0dHIoJ2lkJywgJ292ZXJsYXknKVxuICAgICAgICAkKCQodGFyZ2V0KS5maW5kKCcuY2FyZGljb24nKSkuYXR0cignc3JjJywgJy4uLy4uL3NyYy9jYXJkcy9pY29ucy9jbG9zZS5zdmcnKVxuICAgICAgICAkKHRhcmdldCkuZmluZCgnLnRpdGxlYmFyJykuY3NzKHtoZWlnaHQ6ICc4JSd9KVxuICAgICAgICAvL2NvbnNvbGUubG9nKFwiRXhwYW5kXCIpXG4gICAgICAgIGlmICh1c2VHcmVlblNvY2spIHtcblxuICAgICAgICAgICAgbGV0IGluZGV4V2lkdGggPSBpbmRleG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGhcbiAgICAgICAgICAgIGxldCBpbmRleEhlaWdodCA9IGluZGV4bm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHRcbiAgICAgICAgICAgIGxldCByb290V2lkdGggPSByb290WzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoXG4gICAgICAgICAgICBsZXQgcm9vdEhlaWdodCA9IHJvb3RbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0XG4gICAgICAgICAgICBsZXQgc2NhbGUgPSAodXNlR3JlZW5Tb2NrKSA/IHJvb3RXaWR0aCAvIGluZGV4V2lkdGggOiAxXG5cbiAgICAgICAgICAgIGxldCBnbG9iYWxPcmlnaW4gPSBQb2ludHMuZnJvbU5vZGVUb1BhZ2Uocm9vdFswXSwge3g6MCwgeTowfSlcbiAgICAgICAgICAgIGxldCBsb2NhbE9yaWdpbiA9IFBvaW50cy5mcm9tUGFnZVRvTm9kZShpbmRleGJveFswXSwgZ2xvYmFsT3JpZ2luKVxuXG4gICAgICAgICAgICBUd2Vlbk1heC5zZXQodGFyZ2V0WzBdLCB7IGNzczoge1xuICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgICAgICAgd2lkdGg6ICc5Ny41JScsXG4gICAgICAgICAgICAgICAgIGhlaWdodDogJzkzLjUlJyxcbiAgICAgICAgICAgICAgICAgbWFyZ2luOiAwLFxuICAgICAgICAgICAgICAgICB6SW5kZXg6IDEwMVxuICAgICAgICAgICAgfX0pXG4gICAgICAgICAgICBUd2Vlbk1heC5zZXQocm9vdFswXSwgeyBhbHBoYTogMH0pXG4gICAgICAgICAgICBUd2Vlbk1heC5zZXQodGFyZ2V0WzBdLCB7XG4gICAgICAgICAgICAgICAgICB4OiBsb2NhbE9yaWdpbi54LFxuICAgICAgICAgICAgICAgICAgeTogbG9jYWxPcmlnaW4ueSxcbiAgICAgICAgICAgICAgICAgIHNjYWxlOiBzY2FsZSxcbiAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybU9yaWdpbjogJzAlIDAlJyxcbiAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiBhbmdsZSxcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgICQodGFyZ2V0KS5wcmVwZW5kVG8oaW5kZXhib3gpXG5cbiAgICAgICAgICAgIFR3ZWVuTWF4LnRvKHRhcmdldFswXSwgMC4yLCB7XG4gICAgICAgICAgICAgICAgeDogaW5kZXhXaWR0aCAqIDAuMDIsXG4gICAgICAgICAgICAgICAgeTogMCxcbiAgICAgICAgICAgICAgICBzY2FsZTogMSxcbiAgICAgICAgICAgICAgICByb3RhdGlvbjogMFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIGxldCBwcmV2aWV3ID0gJCh0YXJnZXQpLmZpbmQoJy5wcmV2aWV3JylcbiAgICAgICAgICAgIFR3ZWVuTWF4LnRvKHByZXZpZXdbMF0sIDAuNSwgeyBhdXRvQWxwaGE6IDAgfSlcblxuICAgICAgICAgICAgJCh0YXJnZXQpLmZpbmQoJy5jYXJkaWNvbicpLm9uKCdjbGljaycsIChldmVudCkgPT4ge1xuXG4gICAgICAgICAgICAgICAgLy9sb2dnaW5nXG4gICAgICAgICAgICAgICAgYXBwLmxvZyhcInRvcGljIGNsb3NlZFwiLHtpZDogJyd9KVxuXG4gICAgICAgICAgICAgICAgdGhhdC5yZW1vdmVab29tYWJsZSh0cnVlKVxuICAgICAgICAgICAgICAgIFR3ZWVuTWF4LnNldChyb290WzBdLCB7IGF1dG9BbHBoYTogMSB9KVxuICAgICAgICAgICAgICAgIFR3ZWVuTWF4LnRvKHRhcmdldFswXSwgMC4yLCB7XG4gICAgICAgICAgICAgICAgICAgIHg6IGxvY2FsT3JpZ2luLngsXG4gICAgICAgICAgICAgICAgICAgIHk6IGxvY2FsT3JpZ2luLnksXG4gICAgICAgICAgICAgICAgICAgIHNjYWxlOiBzY2FsZSxcbiAgICAgICAgICAgICAgICAgICAgcm90YXRpb246IGFuZ2xlLFxuICAgICAgICAgICAgICAgICAgICBvbkNvbXBsZXRlOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBUd2Vlbk1heC50byh0YXJnZXRbMF0sIDAuNCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGRlbGF5OiAwLjIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29tcGxldGU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldFswXS5yZW1vdmUoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgICAgLy8gVHdlZW5NYXgudG8ocHJldmlld1swXSwgMC4yLCB7IGFscGhhOiAxIH0pXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAkKHRhcmdldCkuZmluZCgnLmNhcmRpY29uJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgJCh0YXJnZXQpLmZhZGVPdXQoZHVyYXRpb24sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICQodGFyZ2V0KS5yZW1vdmUoKVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgJCh0YXJnZXQpLmNzcyh7XG4gICAgICAgICAgICAgICdwb3NpdGlvbic6ICdhYnNvbHV0ZScsXG4gICAgICAgICAgICAgICd0b3AnOiByb290Lm9mZnNldCgpLnRvcCxcbiAgICAgICAgICAgICAgJ2xlZnQnOiByb290Lm9mZnNldCgpLmxlZnQsXG4gICAgICAgICAgICAgICdtYXJnaW4nOiAwLFxuICAgICAgICAgICAgICAnei1pbmRleCc6ICcxMDEnXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgJCh0YXJnZXQpLnByZXBlbmRUbyhpbmRleGJveClcblxuICAgICAgICAgICAgJCh0YXJnZXQpLmFuaW1hdGUoe1xuICAgICAgICAgICAgICAgIHRvcDogJzUlJyxcbiAgICAgICAgICAgICAgICBsZWZ0OiAnMiUnLFxuICAgICAgICAgICAgICAgIHdpZHRoOiAnOTYlJyxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6ICc5MCUnLFxuICAgICAgICAgICAgICAgIG1hcmdpbjogJzAnXG4gICAgICAgICAgICAgICAgfSwgZHVyYXRpb24pXG4gICAgICAgICAgICAkKHRhcmdldCkuZmluZCgnLnByZXZpZXcnKS5mYWRlT3V0KDcwMClcblxuICAgICAgICAgICAgJCh7ZGVnOiAwfSkuYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgZGVnOiBhbmdsZVxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogZHVyYXRpb24sXG4gICAgICAgICAgICAgICAgc3RlcDogZnVuY3Rpb24obm93KSB7XG4gICAgICAgICAgICAgICAgICAgICQodGFyZ2V0KS5jc3Moe3RyYW5zZm9ybTogJ3JvdGF0ZSgwZGVnKSd9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgICAgLy8gdGhpcy5zZXR1cFpvb21hYmxlcygkKHRhcmdldCkpID8/PyBpcyB0aGlzIHRoaXMgdGhlIHRoaXMgaSB3YW50IHRvIHRoaXMgPz8/XG5cbiAgICAgICAgfSlcbiAgICB9KVxufVxuXG4gIHNldHVwWm9vbWFibGVzKGNhcmRub2RlKSB7XG4gICAgJChjYXJkbm9kZSkuZmluZCgnZmlndXJlLnpvb21hYmxlJykuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgIC8vIHpvb21mdW4oKVxuICAgIH0pXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFhNTENhcmRQYXJzZXIgZXh0ZW5kcyBYTUxQYXJzZXIge1xuXG4gICAgcGFyc2VYTUwoeG1sZGF0KSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cbiAgICAgICAgICAgIGxldCB0ZW1wbGF0ZSA9ICQoJCh4bWxkYXQpLmZpbmQoJ2NvbnRlbnQnKSkuYXR0cigndGVtcGxhdGUnKVxuICAgICAgICAgICAgbGV0IHRhcmdldGRhdFxuXG4gICAgICAgICAgICBpZih0ZW1wbGF0ZT09Myl7XG4gICAgICAgICAgICAgIHRhcmdldGRhdCA9IHtcbiAgICAgICAgICAgICAgICAnbGVmdGNvbCc6IHt9LFxuICAgICAgICAgICAgICAgICdyaWdodGNvbCc6IHt9LFxuICAgICAgICAgICAgICAgICdib3R0b21jb2wnOiB7fVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0YXJnZXRkYXQgPSB7XG4gICAgICAgICAgICAgICAgJ2xlZnRjb2wnOiB7fSxcbiAgICAgICAgICAgICAgICAncmlnaHRjb2wnOiB7fVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgdGFyZ2V0ZGF0LnRlbXBsYXRlID0gdGVtcGxhdGVcbiAgICAgICAgICAgIHRhcmdldGRhdC50eXBlID0gJCgkKHhtbGRhdCkuZmluZCgnY2FyZCcpKS5hdHRyKCd0eXBlJykucmVwbGFjZSgvXFxzL2csICdfJylcbiAgICAgICAgICAgIGxldCBoZWFkZXIgPSAkKHhtbGRhdCkuZmluZChcImgxXCIpXG4gICAgICAgICAgICBpZiAoaGVhZGVyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBsZXQgdGl0bGUgPSB0aGlzLnByZXNlcnZlVGFncyhoZWFkZXJbMF0uaW5uZXJIVE1MKVxuICAgICAgICAgICAgICAgIHRhcmdldGRhdC5oZWFkZXIgPSB0aXRsZVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgcHJldmlldyA9ICQoeG1sZGF0KS5maW5kKFwicHJldmlld1wiKVxuICAgICAgICAgICAgbGV0IHByZXZpZXdUZXh0ID0gcHJldmlldy5maW5kKFwidGV4dFwiKVxuICAgICAgICAgICAgaWYgKHByZXZpZXdUZXh0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBwcmV2aWV3ID0gdGhpcy5wcmVzZXJ2ZVRhZ3MocHJldmlld1RleHRbMF0uaW5uZXJIVE1MKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IHByZXZpZXdJbWFnZSA9IHByZXZpZXcuZmluZChcImltZ1wiKVxuICAgICAgICAgICAgICAgIGlmIChwcmV2aWV3SW1hZ2UubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgaW1hZ2UgPSAkKHByZXZpZXdJbWFnZVswXSlcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNyYyA9IGltYWdlLmF0dHIoJ3NyYycpXG4gICAgICAgICAgICAgICAgICAgIGltYWdlLmF0dHIoJ3NyYycsIHRoaXMuY3JlYXRlTGlua1VSTChzcmMpKVxuICAgICAgICAgICAgICAgICAgICBwcmV2aWV3ID0gcHJldmlld0ltYWdlWzBdLm91dGVySFRNTFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGFyZ2V0ZGF0LnByZXZpZXcgPSBwcmV2aWV3XG4gICAgICAgICAgICB0YXJnZXRkYXQudG9vbHRpcGRhdGEgPSB7fVxuICAgICAgICAgICAgbGV0IGNvbHMgPSAkKHhtbGRhdCkuZmluZChcImNvbHVtblwiKVxuICAgICAgICAgICAgbGV0IGtleWRhdCA9IE9iamVjdC5rZXlzKHRhcmdldGRhdClcbiAgICAgICAgICAgIGxldCBpbWdpbmRleCA9IDAsXG4gICAgICAgICAgICAgICAgcGxhaW50ZXh0ID0gJycsXG4gICAgICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgICAgICBodG1sLFxuICAgICAgICAgICAgICAgIG5vZGVzLFxuICAgICAgICAgICAgICAgIGxpbmtkYXRcblxuICAgICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGNvbHMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IHNvdXJjZWNvbCA9ICQoY29sc1tpbmRleF0pLmNoaWxkcmVuKClcbiAgICAgICAgICAgICAgICB0YXJnZXRkYXRba2V5ZGF0W2luZGV4XV0gPSB7fVxuICAgICAgICAgICAgICAgIGxldCBuZXdub2RlcyA9IFtdXG4gICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNvdXJjZWNvbC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBsZXQgdHlwZSA9IHNvdXJjZWNvbFtpXS5ub2RlTmFtZVxuICAgICAgICAgICAgICAgICAgICBsZXQgaHRtbCA9IHNvdXJjZWNvbFtpXS5pbm5lckhUTUxcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5vZGVzID0gXCJcIlxuICAgICAgICAgICAgICAgICAgICBsZXQgbm9kZSA9IHt9XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnRlbnQgdHlwZTogUFJFVklFVywgVEVYVCwgVklERU8sIEdST1VQSU1BR0UsIFNJTkdMRUlNQUdFLCBHTE9TU19MSU5LLCBERVRBSUxfTElOSywgREVUQUlMX1pPT00sIFNQQUNFXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlID09IFwidGV4dFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBodG1sID0gdGhpcy5yZXBsYWNlQ0RBVEEoaHRtbClcbiAgICAgICAgICAgICAgICAgICAgICAgIGh0bWwgPSBodG1sLnJlcGxhY2UoLy0oW2Etel0pIC9naSwgXCIkMVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVU86IFRoZSBmb2xsb3dpbmcgbGluZSBpcyBpbiBjb25mbGljdCB3aXRoIFVSTCBsaWtlIHRldGUtYS10ZXRlLnhtbFxuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbCA9IGh0bWwucmVwbGFjZSgvLShbYS16XSkvZ2ksIFwiJDFcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVzID0gJC5wYXJzZUhUTUwoaHRtbClcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUudHlwZSA9ICd0ZXh0J1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5odG1sID0gJydcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbm9kZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZXNbal0ubm9kZU5hbWUgPT0gXCJQXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGxpbmtzID0gbm9kZXNbal0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2EnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IGxpbmtzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVmID0gdGhpcy5jcmVhdGVMaW5rVVJMKGxpbmtzW2tdLmhyZWYpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGxpbmtzW2tdKS5hdHRyKCdkYXRhLXRhcmdldCcsIHJlZilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldGRhdC50b29sdGlwZGF0YVtyZWZdID0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlua3Nba10uaHJlZiA9IFwiI1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbGlua3R5cGUgPSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGlua3Nba10uaHJlZi5pbmRleE9mKFwiZ2xvc3NhclwiKSAhPSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmt0eXBlID0gXCJnbG9zc0xpbmtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsaW5rc1trXS5oYXNBdHRyaWJ1dGUoXCJpbWFnZWhpZ2hsaWdodGlkXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlua3R5cGUgPSBcImRldGFpbExpbmtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmtzW2tdLmlkID0gJChsaW5rc1trXSkuYXR0cignaW1hZ2VoaWdobGlnaHRpZCcpLnJlcGxhY2UoL1xcLi9nLCBcIl9cIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlua3R5cGUgPSBcImdsb3NzTGlua1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGxpbmtzW2tdKS5hdHRyKFwiY2xhc3NcIiwgbGlua3R5cGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKioqIFVPOiBUaGlzIGNyYXNoZWQgb24gRmlyZWZveCA0OC4gU2VlbXMgdG8gYmUgdW5uZWNlc3NhcnkuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZXNbal0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJhXCIpW2tdID0gbGlua3Nba11cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICoqKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbm9kZS5odG1sICs9ICc8cD4gJyArIG5vZGVzW2pdLmlubmVySFRNTCArICcgPC9wPidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL1VPOiBFbmFibGUgdGhlIGZvbGxvd2luZyBsaW5lIHRvIHJlbW92ZSBhbGwgbGlua3MgZnJvbSBQIHRhZ3NcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLmh0bWwgKz0gJzxwPiAnICsgbm9kZXNbal0uaW5uZXJUZXh0ICsgJyA8L3A+J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWludGV4dCArPSBub2Rlc1tqXS5pbm5lclRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG5vZGVzW2pdLm5vZGVOYW1lID09IFwiSDJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLmh0bWwgKz0gJzxoMj4gJyArIG5vZGVzW2pdLmlubmVySFRNTCArICcgPC9oMj4nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWludGV4dCArPSBub2Rlc1tqXS5pbm5lclRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZSA9PSBcImltZ1wiKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGltZ2luZGV4ID0gaW1naW5kZXggKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmV3aHRtbCA9IFwiXCJcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCQoc291cmNlY29sW2ldKS5hdHRyKCdzcmMnKS5pbmRleE9mKFwiLmY0dlwiKSA+PSAwKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS50eXBlID0gJ3ZpZGVvJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLm1heGhlaWdodCA9ICQoc291cmNlY29sW2ldKS5hdHRyKCdtYXhIZWlnaHQnKSArICdweCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5zb3VyY2UgPSAkKHNvdXJjZWNvbFtpXSkuYXR0cignc3JjJykucmVwbGFjZSgnZjR2JywgJ21wNCcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuaWQgPSAnem9vbWFibGUnICsgaW1naW5kZXhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5pY29uaWQgPSAnem9vbScgKyBpbWdpbmRleFxuICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLmNhcCA9IHRoaXMuY2FwdGlvbihzb3VyY2Vjb2xbaV0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuem9vbWNhcCA9IHRoaXMuem9vbUNhcHRpb24oc291cmNlY29sW2ldKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUudHlwZSA9ICdzaW5nbGVpbWFnZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5tYXhoZWlnaHQgPSAkKHNvdXJjZWNvbFtpXSkuYXR0cignbWF4SGVpZ2h0JykgKyAncHgnXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuc291cmNlID0gJChzb3VyY2Vjb2xbaV0pLmF0dHIoJ3NyYycpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuaWQgPSAnem9vbWFibGUnICsgaW1naW5kZXhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5pY29uaWQgPSAnem9vbScgKyBpbWdpbmRleFxuICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLmNhcCA9IHRoaXMuY2FwdGlvbihzb3VyY2Vjb2xbaV0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuem9vbWNhcCA9IHRoaXMuem9vbUNhcHRpb24oc291cmNlY29sW2ldKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vd2FsayB0aHJvdW5naCBoaWdobGlnaHRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVzID0gJC5wYXJzZUhUTUwoaHRtbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGhpZ2hsaWdodHMgPSBbXVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbm9kZXMubGVuZ3RoOyBqKyspIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub2Rlc1tqXS5ub2RlTmFtZSA9PSBcIkhJR0hMSUdIVFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncGFyc2luZyBoaWdobGlnaHQnKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVmID0gdGhpcy5jcmVhdGVMaW5rVVJMKCQobm9kZXNbal0pLmF0dHIoJ2hyZWYnKSlcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0ZGF0LnRvb2x0aXBkYXRhW3JlZl0gPSBcIlwiXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdWJub2RlID0ge31cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Vibm9kZS5pZCA9ICgkKG5vZGVzW2pdKS5hdHRyKCdpZCcpICsgXCJEZXRhaWxcIikucmVwbGFjZSgvXFwuL2csIFwiX1wiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Vibm9kZS5zcmMgPSAkKG5vZGVzW2pdKS5hdHRyKCdpZCcpLnJlcGxhY2UoXCIuanBnXCIsIFwiXCIpLnJlcGxhY2UoLy5oXFxkKy8sIFwiXCIpLnJlcGxhY2UoXCIuXCIsIFwiL1wiKSArIFwiLmpwZ1wiXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdHlsZSA9IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlID0gc3R5bGUgKyBcImxlZnQ6XCIgKyAkKG5vZGVzW2pdKS5hdHRyKCd4JykgKiAxMDAgKyBcIiU7XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlID0gc3R5bGUgKyBcInRvcDpcIiArICQobm9kZXNbal0pLmF0dHIoJ3knKSAqIDEwMCArIFwiJTtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGUgPSBzdHlsZSArIFwiaGVpZ2h0OlwiICsgJChub2Rlc1tqXSkuYXR0cigncmFkaXVzJykgKiAxODAgKyBcIiU7XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlID0gc3R5bGUgKyBcIndpZHRoOlwiICsgJChub2Rlc1tqXSkuYXR0cigncmFkaXVzJykgKiAxODAgKyBcIiU7XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vc3R5bGUgPSBzdHlsZSArIFwibGVmdDpcIiArICQobm9kZXNbal0pLmF0dHIoJ3gnKSAqIDExNCArIFwiJTtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9zdHlsZSA9IHN0eWxlICsgXCJ0b3A6XCIgKyAkKG5vZGVzW2pdKS5hdHRyKCd5JykgKiAxMDYgKyBcIiU7XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vc3R5bGUgPSBzdHlsZSArIFwiaGVpZ2h0OlwiICsgJChub2Rlc1tqXSkuYXR0cigncmFkaXVzJykgKiAxNDUgKyBcIiU7XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vc3R5bGUgPSBzdHlsZSArIFwid2lkdGg6XCIgKyAkKG5vZGVzW2pdKS5hdHRyKCdyYWRpdXMnKSAqIDE5MCArIFwiJTtcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGUgPSBzdHlsZSArIFwiYmFja2dyb3VuZC1pbWFnZTp1cmwoXCIgKyByZWYucmVwbGFjZShcInhtbFwiLCBcImpwZ1wiKSArIFwiKTtcIlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJub2RlLnN0eWxlID0gc3R5bGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Ym5vZGUudGFyZ2V0ID0gcmVmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJub2RlLnJhZGl1cyA9ICQobm9kZXNbal0pLmF0dHIoJ3JhZGl1cycpXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHN1Ym5vZGUuc3JjLHN1Ym5vZGUudGFyZ2V0KVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWdobGlnaHRzLnB1c2goc3Vibm9kZSlcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLmhpZ2hsaWdodHMgPSBoaWdobGlnaHRzLnJldmVyc2UoKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZSA9PSBcInNwYWNlXCIgJiBpID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUudHlwZSA9ICdzcGFjZSdcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuaGVpZ2h0ID0gJChzb3VyY2Vjb2xbaV0pLmF0dHIoJ2hlaWdodCcpICsgXCJweFwiXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZSA9PSBcImltZ2dyb3VwXCIpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS50eXBlID0gJ2dyb3VwaW1hZ2UnXG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLm1heGhlaWdodCA9ICQoc291cmNlY29sW2ldKS5hdHRyKCdtYXhIZWlnaHQnKSArICdweCdcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuZmlndXJlcyA9IHt9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaiA9IDA7IGogPCAkKHNvdXJjZWNvbFtpXSkuY2hpbGRyZW4oJ2ltZycpLmxlbmd0aDsgaisrKXtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICBpbWdpbmRleCArPSAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzcmNpbWcgPSAkKHNvdXJjZWNvbFtpXSkuY2hpbGRyZW4oJ2ltZycpW2pdXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5maWd1cmVzW2orMV0gPSB7fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLmZpZ3VyZXNbaisxXS5zb3VyY2UgPSAkKHNyY2ltZykuYXR0cignc3JjJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5maWd1cmVzW2orMV0uaWQgPSAnem9vbWFibGUnICsgaW1naW5kZXhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5maWd1cmVzW2orMV0uaWNvbmlkID0gJ3pvb20nICsgaW1naW5kZXhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5maWd1cmVzW2orMV0uY2FwID0gdGhpcy5jYXB0aW9uKHNyY2ltZylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5maWd1cmVzW2orMV0uem9vbWNhcCA9IHRoaXMuem9vbUNhcHRpb24oc3JjaW1nKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbmV3bm9kZXMucHVzaChub2RlKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0YXJnZXRkYXRba2V5ZGF0W2luZGV4XV0gPSBuZXdub2Rlcy5yZXZlcnNlKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRhcmdldGRhdC5wbGFpbnRleHQgPSBwbGFpbnRleHRcbiAgICAgICAgICAgIGxldCB0b29sdGlwUmVmcyA9IE9iamVjdC5rZXlzKHRhcmdldGRhdC50b29sdGlwZGF0YSlcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2codG9vbHRpcFJlZnMpXG4gICAgICAgICAgICBsZXQgbGlua3Byb21pc2VzID0gW11cbiAgICAgICAgICAgIGZvciAobGV0IGkgb2YgdG9vbHRpcFJlZnMpIHtcbiAgICAgICAgICAgICAgICBsZXQgdXJsID0gaVxuICAgICAgICAgICAgICAgIGxldCBwYXJzZXIgPSBuZXcgWE1MUGFyc2VyKHVybClcbiAgICAgICAgICAgICAgICBsZXQgcHJvbWlzZSA9IHBhcnNlci5sb2FkWE1MKCkudGhlbigoeG1sKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBpbWcgPSAkKHhtbCkuZmluZCgnaW1nJylcbiAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBpPTA7IGk8aW1nLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3JjID0gJChpbWdbaV0pLmF0dHIoJ3NyYycpXG4gICAgICAgICAgICAgICAgICAgICAgICAkKGltZ1tpXSkuYXR0cignc3JjJywgdGhpcy5jcmVhdGVMaW5rVVJMKHNyYykpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGV0IGxpbmtkYXQgPSAkKHhtbCkuZmluZCgnY29udGVudCcpLmh0bWwoKVxuICAgICAgICAgICAgICAgICAgICBsaW5rZGF0ID0gdGhpcy5yZXBsYWNlQ0RBVEEobGlua2RhdClcbiAgICAgICAgICAgICAgICAgICAgbGlua2RhdCA9IHRoaXMucmVwbGFjZVRleHQobGlua2RhdClcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0ZGF0LnRvb2x0aXBkYXRhW3VybF0gPSBsaW5rZGF0XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICBsaW5rcHJvbWlzZXMucHVzaChwcm9taXNlKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBQcm9taXNlLmFsbChsaW5rcHJvbWlzZXMpLnRoZW4oKGlucHV0KSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh0YXJnZXRkYXQpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHJlcGxhY2VUZXh0KGh0bWwpIHtcbiAgICAgICAgcmV0dXJuIGh0bWwucmVwbGFjZSgvPFxcL3RleHQ+L2csIFwiXCIpXG4gICAgICAgICAgICAucmVwbGFjZSgvPHRleHQ+L2csIFwiXCIpXG4gICAgICAgICAgICAucmVwbGFjZSgvXFx0L2csIFwiXCIpXG4gICAgICAgICAgICAucmVwbGFjZSgvXCIvZywgXCInXCIpXG4gICAgICAgICAgICAucmVwbGFjZSgvXFxuL2csICcnKVxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcci9nLCAnJylcbiAgICB9XG5cbiAgICByZXBsYWNlQ0RBVEEoaHRtbCkge1xuICAgICAgICByZXR1cm4gaHRtbC5yZXBsYWNlKC88XFwhXFxbQ0RBVEFcXFsvZywgXCJcIikucmVwbGFjZSgvXV0+L2csIFwiXCIpXG4gICAgfVxuXG4gICAgcmVwbGFjZUVzY2FwZWRBbmdsZUJyYWNrZXRzKGh0bWwpIHtcbiAgICAgICAgcmV0dXJuIGh0bWwucmVwbGFjZSgvXFx0L2csIFwiXCIpLnJlcGxhY2UoLyZsdDsvLCBcIjxcIikucmVwbGFjZSgvJmd0Oy8sIFwiPlwiKVxuICAgIH1cblxuICAgIHByZXNlcnZlVGFncyhodG1sKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcGxhY2VFc2NhcGVkQW5nbGVCcmFja2V0cyhodG1sKVxuICAgIH1cblxuICAgIGNhcHRpb24oZWxlbWVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVwbGFjZUVzY2FwZWRBbmdsZUJyYWNrZXRzKCQoZWxlbWVudCkuYXR0cignY2FwdGlvbicpKVxuICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBcIk1pc3NpbmcgQ2FwdGlvblwiXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB6b29tQ2FwdGlvbihlbGVtZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZXBsYWNlRXNjYXBlZEFuZ2xlQnJhY2tldHMoJChlbGVtZW50KS5hdHRyKCd6b29tQ2FwdGlvbicpKVxuICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBcIk1pc3NpbmcgWm9vbUNhcHRpb25cIlxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyogQ29udmVydHMgYWJzb2x1dGUgVVJMcyBpbiBocmVmIGF0dHJpYnV0ZXMgY3JlYXRlZCBieSB0aGUgRE9NIGJ1aWxkZXJcbiAgICAgICAgaW50byBjb3JyZWN0IHNyYyB1cmwuICovXG4gICAgY3JlYXRlTGlua1VSTChocmVmKSB7XG4gICAgICAgIGxldCBsYXN0ID0gdGhpcy5leHRyYWN0TGFzdFNlZ21lbnQoaHJlZilcbiAgICAgICAgbGV0IHJlc3QgPSB0aGlzLnJlbW92ZUxhc3RTZWdtZW50KGhyZWYpXG4gICAgICAgIGxldCBmaXJzdCA9IHRoaXMuZXh0cmFjdExhc3RTZWdtZW50KHJlc3QpXG4gICAgICAgIHJldHVybiB0aGlzLmJhc2VQYXRoICsgJy8nICsgZmlyc3QgKyAnLycgKyBsYXN0XG4gICAgfVxuXG59XG4iLCJpbXBvcnQge0NhcmRMb2FkZXJ9IGZyb20gJy4uL2xpYi9mbGlwcGFibGUuanMnIC8vcG06IHJlY2VudCBjaGFuZ2Vcbi8vaW1wb3J0IHtDYXJkTG9hZGVyfSBmcm9tICcuL2ZsaXBwYWJsZS5qcycgLy9wbTogcmVjZW50IGNoYW5nZVxuaW1wb3J0IHtYTUxJbmRleFBhcnNlciwgWE1MQ2FyZFBhcnNlcn0gZnJvbSAnLi94bWxwYXJzZXIuanMnXG5cbmV4cG9ydCBjbGFzcyBYTUxDYXJkTG9hZGVyIGV4dGVuZHMgQ2FyZExvYWRlciB7XG5cbiAgICBjb25zdHJ1Y3RvcihzcmMsIHt4PTAsIHk9MCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoPTE0MDAsIGhlaWdodD0xMjAwLCBtYXhXaWR0aD1udWxsLCBtYXhIZWlnaHQ9bnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlPTEsIG1heFNjYWxlPTEsIHJvdGF0aW9uPTB9ID0ge30pIHtcbiAgICAgICAgc3VwZXIoc3JjLCB7eCwgeSwgd2lkdGgsIGhlaWdodCwgbWF4V2lkdGgsIG1heEhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgc2NhbGUsIG1heFNjYWxlLCByb3RhdGlvbn0pXG4gICAgICAgIHRoaXMueG1sUGFyc2VyID0gbmV3IFhNTEluZGV4UGFyc2VyKHRoaXMuc3JjLCB7d2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodH0pXG4gICAgICAgIHRoaXMuZG9tVHJlZSA9IG51bGxcbiAgICB9XG5cbiAgICBsb2FkKGRvbU5vZGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMueG1sUGFyc2VyLmxvYWRQYXJzZUFuZENyZWF0ZURPTSgpLnRoZW4oKGRvbVRyZWUpID0+IHtcbiAgICAgICAgICAgICAgICBkb21Ob2RlLmFwcGVuZENoaWxkKGRvbVRyZWUpXG4gICAgICAgICAgICAgICAgbGV0IHNjYWxlVyA9IHRoaXMubWF4V2lkdGggLyB0aGlzLndhbnRlZFdpZHRoXG4gICAgICAgICAgICAgICAgbGV0IHNjYWxlSCA9IHRoaXMubWF4SGVpZ2h0IC8gdGhpcy53YW50ZWRIZWlnaHRcbiAgICAgICAgICAgICAgICB0aGlzLnNjYWxlID0gTWF0aC5taW4odGhpcy5tYXhTY2FsZSwgTWF0aC5taW4oc2NhbGVXLCBzY2FsZUgpKVxuXG4gICAgICAgICAgICAgICAgbGV0IHcgPSB0aGlzLndhbnRlZFdpZHRoXG4gICAgICAgICAgICAgICAgbGV0IGggPSB0aGlzLndhbnRlZEhlaWdodFxuICAgICAgICAgICAgICAgICQoZG9tTm9kZSkuY3NzKHsgJ3dpZHRoJzogdyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtYXhXaWR0aCc6IHcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbWluV2lkdGgnOiB3LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2hlaWdodCc6IGh9KVxuICAgICAgICAgICAgICAgIHRoaXMuZG9tVHJlZSA9IGRvbVRyZWVcbiAgICAgICAgICAgICAgICB0aGlzLnhtbFBhcnNlci5jb21wbGV0ZWQoZG9tTm9kZSkgLy9wbTogcmVjZW50IGNoYW5nZVxuICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcylcbiAgICAgICAgICAgIH0pLmNhdGNoKChyZWFzb24pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJsb2FkUGFyc2VBbmRDcmVhdGVET00gZXJyb3JcIiwgcmVhc29uKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICB1bmxvYWQoKSB7XG4gICAgICAgIGlmICh0aGlzLmRvbVRyZWUpIHtcbiAgICAgICAgICAgIHRoaXMuZG9tVHJlZS5yZW1vdmUoKVxuICAgICAgICAgICAgdGhpcy5kb21UcmVlID0gbnVsbFxuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHtcbiAgICBEaXNwbGF5T2JqZWN0U2NhdHRlcixcbiAgICBTY2F0dGVyQ29udGFpbmVyXG59IGZyb20gJy4uL2xpYi9waXhpL3NjYXR0ZXIuanMnXG5pbXBvcnQge0RPTVNjYXR0ZXJ9IGZyb20gJy4uL2xpYi9zY2F0dGVyLmpzJ1xuaW1wb3J0IEZsaXBFZmZlY3QgZnJvbSAnLi4vbGliL3BpeGkvZmxpcGVmZmVjdC5qcydcbi8vaW1wb3J0IHtET01GbGlwLCBJbWFnZUxvYWRlciwgUERGTG9hZGVyfSBmcm9tICcuLi9saWIvZmxpcHBhYmxlLmpzJ1xuaW1wb3J0IHtET01GbGlwLCBJbWFnZUxvYWRlciwgUERGTG9hZGVyfSBmcm9tICcuL2ZsaXBwYWJsZS5qcydcbmltcG9ydCB7UG9pbnRzfSBmcm9tICcuLi9saWIvdXRpbHMuanMnXG5pbXBvcnQge1hNTENhcmRMb2FkZXJ9IGZyb20gJy4veG1sY2FyZGxvYWRlci5qcydcbmltcG9ydCBFcG9jaGFsQXBwIGZyb20gJy4vZXBvY2hhbC5qcydcblxuY2xhc3MgQ2xvc2VCdXR0b24gZXh0ZW5kcyBQSVhJLkdyYXBoaWNzIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKVxuICAgICAgICB0aGlzLmJlZ2luRmlsbCgweDAwMDAwMCwgMC41KVxuICAgICAgICB0aGlzLmRyYXdDaXJjbGUoMCwgMCwgMjIpXG4gICAgICAgIHRoaXMubGluZVN0eWxlKDQsIDB4ZmZmZmZmKVxuICAgICAgICB0aGlzLm1vdmVUbygtMTEsIC0xMSlcbiAgICAgICAgdGhpcy5saW5lVG8oMTEsIDExKVxuXG4gICAgICAgIHRoaXMubW92ZVRvKC0xMSwgMTEpXG4gICAgICAgIHRoaXMubGluZVRvKDExLCAtMTEpXG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQaWN0dXJlcyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMucGljdHVyZXMgPSBbXVxuICAgICAgICB0aGlzLmNsb3NlQnV0dG9uID0gbnVsbFxuICAgICAgICB0aGlzLm9wZW5lZCA9IDBcbiAgICB9XG5cbiAgICBnZXQgbWF4UGljdHVyZXMoKSB7XG4gICAgICAgIHJldHVybiBhcHAuaXNNb2JpbGUgPyAxIDogMVxuICAgIH1cblxuICAgIHBpY3R1cmVSZW1vdmVkKGQpIHtcbiAgICAgICAgLy9jb25zb2xlLmxvZygncGljdHVyZSByZW1vdmVkJywgZC5zY2F0dGVyLCBkKVxuICAgICAgICBpZiAoZC5zY2F0dGVyKSB7XG4gICAgICAgICAgICBsZXQgZWxlbWVudCA9IGQuc2NhdHRlci5lbGVtZW50XG5cbiAgICAgICAgICAgIGQuc2NhdHRlci5lbGVtZW50LnJlbW92ZSgpXG4gICAgICAgICAgICBkLnNjYXR0ZXIgPSBudWxsXG4gICAgICAgIH1cblxuICAgICAgICAvL3Jlc2V0IHRodW1ibmFpbCBzZWxlY3Rpb25cbiAgICAgICAgYXBwLnJlc2V0QWN0aXZlVGh1bWJJRCgpXG5cbiAgICAgICAgLypUd2VlbkxpdGUudG8oZWxlbWVudCwgMC4yLCB7XG4gICAgICAgICAgICBvcGFjaXR5OiAwLFxuICAgICAgICAgICAgb25Db21wbGV0ZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgIGQuc2NhdHRlci5lbGVtZW50LnJlbW92ZSgpXG4gICAgICAgICAgICAgICAgZC5zY2F0dGVyID0gbnVsbFxuICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IHRoaXMucGljdHVyZXMuaW5kZXhPZihkKVxuICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGljdHVyZXMuc3BsaWNlKGluZGV4LCAxKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygndHdlZW4gZmluaXNoZWQnKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KSovXG4gICAgfVxuXG4gICAgcGljdHVyZVRyYW5zZm9ybWVkKGV2ZW50LCBkKSB7XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJwaWN0dXJlVHJhbnNmb3JtZWRcIiwgZClcblxuICAgICAgICBpZihkID09IG51bGwgfHwgZC5yZWYgPT0gbnVsbCB8fCBkLnNjYXR0ZXIgPT0gbnVsbCB8fCBldmVudCA9PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuXG5cbiAgICAgICAgLy9sb2dnaW5nXG4gICAgICAgIGlmIChldmVudC50eXBlID09ICdvblN0YXJ0Jykge1xuICAgICAgICAgICAgYXBwLmxvZygnaW1hZ2UgdHJhbnNmb3JtIHN0YXJ0Jywge1xuICAgICAgICAgICAgICAgIGlkOiBkLnJlZixcbiAgICAgICAgICAgICAgICB4OiBkLnNjYXR0ZXIub3JpZ2luLngsXG4gICAgICAgICAgICAgICAgeTogZC5zY2F0dGVyLm9yaWdpbi55LFxuICAgICAgICAgICAgICAgIHNjYWxlOiBldmVudC5zY2FsZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coZC5zY2F0dGVyLCBkLnJlZiwgZC5zY2F0dGVyLm9yaWdpbi54LCBkLnNjYXR0ZXIueSwgZXZlbnQuc2NhbGUpXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXZlbnQudHlwZSA9PSAnb25FbmQnKSB7XG4gICAgICAgICAgICBhcHAubG9nKCdpbWFnZSB0cmFuc2Zvcm0gZW5kJywge1xuICAgICAgICAgICAgICAgIGlkOiBkLnJlZixcbiAgICAgICAgICAgICAgICB4OiBkLnNjYXR0ZXIub3JpZ2luLngsXG4gICAgICAgICAgICAgICAgeTogZC5zY2F0dGVyLm9yaWdpbi55LFxuICAgICAgICAgICAgICAgIHNjYWxlOiBldmVudC5zY2FsZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coZC5yZWYsIGQuc2NhdHRlci5ib3VuZHMueCwgZC5zY2F0dGVyLmJvdW5kcy55LCBldmVudC5zY2FsZSlcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChldmVudC50eXBlID09ICdvblpvb20nKSB7XG4gICAgICAgICAgICBhcHAubG9nKCdpbWFnZSB6b29tZWQnLCB7XG4gICAgICAgICAgICAgICAgaWQ6IGQucmVmLFxuICAgICAgICAgICAgICAgIHg6IGQuc2NhdHRlci5vcmlnaW4ueCxcbiAgICAgICAgICAgICAgICB5OiBkLnNjYXR0ZXIub3JpZ2luLnksXG4gICAgICAgICAgICAgICAgc2NhbGU6IGV2ZW50LnNjYWxlXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhkLnJlZiwgZC5zY2F0dGVyLmJvdW5kcy54LCBkLnNjYXR0ZXIuYm91bmRzLnksIGV2ZW50LnNjYWxlKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVtb3ZlQWxsKGFuaW1hdGVkID0gZmFsc2UpIHtcbiAgICAgICAgLy9jb25zb2xlLmxvZygnY2xlYXJpbmcgb3BlbiBwaWN0dXJlcycsdGhpcy5waWN0dXJlcy5sZW5ndGgpXG4gICAgICAgIFxuICAgICAgICB3aGlsZSAodGhpcy5waWN0dXJlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBsZXQgZmlyc3QgPSB0aGlzLnBpY3R1cmVzLnNoaWZ0KClcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlKGZpcnN0LCBhbmltYXRlZClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbW92ZShkLCBhbmltYXRlID0gdHJ1ZSkge1xuICAgICAgICAvL2NvbnNvbGUubG9nKCdyZW1vdmluZyBwaWN0dXJlJyxkLGFuaW1hdGUpXG4gICAgICAgIGlmIChhbmltYXRlKSB7XG4gICAgICAgICAgICBsZXQgYm91bmRzID0gbWFpbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgICAgICAgICAgbGV0IG9yaWdpbiA9IGFwcC5zY2VuZS5wb3NpdGlvblxuICAgICAgICAgICAgbGV0IHNjZW5lU2NhbGUgPSBhcHAuc2NlbmUuc2NhbGUueFxuICAgICAgICAgICAgbGV0IHAgPSBkLnRodW1ibmFpbC5wb3NpdGlvblxuICAgICAgICAgICAgbGV0IHcgPSBkLnRodW1ibmFpbC53aWR0aFxuICAgICAgICAgICAgbGV0IGggPSBkLnRodW1ibmFpbC5oZWlnaHRcbiAgICAgICAgICAgIGxldCBlbGVtZW50ID0gZC5zY2F0dGVyLmVsZW1lbnRcbiAgICAgICAgICAgIGxldCB0YyA9IHtcbiAgICAgICAgICAgICAgICB4OiBvcmlnaW4ueCArIChwLnggKyB3IC8gMikgKiBzY2VuZVNjYWxlLFxuICAgICAgICAgICAgICAgIHk6IG9yaWdpbi55ICsgYm91bmRzLnRvcCArIChwLnkgKyBoIC8gMikgKiBzY2VuZVNjYWxlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgc2MgPSBkLnNjYXR0ZXIuY2VudGVyXG4gICAgICAgICAgICBsZXQgZGVsdGEgPSBQb2ludHMuc3VidHJhY3QodGMsIHNjKVxuICAgICAgICAgICAgbGV0IHggPSBlbGVtZW50Ll9nc1RyYW5zZm9ybS54XG4gICAgICAgICAgICBsZXQgeSA9IGVsZW1lbnQuX2dzVHJhbnNmb3JtLnlcbiAgICAgICAgICAgIGxldCB3dyA9IGQuc2NhdHRlci53aWR0aFxuICAgICAgICAgICAgbGV0IGhoID0gZC5zY2F0dGVyLmhlaWdodFxuICAgICAgICAgICAgVHdlZW5MaXRlLnRvKGVsZW1lbnQsIDAuNSwge1xuICAgICAgICAgICAgICAgIHg6IHggKyBkZWx0YS54LFxuICAgICAgICAgICAgICAgIHk6IHkgKyBkZWx0YS55LFxuICAgICAgICAgICAgICAgIHNjYWxlWDogdyAvIHd3LFxuICAgICAgICAgICAgICAgIHNjYWxlWTogaCAvIGhoLFxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybU9yaWdpbjogJ2NlbnRlciBjZW50ZXInLFxuICAgICAgICAgICAgICAgIG9uQ29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5waWN0dXJlUmVtb3ZlZChkKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnBpY3R1cmVSZW1vdmVkKGQpXG4gICAgICAgIH1cblxuICAgICAgICAvL2xvZ2dpbmdcbiAgICAgICAgYXBwLmxvZygnaW1hZ2UgY2xvc2VkJywge2lkOiBkLnJlZn0pXG4gICAgfVxuXG4gICAgc2hvdyhldmVudCwgZCkge1xuICAgICAgICAvL2NvbnNvbGUubG9nKCdzaG93aW5nIHBpY3R1cmUnLGQpXG4gICAgICAgIGxldCB4ID0gZXZlbnQuZGF0YS5nbG9iYWwueFxuICAgICAgICBsZXQgeSA9IGV2ZW50LmRhdGEuZ2xvYmFsLnlcblxuICAgICAgICAvKmlmICh0aGlzLnBpY3R1cmVzLmxlbmd0aCA+PSB0aGlzLm1heFBpY3R1cmVzKSB7XG4gICAgICAgICAgICBsZXQgZmlyc3QgPSB0aGlzLnBpY3R1cmVzLnNoaWZ0KClcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlKGZpcnN0LCBmYWxzZSlcbiAgICAgICAgfSovXG5cbiAgICAgICAgLy90aGlzLnJlbW92ZUFsbChmYWxzZSlcblxuICAgICAgICBsZXQgY2VudGVyID0ge3g6IHdpbmRvdy5pbm5lcldpZHRoIC8gMiwgeTogd2luZG93LmlubmVySGVpZ2h0IC8gMn1cbiAgICAgICAgbGV0IHpvb20gPSBuZXcgWm9vbVBpY3R1cmUoZC5waWN0dXJlVVJMLCB7XG4gICAgICAgICAgICBzdGFydFg6IHgsXG4gICAgICAgICAgICBzdGFydFk6IHksXG4gICAgICAgICAgICBlbmRYOiBjZW50ZXIueCxcbiAgICAgICAgICAgIGVuZFk6IGNlbnRlci55LFxuICAgICAgICAgICAgbWF4V2lkdGg6IHdpbmRvdy5pbm5lcldpZHRoICogMC44LFxuICAgICAgICAgICAgbWF4SGVpZ2h0OiB3aW5kb3cuaW5uZXJIZWlnaHQgKiAwLjhcbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy5mbGlwQ2FyZHMgPSBuZXcgRE9NRmxpcChcbiAgICAgICAgICAgIGFwcC5kb21TY2F0dGVyQ29udGFpbmVyLFxuICAgICAgICAgICAgZmxpcFRlbXBsYXRlLFxuICAgICAgICAgICAgem9vbSxcbiAgICAgICAgICAgIG5ldyBYTUxDYXJkTG9hZGVyKGQuaW5mb1VSTCksXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXV0b0xvYWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHByZWxvYWRCYWNrOiBmYWxzZSxcbiAgICAgICAgICAgICAgICByb3RhdGFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGNlbnRlcjogY2VudGVyLFxuICAgICAgICAgICAgICAgIG9uQ2xvc2U6IHRoaXMub25DbG9zZS5iaW5kKHRoaXMpXG4gICAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgICAgdGhpcy5mbGlwQ2FyZHMubG9hZCgpLnRoZW4oZmxpcCA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkZsaXAgbG9hZGVkLCBzZXR0aW5nIHNjYXR0ZXJcIilcbiAgICAgICAgICAgIGQuc2NhdHRlciA9IGZsaXAuZmxpcHBhYmxlLnNjYXR0ZXJcbiAgICAgICAgICAgIGQuc2NhdHRlci5jZW50ZXJBdChjZW50ZXIpXG4gICAgICAgICAgICBmbGlwLmZsaXBwYWJsZS5kYXRhID0gZFxuXG4gICAgICAgICAgICBhcHAuaW1hZ2VMb2FkZWQoKVxuXG4gICAgICAgICAgICBpZiAoZC5waWN0dXJlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVtb3ZlKGQpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnBpY3R1cmVzLnB1c2goZClcblxuICAgICAgICAgICAgZC5zY2F0dGVyLmFkZFRyYW5zZm9ybUV2ZW50Q2FsbGJhY2soZXZlbnQgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucGljdHVyZVRyYW5zZm9ybWVkKGV2ZW50LCBkKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBvbkNsb3NlKGZsaXBwYWJsZSkge1xuICAgICAgICB0aGlzLnJlbW92ZShmbGlwcGFibGUuZGF0YSlcbiAgICB9XG59XG5cbmNsYXNzIFpvb21QaWN0dXJlIGV4dGVuZHMgSW1hZ2VMb2FkZXIge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBzcmMsXG4gICAgICAgIHtcbiAgICAgICAgICAgIHN0YXJ0WCA9IDAsXG4gICAgICAgICAgICBzdGFydFkgPSAwLFxuICAgICAgICAgICAgZW5kWCA9IDAsXG4gICAgICAgICAgICBlbmRZID0gMCxcbiAgICAgICAgICAgIHdpZHRoID0gMTAwMCxcbiAgICAgICAgICAgIGhlaWdodCA9IDgwMCxcbiAgICAgICAgICAgIG1heFdpZHRoID0gbnVsbCxcbiAgICAgICAgICAgIG1heEhlaWdodCA9IG51bGwsXG4gICAgICAgICAgICBzY2FsZSA9IDEsXG4gICAgICAgICAgICBtYXhTY2FsZSA9IDFcbiAgICAgICAgfSA9IHt9XG4gICAgKSB7XG4gICAgICAgIHN1cGVyKHNyYywge3dpZHRoLCBoZWlnaHQsIG1heFdpZHRoLCBtYXhIZWlnaHQsIHNjYWxlLCBtYXhTY2FsZX0pXG4gICAgICAgIHRoaXMuc3RhcnRYID0gc3RhcnRYXG4gICAgICAgIHRoaXMuc3RhcnRZID0gc3RhcnRZXG4gICAgICAgIHRoaXMuZW5kWCA9IGVuZFhcbiAgICAgICAgdGhpcy5lbmRZID0gZW5kWVxuICAgICAgICB0aGlzLnN0YXJ0U2NhbGUgPSAwLjEyNVxuICAgICAgICB0aGlzLm1pblNjYWxlID0gMC4xMjVcbiAgICB9XG5cbiAgICBsb2FkKGRvbU5vZGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGxldCBpc0ltYWdlID0gZG9tTm9kZSBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnRcbiAgICAgICAgICAgIGxldCBpbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpXG4gICAgICAgICAgICBpbWFnZS5jbGFzc0xpc3QuYWRkKCdlcG9jaGFsJylcbiAgICAgICAgICAgIGltYWdlLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJ1xuICAgICAgICAgICAgaW1hZ2Uuc3R5bGUubGVmdCA9IDBcbiAgICAgICAgICAgIGltYWdlLnN0eWxlLnRvcCA9IDBcbiAgICAgICAgICAgIGltYWdlLm9ubG9hZCA9IGUgPT4ge1xuICAgICAgICAgICAgICAgIGFwcC5kb21TY2F0dGVyQ29udGFpbmVyLmVsZW1lbnQuYXBwZW5kQ2hpbGQoaW1hZ2UpXG4gICAgICAgICAgICAgICAgVHdlZW5NYXguc2V0KGltYWdlLCB7XG4gICAgICAgICAgICAgICAgICAgIHNjYWxlOiB0aGlzLnN0YXJ0U2NhbGUsXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybU9yaWdpbjogJ2NlbnRlciBjZW50ZXInXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB0aGlzLndhbnRlZFdpZHRoID0gaW1hZ2UubmF0dXJhbFdpZHRoXG4gICAgICAgICAgICAgICAgdGhpcy53YW50ZWRIZWlnaHQgPSBpbWFnZS5uYXR1cmFsSGVpZ2h0XG4gICAgICAgICAgICAgICAgbGV0IHNjYWxlVyA9IHRoaXMubWF4V2lkdGggLyBpbWFnZS5uYXR1cmFsV2lkdGhcbiAgICAgICAgICAgICAgICBsZXQgc2NhbGVIID0gdGhpcy5tYXhIZWlnaHQgLyBpbWFnZS5uYXR1cmFsSGVpZ2h0XG4gICAgICAgICAgICAgICAgdGhpcy5zY2FsZSA9IE1hdGgubWluKHRoaXMubWF4U2NhbGUsIE1hdGgubWluKHNjYWxlVywgc2NhbGVIKSlcbiAgICAgICAgICAgICAgICBUd2Vlbk1heC5zZXQoaW1hZ2UsIHtcbiAgICAgICAgICAgICAgICAgICAgeDogdGhpcy5zdGFydFggLSBpbWFnZS5uYXR1cmFsV2lkdGggLyAyLFxuICAgICAgICAgICAgICAgICAgICB5OiB0aGlzLnN0YXJ0WSAtIGltYWdlLm5hdHVyYWxIZWlnaHQgLyAyXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICBpbWFnZS53aWR0aCA9IGltYWdlLm5hdHVyYWxXaWR0aFxuICAgICAgICAgICAgICAgIGltYWdlLmhlaWdodCA9IGltYWdlLm5hdHVyYWxIZWlnaHRcbiAgICAgICAgICAgICAgICBUd2Vlbk1heC50byhpbWFnZSwgMC41LCB7XG4gICAgICAgICAgICAgICAgICAgIHg6IHRoaXMuZW5kWCAtIGltYWdlLm5hdHVyYWxXaWR0aCAvIDIsXG4gICAgICAgICAgICAgICAgICAgIHk6IHRoaXMuZW5kWSAtIGltYWdlLm5hdHVyYWxIZWlnaHQgLyAyLFxuICAgICAgICAgICAgICAgICAgICBzY2FsZTogdGhpcy5zY2FsZSxcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtT3JpZ2luOiAnY2VudGVyIGNlbnRlcicsXG4gICAgICAgICAgICAgICAgICAgIG9uQ29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0ltYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVHdlZW5NYXguc2V0KGltYWdlLCB7c2NhbGU6IDEsIHg6IDAsIHk6IDB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlLmNsYXNzTGlzdC5hZGQoJ2ZsaXBGYWNlJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZS5jbGFzc0xpc3QuYWRkKCdmcm9udCcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9tTm9kZS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChpbWFnZSwgZG9tTm9kZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9tTm9kZS5hcHBlbmRDaGlsZChpbWFnZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcylcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbWFnZS5vbmVycm9yID0gZSA9PiB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KHRoaXMpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbWFnZS5zcmMgPSB0aGlzLnNyY1xuICAgICAgICB9KVxuICAgIH1cbn1cbiIsImltcG9ydCBMYWJlbGVkR3JhcGhpY3MgZnJvbSAnLi9sYWJlbGVkZ3JhcGhpY3MuanMnXG5pbXBvcnQge0Rpc3BsYXlPYmplY3RTY2F0dGVyLCBTY2F0dGVyQ29udGFpbmVyfSBmcm9tICcuLi9saWIvcGl4aS9zY2F0dGVyLmpzJ1xuaW1wb3J0IHtJbnRlcmFjdGlvbk1hcHBlcn0gZnJvbSAnLi4vbGliL2ludGVyYWN0aW9uLmpzJ1xuaW1wb3J0IHtpc0VtcHR5fSBmcm9tICcuLi9saWIvdXRpbHMuanMnXG5cbmNsYXNzIFNjZW5lU2NhdHRlciBleHRlbmRzIERpc3BsYXlPYmplY3RTY2F0dGVyIHtcblxuICAgIGNvbnN0cnVjdG9yKHNjZW5lLCByZW5kZXJlcikge1xuICAgICAgICBzdXBlcihzY2VuZSwgcmVuZGVyZXIsIHsgcm90YXRhYmxlOiBmYWxzZX0pXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZVxuICAgIH1cblxuICAgIHNldCBtb3ZhYmxlWCh2YWx1ZSkge1xuXG4gICAgfVxuXG4gICAgc2V0IG1vdmFibGVZKHZhbHVlKSB7XG5cbiAgICB9XG5cbiAgICBnZXQgbW92YWJsZVgoKSB7XG4gICAgICAgIHJldHVybiBhcHAuY3VycmVudFZpZXcubW92YWJsZVhcbiAgICB9XG5cbiAgICBnZXQgbW92YWJsZVkoKSB7XG4gICAgICAgIHJldHVybiBhcHAuY3VycmVudFZpZXcubW92YWJsZVlcbiAgICB9XG5cbiAgICBzZXQgc2NhbGFibGUodmFsdWUpIHtcblxuICAgIH1cblxuICAgIGdldCBzY2FsYWJsZSgpIHtcbiAgICAgICAgcmV0dXJuIGFwcC5jdXJyZW50VmlldyA9PT0gYXBwLm1hcHZpZXdcbiAgICB9XG5cbiAgICBicmluZ1RvRnJvbnQoKSB7XG5cbiAgICB9XG5cbiAgICBtYXBQb3NpdGlvblRvQ29udGFpbmVyUG9pbnQocG9pbnQpIHtcbiAgICAgICAgbGV0IGludGVyYWN0aW9uTWFuYWdlciA9IHRoaXMucmVuZGVyZXIucGx1Z2lucy5pbnRlcmFjdGlvblxuICAgICAgICBsZXQgbG9jYWwgPSBuZXcgUElYSS5Qb2ludCgpXG4gICAgICAgIGludGVyYWN0aW9uTWFuYWdlci5tYXBQb3NpdGlvblRvUG9pbnQobG9jYWwsIHBvaW50LngsIHBvaW50LnkpXG4gICAgICAgIHJldHVybiBsb2NhbFxuICAgIH1cblxuICAgIHNldCB0aHJvd1Zpc2liaWxpdHkodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fdGhyb3dWaXNpYmlsaXR5ID0gdmFsdWVcbiAgICB9XG5cbiAgICBnZXQgdGhyb3dWaXNpYmlsaXR5KCkge1xuICAgICAgICBpZiAoYXBwLmN1cnJlbnRWaWV3ID09PSBhcHAudGltZWxpbmUpXG4gICAgICAgICAgICByZXR1cm4gd2luZG93LmlubmVyV2lkdGhcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Rocm93VmlzaWJpbGl0eVxuICAgIH1cblxuICAgIHNldCB0aHJvd0RhbXBpbmcodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fdGhyb3dEYW1waW5nID0gdmFsdWVcbiAgICB9XG5cbiAgICBnZXQgdGhyb3dEYW1waW5nKCkge1xuICAgICAgICBpZiAoYXBwLmN1cnJlbnRWaWV3ID09PSBhcHAudGltZWxpbmUpXG4gICAgICAgICAgICByZXR1cm4gMC45NzVcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Rocm93RGFtcGluZ1xuICAgIH1cblxuICAgIGdldCBjb250YWluZXJCb3VuZHMoKSB7XG4gICAgICAgIHJldHVybiBhcHAucmVuZGVyZXIudmlldy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgIH1cbn1cblxuLyoqKiBSb290IG9mIHRoZSBQSVhJIGRpc3BsYXkgdHJlZS4gVXNlcyBhIHNpbmdsZSBTY2VuZVNjYXR0ZXIgYXNcbm1haW4gZGlzcGxheSBvYmplY3QuIERlbGVnYXRlcyBldmVudHMgdG8gdGhpcyBTY2VuZVNjYXR0ZXIgd2l0aCBvbmVcbmV4Y2VwdGlvbjogSWYgdGhlIFRpbWVsaW5lIHZpZXcgaXMgc2VsZWN0ZWQsIHRoZSBldmVudHMgYXJlXG5wcm9jZXNzZWQgYnkgdGhlIHNjZW5lIGl0c2VsZiBiZWNhdXNlIHRoZSBHcmVlbnNvY2sgdGhyb3cgYmVoYXZpb3JcbnNlZW1zIG1vcmUgYXBwcm9wcmlhdGUgZm9yIHRoZSB0aW1lbGluZSB0aGFuIHRoZSBzdGFuZGFyZCBTY2F0dGVyIHRocm93XG5hbmltYXRpb24uXG5UaGlzIHN3aXRjaCBpcyBoYW5kbGVkIGJ5IHRoZSBmaW5kVGFyZ2V0IG1ldGhvZCAoc2VlIGJlbG93KS5cbioqKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNjZW5lIGV4dGVuZHMgTGFiZWxlZEdyYXBoaWNzIHtcblxuICAgIHNldHVwKGFwcCkge1xuICAgICAgICB0aGlzLnNjYXR0ZXIgPSBuZXcgU2NlbmVTY2F0dGVyKHRoaXMsIGFwcC5yZW5kZXJlcilcbiAgICAgICAgdGhpcy5kZWxlZ2F0ZSA9IG5ldyBJbnRlcmFjdGlvbk1hcHBlcihhcHAucmVuZGVyZXIudmlldywgdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IG1vdXNlV2hlZWxFbGVtZW50OiB3aW5kb3d9KVxuICAgIH1cblxuICAgIGNhcHR1cmUoZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG5cbiAgICBmaW5kVGFyZ2V0KGV2ZW50LCBsb2NhbCwgZ2xvYmFsKSB7XG4gICAgICAgIGlmIChldmVudC5jbGFpbWVkQnlTY2F0dGVyKVxuICAgICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgaWYgKGFwcC5jdXJyZW50VmlldyA9PT0gYXBwLnRpbWVsaW5lKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXNcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NhdHRlclxuICAgIH1cblxuICAgIHJlc2V0KHgsIHksIHNjYWxlKSB7XG4gICAgICAgIHRoaXMuc2NhdHRlci54ID0geFxuICAgICAgICB0aGlzLnNjYXR0ZXIueSA9IHlcbiAgICAgICAgdGhpcy5zY2F0dGVyLnpvb20oc2NhbGUpXG4gICAgfVxuXG4gICAgb25TdGFydChldmVudCwgaW50ZXJhY3Rpb24pIHtcbiAgICAgICAgdGhpcy5kcmFnZ2luZyA9IHRydWVcbiAgICAgICAgVGhyb3dQcm9wc1BsdWdpbi50cmFjayh0aGlzLnBvc2l0aW9uLCAneCx5JylcbiAgICAgICAgVHdlZW5NYXgua2lsbEFsbCgpXG4gICAgfVxuXG4gICAgb25Nb3ZlKGV2ZW50LCBpbnRlcmFjdGlvbikge1xuICAgICAgICBsZXQgY3VycmVudFZpZXcgPSBhcHAuY3VycmVudFZpZXdcbiAgICAgICAgaWYgKHRoaXMuZHJhZ2dpbmcpIHtcbiAgICAgICAgICAgIGxldCBkZWx0YSA9IGludGVyYWN0aW9uLmRlbHRhKClcbiAgICAgICAgICAgIGxldCBkeCA9IGRlbHRhLnhcbiAgICAgICAgICAgIGxldCBkeSA9IGRlbHRhLnlcbiAgICAgICAgICAgIGlmIChjdXJyZW50Vmlldy5tb3ZhYmxlWCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2NhdHRlci54ICs9IGR4XG4gICAgICAgICAgICAgICAgY3VycmVudFZpZXcueCA9IHRoaXMuc2NhdHRlci54XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY3VycmVudFZpZXcubW92YWJsZVkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNjYXR0ZXIueSArPSBkeVxuICAgICAgICAgICAgICAgIGN1cnJlbnRWaWV3LnkgPSB0aGlzLnNjYXR0ZXIueVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25FbmQoZXZlbnQsIGludGVyYWN0aW9uKSB7XG4gICAgICAgIHRoaXMuZHJhZ2dpbmcgPSBmYWxzZVxuICAgICAgICBsZXQgY3VycmVudFZpZXcgPSBhcHAuY3VycmVudFZpZXdcbiAgICAgICAgbGV0IHByb3BzID0ge31cbiAgICAgICAgaWYgKGN1cnJlbnRWaWV3Lm1vdmFibGVYKSB7XG4gICAgICAgICAgICBsZXQgZHggPSBUaHJvd1Byb3BzUGx1Z2luLmdldFZlbG9jaXR5KHRoaXMucG9zaXRpb24sICd4JylcbiAgICAgICAgICAgIGlmIChkeCkge1xuICAgICAgICAgICAgICAgIGxldCBtYXhYID0gMFxuICAgICAgICAgICAgICAgIGxldCBtaW5YID0gLWN1cnJlbnRWaWV3LncgKyB3aW5kb3cuaW5uZXJXaWR0aFxuICAgICAgICAgICAgICAgIHByb3BzWyd4J10gPSB7dmVsb2NpdHk6IGR4LCBtYXg6bWF4WCwgbWluOm1pblgsIHJlc2lzdGFuY2U6MTAwMH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoY3VycmVudFZpZXcubW92ZWFibGVZKSB7XG4gICAgICAgICAgICBsZXQgZHkgPSBUaHJvd1Byb3BzUGx1Z2luLmdldFZlbG9jaXR5KHRoaXMucG9zaXRpb24sICd5JylcbiAgICAgICAgICAgIGlmIChkeSkge1xuICAgICAgICAgICAgICAgIGxldCBtYXhZID0gMFxuICAgICAgICAgICAgICAgIGxldCBtaW5ZID0gLWN1cnJlbnRWaWV3LmggKyB3aW5kb3cuaW5uZXJIZWlnaHRcbiAgICAgICAgICAgICAgICBwcm9wc1sneSddID0ge3ZlbG9jaXR5OiBkeSwgbWF4Om1heFksIG1pbjptaW5ZLCByZXNpc3RhbmNlOjEwMDB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0VtcHR5KHByb3BzKSkge1xuICAgICAgICAgICAgVHdlZW5NYXgudG8odGhpcy5zY2F0dGVyLCAxLjAsIHt0aHJvd1Byb3BzOiBwcm9wcyxcbiAgICAgICAgICAgICAgICBvblVwZGF0ZTogdGhpcy5vblRocm93LmJpbmQodGhpcyl9KVxuICAgICAgICB9XG4gICAgICAgIFRocm93UHJvcHNQbHVnaW4udW50cmFjayh0aGlzLnBvc2l0aW9uKVxuICAgIH1cblxuICAgIG9uVGhyb3coZXZlbnQpIHtcbiAgICAgICAgaWYgKGFwcC50aW1lYmFyKSB7XG4gICAgICAgICAgICBhcHAudGltZWJhci5zY2VuZU1vdmVkKHRoaXMuc2NhdHRlci54KVxuICAgICAgICB9XG4gICAgfVxufVxuIiwiLyoqXG4gKiBDbGFzcyB0aGF0IHJlcHJlc2VudHMgYSBQaXhpSlMgVGhlbWUuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIENyZWF0ZSB0aGUgdGhlbWVcbiAqIGNvbnN0IHllbGxvdyA9IG5ldyBUaGVtZSh7XG4gKiAgICAgZmlsbDogMHhmZWNkMmQsXG4gKiAgICAgZmlsbEFjdGl2ZTogMHhmZTk3MjcsXG4gKiAgICAgc3Ryb2tlQWN0aXZlOiAweGZlY2QyZCxcbiAqICAgICBzdHJva2VBY3RpdmVXaWR0aDogNCxcbiAqICAgICB0ZXh0U3R5bGU6IHtcbiAqICAgICAgICAgZmlsbDogMHg1ZWM3ZjhcbiAqICAgICB9LFxuICogICAgIHRleHRTdHlsZUFjdGl2ZToge1xuICogICAgICAgICBmaWxsOiAweDU5NTRkM1xuICogICAgIH0sXG4gKiAgICAgdGV4dFN0eWxlTGFyZ2U6IHtcbiAqICAgICAgICAgZm9udFNpemU6IDM2XG4gKiAgICAgfVxuICogfSlcbiAqXG4gKiAvLyBDcmVhdGUgdGhlIGFwcCBhbmQgYXBwbHkgdGhlIG5ldyB0aGVtZSB0byBpdFxuICogY29uc3QgYXBwID0gbmV3IFBJWElBcHAoe1xuICogICAgIHZpZXc6IGNhbnZhcyxcbiAqICAgICB3aWR0aDogNDUwLFxuICogICAgIGhlaWdodDogMTUwLFxuICogICAgIHRoZW1lOiB5ZWxsb3dcbiAqIH0pLnNldHVwKCkucnVuKClcbiAqXG4gKiBAY2xhc3NcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3Lml3bS10dWViaW5nZW4uZGUvaXdtYnJvd3Nlci9saWIvcGl4aS90aGVtZS5odG1sfERvY1Rlc3R9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRoZW1lIHtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgYSBUaGVtZS5cbiAgICAgKlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0c10gLSBBbiBvcHRpb25zIG9iamVjdCB0byBzcGVjaWZ5IHRvIHN0eWxlIGFuZCBiZWhhdmlvdXIgb2YgdGhlIHRoZW1lLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5tYXJnaW49MTBdIC0gVGhlIG91dGVyIHNwYWNpbmcgKGRpc3RhbmNlIHRvIG90aGVyIG9iamVjdHMpIGZyb20gdGhlIGJvcmRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMucGFkZGluZz0xMF0gLSBUaGUgaW5uZXIgc3BhY2luZyAoZGlzdGFuY2UgZnJvbSBpY29uIGFuZC9vciBsYWJlbCkgdG8gdGhlIGJvcmRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMucmFkaXVzPTRdIC0gVGhlIHJhZGl1cyB1c2VkIHdoZW4gZHJhd2luZyBhIHJvdW5kZWQgcmVjdGFuZ2xlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5mYXN0PTAuMjVdIC0gVGhlIGR1cmF0aW9uIG9mIHRpbWUgd2hlbiBpdCBoYXMgdG8gYmUgZmFzdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMubm9ybWFsPTAuNV0gLSBUaGUgZHVyYXRpb24gb2YgdGltZSB3aGVuIGl0IGhhcyB0byBiZSBub3JtYWwuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLnNsb3c9MV0gLSBUaGUgZHVyYXRpb24gb2YgdGltZSB3aGVuIGl0IGhhcyB0byBiZSBzbG93LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5wcmltYXJ5Q29sb3I9MHg1ZWM3ZjhdIC0gVGhlIHByaW1hcnkgY29sb3Igb2YgdGhlIHRoZW1lLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5jb2xvcjE9MHgyODI4MjhdIC0gVGhlIGZpcnN0IGNvbG9yIG9mIHRoZSB0aGVtZS4gRm9yIGV4YW1wbGUgdXNlZCBmb3IgdGhlIGJhY2tncm91bmQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLmNvbG9yMj0weGY2ZjZmNl0gLSBUaGUgc2Vjb25kIGNvbG9yIG9mIHRoZSB0aGVtZS4gRm9yIGV4YW1wbGUgdXNlZCBmb3IgdGhlIGJvcmRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuZmlsbD1jb2xvcjFdIC0gVGhlIGNvbG9yIG9mIHRoZSBiYWNrZ3JvdW5kIGFzIGEgaGV4IHZhbHVlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5maWxsQWxwaGE9MV0gLSBUaGUgYWxwaGEgdmFsdWUgb2YgdGhlIGJhY2tncm91bmQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLmZpbGxBY3RpdmU9Y29sb3IxXSAtIFRoZSBjb2xvciBvZiB0aGUgYmFja2dyb3VuZCB3aGVuIGFjdGl2YXRlZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuZmlsbEFjdGl2ZUFscGhhPTFdIC0gVGhlIGFscGhhIHZhbHVlIG9mIHRoZSBiYWNrZ3JvdW5kIHdoZW4gYWN0aXZhdGVkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5zdHJva2U9Y29sb3IyXSAtIFRoZSBjb2xvciBvZiB0aGUgYm9yZGVyIGFzIGEgaGV4IHZhbHVlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5zdHJva2VXaWR0aD0wLjZdIC0gVGhlIHdpZHRoIG9mIHRoZSBib3JkZXIgaW4gcGl4ZWwuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLnN0cm9rZUFscGhhPTFdIC0gVGhlIGFscGhhIHZhbHVlIG9mIHRoZSBib3JkZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLnN0cm9rZUFjdGl2ZT1jb2xvcjJdIC0gVGhlIGNvbG9yIG9mIHRoZSBib3JkZXIgd2hlbiBhY3RpdmF0ZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLnN0cm9rZUFjdGl2ZVdpZHRoPTAuNl0gLSBUaGUgd2lkdGggb2YgdGhlIGJvcmRlciBpbiBwaXhlbCB3aGVuIGFjdGl2YXRlZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuc3Ryb2tlQWN0aXZlQWxwaGE9MV0gLSBUaGUgYWxwaGEgdmFsdWUgb2YgdGhlIGJvcmRlciB3aGVuIGFjdGl2YXRlZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuaWNvbkNvbG9yPWNvbG9yMl0gLSBUaGUgY29sb3Igb2YgdGhlIGljb24gKHNldCBieSB0aGUgdGludCBwcm9wZXJ0eSkgYXMgYSBoZXggdmFsdWUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLmljb25Db2xvckFjdGl2ZT1jb2xvclByaW1hcnldIC0gVGhlIGNvbG9yIG9mIHRoZSBpY29uIHdoZW4gYWN0aXZhdGVkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5iYWNrZ3JvdW5kPWNvbG9yMV0gLSBUaGUgY29sb3Igb2YgYSBiYWNrZ3JvdW5kIGZvciBhIGNvbXBvbmVudCAoZS5nLiBhdCB0aGUgTW9kYWwgY2xhc3MpLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0cy50ZXh0U3R5bGU9e31dIC0gQSB0ZXh0c3R5bGUgb2JqZWN0IGZvciB0aGUgc3R5bGluZyBvZiB0ZXh0LiBTZWUgUElYSS5UZXh0U3R5bGVcbiAgICAgKiAgICAgZm9yIHBvc3NpYmxlIG9wdGlvbnMuIERlZmF1bHQgb2JqZWN0OlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy50ZXh0U3R5bGUuZm9udEZhbWlseT1cIkF2ZW5pciBOZXh0XCIsIFwiT3BlbiBTYW5zXCIsIFwiU2Vnb2UgVUlcIiwgLi4uXSAtIFRoZSBmb250IGZhbWlseS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdHMudGV4dFN0eWxlLmZvbnRXZWlnaHQ9NDAwXSAtIFRoZSBmb250IHdlaWdodC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMudGV4dFN0eWxlLmZvbnRTaXplPTE2XSAtIFRoZSBmb250IHNpemUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLnRleHRTdHlsZS5maWxsPWNvbG9yMl0gLSBUaGUgZmlsbCBjb2xvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMudGV4dFN0eWxlLnN0cm9rZT1jb2xvcjFdIC0gVGhlIHN0cm9rZSBjb2xvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMudGV4dFN0eWxlLnN0cm9rZVRoaWNrbmVzcz0wXSAtIFRoZSB0aGlja25lc3Mgb2YgdGhlIHN0cm9rZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMudGV4dFN0eWxlLm1pdGVyTGltaXQ9MV0gLSBUaGUgbWV0ZXIgbGltaXQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLnRleHRTdHlsZS5saW5lSm9pbj1yb3VuZF0gLSBUaGUgbGluZSBqb2luLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0cy50ZXh0U3R5bGVBY3RpdmU9dGV4dFN0eWxlICsge2ZpbGw6IHByaW1hcnlDb2xvcn1dIC0gQSB0ZXh0c3R5bGUgb2JqZWN0IHdoaWNoIGlzIHVzZWRcbiAgICAgKiAgICAgZm9yIGFjdGl2ZWQgdGV4dC5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdHMudGV4dFN0eWxlU21hbGw9dGV4dFN0eWxlICsge2ZvbnRTaXplOiAtPSAzfV0gLSBBIHRleHRzdHlsZSBvYmplY3Qgd2hpY2ggaXMgdXNlZCBmb3JcbiAgICAgKiAgICAgc21hbGwgdGV4dC5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdHMudGV4dFN0eWxlU21hbGxBY3RpdmU9dGV4dFN0eWxlU21hbGwgKyB7ZmlsbDogcHJpbWFyeUNvbG9yfV0gLSBBIHRleHRzdHlsZSBvYmplY3Qgd2hpY2hcbiAgICAgKiAgICAgaXMgdXNlZCBmb3Igc21hbGwgYWN0aXZlZCB0ZXh0LlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0cy50ZXh0U3R5bGVMYXJnZT10ZXh0U3R5bGUgKyB7Zm9udFNpemU6ICs9IDN9XSAtIEEgdGV4dHN0eWxlIG9iamVjdCB3aGljaCBpcyB1c2VkIGZvclxuICAgICAqICAgICBsYXJnZSB0ZXh0LlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0cy50ZXh0U3R5bGVMYXJnZUFjdGl2ZT10ZXh0U3R5bGVMYXJnZSArIHtmaWxsOiBwcmltYXJ5Q29sb3J9XSAtIEEgdGV4dHN0eWxlIG9iamVjdCB3aGljaFxuICAgICAqICAgICBpcyB1c2VkIGZvciBsYXJnZSBhY3RpdmVkIHRleHQuXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iob3B0cyA9IHt9KSB7XG5cbiAgICAgICAgY29uc3QgY29sb3JQcmltYXJ5ID0gb3B0cy5wcmltYXJ5Q29sb3IgIT0gbnVsbCA/IG9wdHMucHJpbWFyeUNvbG9yIDogMHg1ZWM3ZjggICAgICAgICAgICAgICAvLyBibHVlXG4gICAgICAgIGNvbnN0IGNvbG9yMSA9IG9wdHMuY29sb3IxICE9IG51bGwgPyBvcHRzLmNvbG9yMSA6IDB4MjgyODI4ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYmxhY2tcbiAgICAgICAgY29uc3QgY29sb3IyID0gb3B0cy5jb2xvcjIgIT0gbnVsbCA/IG9wdHMuY29sb3IyIDogMHhmNmY2ZjYgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3aGl0ZVxuXG4gICAgICAgIHRoaXMub3B0cyA9IE9iamVjdC5hc3NpZ24oe30sIHtcbiAgICAgICAgICAgIG1hcmdpbjogMTIsXG4gICAgICAgICAgICBwYWRkaW5nOiAxMixcbiAgICAgICAgICAgIHJhZGl1czogNCxcbiAgICAgICAgICAgIGZhc3Q6IC4yNSxcbiAgICAgICAgICAgIG5vcm1hbDogLjUsXG4gICAgICAgICAgICBzbG93OiAxLFxuICAgICAgICAgICAgcHJpbWFyeUNvbG9yOiBjb2xvclByaW1hcnksXG4gICAgICAgICAgICBjb2xvcjE6IGNvbG9yMSxcbiAgICAgICAgICAgIGNvbG9yMjogY29sb3IyLFxuICAgICAgICAgICAgZmlsbDogY29sb3IxLFxuICAgICAgICAgICAgZmlsbEFscGhhOiAxLFxuICAgICAgICAgICAgZmlsbEFjdGl2ZTogY29sb3IxLFxuICAgICAgICAgICAgZmlsbEFjdGl2ZUFscGhhOiAxLFxuICAgICAgICAgICAgc3Ryb2tlOiBjb2xvcjIsXG4gICAgICAgICAgICBzdHJva2VXaWR0aDogLjYsXG4gICAgICAgICAgICBzdHJva2VBbHBoYTogMSxcbiAgICAgICAgICAgIHN0cm9rZUFjdGl2ZTogY29sb3IyLFxuICAgICAgICAgICAgc3Ryb2tlQWN0aXZlV2lkdGg6IC42LFxuICAgICAgICAgICAgc3Ryb2tlQWN0aXZlQWxwaGE6IDEsXG4gICAgICAgICAgICBpY29uQ29sb3I6IGNvbG9yMixcbiAgICAgICAgICAgIGljb25Db2xvckFjdGl2ZTogY29sb3JQcmltYXJ5LFxuICAgICAgICAgICAgYmFja2dyb3VuZDogY29sb3IxXG4gICAgICAgIH0sIG9wdHMpXG5cbiAgICAgICAgLy8gU2V0IHRleHRTdHlsZSBhbmQgdmFyaWFudHNcbiAgICAgICAgdGhpcy5vcHRzLnRleHRTdHlsZSA9IE9iamVjdC5hc3NpZ24oe30sIHtcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdcIkF2ZW5pciBOZXh0XCIsIFwiT3BlbiBTYW5zXCIsIFwiU2Vnb2UgVUlcIiwgXCJSb2JvdG9cIiwgXCJIZWx2ZXRpY2EgTmV1ZVwiLCAtYXBwbGUtc3lzdGVtLCBzeXN0ZW0tdWksIEJsaW5rTWFjU3lzdGVtRm9udCwgQXJpYWwsIHNhbnMtc2VyaWYgIWRlZmF1bHQnLFxuICAgICAgICAgICAgZm9udFdlaWdodDogJzUwMCcsXG4gICAgICAgICAgICBmb250U2l6ZTogMTgsXG4gICAgICAgICAgICBmaWxsOiBjb2xvcjIsXG4gICAgICAgICAgICBzdHJva2U6IGNvbG9yMSxcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogMCxcbiAgICAgICAgICAgIG1pdGVyTGltaXQ6IDEsXG4gICAgICAgICAgICBsaW5lSm9pbjogJ3JvdW5kJ1xuICAgICAgICB9LCB0aGlzLm9wdHMudGV4dFN0eWxlKVxuICAgICAgICB0aGlzLm9wdHMudGV4dFN0eWxlU21hbGwgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLm9wdHMudGV4dFN0eWxlLCB7Zm9udFNpemU6IHRoaXMub3B0cy50ZXh0U3R5bGUuZm9udFNpemUgLSAzfSwgdGhpcy5vcHRzLnRleHRTdHlsZVNtYWxsKVxuICAgICAgICB0aGlzLm9wdHMudGV4dFN0eWxlTGFyZ2UgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLm9wdHMudGV4dFN0eWxlLCB7Zm9udFNpemU6IHRoaXMub3B0cy50ZXh0U3R5bGUuZm9udFNpemUgKyAzfSwgdGhpcy5vcHRzLnRleHRTdHlsZUxhcmdlKVxuICAgICAgICB0aGlzLm9wdHMudGV4dFN0eWxlQWN0aXZlID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5vcHRzLnRleHRTdHlsZSwge2ZpbGw6IHRoaXMub3B0cy5wcmltYXJ5Q29sb3J9LCB0aGlzLm9wdHMudGV4dFN0eWxlQWN0aXZlKVxuICAgICAgICB0aGlzLm9wdHMudGV4dFN0eWxlU21hbGxBY3RpdmUgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLm9wdHMudGV4dFN0eWxlU21hbGwsIHtmaWxsOiB0aGlzLm9wdHMucHJpbWFyeUNvbG9yfSwgdGhpcy5vcHRzLnRleHRTdHlsZVNtYWxsQWN0aXZlKVxuICAgICAgICB0aGlzLm9wdHMudGV4dFN0eWxlTGFyZ2VBY3RpdmUgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLm9wdHMudGV4dFN0eWxlTGFyZ2UsIHtmaWxsOiB0aGlzLm9wdHMucHJpbWFyeUNvbG9yfSwgdGhpcy5vcHRzLnRleHRTdHlsZUxhcmdlQWN0aXZlKVxuXG4gICAgICAgIE9iamVjdC5hc3NpZ24odGhpcywgdGhpcy5vcHRzKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZhY3RvcnkgZnVuY3Rpb25cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGhlbWU9ZGFyayAtIFRoZSBuYW1lIG9mIHRoZSB0aGVtZSB0byBsb2FkLlxuICAgICAqIEByZXR1cm4ge1RoZW1lfSBSZXR1cm5zIGEgbmV3bHkgY3JlYXRlZCBUaGVtZSBvYmplY3QuXG4gICAgICovXG4gICAgc3RhdGljIGZyb21TdHJpbmcodGhlbWUpIHtcblxuICAgICAgICBpZiAodGhlbWUgJiYgdHlwZW9mIHRoZW1lID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgcmV0dXJuIHRoZW1lXG4gICAgICAgIH1cblxuICAgICAgICBzd2l0Y2ggKHRoZW1lKSB7XG4gICAgICAgICAgICBjYXNlICdsaWdodCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBUaGVtZUxpZ2h0KClcbiAgICAgICAgICAgIGNhc2UgJ3JlZCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBUaGVtZVJlZCgpXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVGhlbWVEYXJrKClcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBDbGFzcyB0aGF0IHJlcHJlc2VudHMgYSBQaXhpSlMgVGhlbWVEYXJrLlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBDcmVhdGUgdGhlIGFwcCB3aXRoIGEgbmV3IGRhcmsgdGhlbWVcbiAqIGNvbnN0IGFwcCA9IG5ldyBQSVhJQXBwKHtcbiAqICAgICB2aWV3OiBjYW52YXMsXG4gKiAgICAgd2lkdGg6IDQ1MCxcbiAqICAgICBoZWlnaHQ6IDE1MCxcbiAqICAgICB0aGVtZTogbmV3IFRoZW1lRGFyaygpXG4gKiB9KS5zZXR1cCgpLnJ1bigpXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBUaGVtZVxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuaXdtLXR1ZWJpbmdlbi5kZS9pd21icm93c2VyL2xpYi9waXhpL3RoZW1lLmh0bWx8RG9jVGVzdH1cbiAqL1xuZXhwb3J0IGNsYXNzIFRoZW1lRGFyayBleHRlbmRzIFRoZW1lIHtcblxufVxuXG4vKipcbiAqIENsYXNzIHRoYXQgcmVwcmVzZW50cyBhIFBpeGlKUyBUaGVtZUxpZ2h0LlxuICogVGhlIGNvbG9yMSBpcyBzZXQgdG8gMHhmNmY2ZjYsIGNvbG9yMiB0byAweDI4MjgyOC5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQ3JlYXRlIHRoZSBhcHAgd2l0aCBhIG5ldyBsaWdodCB0aGVtZVxuICogY29uc3QgYXBwID0gbmV3IFBJWElBcHAoe1xuICogICAgIHZpZXc6IGNhbnZhcyxcbiAqICAgICB3aWR0aDogNDUwLFxuICogICAgIGhlaWdodDogMTUwLFxuICogICAgIHRoZW1lOiBuZXcgVGhlbWVMaWdodCgpXG4gKiB9KS5zZXR1cCgpLnJ1bigpXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBUaGVtZVxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuaXdtLXR1ZWJpbmdlbi5kZS9pd21icm93c2VyL2xpYi9waXhpL3RoZW1lLmh0bWx8RG9jVGVzdH1cbiAqL1xuZXhwb3J0IGNsYXNzIFRoZW1lTGlnaHQgZXh0ZW5kcyBUaGVtZSB7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIGEgVGhlbWVMaWdodC5cbiAgICAgKlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKCkge1xuXG4gICAgICAgIHN1cGVyKHtjb2xvcjE6IDB4ZjZmNmY2LCBjb2xvcjI6IDB4MjgyODI4fSlcbiAgICB9XG59XG5cbi8qKlxuICogQ2xhc3MgdGhhdCByZXByZXNlbnRzIGEgUGl4aUpTIFRoZW1lUmVkLlxuICogVGhlIHByaW1hcnlDb2xvciBpcyBzZXQgdG8gMHhkOTJmMzEuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIENyZWF0ZSB0aGUgYXBwIHdpdGggYSBuZXcgcmVkIHRoZW1lXG4gKiBjb25zdCBhcHAgPSBuZXcgUElYSUFwcCh7XG4gKiAgICAgdmlldzogY2FudmFzLFxuICogICAgIHdpZHRoOiA0NTAsXG4gKiAgICAgaGVpZ2h0OiAxNTAsXG4gKiAgICAgdGhlbWU6IG5ldyBUaGVtZVJlZCgpXG4gKiB9KS5zZXR1cCgpLnJ1bigpXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBUaGVtZVxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuaXdtLXR1ZWJpbmdlbi5kZS9pd21icm93c2VyL2xpYi9waXhpL3RoZW1lLmh0bWx8RG9jVGVzdH1cbiAqL1xuZXhwb3J0IGNsYXNzIFRoZW1lUmVkIGV4dGVuZHMgVGhlbWUge1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBhIFRoZW1lUmVkLlxuICAgICAqXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoKSB7XG5cbiAgICAgICAgc3VwZXIoe3ByaW1hcnlDb2xvcjogMHhkOTJmMzF9KVxuICAgIH1cbn1cbiIsImltcG9ydCBUaGVtZSBmcm9tICcuL3RoZW1lLmpzJ1xuXG4vKipcbiAqIENsYXNzIHRoYXQgcmVwcmVzZW50cyBhIFBpeGlKUyBQcm9ncmVzcy5cbiAqIFxuICogQGV4YW1wbGVcbiAqIC8vIENyZWF0ZSB0aGUgcHJvZ3Jlc3NcbiAqIGNvbnN0IHByb2dyZXNzID0gbmV3IFByb2dyZXNzKHtcbiAqICAgICBhcHA6IGFwcFxuICogfSlcbiAqXG4gKiAvLyBBZGQgdGhlIHByb2dyZXNzIHRvIGEgRGlzcGxheU9iamVjdFxuICogYXBwLnNjZW5lLmFkZENoaWxkKHByb2dyZXNzKVxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5Db250YWluZXJcbiAqIEBzZWUge0BsaW5rIGh0dHA6Ly9waXhpanMuZG93bmxvYWQvZGV2L2RvY3MvUElYSS5Db250YWluZXIuaHRtbHxQSVhJLkNvbnRhaW5lcn1cbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3Lml3bS10dWViaW5nZW4uZGUvaXdtYnJvd3Nlci9saWIvcGl4aS9wcm9ncmVzcy5odG1sfERvY1Rlc3R9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb2dyZXNzIGV4dGVuZHMgUElYSS5Db250YWluZXIge1xuICAgIFxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgYSBQcm9ncmVzcy5cbiAgICAgKiBcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdHNdIC0gQW4gb3B0aW9ucyBvYmplY3QgdG8gc3BlY2lmeSB0byBzdHlsZSBhbmQgYmVoYXZpb3VyIG9mIHRoZSBwcm9ncmVzcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuaWQ9YXV0byBnZW5lcmF0ZWRdIC0gVGhlIGlkIG9mIHRoZSBwcm9ncmVzcy5cbiAgICAgKiBAcGFyYW0ge1BJWElBcHB9IFtvcHRzLmFwcD13aW5kb3cuYXBwXSAtIFRoZSBhcHAgd2hlcmUgdGhlIHByb2dyZXNzIGJlbG9uZ3MgdG8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLndpZHRoXSAtIFRoZSB3aWR0aCBvZiB0aGUgcHJvZ3Jlc3MgYmFyLiBXaGVuIG5vdCBzZXQsIHRoZSB3aWR0aCBpcyB0aGUgc2l6ZSBvZiB0aGUgYXBwXG4gICAgICogICAgIG1pbnVzIDIgKiBvcHRzLm1hcmdpbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuaGVpZ2h0PTJdIC0gVGhlIGhlaWdodCBvZiB0aGUgcHJvZ3Jlc3MgYmFyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfFRoZW1lfSBbb3B0cy50aGVtZT1kYXJrXSAtIFRoZSB0aGVtZSB0byB1c2UgZm9yIHRoaXMgcHJvZ3Jlc3MuIFBvc3NpYmxlIHZhbHVlcyBhcmUgZGFyaywgbGlnaHQsIHJlZFxuICAgICAqICAgICBvciBhIFRoZW1lIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMubWFyZ2luPTEwMF0gLSBUaGUgb3V0ZXIgc3BhY2luZyB0byB0aGUgZWRnZXMgb2YgdGhlIGFwcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMucGFkZGluZz0wXSAtIFRoZSBpbm5lciBzcGFjaW5nIChkaXN0YW5jZSBmcm9tIGljb24gYW5kL29yIGxhYmVsKSB0byB0aGUgYm9yZGVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5maWxsPVRoZW1lLmZpbGxdIC0gVGhlIGNvbG9yIG9mIHRoZSBwcm9ncmVzcyBiYWNrZ3JvdW5kIGFzIGEgaGV4IHZhbHVlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5maWxsQWxwaGE9VGhlbWUuZmlsbEFscGhhXSAtIFRoZSBhbHBoYSB2YWx1ZSBvZiB0aGUgYmFja2dyb3VuZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuZmlsbEFjdGl2ZT1UaGVtZS5wcmltYXJ5Q29sb3JdIC0gVGhlIGNvbG9yIG9mIHRoZSBwcm9ncmVzcyBiYWNrZ3JvdW5kIHdoZW4gYWN0aXZhdGVkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5maWxsQWN0aXZlQWxwaGE9VGhlbWUuZmlsbEFjdGl2ZUFscGhhXSAtIFRoZSBhbHBoYSB2YWx1ZSBvZiB0aGUgYmFja2dyb3VuZCB3aGVuIGFjdGl2YXRlZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuc3Ryb2tlPVRoZW1lLnN0cm9rZV0gLSBUaGUgY29sb3Igb2YgdGhlIGJvcmRlciBhcyBhIGhleCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuc3Ryb2tlV2lkdGg9MF0gLSBUaGUgd2lkdGggb2YgdGhlIGJvcmRlciBpbiBwaXhlbC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuc3Ryb2tlQWxwaGE9VGhlbWUuc3Ryb2tlQWxwaGFdIC0gVGhlIGFscGhhIHZhbHVlIG9mIHRoZSBib3JkZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLnN0cm9rZUFjdGl2ZT1UaGVtZS5zdHJva2VBY3RpdmVdIC0gVGhlIGNvbG9yIG9mIHRoZSBib3JkZXIgd2hlbiBhY3RpdmF0ZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLnN0cm9rZUFjdGl2ZVdpZHRoPTBdIC0gVGhlIHdpZHRoIG9mIHRoZSBib3JkZXIgaW4gcGl4ZWwgd2hlbiBhY3RpdmF0ZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLnN0cm9rZUFjdGl2ZUFscGhhPVRoZW1lLnN0cm9rZUFjdGl2ZUFscGhhXSAtIFRoZSBhbHBoYSB2YWx1ZSBvZiB0aGUgYm9yZGVyIHdoZW4gYWN0aXZhdGVkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdHMuYmFja2dyb3VuZD1mYWxzZV0gLSBUaGUgYWxwaGEgdmFsdWUgb2YgdGhlIGJvcmRlciB3aGVuIGFjdGl2YXRlZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuYmFja2dyb3VuZEZpbGw9VGhlbWUuYmFja2dyb3VuZF0gLSBBIHRleHRzdHlsZSBvYmplY3QgZm9yIHRoZSBzdHlsaW5nIG9mIHRoZSBsYWJlbC4gU2VlIFBJWEkuVGV4dFN0eWxlXG4gICAgICogICAgIGZvciBwb3NzaWJsZSBvcHRpb25zLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5iYWNrZ3JvdW5kRmlsbEFscGhhPTFdIC0gQSB0ZXh0c3R5bGUgb2JqZWN0IGZvciB0aGUgc3R5bGluZyBvZiB0aGUgbGFiZWwgd2hlbiB0aGVcbiAgICAgKiAgICAgcHJvZ3Jlc3MgaXMgYWN0aXZhdGVkLiBTZWUgUElYSS5UZXh0U3R5bGUgZm9yIHBvc3NpYmxlIG9wdGlvbnMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLnJhZGl1cz1UaGVtZS5yYWRpdXNdIC0gVGhlIHJhZGl1cyBvZiB0aGUgZm91ciBjb3JuZXJzIG9mIHRoZSBwcm9ncmVzcyAod2hpY2ggaXMgYSByb3VuZGVkIHJlY3RhbmdsZSkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5kZXN0cm95T25Db21wbGV0ZT10cnVlXSAtIFNob3VsZCB0aGUgcHJvZ3Jlc3MgYmFyIGRlc3Ryb3kgaXRzZWxmIGFmdGVyIHJlYWNoaW5nIDEwMCAlP1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdHMudmlzaWJsZT10cnVlXSAtIElzIHRoZSBwcm9ncmVzcyBpbml0aWFsbHkgdmlzaWJsZSAocHJvcGVydHkgdmlzaWJsZSk/XG4gICAgICovXG4gICAgY29uc3RydWN0b3Iob3B0cyA9IHt9KSB7XG5cbiAgICAgICAgc3VwZXIoKVxuICAgICAgICBcbiAgICAgICAgY29uc3QgdGhlbWUgPSBUaGVtZS5mcm9tU3RyaW5nKG9wdHMudGhlbWUpXG4gICAgICAgIHRoaXMudGhlbWUgPSB0aGVtZVxuXG4gICAgICAgIHRoaXMub3B0cyA9IE9iamVjdC5hc3NpZ24oe30sIHtcbiAgICAgICAgICAgIGlkOiBQSVhJLnV0aWxzLnVpZCgpLFxuICAgICAgICAgICAgYXBwOiB3aW5kb3cuYXBwLFxuICAgICAgICAgICAgd2lkdGg6IG51bGwsXG4gICAgICAgICAgICBoZWlnaHQ6IDIsXG4gICAgICAgICAgICBtYXJnaW46IDEwMCxcbiAgICAgICAgICAgIHBhZGRpbmc6IDAsXG4gICAgICAgICAgICBmaWxsOiB0aGVtZS5maWxsLFxuICAgICAgICAgICAgZmlsbEFscGhhOiB0aGVtZS5maWxsQWxwaGEsXG4gICAgICAgICAgICBmaWxsQWN0aXZlOiB0aGVtZS5wcmltYXJ5Q29sb3IsXG4gICAgICAgICAgICBmaWxsQWN0aXZlQWxwaGE6IHRoZW1lLmZpbGxBY3RpdmVBbHBoYSxcbiAgICAgICAgICAgIHN0cm9rZTogdGhlbWUuc3Ryb2tlLFxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDAsXG4gICAgICAgICAgICBzdHJva2VBbHBoYTogdGhlbWUuc3Ryb2tlQWxwaGEsXG4gICAgICAgICAgICBzdHJva2VBY3RpdmU6IHRoZW1lLnN0cm9rZUFjdGl2ZSxcbiAgICAgICAgICAgIHN0cm9rZUFjdGl2ZVdpZHRoOiAwLFxuICAgICAgICAgICAgc3Ryb2tlQWN0aXZlQWxwaGE6IHRoZW1lLnN0cm9rZUFjdGl2ZUFscGhhLFxuICAgICAgICAgICAgYmFja2dyb3VuZDogZmFsc2UsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kRmlsbDogdGhlbWUuYmFja2dyb3VuZCxcbiAgICAgICAgICAgIGJhY2tncm91bmRGaWxsQWxwaGE6IDEsXG4gICAgICAgICAgICByYWRpdXM6IHRoZW1lLnJhZGl1cyxcbiAgICAgICAgICAgIGRlc3Ryb3lPbkNvbXBsZXRlOiB0cnVlLFxuICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZVxuICAgICAgICB9LCBvcHRzKVxuXG4gICAgICAgIHRoaXMuaWQgPSB0aGlzLm9wdHMuaWRcblxuICAgICAgICB0aGlzLmJhY2tncm91bmQgPSBudWxsXG4gICAgICAgIHRoaXMuYmFyID0gbnVsbFxuICAgICAgICB0aGlzLmJhckFjdGl2ZSA9IG51bGxcblxuICAgICAgICB0aGlzLmFscGhhID0gMFxuICAgICAgICBcbiAgICAgICAgdGhpcy52aXNpYmxlID0gdGhpcy5vcHRzLnZpc2libGVcblxuICAgICAgICB0aGlzLl9wcm9ncmVzcyA9IDBcblxuICAgICAgICAvLyBzZXR1cFxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIHRoaXMuc2V0dXAoKVxuXG4gICAgICAgIC8vIGxheW91dFxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIHRoaXMubGF5b3V0KClcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBjaGlsZHJlbiBhbmQgaW5zdGFudGlhdGVzIGV2ZXJ5dGhpbmcuXG4gICAgICogXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtQcm9ncmVzc30gQSByZWZlcmVuY2UgdG8gdGhlIHByb2dyZXNzIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBzZXR1cCgpIHtcblxuICAgICAgICAvLyBpbnRlcmFjdGlvblxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIHRoaXMub24oJ2FkZGVkJywgZSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNob3coKVxuICAgICAgICB9KVxuXG4gICAgICAgIC8vIGJhY2tncm91bmRcbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICBpZiAodGhpcy5vcHRzLmJhY2tncm91bmQpIHtcbiAgICAgICAgICAgIGNvbnN0IGJhY2tncm91bmQgPSBuZXcgUElYSS5HcmFwaGljcygpXG4gICAgICAgICAgICB0aGlzLmJhY2tncm91bmQgPSBiYWNrZ3JvdW5kXG4gICAgICAgICAgICB0aGlzLmFkZENoaWxkKGJhY2tncm91bmQpXG4gICAgICAgIH1cblxuICAgICAgICAvLyBiYXJcbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICBjb25zdCBiYXIgPSBuZXcgUElYSS5HcmFwaGljcygpXG4gICAgICAgIHRoaXMuYmFyID0gYmFyXG4gICAgICAgIHRoaXMuYWRkQ2hpbGQoYmFyKVxuXG4gICAgICAgIGNvbnN0IGJhckFjdGl2ZSA9IG5ldyBQSVhJLkdyYXBoaWNzKClcbiAgICAgICAgdGhpcy5iYXJBY3RpdmUgPSBiYXJBY3RpdmVcbiAgICAgICAgdGhpcy5iYXIuYWRkQ2hpbGQoYmFyQWN0aXZlKVxuXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICAqIFNob3VsZCBiZSBjYWxsZWQgdG8gcmVmcmVzaCB0aGUgbGF5b3V0IG9mIHRoZSBwcm9ncmVzcy4gQ2FuIGJlIHVzZWQgYWZ0ZXIgcmVzaXppbmcuXG4gICAgICogXG4gICAgICogQHJldHVybiB7UHJvZ3Jlc3N9IEEgcmVmZXJlbmNlIHRvIHRoZSBwcm9ncmVzcyBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgbGF5b3V0KCkge1xuXG4gICAgICAgIGNvbnN0IHdpZHRoID0gdGhpcy5vcHRzLmFwcC5zaXplLndpZHRoXG4gICAgICAgIGNvbnN0IGhlaWdodCA9IHRoaXMub3B0cy5hcHAuc2l6ZS5oZWlnaHRcblxuICAgICAgICAvLyBiYWNrZ3JvdW5kXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgaWYgKHRoaXMub3B0cy5iYWNrZ3JvdW5kKSB7XG4gICAgICAgICAgICB0aGlzLmJhY2tncm91bmQuY2xlYXIoKVxuICAgICAgICAgICAgdGhpcy5iYWNrZ3JvdW5kLmJlZ2luRmlsbCh0aGlzLm9wdHMuYmFja2dyb3VuZEZpbGwsIHRoaXMub3B0cy5iYWNrZ3JvdW5kRmlsbEFscGhhKVxuICAgICAgICAgICAgdGhpcy5iYWNrZ3JvdW5kLmRyYXdSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpXG4gICAgICAgICAgICB0aGlzLmJhY2tncm91bmQuZW5kRmlsbCgpXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRyYXcoKVxuXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICAqIERyYXdzIHRoZSBjYW52YXMuXG4gICAgICogXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtQcm9ncmVzc30gQSByZWZlcmVuY2UgdG8gdGhlIHByb2dyZXNzIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBkcmF3KCkge1xuXG4gICAgICAgIHRoaXMuYmFyLmNsZWFyKClcbiAgICAgICAgdGhpcy5iYXJBY3RpdmUuY2xlYXIoKVxuXG4gICAgICAgIHRoaXMuZHJhd0JhcigpXG4gICAgICAgIHRoaXMuZHJhd0JhckFjdGl2ZSgpXG5cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogRHJhd3MgdGhlIGJhci5cbiAgICAgKiBcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge1Byb2dyZXNzfSBBIHJlZmVyZW5jZSB0byB0aGUgcHJvZ3Jlc3MgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIGRyYXdCYXIoKSB7XG5cbiAgICAgICAgY29uc3Qgd2lkdGggPSB0aGlzLm9wdHMuYXBwLnNpemUud2lkdGhcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5vcHRzLmFwcC5zaXplLmhlaWdodFxuXG4gICAgICAgIHRoaXMucmFkaXVzID0gdGhpcy5vcHRzLnJhZGl1c1xuICAgICAgICBpZiAoKHRoaXMucmFkaXVzICogMikgPiB0aGlzLm9wdHMuaGVpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLnJhZGl1cyA9IHRoaXMub3B0cy5oZWlnaHQgLyAyXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB3YW50ZWRXaWR0aCA9IHRoaXMub3B0cy53aWR0aCB8fCAod2lkdGggLSAoMiAqIHRoaXMub3B0cy5tYXJnaW4pKVxuICAgICAgICBjb25zdCB3YW50ZWRIZWlnaHQgPSB0aGlzLm9wdHMuaGVpZ2h0XG5cbiAgICAgICAgdGhpcy5iYXIubGluZVN0eWxlKHRoaXMub3B0cy5zdHJva2VXaWR0aCwgdGhpcy5vcHRzLnN0cm9rZSwgdGhpcy5vcHRzLnN0cm9rZUFscGhhKVxuICAgICAgICB0aGlzLmJhci5iZWdpbkZpbGwodGhpcy5vcHRzLmZpbGwsIHRoaXMub3B0cy5maWxsQWxwaGEpXG4gICAgICAgIGlmICh0aGlzLnJhZGl1cyA+IDEpIHtcbiAgICAgICAgICAgIHRoaXMuYmFyLmRyYXdSb3VuZGVkUmVjdCgwLCAwLCB3YW50ZWRXaWR0aCwgd2FudGVkSGVpZ2h0LCB0aGlzLnJhZGl1cylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYmFyLmRyYXdSZWN0KDAsIDAsIHdhbnRlZFdpZHRoLCB3YW50ZWRIZWlnaHQpXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5iYXIuZW5kRmlsbCgpXG4gICAgICAgIFxuICAgICAgICB0aGlzLmJhci54ID0gd2lkdGggLyAyIC0gdGhpcy5iYXIud2lkdGggLyAyXG4gICAgICAgIHRoaXMuYmFyLnkgPSBoZWlnaHQgLyAyIC0gdGhpcy5iYXIuaGVpZ2h0IC8gMlxuXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICAqIERyYXdzIHRoZSBhY3RpdmUgYmFyLlxuICAgICAqIFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7UHJvZ3Jlc3N9IEEgcmVmZXJlbmNlIHRvIHRoZSBwcm9ncmVzcyBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgZHJhd0JhckFjdGl2ZSgpIHtcblxuICAgICAgICBjb25zdCB3YW50ZWRXaWR0aCA9IHRoaXMuYmFyLndpZHRoIC0gKDIgKiB0aGlzLm9wdHMucGFkZGluZylcbiAgICAgICAgY29uc3Qgd2FudGVkSGVpZ2h0ID0gdGhpcy5iYXIuaGVpZ2h0IC0gKDIgKiB0aGlzLm9wdHMucGFkZGluZylcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGJhckFjdGl2ZVdpZHRoID0gd2FudGVkV2lkdGggKiB0aGlzLl9wcm9ncmVzcyAvIDEwMFxuXG4gICAgICAgIHRoaXMuYmFyQWN0aXZlLmxpbmVTdHlsZSh0aGlzLm9wdHMuc3Ryb2tlQWN0aXZlV2lkdGgsIHRoaXMub3B0cy5zdHJva2VBY3RpdmUsIHRoaXMub3B0cy5zdHJva2VBY3RpdmVBbHBoYSlcbiAgICAgICAgdGhpcy5iYXJBY3RpdmUuYmVnaW5GaWxsKHRoaXMub3B0cy5maWxsQWN0aXZlLCB0aGlzLm9wdHMuZmlsbEFjdGl2ZUFscGhhKVxuICAgICAgICBpZiAoYmFyQWN0aXZlV2lkdGggPiAwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5yYWRpdXMgPiAxKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5iYXJBY3RpdmUuZHJhd1JvdW5kZWRSZWN0KDAsIDAsIGJhckFjdGl2ZVdpZHRoLCB3YW50ZWRIZWlnaHQsIHRoaXMucmFkaXVzKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJhckFjdGl2ZS5kcmF3UmVjdCgwLCAwLCBiYXJBY3RpdmVXaWR0aCwgd2FudGVkSGVpZ2h0KVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuYmFyQWN0aXZlLmVuZEZpbGwoKVxuXG4gICAgICAgIHRoaXMuYmFyQWN0aXZlLnggPSB0aGlzLm9wdHMucGFkZGluZ1xuICAgICAgICB0aGlzLmJhckFjdGl2ZS55ID0gdGhpcy5vcHRzLnBhZGRpbmdcblxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBTaG93cyB0aGUgcHJvZ3Jlc3MgKHNldHMgaGlzIGFscGhhIHZhbHVlcyB0byAxKS5cbiAgICAgKiBcbiAgICAgKiBAcmV0dXJuIHtQcm9ncmVzc30gQSByZWZlcmVuY2UgdG8gdGhlIHByb2dyZXNzIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBzaG93KCkge1xuICAgICAgICBUd2Vlbk1heC50byh0aGlzLCB0aGlzLnRoZW1lLmZhc3QsIHthbHBoYTogMX0pXG5cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogSGlkZXMgdGhlIHByb2dyZXNzIChzZXRzIGhpcyBhbHBoYSB2YWx1ZXMgdG8gMSkuXG4gICAgICogXG4gICAgICogQHJldHVybiB7UHJvZ3Jlc3N9IEEgcmVmZXJlbmNlIHRvIHRoZSBwcm9ncmVzcyBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgaGlkZSgpIHtcbiAgICAgICAgVHdlZW5NYXgudG8odGhpcywgdGhpcy50aGVtZS5mYXN0LCB7YWxwaGE6IDAsIG9uQ29tcGxldGU6ICgpID0+IHRoaXMudmlzaWJsZSA9IGZhbHNlfSlcblxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBHZXRzIG9yIHNldHMgdGhlIHByb2dyZXNzLiBIYXMgdG8gYmUgYSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxMDAuXG4gICAgICogXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCBwcm9ncmVzcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Byb2dyZXNzXG4gICAgfVxuICAgIHNldCBwcm9ncmVzcyh2YWx1ZSkge1xuXG4gICAgICAgIHZhbHVlID0gTWF0aC5yb3VuZCh2YWx1ZSlcblxuICAgICAgICBpZiAodmFsdWUgPCAwKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IDBcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh2YWx1ZSA+IDEwMCkge1xuICAgICAgICAgICAgdmFsdWUgPSAxMDBcbiAgICAgICAgfVxuXG4gICAgICAgIFR3ZWVuTWF4LnRvKHRoaXMsIHRoaXMudGhlbWUubm9ybWFsLCB7XG4gICAgICAgICAgICBfcHJvZ3Jlc3M6IHZhbHVlLFxuICAgICAgICAgICAgb25VcGRhdGU6ICgpID0+IHRoaXMuZHJhdygpLFxuICAgICAgICAgICAgb25Db21wbGV0ZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gMTAwICYmIHRoaXMub3B0cy5kZXN0cm95T25Db21wbGV0ZSkge1xuICAgICAgICAgICAgICAgICAgICBUd2Vlbk1heC50byh0aGlzLCB0aGlzLnRoZW1lLmZhc3QsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFscGhhOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgb25Db21wbGV0ZTogKCkgPT4gdGhpcy5kZXN0cm95KHtjaGlsZHJlbjogdHJ1ZX0pXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cbn1cbiIsImltcG9ydCBUaGVtZSBmcm9tICcuL3RoZW1lLmpzJ1xuXG4vKipcbiAqIENhbGxiYWNrIGZvciB0aGUgcG9wdXAgb25IaWRkZW4uXG4gKlxuICogQGNhbGxiYWNrIGhpZGRlbkNhbGxiYWNrXG4gKiBAcGFyYW0ge0Fic3RyYWN0UG9wdXB9IGFic3RyYWN0UG9wdXAgLSBBIHJlZmVyZW5jZSB0byB0aGUgcG9wdXAgKGFsc28gdGhpcyByZWZlcnMgdG8gdGhlIHBvcHVwKS5cbiAqL1xuXG4vKipcbiAqIENsYXNzIHRoYXQgcmVwcmVzZW50cyBhIFBpeGlKUyBBYnN0cmFjdFBvcHVwLlxuICogVGhlIGNsYXNzIGlzIHVzZWQgZm9yIHZhcmlvdXMgb3RoZXIgUG9wdXAtbGlrZSBjbGFzc2VzXG4gKiBsaWtlIFBvcHVwLCBNZXNzYWdlLCBUb29sdGlwLi4uXG4gKlxuICogQGNsYXNzXG4gKiBAYWJzdHJhY3RcbiAqIEBleHRlbmRzIFBJWEkuR3JhcGhpY3NcbiAqIEBzZWUge0BsaW5rIGh0dHA6Ly9waXhpanMuZG93bmxvYWQvZGV2L2RvY3MvUElYSS5HcmFwaGljcy5odG1sfFBJWEkuR3JhcGhpY3N9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFic3RyYWN0UG9wdXAgZXh0ZW5kcyBQSVhJLkdyYXBoaWNzIHtcbiAgICBcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIGFuIEFic3RyYWN0UG9wdXAgKG9ubHkgZm9yIGludGVybmFsIHVzZSkuXG4gICAgICogXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRzXSAtIEFuIG9wdGlvbnMgb2JqZWN0IHRvIHNwZWNpZnkgdG8gc3R5bGUgYW5kIGJlaGF2aW91ciBvZiB0aGUgcG9wdXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLmlkPWF1dG8gZ2VuZXJhdGVkXSAtIFRoZSBpZCBvZiB0aGUgcG9wdXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLng9MF0gLSBUaGUgeCBwb3NpdGlvbiBvZiB0aGUgcG9wdXAuIENhbiBiZSBhbHNvIHNldCBhZnRlciBjcmVhdGlvbiB3aXRoIHBvcHVwLnggPSAwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy55PTBdIC0gVGhlIHkgcG9zaXRpb24gb2YgdGhlIHBvcHVwLiBDYW4gYmUgYWxzbyBzZXQgYWZ0ZXIgY3JlYXRpb24gd2l0aCBwb3B1cC55ID0gMC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xUaGVtZX0gW29wdHMudGhlbWU9ZGFya10gLSBUaGUgdGhlbWUgdG8gdXNlIGZvciB0aGlzIHBvcHVwLiBQb3NzaWJsZSB2YWx1ZXMgYXJlIGRhcmssIGxpZ2h0LCByZWRcbiAgICAgKiAgICAgb3IgYSBUaGVtZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfFBJWEkuVGV4dH0gW29wdHMuaGVhZGVyXSAtIFRoZSBoZWFkaW5nIGluc2lkZSB0aGUgcG9wdXAgYXMgYSBzdHJpbmcsIGEgbnVtYmVyICh3aWxsIGJlXG4gICAgICogICAgIGNvbnZlcnRlZCB0byBhIHRleHQpIG9yIGFzIGEgUElYSS5UZXh0IG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ8UElYSS5EaXNwbGF5T2JqZWN0fSBbb3B0cy5jb250ZW50XSAtIEEgdGV4dCwgYSBudW1iZXIgKHdpbGwgYmUgY29udmVydGVkIHRvIGEgdGV4dCkgb3JcbiAgICAgKiAgICAgYW4gUElYSS5EaXNwbGF5T2JqZWN0IGFzIHRoZSBjb250ZW50IG9mIHRoZSBwb3B1cC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMubWluV2lkdGg9MzIwXSAtIFRoZSBtaW5pbXVtIHdpZHRoIG9mIHRoZSBwb3B1cC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMubWluSGVpZ2h0PTEzMF0gLSBUaGUgbWluaW11bSBoZWlnaHQgb2YgdGhlIHBvcHVwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5wYWRkaW5nPVRoZW1lLnBhZGRpbmddIC0gVGhlIGlubmVyIHNwYWNpbmcgKGRpc3RhbmNlIGZyb20gaGVhZGVyIGFuZCBjb250ZW50KSB0aGUgdGhlIGJvcmRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuZmlsbD1UaGVtZS5maWxsXSAtIFRoZSBjb2xvciBvZiB0aGUgYnV0dG9uIGJhY2tncm91bmQgYXMgYSBoZXggdmFsdWUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLmZpbGxBbHBoYT1UaGVtZS5maWxsQWxwaGFdIC0gVGhlIGFscGhhIHZhbHVlIG9mIHRoZSBiYWNrZ3JvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5zdHJva2U9VGhlbWUuc3Ryb2tlXSAtIFRoZSBjb2xvciBvZiB0aGUgYm9yZGVyIGFzIGEgaGV4IHZhbHVlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5zdHJva2VXaWR0aD1UaGVtZS5zdHJva2VXaWR0aF0gLSBUaGUgd2lkdGggb2YgdGhlIGJvcmRlciBpbiBwaXhlbC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuc3Ryb2tlQWxwaGE9VGhlbWUuc3Ryb2tlQWxwaGFdIC0gVGhlIGFscGhhIHZhbHVlIG9mIHRoZSBib3JkZXIuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRzLmhlYWRlclN0eWxlPVRoZW1lLnRleHRTdHlsZUxhcmdlXSAtIEEgdGV4dHN0eWxlIG9iamVjdCBmb3IgdGhlIHN0eWxpbmcgb2YgdGhlIGhlYWRlci4gU2VlIFBJWEkuVGV4dFN0eWxlXG4gICAgICogICAgIGZvciBwb3NzaWJsZSBvcHRpb25zLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0cy50ZXh0U3R5bGU9VGhlbWUudGV4dFN0eWxlU21hbGxdIC0gQSB0ZXh0c3R5bGUgb2JqZWN0IGZvciB0aGUgc3R5bGluZyBvZiB0aGUgdGV4dC4gU2VlIFBJWEkuVGV4dFN0eWxlXG4gICAgICogICAgIGZvciBwb3NzaWJsZSBvcHRpb25zLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5yYWRpdXM9VGhlbWUucmFkaXVzXSAtIFRoZSByYWRpdXMgb2YgdGhlIGZvdXIgY29ybmVycyBvZiB0aGUgcG9wdXAgKHdoaWNoIGlzIGEgcm91bmRlZCByZWN0YW5nbGUpLlxuICAgICAqIEBwYXJhbSB7aGlkZGVuQ2FsbGJhY2t9IFtvcHRzLm9uSGlkZGVuXSAtIEV4ZWN1dGVkIHdoZW4gdGhlIHBvcHVwIGdldHMgaGlkZGVuLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdHMudmlzaWJsZT10cnVlXSAtIElzIHRoZSBwb3B1cCBpbml0aWFsbHkgdmlzaWJsZSAocHJvcGVydHkgdmlzaWJsZSk/XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLm9yaWVudGF0aW9uXSAtIFdoZW4gc2V0IHRvIHBvcnRyYWl0LCB0aGUgcG9wdXAgY2Fubm90IGJlIGRpc3BsYXllZCBpbiBsYW5kc2NhcGUgbW9kZS4gV2hlbiBzZXRcbiAgICAgKiAgICAgdG8gbGFuZHNjYXBlLCB0aGUgcG9wdXAgY2Fubm90IGJlIGRpc3BsYXllZCBpbiBwb3J0cmFpdCBtb2RlLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdHMgPSB7fSkge1xuXG4gICAgICAgIHN1cGVyKClcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHRoZW1lID0gVGhlbWUuZnJvbVN0cmluZyhvcHRzLnRoZW1lKVxuICAgICAgICB0aGlzLnRoZW1lID0gdGhlbWVcblxuICAgICAgICB0aGlzLm9wdHMgPSBPYmplY3QuYXNzaWduKHt9LCB7XG4gICAgICAgICAgICBpZDogUElYSS51dGlscy51aWQoKSxcbiAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICB5OiAwLFxuICAgICAgICAgICAgaGVhZGVyOiBudWxsLCAgICAgICAgICAgICAgICAgICAgICAgLy8gbnVsbCBvciBudWxsXG4gICAgICAgICAgICBjb250ZW50OiBudWxsLCAgICAgICAgICAgICAgICAgICAgICAvLyBudWxsIG9yIFN0cmluZyBvciBQSVhJLkRpc3BsYXlPYmplY3RcbiAgICAgICAgICAgIG1pbldpZHRoOiAzMjAsXG4gICAgICAgICAgICBtaW5IZWlnaHQ6IDEzMCxcbiAgICAgICAgICAgIG1heFdpZHRoOiBudWxsLFxuICAgICAgICAgICAgcGFkZGluZzogdGhlbWUucGFkZGluZyxcbiAgICAgICAgICAgIGZpbGw6IHRoZW1lLmZpbGwsXG4gICAgICAgICAgICBmaWxsQWxwaGE6IHRoZW1lLmZpbGxBbHBoYSxcbiAgICAgICAgICAgIHN0cm9rZTogdGhlbWUuc3Ryb2tlLFxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IHRoZW1lLnN0cm9rZVdpZHRoLFxuICAgICAgICAgICAgc3Ryb2tlQWxwaGE6IHRoZW1lLnN0cm9rZUFscGhhLFxuICAgICAgICAgICAgaGVhZGVyU3R5bGU6IHRoZW1lLnRleHRTdHlsZUxhcmdlLFxuICAgICAgICAgICAgdGV4dFN0eWxlOiB0aGVtZS50ZXh0U3R5bGVTbWFsbCxcbiAgICAgICAgICAgIHJhZGl1czogdGhlbWUucmFkaXVzLFxuICAgICAgICAgICAgb25IaWRkZW46IG51bGwsXG4gICAgICAgICAgICB2aXNpYmxlOiB0cnVlLFxuICAgICAgICAgICAgb3JpZW50YXRpb246IG51bGxcbiAgICAgICAgfSwgb3B0cylcblxuICAgICAgICB0aGlzLmlkID0gdGhpcy5vcHRzLmlkXG5cbiAgICAgICAgdGhpcy5oZWFkZXJTdHlsZSA9IG5ldyBQSVhJLlRleHRTdHlsZSh0aGlzLm9wdHMuaGVhZGVyU3R5bGUpXG4gICAgICAgIHRoaXMudGV4dFN0eWxlID0gbmV3IFBJWEkuVGV4dFN0eWxlKHRoaXMub3B0cy50ZXh0U3R5bGUpXG5cbiAgICAgICAgaWYgKHRoaXMub3B0cy5tYXhXaWR0aCkge1xuICAgICAgICAgICAgdGhpcy5oZWFkZXJTdHlsZS53b3JkV3JhcCA9IHRydWVcbiAgICAgICAgICAgIHRoaXMuaGVhZGVyU3R5bGUud29yZFdyYXBXaWR0aCA9IHRoaXMub3B0cy5tYXhXaWR0aCAtICgyICogdGhpcy5vcHRzLnBhZGRpbmcpXG5cbiAgICAgICAgICAgIHRoaXMudGV4dFN0eWxlLndvcmRXcmFwID0gdHJ1ZVxuICAgICAgICAgICAgdGhpcy50ZXh0U3R5bGUud29yZFdyYXBXaWR0aCA9IHRoaXMub3B0cy5tYXhXaWR0aCAtICgyICogdGhpcy5vcHRzLnBhZGRpbmcpXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFscGhhID0gMFxuICAgICAgICB0aGlzLnZpc2libGUgPSB0aGlzLm9wdHMudmlzaWJsZVxuXG4gICAgICAgIHRoaXMuX2hlYWRlciA9IG51bGxcbiAgICAgICAgdGhpcy5fY29udGVudCA9IG51bGxcblxuICAgICAgICAvLyBwb3NpdGlvblxuICAgICAgICB0aGlzLnggPSB0aGlzLm9wdHMueFxuICAgICAgICB0aGlzLnkgPSB0aGlzLm9wdHMueVxuXG4gICAgICAgIC8vIHBhZGRpbmdcbiAgICAgICAgdGhpcy5pbm5lclBhZGRpbmcgPSB0aGlzLm9wdHMucGFkZGluZyAqIDEuNVxuICAgICAgICBcbiAgICAgICAgLy8gaW50ZXJhY3Rpb25cbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICB0aGlzLmludGVyYWN0aXZlID0gdHJ1ZVxuICAgICAgICB0aGlzLm9uKCdhZGRlZCcsIGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5zaG93KClcbiAgICAgICAgfSlcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyB0aGUgZnJhbWV3b3JrIGFuZCBpbnN0YW50aWF0ZXMgZXZlcnl0aGluZy5cbiAgICAgKiBcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge0Fic3RyYWN0UG9wdXB9IEEgcmVmZXJlbmNlIHRvIHRoZSBwb3B1cCBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgc2V0dXAoKSB7XG5cbiAgICAgICAgLy8gcG9zaXRpb25cbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICB0aGlzLnN5ID0gdGhpcy5vcHRzLnBhZGRpbmdcblxuICAgICAgICAvLyBoZWFkZXJcbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICBpZiAodGhpcy5vcHRzLmhlYWRlciAhPSBudWxsKSB7XG5cbiAgICAgICAgICAgIGxldCBoZWFkZXIgPSBudWxsXG5cbiAgICAgICAgICAgIGlmICh0aGlzLm9wdHMuaGVhZGVyIGluc3RhbmNlb2YgUElYSS5UZXh0KSB7XG4gICAgICAgICAgICAgICAgaGVhZGVyID0gdGhpcy5vcHRzLmhlYWRlclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdGhpcy5vcHRzLmhlYWRlciA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICBoZWFkZXIgPSAgbmV3IFBJWEkuVGV4dCh0aGlzLm9wdHMuaGVhZGVyLnRvU3RyaW5nKCksIHRoaXMuaGVhZGVyU3R5bGUpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGhlYWRlciA9ICBuZXcgUElYSS5UZXh0KHRoaXMub3B0cy5oZWFkZXIsIHRoaXMuaGVhZGVyU3R5bGUpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGhlYWRlci54ID0gdGhpcy5vcHRzLnBhZGRpbmdcbiAgICAgICAgICAgIGhlYWRlci55ID0gdGhpcy5zeVxuXG4gICAgICAgICAgICB0aGlzLmFkZENoaWxkKGhlYWRlcilcblxuICAgICAgICAgICAgdGhpcy5zeSArPSBoZWFkZXIuaGVpZ2h0XG5cbiAgICAgICAgICAgIHRoaXMuX2hlYWRlciA9IGhlYWRlclxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMub3B0cy5oZWFkZXIgJiYgdGhpcy5vcHRzLmNvbnRlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuc3kgKz0gdGhpcy5pbm5lclBhZGRpbmdcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNvbnRlbnRcbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICBpZiAodGhpcy5vcHRzLmNvbnRlbnQgIT0gbnVsbCkge1xuXG4gICAgICAgICAgICBsZXQgY29udGVudCA9IG51bGxcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdHMuY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBjb250ZW50ID0gbmV3IFBJWEkuVGV4dCh0aGlzLm9wdHMuY29udGVudCwgdGhpcy50ZXh0U3R5bGUpXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aGlzLm9wdHMuY29udGVudCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICBjb250ZW50ID0gbmV3IFBJWEkuVGV4dCh0aGlzLm9wdHMuY29udGVudC50b1N0cmluZygpLCB0aGlzLnRleHRTdHlsZSlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udGVudCA9IHRoaXMub3B0cy5jb250ZW50XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnRlbnQueCA9IHRoaXMub3B0cy5wYWRkaW5nXG4gICAgICAgICAgICBjb250ZW50LnkgPSB0aGlzLnN5XG5cbiAgICAgICAgICAgIHRoaXMuc3kgKz0gY29udGVudC5oZWlnaHRcblxuICAgICAgICAgICAgdGhpcy5hZGRDaGlsZChjb250ZW50KVxuXG4gICAgICAgICAgICB0aGlzLl9jb250ZW50ID0gY29udGVudFxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogU2hvdWxkIGJlIGNhbGxlZCB0byByZWZyZXNoIHRoZSBsYXlvdXQgb2YgdGhlIHBvcHVwLiBDYW4gYmUgdXNlZCBhZnRlciByZXNpemluZy5cbiAgICAgKiBcbiAgICAgKiBAcmV0dXJuIHtBYnN0cmFjdFBvcHVwfSBBIHJlZmVyZW5jZSB0byB0aGUgcG9wdXAgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIGxheW91dCgpIHtcbiAgICAgICAgXG4gICAgICAgIC8vIHdhbnRlZCB3aWR0aCAmIHdhbnRlZCBoZWlnaHRcbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICBjb25zdCBwYWRkaW5nID0gdGhpcy5vcHRzLnBhZGRpbmdcbiAgICAgICAgY29uc3Qgc2l6ZSA9IHRoaXMuZ2V0SW5uZXJTaXplKClcbiAgICAgICAgY29uc3Qgd2lkdGggPSBzaXplLndpZHRoICsgKDIgKiBwYWRkaW5nKVxuICAgICAgICBjb25zdCBoZWlnaHQgPSBzaXplLmhlaWdodCArICgyICogcGFkZGluZylcblxuICAgICAgICB0aGlzLndhbnRlZFdpZHRoID0gTWF0aC5tYXgod2lkdGgsIHRoaXMub3B0cy5taW5XaWR0aClcbiAgICAgICAgdGhpcy53YW50ZWRIZWlnaHQgPSBNYXRoLm1heChoZWlnaHQsIHRoaXMub3B0cy5taW5IZWlnaHQpXG4gICAgICAgIFxuICAgICAgICBpZiAodGhpcy5vcHRzLm1heFdpZHRoKSB7XG4gICAgICAgICAgICB0aGlzLndhbnRlZFdpZHRoID0gTWF0aC5taW4odGhpcy53YW50ZWRXaWR0aCwgdGhpcy5vcHRzLm1heFdpZHRoKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMub3B0cy5yYWRpdXMgKiAyID4gdGhpcy53YW50ZWRXaWR0aCkge1xuICAgICAgICAgICAgdGhpcy53YW50ZWRXaWR0aCA9IHRoaXMub3B0cy5yYWRpdXMgKiAyXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5vcHRzLnJhZGl1cyAqIDIgPiB0aGlzLndhbnRlZEhlaWdodCkge1xuICAgICAgICAgICAgdGhpcy53YW50ZWRIZWlnaHQgPSB0aGlzLm9wdHMucmFkaXVzICogMlxuICAgICAgICB9XG5cbiAgICAgICAgc3dpdGNoICh0aGlzLm9wdHMub3JpZW50YXRpb24pIHtcbiAgICAgICAgICAgIGNhc2UgJ3BvcnRyYWl0JzpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy53YW50ZWRXaWR0aCA+IHRoaXMud2FudGVkSGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMud2FudGVkSGVpZ2h0ID0gdGhpcy53YW50ZWRXaWR0aFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgY2FzZSAnbGFuZHNjYXBlJzpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy53YW50ZWRIZWlnaHQgPiB0aGlzLndhbnRlZFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMud2FudGVkV2lkdGggPSB0aGlzLndhbnRlZEhlaWdodFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kcmF3KClcblxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBEcmF3cyB0aGUgY2FudmFzLlxuICAgICAqIFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7QWJzdHJhY3RQb3B1cH0gQSByZWZlcmVuY2UgdG8gdGhlIHBvcHVwIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBkcmF3KCkge1xuXG4gICAgICAgIGNvbnN0IHNxdWFyZSA9IE1hdGgucm91bmQodGhpcy53YW50ZWRXaWR0aCkgPT09IE1hdGgucm91bmQodGhpcy53YW50ZWRIZWlnaHQpXG4gICAgICAgIGNvbnN0IGRpYW1ldGVyID0gTWF0aC5yb3VuZCh0aGlzLm9wdHMucmFkaXVzICogMilcblxuICAgICAgICB0aGlzLmNsZWFyKClcbiAgICAgICAgdGhpcy5saW5lU3R5bGUodGhpcy5vcHRzLnN0cm9rZVdpZHRoLCB0aGlzLm9wdHMuc3Ryb2tlLCB0aGlzLm9wdHMuc3Ryb2tlQWxwaGEpXG4gICAgICAgIHRoaXMuYmVnaW5GaWxsKHRoaXMub3B0cy5maWxsLCB0aGlzLm9wdHMuZmlsbEFscGhhKVxuICAgICAgICBpZiAoc3F1YXJlICYmIGRpYW1ldGVyID09PSB0aGlzLndhbnRlZFdpZHRoKSB7XG4gICAgICAgICAgICB0aGlzLmRyYXdDaXJjbGUodGhpcy53YW50ZWRXaWR0aCAvIDIsIHRoaXMud2FudGVkSGVpZ2h0IC8gMiwgdGhpcy5vcHRzLnJhZGl1cylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZHJhd1JvdW5kZWRSZWN0KDAsIDAsIHRoaXMud2FudGVkV2lkdGgsIHRoaXMud2FudGVkSGVpZ2h0LCB0aGlzLm9wdHMucmFkaXVzKVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW5kRmlsbCgpXG5cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgc2l6ZSBvZiB0aGUgY2hpbGRyZW4gb2YgdGhlIEFic3RyYWN0UG9wdXAuXG4gICAgICogQ2Fubm90IHVzZSBnZXRCb3VuZHMoKSBiZWNhdXNlIGl0IGlzIG5vdCB1cGRhdGVkIHdoZW4gY2hpbGRyZW5cbiAgICAgKiBhcmUgcmVtb3ZlZC5cbiAgICAgKiBcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9IEFuIEphdmFTY3JpcHQgb2JqZWN0IHdpZHRoIHRoZSBrZXlzIHdpZHRoIGFuZCBoZWlnaHQuXG4gICAgICovXG4gICAgZ2V0SW5uZXJTaXplKCkge1xuXG4gICAgICAgIGxldCB3aWR0aCA9IDBcbiAgICAgICAgbGV0IGhlaWdodCA9IDBcblxuICAgICAgICBpZiAodGhpcy5faGVhZGVyKSB7XG4gICAgICAgICAgICB3aWR0aCA9IHRoaXMuX2hlYWRlci53aWR0aFxuICAgICAgICAgICAgaGVpZ2h0ID0gdGhpcy5faGVhZGVyLmhlaWdodFxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2hlYWRlciAmJiB0aGlzLl9jb250ZW50KSB7XG4gICAgICAgICAgICBoZWlnaHQgKz0gdGhpcy5pbm5lclBhZGRpbmdcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9jb250ZW50KSB7XG4gICAgICAgICAgICB3aWR0aCA9IE1hdGgubWF4KHdpZHRoLCB0aGlzLl9jb250ZW50LndpZHRoKVxuICAgICAgICAgICAgaGVpZ2h0ICs9IHRoaXMuX2NvbnRlbnQuaGVpZ2h0XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge3dpZHRoLCBoZWlnaHR9XG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICAqIFNob3dzIHRoZSBwb3B1cCAoc2V0cyBoaXMgYWxwaGEgdmFsdWVzIHRvIDEpLlxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7Y2FsbGJhY2t9IFtjYl0gLSBFeGVjdXRlZCB3aGVuIHNob3cgYW5pbWF0aW9uIHdhcyBjb21wbGV0ZWQuXG4gICAgICogQHJldHVybiB7QWJzdHJhY3RQb3B1cH0gQSByZWZlcmVuY2UgdG8gdGhlIHBvcHVwIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBzaG93KGNiKSB7XG5cbiAgICAgICAgVHdlZW5NYXgudG8odGhpcywgdGhpcy50aGVtZS5mYXN0LCB7XG4gICAgICAgICAgICBhbHBoYTogMSxcbiAgICAgICAgICAgIG9uQ29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY2IpIHtcbiAgICAgICAgICAgICAgICAgICAgY2IuY2FsbCh0aGlzKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBIaWRlcyB0aGUgcG9wdXAgKHNldHMgaGlzIGFscGhhIHZhbHVlcyB0byAwKS5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge2NhbGxiYWNrfSBbY2JdIC0gRXhlY3V0ZWQgd2hlbiBoaWRlIGFuaW1hdGlvbiB3YXMgY29tcGxldGVkLlxuICAgICAqIEByZXR1cm4ge0Fic3RyYWN0UG9wdXB9IEEgcmVmZXJlbmNlIHRvIHRoZSBwb3B1cCBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgaGlkZShjYikge1xuXG4gICAgICAgIFR3ZWVuTWF4LnRvKHRoaXMsIHRoaXMudGhlbWUuZmFzdCwge1xuICAgICAgICAgICAgYWxwaGE6IDAsXG4gICAgICAgICAgICBvbkNvbXBsZXRlOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2VcbiAgICAgICAgICAgICAgICBpZiAoY2IpIHtcbiAgICAgICAgICAgICAgICAgICAgY2IuY2FsbCh0aGlzKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgICAgICBpZiAodGhpcy5vcHRzLm9uSGlkZGVuKSB7XG4gICAgICAgICAgICB0aGlzLm9wdHMub25IaWRkZW4uY2FsbCh0aGlzLCB0aGlzKVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIG9yIGdldHMgdGhlIGhlYWRlci4gVGhlIGdldHRlciBhbHdheXMgcmV0dXJucyBhIFBJWEkuVGV4dCBvYmplY3QuIFRoZSBzZXR0ZXIgY2FuIHJlY2VpdmVcbiAgICAgKiBhIHN0cmluZywgYSBudW1iZXIgb3IgYSBQSVhJLlRleHQgb2JqZWN0LlxuICAgICAqIFxuICAgICAqIEBtZW1iZXIge3N0cmluZ3xudW1iZXJ8UElYSS5UZXh0fVxuICAgICAqL1xuICAgIGdldCBoZWFkZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9oZWFkZXJcbiAgICB9XG4gICAgc2V0IGhlYWRlcih2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5faGVhZGVyKSB7XG4gICAgICAgICAgICB0aGlzLl9oZWFkZXIuZGVzdHJveSgpXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vcHRzLmhlYWRlciA9IHZhbHVlXG4gICAgICAgIHRoaXMuc2V0dXAoKS5sYXlvdXQoKVxuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBTZXRzIG9yIGdldHMgdGhlIGNvbnRlbnQuIFRoZSBnZXR0ZXIgYWx3YXlzIHJldHVybnMgYW4gUElYSS5EaXNwbGF5T2JqZWN0LiBUaGUgc2V0dGVyIGNhbiByZWNlaXZlXG4gICAgICogYSBzdHJpbmcsIGEgbnVtYmVyIG9yIGEgUElYSS5EaXNwbGF5T2JqZWN0LlxuICAgICAqIFxuICAgICAqIEBtZW1iZXIge3N0cmluZ3xudW1iZXJ8UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAqL1xuICAgIGdldCBjb250ZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29udGVudFxuICAgIH1cbiAgICBzZXQgY29udGVudCh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5fY29udGVudCkge1xuICAgICAgICAgICAgdGhpcy5fY29udGVudC5kZXN0cm95KClcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9wdHMuY29udGVudCA9IHZhbHVlXG4gICAgICAgIHRoaXMuc2V0dXAoKS5sYXlvdXQoKVxuICAgIH1cbn1cbiIsImltcG9ydCBUaGVtZSBmcm9tICcuL3RoZW1lLmpzJ1xuaW1wb3J0IEFic3RyYWN0UG9wdXAgZnJvbSAnLi9hYnN0cmFjdHBvcHVwLmpzJ1xuXG4vKipcbiAqIENsYXNzIHRoYXQgcmVwcmVzZW50cyBhIFBpeGlKUyBUb29sdGlwLlxuICogXG4gKiBAZXhhbXBsZVxuICogLy8gQ3JlYXRlIHRoZSBhcHBcbiAqIGNvbnN0IGFwcCA9IG5ldyBQSVhJQXBwKHtcbiAqICAgICB2aWV3OiBjYW52YXMsXG4gKiAgICAgd2lkdGg6IDkwMCxcbiAqICAgICBoZWlnaHQ6IDI1MFxuICogfSkuc2V0dXAoKS5ydW4oKVxuICogXG4gKiAvLyBBZGQgYW4gRGlzcGxheU9iamVjdCB0byB0aGUgYXBwXG4gKiBjb25zdCBjaXJjbGUgPSBuZXcgUElYSS5HcmFwaGljcygpXG4gKiBjaXJjbGUuYmVnaW5GaWxsKDB4NTI1MWEzKVxuICogY2lyY2xlLmRyYXdDaXJjbGUoNTAsIDUwLCA0MClcbiAqIGFwcC5zY2VuZS5hZGRDaGlsZChjaXJjbGUpXG4gKiBcbiAqIGNvbnN0IHRvb2x0aXAgPSBuZXcgVG9vbHRpcCh7XG4gKiAgICAgb2JqZWN0OiBjaXJjbGUsXG4gKiAgICAgY29udGFpbmVyOiBhcHAuc2NlbmUsXG4gKiAgICAgY29udGVudDogJ0RhcyBHZXNldHogaXN0IGRlciBGcmV1bmQgZGVzIFNjaHdhY2hlbi4nXG4gKiB9KVxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgQWJzdHJhY3RQb3B1cFxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuaXdtLXR1ZWJpbmdlbi5kZS9pd21icm93c2VyL2xpYi9waXhpL3Rvb2x0aXAuaHRtbHxEb2NUZXN0fVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUb29sdGlwIGV4dGVuZHMgQWJzdHJhY3RQb3B1cCB7XG4gICAgXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBhIFRvb2x0aXAuXG4gICAgICogXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRzXSAtIEFuIG9wdGlvbnMgb2JqZWN0IHRvIHNwZWNpZnkgdG8gc3R5bGUgYW5kIGJlaGF2aW91ciBvZiB0aGUgdG9vbHRpcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMubWluV2lkdGg9MF0gLSBUaGUgbWluaW11bSB3aWR0aCBvZiB0aGUgdG9vbHRpcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMubWluSGVpZ2h0PTBdIC0gVGhlIG1pbmltdW0gaGVpZ2h0IG9mIHRoZSB0b29sdGlwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5wYWRkaW5nPVRoZW1lLnBhZGRpbmcgLyAyXSAtIFRoZSBpbm5lciBzcGFjaW5nIG9mIHRoZSB0b29sdGlwLlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBvcHRzLm9iamVjdCAtIFRoZSBvYmplY3QsIHdoZXJlIHRoZSB0b29sdGlwIHNob3VsZCBiZSBkaXNwbGF5ZWQuXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IFtvcHRzLmNvbnRhaW5lcj1vYmplY3RdIC0gVGhlIGNvbnRhaW5lciB3aGVyZSB0aGUgdG9vbHRpcCBzaG91bGQgYmUgYXR0YWNoZWQgdG8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLm9mZnNldExlZnQ9OF0gLSBUaGUgaG9yaXpvbnRhbCBzaGlmdCBvZiB0aGUgdG9vbHRpcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMub2Zmc2V0VG9wPS04XSAtIFRoZSB2ZXJ0aWNhbCBzaGlmdCBvZiB0aGUgdG9vbHRpcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuZGVsYXk9MF0gLSBBIGRlbGF5LCBhZnRlciB3aGljaCB0aGUgdG9vbHRpcCBzaG91bGQgYmUgb3BlbmVkLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdHMgPSB7fSkge1xuICAgICAgICBcbiAgICAgICAgY29uc3QgdGhlbWUgPSBUaGVtZS5mcm9tU3RyaW5nKG9wdHMudGhlbWUpXG4gICAgICAgIFxuICAgICAgICBvcHRzID0gT2JqZWN0LmFzc2lnbih7fSwge1xuICAgICAgICAgICAgbWluV2lkdGg6IDAsXG4gICAgICAgICAgICBtaW5IZWlnaHQ6IDAsXG4gICAgICAgICAgICBwYWRkaW5nOiB0aGVtZS5wYWRkaW5nIC8gMixcbiAgICAgICAgICAgIG9iamVjdDogbnVsbCxcbiAgICAgICAgICAgIGNvbnRhaW5lcjogbnVsbCxcbiAgICAgICAgICAgIG9mZnNldExlZnQ6IDgsXG4gICAgICAgICAgICBvZmZzZXRUb3A6IC04LFxuICAgICAgICAgICAgZGVsYXk6IDBcbiAgICAgICAgfSwgb3B0cylcblxuICAgICAgICBvcHRzLmNvbnRhaW5lciA9IG9wdHMuY29udGFpbmVyIHx8IG9wdHMub2JqZWN0XG5cbiAgICAgICAgc3VwZXIob3B0cylcblxuICAgICAgICAvLyBzZXR1cFxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIHRoaXMuc2V0dXAoKVxuXG4gICAgICAgIC8vIGxheW91dFxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIHRoaXMubGF5b3V0KClcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBjaGlsZHJlbiBhbmQgaW5zdGFudGlhdGVzIGV2ZXJ5dGhpbmcuXG4gICAgICogXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtUb29sdGlwfSBBIHJlZmVyZW5jZSB0byB0aGUgdG9vbHRpcCBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgc2V0dXAoKSB7XG5cbiAgICAgICAgc3VwZXIuc2V0dXAoKVxuXG4gICAgICAgIC8vIGJpbmQgZXZlbnRzIHRoaXNcbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICB0aGlzLmludGVyYWN0aXZlID0gdHJ1ZVxuXG4gICAgICAgIGxldCBtb3VzZW92ZXJUb29sdGlwID0gZmFsc2VcbiAgICAgICAgXG4gICAgICAgIHRoaXMub24oJ21vdXNlb3ZlcicsIGUgPT4ge1xuICAgICAgICAgICAgbW91c2VvdmVyVG9vbHRpcCA9IHRydWVcbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLm9uKCdtb3VzZW91dCcsIGUgPT4ge1xuICAgICAgICAgICAgbW91c2VvdmVyVG9vbHRpcCA9IGZhbHNlXG4gICAgICAgICAgICBpZiAoIW1vdXNlb3Zlck9iamVjdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaGlkZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3B0cy5jb250YWluZXIucmVtb3ZlQ2hpbGQodGhpcylcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICBcbiAgICAgICAgLy8gYmluZCBldmVudHMgb2JqZWN0XG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgY29uc3Qgb2JqZWN0ID0gdGhpcy5vcHRzLm9iamVjdFxuICAgICAgICBvYmplY3QuaW50ZXJhY3RpdmUgPSB0cnVlXG5cbiAgICAgICAgbGV0IG1vdXNlb3Zlck9iamVjdCA9IGZhbHNlXG5cbiAgICAgICAgb2JqZWN0Lm9uKCdtb3VzZW92ZXInLCBlID0+IHtcblxuICAgICAgICAgICAgdGhpcy50aW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIG1vdXNlb3Zlck9iamVjdCA9IHRydWVcbiAgICAgICAgICAgICAgICB0aGlzLnZpc2libGUgPSB0cnVlXG4gICAgICAgICAgICAgICAgdGhpcy5vcHRzLmNvbnRhaW5lci5hZGRDaGlsZCh0aGlzKVxuICAgICAgICAgICAgICAgIHRoaXMuc2V0UG9zaXRpb24oZSlcbiAgICAgICAgICAgIH0sIHRoaXMub3B0cy5kZWxheSAqIDEwMDApXG4gICAgICAgIH0pXG5cbiAgICAgICAgb2JqZWN0Lm9uKCdtb3VzZW1vdmUnLCBlID0+IHtcbiAgICAgICAgICAgIGlmIChtb3VzZW92ZXJPYmplY3QpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFBvc2l0aW9uKGUpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgb2JqZWN0Lm9uKCdtb3VzZW91dCcsIGUgPT4ge1xuICAgICAgICAgICAgbW91c2VvdmVyT2JqZWN0ID0gZmFsc2VcbiAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KVxuICAgICAgICAgICAgaWYgKCFtb3VzZW92ZXJUb29sdGlwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRzLmNvbnRhaW5lci5yZW1vdmVDaGlsZCh0aGlzKVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyBhbmQgc2V0cyB0aGUgcG9zaXRpb24gb2YgdGhlIHRvb2x0aXAuXG4gICAgICogXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtUb29sdGlwfSBBIHJlZmVyZW5jZSB0byB0aGUgdG9vbHRpcCBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgc2V0UG9zaXRpb24oZSkge1xuXG4gICAgICAgIGNvbnN0IHBvc2l0aW9uID0gZS5kYXRhLmdldExvY2FsUG9zaXRpb24odGhpcy5vcHRzLmNvbnRhaW5lcilcblxuICAgICAgICB0aGlzLnggPSBwb3NpdGlvbi54ICsgdGhpcy5vcHRzLm9mZnNldExlZnRcbiAgICAgICAgdGhpcy55ID0gcG9zaXRpb24ueSArIHRoaXMub3B0cy5vZmZzZXRUb3AgLSB0aGlzLmhlaWdodFxuXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxufVxuIiwiaW1wb3J0IFRoZW1lIGZyb20gJy4vdGhlbWUuanMnXG5pbXBvcnQgQWJzdHJhY3RQb3B1cCBmcm9tICcuL2Fic3RyYWN0cG9wdXAuanMnXG5pbXBvcnQgVG9vbHRpcCBmcm9tICcuL3Rvb2x0aXAuanMnXG5cbi8qKlxuICogQ2xhc3MgdGhhdCByZXByZXNlbnRzIGEgUGl4aUpTIEJhZGdlLlxuICogXG4gKiBAZXhhbXBsZVxuICogLy8gQ3JlYXRlIHRoZSBhcHBcbiAqIGNvbnN0IGFwcCA9IG5ldyBQSVhJQXBwKHtcbiAqICAgICB2aWV3OiBjYW52YXMsXG4gKiAgICAgd2lkdGg6IDkwMCxcbiAqICAgICBoZWlnaHQ6IDI1MFxuICogfSkuc2V0dXAoKS5ydW4oKVxuICogXG4gKiAvLyBBZGQgYW4gRGlzcGxheU9iamVjdCB0byB0aGUgYXBwXG4gKiBjb25zdCBjaXJjbGUgPSBuZXcgUElYSS5HcmFwaGljcygpXG4gKiBjaXJjbGUuYmVnaW5GaWxsKDB4NTI1MWEzKVxuICogY2lyY2xlLmRyYXdDaXJjbGUoNTAsIDUwLCA0MClcbiAqIGFwcC5zY2VuZS5hZGRDaGlsZChjaXJjbGUpXG4gKiBcbiAqIGNvbnN0IGJhZGdlMSA9IG5ldyBCYWRnZSh7XG4gKiAgICAgb2JqZWN0OiBjaXJjbGUsXG4gKiAgICAgY29udGFpbmVyOiBhcHAuc2NlbmUsXG4gKiAgICAgY29udGVudDogJ0RhcyBHZXNldHogaXN0IGRlciBGcmV1bmQgZGVzIFNjaHdhY2hlbi4nXG4gKiB9KVxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgQWJzdHJhY3RQb3B1cFxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuaXdtLXR1ZWJpbmdlbi5kZS9pd21icm93c2VyL2xpYi9waXhpL2JhZGdlLmh0bWx8RG9jVGVzdH1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmFkZ2UgZXh0ZW5kcyBBYnN0cmFjdFBvcHVwIHtcbiAgICBcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIGEgQmFkZ2UuXG4gICAgICogXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRzXSAtIEFuIG9wdGlvbnMgb2JqZWN0IHRvIHNwZWNpZnkgdG8gc3R5bGUgYW5kIGJlaGF2aW91ciBvZiB0aGUgYmFkZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLm1pbldpZHRoPTBdIC0gVGhlIG1pbmltdW0gd2lkdGggb2YgdGhlIGJhZGdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5taW5IZWlnaHQ9MF0gLSBUaGUgbWluaW11bSBoZWlnaHQgb2YgdGhlIGJhZGdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5wYWRkaW5nPVRoZW1lLnBhZGRpbmcgLyAyXSAtIFRoZSBpbm5lciBzcGFjaW5nIG9mIHRoZSBiYWRnZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xvYmplY3R9IFtvcHRzLnRvb2x0aXBdIC0gQSBzdHJpbmcgZm9yIHRoZSBsYWJlbCBvZiB0aGUgdG9vbHRpcCBvciBhbiBvYmplY3QgdG8gY29uZmlndXJlIHRoZSB0b29sdGlwXG4gICAgICogICAgIHRvIGRpc3BsYXkuXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iob3B0cyA9IHt9KSB7XG4gICAgICAgIFxuICAgICAgICBjb25zdCB0aGVtZSA9IFRoZW1lLmZyb21TdHJpbmcob3B0cy50aGVtZSlcbiAgICAgICAgXG4gICAgICAgIG9wdHMgPSBPYmplY3QuYXNzaWduKHt9LCB7XG4gICAgICAgICAgICBtaW5XaWR0aDogMCxcbiAgICAgICAgICAgIG1pbkhlaWdodDogMCxcbiAgICAgICAgICAgIHBhZGRpbmc6IHRoZW1lLnBhZGRpbmcgLyAyLFxuICAgICAgICAgICAgdG9vbHRpcDogbnVsbFxuICAgICAgICB9LCBvcHRzKVxuXG4gICAgICAgIHN1cGVyKG9wdHMpXG5cbiAgICAgICAgdGhpcy50b29sdGlwID0gbnVsbFxuXG4gICAgICAgIC8vIHNldHVwXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgdGhpcy5zZXR1cCgpXG5cbiAgICAgICAgLy8gbGF5b3V0XG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgdGhpcy5sYXlvdXQoKVxuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGNoaWxkcmVuIGFuZCBpbnN0YW50aWF0ZXMgZXZlcnl0aGluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHJldHVybiB7QmFkZ2V9IEEgcmVmZXJlbmNlIHRvIHRoZSBiYWRnZSBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgc2V0dXAoKSB7XG5cbiAgICAgICAgc3VwZXIuc2V0dXAoKVxuXG4gICAgICAgIC8vIHRvb2x0aXBcbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICBpZiAodGhpcy5vcHRzLnRvb2x0aXApIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRzLnRvb2x0aXAgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50b29sdGlwID0gbmV3IFRvb2x0aXAoe29iamVjdDogdGhpcywgY29udGVudDogdGhpcy5vcHRzLnRvb2x0aXB9KVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9wdHMudG9vbHRpcCA9IE9iamVjdC5hc3NpZ24oe30sIHtvYmplY3Q6IHRoaXN9LCB0aGlzLm9wdHMudG9vbHRpcClcbiAgICAgICAgICAgICAgICB0aGlzLnRvb2x0aXAgPSBuZXcgVG9vbHRpcCh0aGlzLm9wdHMudG9vbHRpcClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICAqIFNob3VsZCBiZSBjYWxsZWQgdG8gcmVmcmVzaCB0aGUgbGF5b3V0IG9mIHRoZSBiYWRnZS4gQ2FuIGJlIHVzZWQgYWZ0ZXIgcmVzaXppbmcuXG4gICAgICogXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHJldHVybiB7QmFkZ2V9IEEgcmVmZXJlbmNlIHRvIHRoZSBiYWRnZSBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgbGF5b3V0KCkge1xuXG4gICAgICAgIHN1cGVyLmxheW91dCgpXG5cbiAgICAgICAgdGhpcy5jb250ZW50LnggPSB0aGlzLndpZHRoIC8gMiAtIHRoaXMuY29udGVudC53aWR0aCAvIDIgLSB0aGlzLm9wdHMuc3Ryb2tlV2lkdGggLyAyXG4gICAgICAgIHRoaXMuY29udGVudC55ID0gdGhpcy5oZWlnaHQgLyAyIC0gdGhpcy5jb250ZW50LmhlaWdodCAvIDIgLSB0aGlzLm9wdHMuc3Ryb2tlV2lkdGggLyAyXG5cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG59XG4iLCJpbXBvcnQgVGhlbWUgZnJvbSAnLi90aGVtZS5qcydcbmltcG9ydCBUb29sdGlwIGZyb20gJy4vdG9vbHRpcC5qcydcbmltcG9ydCBCYWRnZSBmcm9tICcuL2JhZGdlLmpzJ1xuXG4vKipcbiAqIENhbGxiYWNrIGZvciB0aGUgYnV0dG9uIGFjdGlvbi5cbiAqXG4gKiBAY2FsbGJhY2sgYWN0aW9uQ2FsbGJhY2tcbiAqIEBwYXJhbSB7b2JqZWN0fSBldmVudCAtIFRoZSBldmVudCBvYmplY3QuXG4gKiBAcGFyYW0ge0J1dHRvbn0gYnV0dG9uIC0gQSByZWZlcmVuY2UgdG8gdGhlIGJ1dHRvbiAoYWxzbyB0aGlzIHJlZmVycyB0byB0aGUgYnV0dG9uKS5cbiAqL1xuXG4vKipcbiAqIENhbGxiYWNrIGZvciB0aGUgYnV0dG9uIGJlZm9yZUFjdGlvbi5cbiAqXG4gKiBAY2FsbGJhY2sgYmVmb3JlQWN0aW9uQ2FsbGJhY2tcbiAqIEBwYXJhbSB7b2JqZWN0fSBldmVudCAtIFRoZSBldmVudCBvYmplY3QuXG4gKiBAcGFyYW0ge0J1dHRvbn0gYnV0dG9uIC0gQSByZWZlcmVuY2UgdG8gdGhlIGJ1dHRvbiAoYWxzbyB0aGlzIHJlZmVycyB0byB0aGUgYnV0dG9uKS5cbiAqL1xuXG4vKipcbiAqIENhbGxiYWNrIGZvciB0aGUgYnV0dG9uIGFmdGVyQWN0aW9uLlxuICpcbiAqIEBjYWxsYmFjayBhZnRlckFjdGlvbkNhbGxiYWNrXG4gKiBAcGFyYW0ge29iamVjdH0gZXZlbnQgLSBUaGUgZXZlbnQgb2JqZWN0LlxuICogQHBhcmFtIHtCdXR0b259IGJ1dHRvbiAtIEEgcmVmZXJlbmNlIHRvIHRoZSBidXR0b24gKGFsc28gdGhpcyByZWZlcnMgdG8gdGhlIGJ1dHRvbikuXG4gKi9cblxuLyoqXG4gKiBDbGFzcyB0aGF0IHJlcHJlc2VudHMgYSBQaXhpSlMgQnV0dG9uLlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBDcmVhdGUgdGhlIGJ1dHRvblxuICogY29uc3QgYnV0dG9uID0gbmV3IEJ1dHRvbih7XG4gKiAgICAgbGFiZWw6ICdNeSBCdXR0b24nLFxuICogICAgIGFjdGlvbjogKCkgPT4gY29uc29sZS5sb2coJ0J1dHRvbiB3YXMgY2xpY2tlZCcpXG4gKiB9KVxuICpcbiAqIC8vIEFkZCB0aGUgYnV0dG9uIHRvIGEgRGlzcGxheU9iamVjdFxuICogYXBwLnNjZW5lLmFkZENoaWxkKGJ1dHRvbilcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQ29udGFpbmVyXG4gKiBAc2VlIHtAbGluayBodHRwOi8vcGl4aWpzLmRvd25sb2FkL2Rldi9kb2NzL1BJWEkuQ29udGFpbmVyLmh0bWx8UElYSS5Db250YWluZXJ9XG4gKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5pd20tdHVlYmluZ2VuLmRlL2l3bWJyb3dzZXIvbGliL3BpeGkvYnV0dG9uLmh0bWx8RG9jVGVzdH1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnV0dG9uIGV4dGVuZHMgUElYSS5Db250YWluZXIge1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBhIEJ1dHRvbi5cbiAgICAgKlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0c10gLSBBbiBvcHRpb25zIG9iamVjdCB0byBzcGVjaWZ5IHRvIHN0eWxlIGFuZCBiZWhhdmlvdXIgb2YgdGhlIGJ1dHRvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuaWQ9YXV0byBnZW5lcmF0ZWRdIC0gVGhlIGlkIG9mIHRoZSBidXR0b24uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLmxhYmVsXSAtIFRoZSBsYWJlbCBvZiB0aGUgYnV0dG9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy54PTBdIC0gVGhlIHggcG9zaXRpb24gb2YgdGhlIGJ1dHRvbi4gQ2FuIGJlIGFsc28gc2V0IGFmdGVyIGNyZWF0aW9uIHdpdGggYnV0dG9uLnggPSAwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy55PTBdIC0gVGhlIHkgcG9zaXRpb24gb2YgdGhlIGJ1dHRvbi4gQ2FuIGJlIGFsc28gc2V0IGFmdGVyIGNyZWF0aW9uIHdpdGggYnV0dG9uLnkgPSAwLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfFRoZW1lfSBbb3B0cy50aGVtZT1kYXJrXSAtIFRoZSB0aGVtZSB0byB1c2UgZm9yIHRoaXMgYnV0dG9uLiBQb3NzaWJsZSB2YWx1ZXMgYXJlIGRhcmssIGxpZ2h0LCByZWRcbiAgICAgKiAgICAgb3IgYSBUaGVtZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLm1pbldpZHRoPTQ0XSAtIFRoZSBtaW5pbXVtIHdpZHRoIG9mIHRoZSBidXR0b24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLm1pbkhlaWdodD00NF0gLSBUaGUgbWluaW11bSBoZWlnaHQgb2YgdGhlIGJ1dHRvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMucGFkZGluZz1UaGVtZS5wYWRkaW5nXSAtIFRoZSBpbm5lciBzcGFjaW5nIChkaXN0YW5jZSBmcm9tIGljb24gYW5kL29yIGxhYmVsKSB0byB0aGUgYm9yZGVyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfFBJWEkuRGlzcGxheU9iamVjdH0gW29wdHMuaWNvbl0gLSBUaGUgaWNvbiBvZiB0aGUgYnV0dG9uLiBDYW4gYmUgYSBwcmVkZWZpbmVkIG9uZSwgYW4gVVJMIG9yIGFuIFBJWEkuRGlzcGxheU9iamVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xQSVhJLkRpc3BsYXlPYmplY3R9IFtvcHRzLmljb25BY3RpdmU9aWNvbl0gLSBUaGUgaWNvbiBvZiB0aGUgYnV0dG9uIHdoZW4gYWN0aXZhdGVkLiBDYW4gYmUgYSBwcmVkZWZpbmVkIG9uZSwgYW4gVVJMIG9yIGFuIFBJWEkuRGlzcGxheU9iamVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdHMuaWNvblBvc2l0aW9uPWxlZnRdIC0gVGhlIHBvc2l0aW9uIG9mIHRoZSBpY29uIGluIHJlbGF0aW9uIHRvIHRoZSBsYWJlbC4gQ2FuIGJlIGxlZnQgb3IgcmlnaHQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLmljb25Db2xvcj1UaGVtZS5pY29uQ29sb3JdIC0gVGhlIGNvbG9yIG9mIHRoZSBpY29uIChzZXQgYnkgdGhlIHRpbnQgcHJvcGVydHkpIGFzIGEgaGV4IHZhbHVlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5pY29uQ29sb3JBY3RpdmU9VGhlbWUuaWNvbkNvbG9yQWN0aXZlXSAtIFRoZSBjb2xvciBvZiB0aGUgaWNvbiB3aGVuIGFjdGl2YXRlZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuZmlsbD1UaGVtZS5maWxsXSAtIFRoZSBjb2xvciBvZiB0aGUgYnV0dG9uIGJhY2tncm91bmQgYXMgYSBoZXggdmFsdWUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLmZpbGxBbHBoYT1UaGVtZS5maWxsQWxwaGFdIC0gVGhlIGFscGhhIHZhbHVlIG9mIHRoZSBiYWNrZ3JvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5maWxsQWN0aXZlPVRoZW1lLmZpbGxBY3RpdmVdIC0gVGhlIGNvbG9yIG9mIHRoZSBidXR0b24gYmFja2dyb3VuZCB3aGVuIGFjdGl2YXRlZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuZmlsbEFjdGl2ZUFscGhhPVRoZW1lLmZpbGxBY3RpdmVBbHBoYV0gLSBUaGUgYWxwaGEgdmFsdWUgb2YgdGhlIGJhY2tncm91bmQgd2hlbiBhY3RpdmF0ZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLnN0cm9rZT1UaGVtZS5zdHJva2VdIC0gVGhlIGNvbG9yIG9mIHRoZSBib3JkZXIgYXMgYSBoZXggdmFsdWUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLnN0cm9rZVdpZHRoPVRoZW1lLnN0cm9rZVdpZHRoXSAtIFRoZSB3aWR0aCBvZiB0aGUgYm9yZGVyIGluIHBpeGVsLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5zdHJva2VBbHBoYT1UaGVtZS5zdHJva2VBbHBoYV0gLSBUaGUgYWxwaGEgdmFsdWUgb2YgdGhlIGJvcmRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuc3Ryb2tlQWN0aXZlPVRoZW1lLnN0cm9rZUFjdGl2ZV0gLSBUaGUgY29sb3Igb2YgdGhlIGJvcmRlciB3aGVuIGFjdGl2YXRlZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuc3Ryb2tlQWN0aXZlV2lkdGg9VGhlbWUuc3Ryb2tlQWN0aXZlV2lkdGhdIC0gVGhlIHdpZHRoIG9mIHRoZSBib3JkZXIgaW4gcGl4ZWwgd2hlbiBhY3RpdmF0ZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLnN0cm9rZUFjdGl2ZUFscGhhPVRoZW1lLnN0cm9rZUFjdGl2ZUFscGhhXSAtIFRoZSBhbHBoYSB2YWx1ZSBvZiB0aGUgYm9yZGVyIHdoZW4gYWN0aXZhdGVkLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0cy50ZXh0U3R5bGU9VGhlbWUudGV4dFN0eWxlXSAtIEEgdGV4dHN0eWxlIG9iamVjdCBmb3IgdGhlIHN0eWxpbmcgb2YgdGhlIGxhYmVsLiBTZWUgUElYSS5UZXh0U3R5bGVcbiAgICAgKiAgICAgZm9yIHBvc3NpYmxlIG9wdGlvbnMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLnRleHRTdHlsZUFjdGl2ZT1UaGVtZS50ZXh0U3R5bGVBY3RpdmVdIC0gQSB0ZXh0c3R5bGUgb2JqZWN0IGZvciB0aGUgc3R5bGluZyBvZiB0aGUgbGFiZWwgd2hlbiB0aGVcbiAgICAgKiAgICAgYnV0dG9uIGlzIGFjdGl2YXRlZC4gU2VlIFBJWEkuVGV4dFN0eWxlIGZvciBwb3NzaWJsZSBvcHRpb25zLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5zdHlsZT1kZWZhdWx0XSAtIEEgc2hvcnRjdXQgZm9yIHN0eWxpbmcgb3B0aW9ucy4gUG9zc2libGUgdmFsdWVzIGFyZSBkZWZhdWx0LCBsaW5rLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5yYWRpdXM9VGhlbWUucmFkaXVzXSAtIFRoZSByYWRpdXMgb2YgdGhlIGZvdXIgY29ybmVycyBvZiB0aGUgYnV0dG9uICh3aGljaCBpcyBhIHJvdW5kZWQgcmVjdGFuZ2xlKS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLmRpc2FibGVkPWZhbHNlXSAtIElzIHRoZSBidXR0b24gZGlzYWJsZWQ/IFdoZW4gZGlzYWJsZWQsIHRoZSBidXR0b24gaGFzIGEgbG93ZXIgYWxwaGEgdmFsdWVcbiAgICAgKiAgICAgYW5kIGNhbm5vdCBiZSBjbGlja2VkIChpbnRlcmFjdGl2ZSBpcyBzZXQgdG8gZmFsc2UpLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdHMuYWN0aXZlPWZhbHNlXSAtIElzIHRoZSBidXR0b24gaW5pdGlhbGx5IGFjdGl2ZT9cbiAgICAgKiBAcGFyYW0ge2FjdGlvbkNhbGxiYWNrfSBbb3B0cy5hY3Rpb25dIC0gRXhlY3V0ZWQgd2hlbiB0aGUgYnV0dG9uIHdhcyB0cmlnZ2VyZWQgKGJ5IHBvaW50ZXJ1cCkuXG4gICAgICogQHBhcmFtIHtiZWZvcmVBY3Rpb25DYWxsYmFja30gW29wdHMuYmVmb3JlQWN0aW9uXSAtIEV4ZWN1dGVkIGJlZm9yZSB0aGUgbWFpbiBhY3Rpb24gaXMgdHJpZ2dlcmVkLlxuICAgICAqIEBwYXJhbSB7YWZ0ZXJBY3Rpb25DYWxsYmFja30gW29wdHMuYWZ0ZXJBY3Rpb25dIC0gRXhlY3V0ZWQgYWZ0ZXIgdGhlIG1haW4gYWN0aW9uIHdhcyB0cmlnZ2VyZWQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLnR5cGU9ZGVmYXVsdF0gLSBUaGUgdHlwZSBvZiB0aGUgYnV0dG9uLiBDYW4gYmUgZGVmYXVsdCBvciBjaGVja2JveC4gV2hlbiB0aGUgdHlwZSBpc1xuICAgICAqICAgICBjaGVja2JveCwgdGhlIGFjdGl2ZSBzdGF0ZSBpcyB0b2dnbGVkIGF1dG9tYXRpY2FsbHkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLmFsaWduPWNlbnRlcl0gLSBUaGUgaG9yaXpvbnRhbCBwb3NpdGlvbiBvZiB0aGUgbGFiZWwgYW5kIHRoZSBpY29uLiBQb3NzaWJsZSB2YWx1ZXMgYXJlXG4gICAgICogICAgIGxlZnQsIGNlbnRlciBhbmQgcmlnaHQuIE9ubHkgYWZmZWN0cyB0aGUgc3R5bGUgd2hlbiB0aGUgbWluV2lkdGggaXMgYmlnZ2VyIHRoYW4gdGhlIHdpZHRoIG9mIHRoZSBpY29uIGFuZCBsYWJlbC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdHMudmVydGljYWxBbGlnbj1taWRkbGVdIC0gVGhlIHZlcnRpY2FsIHBvc2l0aW9uIG9mIHRoZSBsYWJlbCBhbmQgdGhlIGljb24uIFBvc3NpYmxlIHZhbHVlcyBhcmVcbiAgICAgKiAgICAgdG9wLCBtaWRkbGUgYW5kIGJ1dHRvbi4gT25seSBhZmZlY3RzIHRoZSBzdHlsZSB3aGVuIHRoZSBtaW5IZWlnaHQgaXMgYmlnZ2VyIHRoYW4gdGhlIGhlaWdodCBvZiB0aGUgaWNvbiBhbmQgbGFiZWwuXG4gICAgICogQHBhcmFtIHtzdHJpbmd8b2JqZWN0fSBbb3B0cy50b29sdGlwXSAtIEEgc3RyaW5nIGZvciB0aGUgbGFiZWwgb2YgdGhlIHRvb2x0aXAgb3IgYW4gb2JqZWN0IHRvIGNvbmZpZ3VyZSB0aGUgdG9vbHRpcFxuICAgICAqICAgICB0byBkaXNwbGF5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfG9iamVjdH0gW29wdHMuYmFkZ2VdIC0gQSBzdHJpbmcgZm9yIHRoZSBsYWJlbCBvZiB0aGUgYmFkZ2Ugb3IgYW4gb2JqZWN0IHRvIGNvbmZpZ3VyZSB0aGUgYmFkZ2UgdG8gZGlzcGxheS5cbiAgICAgKiAgICAgSWYgdGhlIHBhcmFtZXRlciBpcyBhbiBvYmplY3QsIGFsbCBiYWRnZSBvcHRpb25zIGNhbiBiZSBzZXQgcGx1cyB0aGUgZm9sbG93aW5nOlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5iYWRnZS5hbGlnbj1yaWdodF0gLSBUaGUgaG9yaXpvbnRhbCBhbGlnbm1lbnQgb2YgdGhlIGJhZGdlLiBQb3NzaWJsZSB2YWx1ZXM6IGxlZnQsIGNlbnRlciwgcmlnaHRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdHMuYmFkZ2UudmVydGljYWxBbGlnbj10b3BdIC0gVGhlIHZlcnRpY2FsIGFsaWdubWVudCBvZiB0aGUgYmFkZ2UuIFBvc3NpYmxlIHZhbHVlczogdG9wLCBtaWRkbGUsIGJvdHRvbVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5iYWRnZS5vZmZzZXRMZWZ0PTBdIC0gVGhlIGhvcml6b250YWwgc2hpZnQgb2YgdGhlIGJhZGdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5iYWRnZS5vZmZzZXRUb3A9MF0gLSBUaGUgdmVydGljYWwgc2hpZnQgb2YgdGhlIGJhZGdlLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdHMudmlzaWJsZT10cnVlXSAtIElzIHRoZSBidXR0b24gaW5pdGlhbGx5IHZpc2libGUgKHByb3BlcnR5IHZpc2libGUpP1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdHMgPSB7fSkge1xuXG4gICAgICAgIHN1cGVyKClcblxuICAgICAgICBjb25zdCB0aGVtZSA9IFRoZW1lLmZyb21TdHJpbmcob3B0cy50aGVtZSlcbiAgICAgICAgdGhpcy50aGVtZSA9IHRoZW1lXG5cbiAgICAgICAgdGhpcy5vcHRzID0gT2JqZWN0LmFzc2lnbih7fSwge1xuICAgICAgICAgICAgaWQ6IFBJWEkudXRpbHMudWlkKCksXG4gICAgICAgICAgICBsYWJlbDogbnVsbCxcbiAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICB5OiAwLFxuICAgICAgICAgICAgbWluV2lkdGg6IDQ0LFxuICAgICAgICAgICAgbWluSGVpZ2h0OiA0NCxcbiAgICAgICAgICAgIHBhZGRpbmc6IHRoZW1lLnBhZGRpbmcsXG4gICAgICAgICAgICBpY29uOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBpY29uQWN0aXZlOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBpY29uUG9zaXRpb246ICdsZWZ0JyxcbiAgICAgICAgICAgIGljb25Db2xvcjogdGhlbWUuaWNvbkNvbG9yLFxuICAgICAgICAgICAgaWNvbkNvbG9yQWN0aXZlOiB0aGVtZS5pY29uQ29sb3JBY3RpdmUsXG4gICAgICAgICAgICBmaWxsOiB0aGVtZS5maWxsLFxuICAgICAgICAgICAgZmlsbEFscGhhOiB0aGVtZS5maWxsQWxwaGEsXG4gICAgICAgICAgICBmaWxsQWN0aXZlOiB0aGVtZS5maWxsQWN0aXZlLFxuICAgICAgICAgICAgZmlsbEFjdGl2ZUFscGhhOiB0aGVtZS5maWxsQWN0aXZlQWxwaGEsXG4gICAgICAgICAgICBzdHJva2U6IHRoZW1lLnN0cm9rZSxcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiB0aGVtZS5zdHJva2VXaWR0aCxcbiAgICAgICAgICAgIHN0cm9rZUFscGhhOiB0aGVtZS5zdHJva2VBbHBoYSxcbiAgICAgICAgICAgIHN0cm9rZUFjdGl2ZTogdGhlbWUuc3Ryb2tlQWN0aXZlLFxuICAgICAgICAgICAgc3Ryb2tlQWN0aXZlV2lkdGg6IHRoZW1lLnN0cm9rZUFjdGl2ZVdpZHRoLFxuICAgICAgICAgICAgc3Ryb2tlQWN0aXZlQWxwaGE6IHRoZW1lLnN0cm9rZUFjdGl2ZUFscGhhLFxuICAgICAgICAgICAgdGV4dFN0eWxlOiB0aGVtZS50ZXh0U3R5bGUsXG4gICAgICAgICAgICB0ZXh0U3R5bGVBY3RpdmU6IHRoZW1lLnRleHRTdHlsZUFjdGl2ZSxcbiAgICAgICAgICAgIHN0eWxlOiAnZGVmYXVsdCcsXG4gICAgICAgICAgICByYWRpdXM6IHRoZW1lLnJhZGl1cyxcbiAgICAgICAgICAgIGRpc2FibGVkOiBmYWxzZSxcbiAgICAgICAgICAgIGFjdGl2ZTogZmFsc2UsXG4gICAgICAgICAgICBhY3Rpb246IG51bGwsXG4gICAgICAgICAgICBiZWZvcmVBY3Rpb246IG51bGwsXG4gICAgICAgICAgICBhZnRlckFjdGlvbjogbnVsbCxcbiAgICAgICAgICAgIHR5cGU6ICdkZWZhdWx0JyxcbiAgICAgICAgICAgIGFsaWduOiAnY2VudGVyJyxcbiAgICAgICAgICAgIHZlcnRpY2FsQWxpZ246ICdtaWRkbGUnLFxuICAgICAgICAgICAgdG9vbHRpcDogbnVsbCxcbiAgICAgICAgICAgIGJhZGdlOiBudWxsLFxuICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZVxuICAgICAgICB9LCBvcHRzKVxuXG4gICAgICAgIHRoaXMuaWQgPSB0aGlzLm9wdHMuaWRcblxuICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0cy5pY29uID09PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgdGhpcy5vcHRzLmljb25BY3RpdmUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aGlzLm9wdHMuaWNvbiA9IHRoaXMub3B0cy5pY29uQWN0aXZlXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHRoaXMub3B0cy5pY29uICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgdGhpcy5vcHRzLmljb25BY3RpdmUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aGlzLm9wdHMuaWNvbkFjdGl2ZSA9IHRoaXMub3B0cy5pY29uXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5vcHRzLnN0eWxlID09PSAnbGluaycpIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5vcHRzLCB7c3Ryb2tlQWxwaGE6IDAsIHN0cm9rZUFjdGl2ZUFscGhhOiAwLCBmaWxsQWxwaGE6IDAsIGZpbGxBY3RpdmVBbHBoYTogMH0pXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9hY3RpdmUgPSBudWxsXG4gICAgICAgIHRoaXMuX2Rpc2FibGVkID0gbnVsbFxuXG4gICAgICAgIHRoaXMuaWNvbkluYWN0aXZlID0gbnVsbFxuICAgICAgICB0aGlzLmljb25BY3RpdmUgPSBudWxsXG4gICAgICAgIHRoaXMudGV4dCA9IG51bGxcblxuICAgICAgICB0aGlzLmJ1dHRvbiA9IG51bGxcbiAgICAgICAgdGhpcy5jb250ZW50ID0gbnVsbFxuXG4gICAgICAgIHRoaXMudG9vbHRpcCA9IG51bGxcbiAgICAgICAgdGhpcy5iYWRnZSA9IG51bGxcblxuICAgICAgICB0aGlzLnZpc2libGUgPSB0aGlzLm9wdHMudmlzaWJsZVxuXG4gICAgICAgIC8vIHNldHVwXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgdGhpcy5zZXR1cCgpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBjaGlsZHJlbiBhbmQgaW5zdGFudGlhdGVzIGV2ZXJ5dGhpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge0J1dHRvbn0gQSByZWZlcmVuY2UgdG8gdGhlIGJ1dHRvbiBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgc2V0dXAoKSB7XG5cbiAgICAgICAgLy8gQnV0dG9uXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgbGV0IGJ1dHRvbiA9IG5ldyBQSVhJLkdyYXBoaWNzKClcbiAgICAgICAgdGhpcy5idXR0b24gPSBidXR0b25cbiAgICAgICAgdGhpcy5hZGRDaGlsZChidXR0b24pXG5cbiAgICAgICAgLy8gQ29udGVudFxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIGxldCBjb250ZW50ID0gbmV3IFBJWEkuQ29udGFpbmVyKClcbiAgICAgICAgdGhpcy5jb250ZW50ID0gY29udGVudFxuICAgICAgICB0aGlzLmFkZENoaWxkKGNvbnRlbnQpXG5cbiAgICAgICAgLy8gVGV4dFxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIGlmICh0aGlzLm9wdHMubGFiZWwpIHtcbiAgICAgICAgICAgIHRoaXMudGV4dCA9IG5ldyBQSVhJLlRleHQodGhpcy5vcHRzLmxhYmVsLCB0aGlzLm9wdHMudGV4dFN0eWxlKVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWNvblxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIGlmICh0aGlzLm9wdHMuaWNvbikge1xuICAgICAgICAgICAgdGhpcy5pY29uSW5hY3RpdmUgPSB0aGlzLmxvYWRJY29uKHRoaXMub3B0cy5pY29uLCB0aGlzLm9wdHMuaWNvbkNvbG9yKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMub3B0cy5pY29uQWN0aXZlKSB7XG4gICAgICAgICAgICB0aGlzLmljb25BY3RpdmUgPSB0aGlzLmxvYWRJY29uKHRoaXMub3B0cy5pY29uQWN0aXZlLCB0aGlzLm9wdHMuaWNvbkNvbG9yQWN0aXZlKVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBpbnRlcmFjdGlvblxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIHRoaXMuYnV0dG9uLm9uKCdwb2ludGVyb3ZlcicsIGUgPT4ge1xuICAgICAgICAgICAgVHdlZW5NYXgudG8oW3RoaXMuYnV0dG9uLCB0aGlzLmNvbnRlbnRdLCB0aGlzLnRoZW1lLmZhc3QsIHthbHBoYTogLjgzLCBvdmVyd3JpdGU6ICdub25lJ30pXG4gICAgICAgIH0pXG5cbiAgICAgICAgdGhpcy5idXR0b24ub24oJ3BvaW50ZXJvdXQnLCBlID0+IHtcbiAgICAgICAgICAgIFR3ZWVuTWF4LnRvKFt0aGlzLmJ1dHRvbiwgdGhpcy5jb250ZW50XSwgdGhpcy50aGVtZS5mYXN0LCB7YWxwaGE6IDEsIG92ZXJ3cml0ZTogJ25vbmUnfSlcbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLmJ1dHRvbi5vbigncG9pbnRlcmRvd24nLCBlID0+IHtcbiAgICAgICAgICAgIFR3ZWVuTWF4LnRvKFt0aGlzLmJ1dHRvbiwgdGhpcy5jb250ZW50XSwgdGhpcy50aGVtZS5mYXN0LCB7YWxwaGE6IC43LCBvdmVyd3JpdGU6ICdub25lJ30pXG4gICAgICAgIH0pXG5cbiAgICAgICAgdGhpcy5idXR0b24ub24oJ3BvaW50ZXJ1cCcsIGUgPT4ge1xuXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRzLmJlZm9yZUFjdGlvbikge1xuICAgICAgICAgICAgICAgIHRoaXMub3B0cy5iZWZvcmVBY3Rpb24uY2FsbCh0aGlzLCBlLCB0aGlzKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRzLmFjdGlvbikge1xuICAgICAgICAgICAgICAgIHRoaXMub3B0cy5hY3Rpb24uY2FsbCh0aGlzLCBlLCB0aGlzKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBUd2Vlbk1heC50byhbdGhpcy5idXR0b24sIHRoaXMuY29udGVudF0sIHRoaXMudGhlbWUuZmFzdCwge2FscGhhOiAuODMsIG92ZXJ3cml0ZTogJ25vbmUnfSlcblxuICAgICAgICAgICAgaWYgKHRoaXMub3B0cy50eXBlID09PSAnY2hlY2tib3gnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmUgPSAhdGhpcy5hY3RpdmVcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5hZnRlckFjdGlvbikge1xuICAgICAgICAgICAgICAgIHRoaXMub3B0cy5hZnRlckFjdGlvbi5jYWxsKHRoaXMsIGUsIHRoaXMpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8gZGlzYWJsZWRcbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICB0aGlzLmRpc2FibGVkID0gdGhpcy5vcHRzLmRpc2FibGVkXG5cbiAgICAgICAgLy8gYWN0aXZlXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgdGhpcy5hY3RpdmUgPSB0aGlzLm9wdHMuYWN0aXZlICAgICAgLy8gY2FsbHMgLmxheW91dCgpXG5cbiAgICAgICAgLy8gdG9vbHRpcFxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIGlmICh0aGlzLm9wdHMudG9vbHRpcCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdHMudG9vbHRpcCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRvb2x0aXAgPSBuZXcgVG9vbHRpcCh7b2JqZWN0OiB0aGlzLCBjb250ZW50OiB0aGlzLm9wdHMudG9vbHRpcH0pXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMub3B0cy50b29sdGlwID0gT2JqZWN0LmFzc2lnbih7fSwge29iamVjdDogdGhpc30sIHRoaXMub3B0cy50b29sdGlwKVxuICAgICAgICAgICAgICAgIHRoaXMudG9vbHRpcCA9IG5ldyBUb29sdGlwKHRoaXMub3B0cy50b29sdGlwKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gYmFkZ2VcbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICBpZiAodGhpcy5vcHRzLmJhZGdlKSB7XG4gICAgICAgICAgICBsZXQgb3B0cyA9IE9iamVjdC5hc3NpZ24oe30sIHtcbiAgICAgICAgICAgICAgICBhbGlnbjogJ3JpZ2h0JyxcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbEFsaWduOiAndG9wJyxcbiAgICAgICAgICAgICAgICBvZmZzZXRMZWZ0OiAwLFxuICAgICAgICAgICAgICAgIG9mZnNldFRvcDogMFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRzLmJhZGdlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIG9wdHMgPSBPYmplY3QuYXNzaWduKG9wdHMsIHtjb250ZW50OiB0aGlzLm9wdHMuYmFkZ2V9KVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvcHRzID0gT2JqZWN0LmFzc2lnbihvcHRzLCB0aGlzLm9wdHMuYmFkZ2UpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGJhZGdlID0gbmV3IEJhZGdlKG9wdHMpXG5cbiAgICAgICAgICAgIHN3aXRjaCAob3B0cy5hbGlnbikge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgICAgICAgICAgICAgICBiYWRnZS54ID0gdGhpcy54IC0gYmFkZ2Uud2lkdGggLyAyICsgb3B0cy5vZmZzZXRMZWZ0XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSAnY2VudGVyJzpcbiAgICAgICAgICAgICAgICAgICAgYmFkZ2UueCA9IHRoaXMueCArIHRoaXMud2lkdGggLyAyIC0gYmFkZ2Uud2lkdGggLyAyICsgb3B0cy5vZmZzZXRMZWZ0XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSAncmlnaHQnOlxuICAgICAgICAgICAgICAgICAgICBiYWRnZS54ID0gdGhpcy54ICsgdGhpcy53aWR0aCAtIGJhZGdlLndpZHRoIC8gMiArIG9wdHMub2Zmc2V0TGVmdFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzd2l0Y2ggKG9wdHMudmVydGljYWxBbGlnbikge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3RvcCc6XG4gICAgICAgICAgICAgICAgICAgIGJhZGdlLnkgPSB0aGlzLnkgLSBiYWRnZS5oZWlnaHQgLyAyICsgb3B0cy5vZmZzZXRUb3BcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlICdtaWRkbGUnOlxuICAgICAgICAgICAgICAgICAgICBiYWRnZS55ID0gdGhpcy55ICsgdGhpcy5oZWlnaHQgLyAyIC0gYmFkZ2UuaGVpZ2h0IC8gMiArIG9wdHMub2Zmc2V0VG9wXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSAnYm90dG9tJzpcbiAgICAgICAgICAgICAgICAgICAgYmFkZ2UueSA9IHRoaXMueSArIHRoaXMuaGVpZ2h0IC0gYmFkZ2UuaGVpZ2h0IC8gMiArIG9wdHMub2Zmc2V0VG9wXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQoYmFkZ2UpXG5cbiAgICAgICAgICAgIHRoaXMuYmFkZ2UgPSBiYWRnZVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBzZXQgcG9zaXRpb25cbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICB0aGlzLnBvc2l0aW9uLnNldCh0aGlzLm9wdHMueCwgdGhpcy5vcHRzLnkpXG5cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTaG91bGQgYmUgY2FsbGVkIHRvIHJlZnJlc2ggdGhlIGxheW91dCBvZiB0aGUgYnV0dG9uLiBDYW4gYmUgdXNlZCBhZnRlciByZXNpemluZy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0J1dHRvbn0gQSByZWZlcmVuY2UgdG8gdGhlIGJ1dHRvbiBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgbGF5b3V0KCkge1xuXG4gICAgICAgIC8vIENsZWFyIGNvbnRlbnRcbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICB0aGlzLnJlbW92ZUNoaWxkKHRoaXMuY29udGVudClcbiAgICAgICAgdGhpcy5jb250ZW50ID0gbmV3IFBJWEkuQ29udGFpbmVyKClcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLmNvbnRlbnQpXG5cbiAgICAgICAgLy8gU2V0IHRoZSBpY29uXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgbGV0IGljb24gPSBudWxsXG4gICAgICAgIFxuICAgICAgICBpZiAoIXRoaXMuYWN0aXZlICYmIHRoaXMuaWNvbkluYWN0aXZlKSB7XG4gICAgICAgICAgICBpY29uID0gdGhpcy5pY29uSW5hY3RpdmVcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmFjdGl2ZSAmJiB0aGlzLmljb25BY3RpdmUpIHtcbiAgICAgICAgICAgIGljb24gPSB0aGlzLmljb25BY3RpdmVcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNldCB0aGUgdGV4dFxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIGlmICh0aGlzLnRleHQpIHtcbiAgICAgICAgICAgIHRoaXMudGV4dC5wb3NpdGlvbi5zZXQoMCwgMClcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gV2lkdGggYW5kIEhlaWdodFxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIGxldCB3aWR0aCA9IDBcbiAgICAgICAgaWYgKGljb24gJiYgdGhpcy50ZXh0KSB7XG4gICAgICAgICAgICB3aWR0aCA9IGljb24ud2lkdGggKyB0aGlzLnRleHQud2lkdGggKyAzICogdGhpcy5vcHRzLnBhZGRpbmdcbiAgICAgICAgfSBlbHNlIGlmIChpY29uKSB7XG4gICAgICAgICAgICB3aWR0aCA9IGljb24ud2lkdGggKyAyICogdGhpcy5vcHRzLnBhZGRpbmdcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnRleHQpIHtcbiAgICAgICAgICAgIHdpZHRoID0gdGhpcy50ZXh0LndpZHRoICsgMiAqIHRoaXMub3B0cy5wYWRkaW5nXG4gICAgICAgIH1cblxuICAgICAgICBpZiAod2lkdGggPCB0aGlzLm9wdHMubWluV2lkdGgpIHtcbiAgICAgICAgICAgIHdpZHRoID0gdGhpcy5vcHRzLm1pbldpZHRoXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgaGVpZ2h0ID0gMFxuICAgICAgICBpZiAoaWNvbikge1xuICAgICAgICAgICAgaGVpZ2h0ID0gaWNvbi5oZWlnaHQgKyAyICogdGhpcy5vcHRzLnBhZGRpbmdcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnRleHQpIHtcbiAgICAgICAgICAgIGhlaWdodCA9IHRoaXMudGV4dC5oZWlnaHQgKyAyICogdGhpcy5vcHRzLnBhZGRpbmdcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoZWlnaHQgPCB0aGlzLm9wdHMubWluSGVpZ2h0KSB7XG4gICAgICAgICAgICBoZWlnaHQgPSB0aGlzLm9wdHMubWluSGVpZ2h0XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHRoaXMuX3dpZHRoID0gd2lkdGhcbiAgICAgICAgdGhpcy5faGVpZ2h0ID0gaGVpZ2h0XG5cbiAgICAgICAgLy8gUG9zaXRpb24gaWNvbiBhbmQgdGV4dFxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIGlmIChpY29uICYmIHRoaXMudGV4dCkge1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5pY29uUG9zaXRpb24gPT09ICdyaWdodCcpIHtcbiAgICAgICAgICAgICAgICBpY29uLnggPSB0aGlzLnRleHQud2lkdGggKyB0aGlzLm9wdHMucGFkZGluZ1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRleHQueCA9IGljb24ud2lkdGggKyB0aGlzLm9wdHMucGFkZGluZ1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jb250ZW50LmFkZENoaWxkKGljb24sIHRoaXMudGV4dClcbiAgICAgICAgfSBlbHNlIGlmIChpY29uKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRlbnQuYWRkQ2hpbGQoaWNvbilcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnRleHQpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGVudC5hZGRDaGlsZCh0aGlzLnRleHQpXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmxheW91dElubmVyQ29udGVudCgpXG4gICAgICAgIHRoaXMubGF5b3V0Q29udGVudCgpXG5cbiAgICAgICAgdGhpcy5pY29uID0gaWNvblxuXG4gICAgICAgIC8vIGRyYXdcbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICB0aGlzLmRyYXcoKVxuXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgcG9zaXRpb25zIG9mIHRoZSBjb250ZW50IGNoaWxkcmVuIChpY29uIGFuZC9vciB0ZXh0KS5cbiAgICAgKiBcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge0J1dHRvbn0gQSByZWZlcmVuY2UgdG8gdGhlIGJ1dHRvbiBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgbGF5b3V0SW5uZXJDb250ZW50KCkge1xuXG4gICAgICAgIGZvciAobGV0IGNoaWxkIG9mIHRoaXMuY29udGVudC5jaGlsZHJlbikge1xuICAgICAgICAgICAgc3dpdGNoICh0aGlzLm9wdHMudmVydGljYWxBbGlnbikge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3RvcCc6XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLnkgPSAwXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSAnbWlkZGxlJzpcbiAgICAgICAgICAgICAgICAgICAgY2hpbGQueSA9IHRoaXMuY29udGVudC5oZWlnaHQgLyAyIC0gY2hpbGQuaGVpZ2h0IC8gMlxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLnkgPSB0aGlzLmNvbnRlbnQuaGVpZ2h0IC0gY2hpbGQuaGVpZ2h0XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGhvcml6b250YWwgYW5kIHZlcnRpY2FsIHBvc2l0aW9uIG9mIHRoZSBjb250ZW50LlxuICAgICAqIFVzZXMgdGhlIG9wdGlvbiBrZXlzIFwiYWxpZ25cIiBhbmQgXCJ2ZXJ0aWNhbEFsaWduXCIuXG4gICAgICogXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtCdXR0b259IEEgcmVmZXJlbmNlIHRvIHRoZSBidXR0b24gZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIGxheW91dENvbnRlbnQoKSB7XG5cbiAgICAgICAgc3dpdGNoICh0aGlzLm9wdHMuYWxpZ24pIHtcbiAgICAgICAgICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgICAgICAgICAgIHRoaXMuY29udGVudC54ID0gdGhpcy5vcHRzLnBhZGRpbmdcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgY2FzZSAnY2VudGVyJzpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRlbnQueCA9ICgodGhpcy5fd2lkdGggLSB0aGlzLmNvbnRlbnQud2lkdGgpIC8gMilcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgY2FzZSAncmlnaHQnOlxuICAgICAgICAgICAgICAgIHRoaXMuY29udGVudC54ID0gdGhpcy5fd2lkdGggLSB0aGlzLm9wdHMucGFkZGluZyAtIHRoaXMuY29udGVudC53aWR0aFxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cblxuICAgICAgICBzd2l0Y2ggKHRoaXMub3B0cy52ZXJ0aWNhbEFsaWduKSB7XG4gICAgICAgICAgICBjYXNlICd0b3AnOlxuICAgICAgICAgICAgICAgIHRoaXMuY29udGVudC55ID0gdGhpcy5vcHRzLnBhZGRpbmdcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgY2FzZSAnbWlkZGxlJzpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRlbnQueSA9ICh0aGlzLl9oZWlnaHQgLSB0aGlzLmNvbnRlbnQuaGVpZ2h0KSAvIDJcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgY2FzZSAnYm90dG9tJzpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRlbnQueSA9IHRoaXMuX2hlaWdodCAtIHRoaXMub3B0cy5wYWRkaW5nIC0gdGhpcy5jb250ZW50LmhlaWdodFxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERyYXdzIHRoZSBjYW52YXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge0J1dHRvbn0gQSByZWZlcmVuY2UgdG8gdGhlIGJ1dHRvbiBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgZHJhdygpIHtcblxuICAgICAgICB0aGlzLmJ1dHRvbi5jbGVhcigpXG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZSkge1xuICAgICAgICAgICAgdGhpcy5idXR0b24ubGluZVN0eWxlKHRoaXMub3B0cy5zdHJva2VBY3RpdmVXaWR0aCwgdGhpcy5vcHRzLnN0cm9rZUFjdGl2ZSwgdGhpcy5vcHRzLnN0cm9rZUFjdGl2ZUFscGhhKVxuICAgICAgICAgICAgdGhpcy5idXR0b24uYmVnaW5GaWxsKHRoaXMub3B0cy5maWxsQWN0aXZlLCB0aGlzLm9wdHMuZmlsbEFjdGl2ZUFscGhhKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5idXR0b24ubGluZVN0eWxlKHRoaXMub3B0cy5zdHJva2VXaWR0aCwgdGhpcy5vcHRzLnN0cm9rZSwgdGhpcy5vcHRzLnN0cm9rZUFscGhhKVxuICAgICAgICAgICAgdGhpcy5idXR0b24uYmVnaW5GaWxsKHRoaXMub3B0cy5maWxsLCB0aGlzLm9wdHMuZmlsbEFscGhhKVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuYnV0dG9uLmRyYXdSb3VuZGVkUmVjdCgwLCAwLCB0aGlzLl93aWR0aCwgdGhpcy5faGVpZ2h0LCB0aGlzLm9wdHMucmFkaXVzKVxuICAgICAgICB0aGlzLmJ1dHRvbi5lbmRGaWxsKClcblxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgb3Igc2V0cyB0aGUgYWN0aXZlIHN0YXRlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBnZXQgYWN0aXZlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWN0aXZlXG4gICAgfVxuICAgIHNldCBhY3RpdmUodmFsdWUpIHtcblxuICAgICAgICB0aGlzLl9hY3RpdmUgPSB2YWx1ZVxuXG4gICAgICAgIGlmICh0aGlzLl9hY3RpdmUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRleHQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRleHQuc3R5bGUgPSB0aGlzLm9wdHMudGV4dFN0eWxlQWN0aXZlXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy50ZXh0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0LnN0eWxlID0gdGhpcy5vcHRzLnRleHRTdHlsZVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5sYXlvdXQoKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgb3Igc2V0cyB0aGUgZGlzYWJsZWQgc3RhdGUuIFdoZW4gZGlzYWJsZWQsIHRoZSBidXR0b24gY2Fubm90IGJlIGNsaWNrZWQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIGdldCBkaXNhYmxlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Rpc2FibGVkXG4gICAgfVxuICAgIHNldCBkaXNhYmxlZCh2YWx1ZSkge1xuXG4gICAgICAgIHRoaXMuX2Rpc2FibGVkID0gdmFsdWVcblxuICAgICAgICBpZiAodGhpcy5fZGlzYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuYnV0dG9uLmludGVyYWN0aXZlID0gZmFsc2VcbiAgICAgICAgICAgIHRoaXMuYnV0dG9uLmJ1dHRvbk1vZGUgPSBmYWxzZVxuICAgICAgICAgICAgdGhpcy5idXR0b24uYWxwaGEgPSAuNVxuICAgICAgICAgICAgaWYgKHRoaXMuaWNvbikge1xuICAgICAgICAgICAgICAgIHRoaXMuaWNvbi5hbHBoYSA9IC41XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy50ZXh0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0LmFscGhhID0gLjVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYnV0dG9uLmludGVyYWN0aXZlID0gdHJ1ZVxuICAgICAgICAgICAgdGhpcy5idXR0b24uYnV0dG9uTW9kZSA9IHRydWVcbiAgICAgICAgICAgIHRoaXMuYnV0dG9uLmFscGhhID0gMVxuICAgICAgICAgICAgaWYgKHRoaXMuaWNvbikge1xuICAgICAgICAgICAgICAgIHRoaXMuaWNvbi5hbHBoYSA9IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnRleHQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRleHQuYWxwaGEgPSAxXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTaG93cyB0aGUgYnV0dG9uIChzZXRzIGhpcyBhbHBoYSB2YWx1ZXMgdG8gMSkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtCdXR0b259IEEgcmVmZXJlbmNlIHRvIHRoZSBidXR0b24gZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHNob3coKSB7XG5cbiAgICAgICAgdGhpcy5vcHRzLnN0cm9rZUFscGhhID0gMVxuICAgICAgICB0aGlzLm9wdHMuc3Ryb2tlQWN0aXZlQWxwaGEgPSAxXG4gICAgICAgIHRoaXMub3B0cy5maWxsQWxwaGEgPSAxXG4gICAgICAgIHRoaXMub3B0cy5maWxsQWN0aXZlQWxwaGEgPSAxXG5cbiAgICAgICAgdGhpcy5sYXlvdXQoKVxuXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGlkZXMgdGhlIGJ1dHRvbiAoc2V0cyBoaXMgYWxwaGEgdmFsdWVzIHRvIDApLlxuICAgICAqXG4gICAgICogQHJldHVybiB7QnV0dG9ufSBBIHJlZmVyZW5jZSB0byB0aGUgYnV0dG9uIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBoaWRlKCkge1xuXG4gICAgICAgIHRoaXMub3B0cy5zdHJva2VBbHBoYSA9IDBcbiAgICAgICAgdGhpcy5vcHRzLnN0cm9rZUFjdGl2ZUFscGhhID0gMFxuICAgICAgICB0aGlzLm9wdHMuZmlsbEFscGhhID0gMFxuICAgICAgICB0aGlzLm9wdHMuZmlsbEFjdGl2ZUFscGhhID0gMFxuXG4gICAgICAgIHRoaXMubGF5b3V0KClcblxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBMb2FkcyBhbiBpY29uXG4gICAgICogXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xQSVhJLkRpc3BsYXlPYmplY3R9IGljb24gLSBUaGUgaWNvbiB0byBsb2FkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjb2xvciAtIFRoZSBjb2xvciBvZiB0aGUgaWNvbiAoaWYgbm90IGFuIFBJWEkuRGlzcGxheU9iamVjdCkuXG4gICAgICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBSZXR1cm4gdGhlIGljb24gYXMgYW4gUElYSS5EaXNwbGF5T2JqZWN0LlxuICAgICAqL1xuICAgIGxvYWRJY29uKGljb24sIGNvbG9yKSB7XG5cbiAgICAgICAgbGV0IGRpc3BsYXlPYmplY3QgPSBudWxsXG5cbiAgICAgICAgaWYgKGljb24gaW5zdGFuY2VvZiBQSVhJLkRpc3BsYXlPYmplY3QpIHtcbiAgICAgICAgICAgIGRpc3BsYXlPYmplY3QgPSBpY29uXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgc2l6ZSA9IDE3XG4gICAgICAgICAgICBpZiAodGhpcy50ZXh0KSB7XG4gICAgICAgICAgICAgICAgc2l6ZSA9IHRoaXMudGV4dC5oZWlnaHRcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5vcHRzLm1pbkhlaWdodCkge1xuICAgICAgICAgICAgICAgIHNpemUgPSB0aGlzLm9wdHMubWluSGVpZ2h0IC0gKDIgKiB0aGlzLm9wdHMucGFkZGluZylcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgdXJsID0gQnV0dG9uLmljb25Jc1VybChpY29uKSA/IGljb24gOiBgLi4vLi4vYXNzZXRzL2ljb25zL3BuZy9mbGF0LyR7aWNvbn0ucG5nYFxuICAgICAgICAgICAgY29uc3QgaWNvblRleHR1cmUgPSBQSVhJLlRleHR1cmUuZnJvbUltYWdlKHVybCwgdHJ1ZSlcblxuICAgICAgICAgICAgY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKGljb25UZXh0dXJlKVxuICAgICAgICAgICAgc3ByaXRlLnRpbnQgPSBjb2xvclxuICAgICAgICAgICAgc3ByaXRlLndpZHRoID0gc2l6ZVxuICAgICAgICAgICAgc3ByaXRlLmhlaWdodCA9IHNpemVcblxuICAgICAgICAgICAgZGlzcGxheU9iamVjdCA9IHNwcml0ZVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRpc3BsYXlPYmplY3RcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogVGVzdHMgaWYgYW4gaWNvbiBzdHJpbmcgaXMgYW4gdXJsLlxuICAgICAqIFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgdXJsIHRvIHRlc3QuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGUgdXJsIGlzIGFuIHVybCB0byBhbiBpbWFnZS5cbiAgICAgKi9cbiAgICBzdGF0aWMgaWNvbklzVXJsKHVybCkge1xuICAgICAgICByZXR1cm4gL1xcLihwbmd8c3ZnfGdpZnxqcGd8anBlZ3x0aWZ8dGlmZikkL2kudGVzdCh1cmwpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBvciBzZXRzIHRoZSBjb2xvciBvZiB0aGUgY3VycmVudCBpY29uIChubyBtYXR0ZXIgaG93IHRoZSBzdGF0dXMgaXMpLiBDaGFuZ2luZyB0aGUgY29sb3IsIGNoYW5nZXNcbiAgICAgKiB0aGUgdGludCBwcm9wZXJ0eSBvZiB0aGUgaWNvbiBzcHJpdGUuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IGljb25Db2xvcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaWNvbiA/IHRoaXMuaWNvbi50aW50IDogbnVsbFxuICAgIH1cbiAgICBzZXQgaWNvbkNvbG9yKHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLmljb24pIHtcbiAgICAgICAgICAgIHRoaXMuaWNvbi50aW50ID0gdmFsdWVcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCBUaGVtZSBmcm9tICcuL3RoZW1lLmpzJ1xuaW1wb3J0IEJ1dHRvbiBmcm9tICcuL2J1dHRvbi5qcydcblxuLyoqXG4gKiBDbGFzcyB0aGF0IHJlcHJlc2VudHMgYSBQaXhpSlMgQnV0dG9uR3JvdXAuXG4gKiBcbiAqIEBleGFtcGxlXG4gKiAvLyBDcmVhdGUgdGhlIGJ1dHRvbiBncm91cFxuICogY29uc3QgYnV0dG9uR3JvdXAgPSBuZXcgQnV0dG9uR3JvdXAoe1xuICogICAgIGJ1dHRvbnM6IFtcbiAqICAgICAgICAge2xhYmVsOiAnQnV0dG9uIDEnLCBhY3Rpb246IGV2ZW50ID0+IGNvbnNvbGUubG9nKGV2ZW50KX0sXG4gKiAgICAgICAgIHtsYWJlbDogJ0J1dHRvbiAyJywgYWN0aW9uOiBldmVudCA9PiBjb25zb2xlLmxvZyhldmVudCl9LFxuICogICAgICAgICB7bGFiZWw6ICdCdXR0b24gMycsIGFjdGlvbjogZXZlbnQgPT4gY29uc29sZS5sb2coZXZlbnQpfVxuICogICAgIF0sXG4gKiAgICAgbWluV2lkdGg6IDEwMFxuICogfSlcbiAqXG4gKiAvLyBBZGQgdGhlIGJ1dHRvbiBncm91cCB0byBhIERpc3BsYXlPYmplY3RcbiAqIGFwcC5zY2VuZS5hZGRDaGlsZChidXR0b25Hcm91cClcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuR3JhcGhpY3NcbiAqIEBzZWUge0BsaW5rIGh0dHA6Ly9waXhpanMuZG93bmxvYWQvZGV2L2RvY3MvUElYSS5HcmFwaGljcy5odG1sfFBJWEkuR3JhcGhpY3N9XG4gKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5pd20tdHVlYmluZ2VuLmRlL2l3bWJyb3dzZXIvbGliL3BpeGkvYnV0dG9uZ3JvdXAuaHRtbHxEb2NUZXN0fVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCdXR0b25Hcm91cCBleHRlbmRzIFBJWEkuR3JhcGhpY3Mge1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBhIEJ1dHRvbkdyb3VwLlxuICAgICAqIFxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0c10gLSBBbiBvcHRpb25zIG9iamVjdCB0byBzcGVjaWZ5IHRvIHN0eWxlIGFuZCBiZWhhdmlvdXIgb2YgdGhlIGJ1dHRvbiBncm91cC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuaWQ9YXV0byBnZW5lcmF0ZWRdIC0gVGhlIGlkIG9mIHRoZSBidXR0b24gZ3JvdXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLng9MF0gLSBUaGUgeCBwb3NpdGlvbiBvZiB0aGUgYnV0dG9uIGdyb3VwLiBDYW4gYmUgYWxzbyBzZXQgYWZ0ZXIgY3JlYXRpb24gd2l0aCBidXR0b25Hcm91cC54ID0gMC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMueT0wXSAtIFRoZSB5IHBvc2l0aW9uIG9mIHRoZSBidXR0b24gZ3JvdXAuIENhbiBiZSBhbHNvIHNldCBhZnRlciBjcmVhdGlvbiB3aXRoIGJ1dHRvbkdyb3VwLnkgPSAwLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0W119IFtvcHRzLmJ1dHRvbnM9W11dIC0gQW4gYXJyYXkgb2YgdGhlIGJ1dHRvbnMgb2YgdGhlIGJ1dHRvbiBncm91cC4gT25lIGl0ZW0gb2YgdGhlIGFycmF5IChvbmUgb2JqZWN0KVxuICAgICAqICAgICBjYW4gaGF2ZSBleGFjdGx5IHRoZSBzYW1lIHByb3BlcnRpZXMgYXMgYW4gQnV0dG9uIG9iamVjdCB3aGVuIGluc3RhbnRpYXRpbmcgYSBCdXR0b24uIElmIGEgcHJvcGVydHkgb2YgdGhlIGJ1dHRvbiBncm91cFxuICAgICAqICAgICBjb25mbGljdHMgd2l0aCBhIHByb3BlcnR5IG9mIGEgYnV0dG9uIG9iamVjdCwgdGhlIHZhbHVlIGZyb20gdGhlIGJ1dHRvbiBvYmplY3Qgd2lsbCBiZSB1c2VkLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfFRoZW1lPX0gW29wdHMudGhlbWU9ZGFya10gLSBUaGUgdGhlbWUgdG8gdXNlIGZvciB0aGlzIGJ1dHRvbiBncm91cC4gUG9zc2libGUgdmFsdWVzIGFyZSBkYXJrLCBsaWdodCwgcmVkXG4gICAgICogICAgIG9yIGEgVGhlbWUgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5taW5XaWR0aD00NF0gLSBCdXR0b246IFRoZSBtaW5pbXVtIHdpZHRoIG9mIG9uZSBidXR0b24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLm1pbkhlaWdodD00NF0gLSBCdXR0b246IFRoZSBtaW5pbXVtIGhlaWdodCBvZiBvbmUgYnV0dG9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5wYWRkaW5nPVRoZW1lLnBhZGRpbmddIC0gQnV0dG9uOiBUaGUgaW5uZXIgc3BhY2luZyAoZGlzdGFuY2UgZnJvbSBpY29uIGFuZC9vciBsYWJlbCkgdGhlIHRoZSBib3JkZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLm1hcmdpbj1UaGVtZS5tYXJnaW5dIC0gVGhlIG91dGVyIHNwYWNpbmcgKGRpc3RhbmNlIGZyb20gb25lIGJ1dHRvbiB0byB0aGUgcHJldmlvdXMvbmV4dCBidXR0b24pLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5pY29uUG9zaXRpb249bGVmdF0gLSBCdXR0b246IFRoZSBwb3NpdGlvbiBvZiB0aGUgaWNvbiBpbiByZWxhdGlvbiB0byB0aGUgbGFiZWwuIENhbiBiZSBsZWZ0IG9yIHJpZ2h0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5pY29uQ29sb3I9VGhlbWUuaWNvbkNvbG9yXSAtIEJ1dHRvbjogVGhlIGNvbG9yIG9mIHRoZSBpY29uIChzZXQgYnkgdGhlIHRpbnQgcHJvcGVydHkpIGFzIGEgaGV4IHZhbHVlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5pY29uQ29sb3JBY3RpdmU9VGhlbWUuaWNvbkNvbG9yQWN0aXZlXSAtIEJ1dHRvbjogVGhlIGNvbG9yIG9mIHRoZSBpY29uIHdoZW4gYWN0aXZhdGVkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5maWxsPVRoZW1lLmZpbGxdIC0gQnV0dG9uOiBUaGUgY29sb3Igb2YgdGhlIGJ1dHRvbiBiYWNrZ3JvdW5kIGFzIGEgaGV4IHZhbHVlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5maWxsQWxwaGE9VGhlbWUuZmlsbEFscGhhXSAtIEJ1dHRvbjogVGhlIGFscGhhIHZhbHVlIG9mIHRoZSBiYWNrZ3JvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5maWxsQWN0aXZlPVRoZW1lLmZpbGxBY3RpdmVdIC0gQnV0dG9uOiBUaGUgY29sb3Igb2YgdGhlIGJ1dHRvbiBiYWNrZ3JvdW5kIHdoZW4gYWN0aXZhdGVkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5maWxsQWN0aXZlQWxwaGE9VGhlbWUuZmlsbEFjdGl2ZUFscGhhXSAtIEJ1dHRvbjogVGhlIGFscGhhIHZhbHVlIG9mIHRoZSBiYWNrZ3JvdW5kIHdoZW4gYWN0aXZhdGVkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5zdHJva2U9VGhlbWUuc3Ryb2tlXSAtIEJ1dHRvbjogVGhlIGNvbG9yIG9mIHRoZSBib3JkZXIgYXMgYSBoZXggdmFsdWUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLnN0cm9rZVdpZHRoPVRoZW1lLnN0cm9rZVdpZHRoXSAtIEJ1dHRvbjogVGhlIHdpZHRoIG9mIHRoZSBib3JkZXIgaW4gcGl4ZWwuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLnN0cm9rZUFscGhhPVRoZW1lLnN0cm9rZUFscGhhXSAtIEJ1dHRvbjogVGhlIGFscGhhIHZhbHVlIG9mIHRoZSBib3JkZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLnN0cm9rZUFjdGl2ZT1UaGVtZS5zdHJva2VBY3RpdmVdIC0gQnV0dG9uOiBUaGUgY29sb3Igb2YgdGhlIGJvcmRlciB3aGVuIGFjdGl2YXRlZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuc3Ryb2tlQWN0aXZlV2lkdGg9VGhlbWUuc3Ryb2tlQWN0aXZlV2lkdGhdIC0gQnV0dG9uOiBUaGUgd2lkdGggb2YgdGhlIGJvcmRlciBpbiBwaXhlbCB3aGVuIGFjdGl2YXRlZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuc3Ryb2tlQWN0aXZlQWxwaGE9VGhlbWUuc3Ryb2tlQWN0aXZlQWxwaGFdIC0gQnV0dG9uOiBUaGUgYWxwaGEgdmFsdWUgb2YgdGhlIGJvcmRlciB3aGVuIGFjdGl2YXRlZC5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdHMudGV4dFN0eWxlPVRoZW1lLnRleHRTdHlsZV0gLSBCdXR0b246IEEgdGV4dHN0eWxlIG9iamVjdCBmb3IgdGhlIHN0eWxpbmcgb2YgdGhlIGxhYmVsLiBTZWUgUElYSS5UZXh0U3R5bGVcbiAgICAgKiAgICAgZm9yIHBvc3NpYmxlIG9wdGlvbnMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLnRleHRTdHlsZUFjdGl2ZT1UaGVtZS50ZXh0U3R5bGVBY3RpdmVdIC0gQnV0dG9uOiBBIHRleHRzdHlsZSBvYmplY3QgZm9yIHRoZSBzdHlsaW5nIG9mIHRoZSBsYWJlbCB3aGVuIHRoZVxuICAgICAqICAgICBidXR0b24gaXMgYWN0aXZhdGVkLiBTZWUgUElYSS5UZXh0U3R5bGUgZm9yIHBvc3NpYmxlIG9wdGlvbnMuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLnN0eWxlPWRlZmF1bHRdIC0gQSBzaG9ydGN1dCBmb3Igc3R5bGluZyBvcHRpb25zLiBQb3NzaWJsZSB2YWx1ZXMgYXJlIGRlZmF1bHQsIGxpbmsuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLnJhZGl1cz1UaGVtZS5yYWRpdXNdIC0gQnV0dG9uOiBUaGUgcmFkaXVzIG9mIHRoZSBmb3VyIGNvcm5lcnMgb2YgdGhlIGJ1dHRvbiAod2hpY2ggaXMgYSByb3VuZGVkIHJlY3RhbmdsZSkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5kaXNhYmxlZD1mYWxzZV0gLSBJcyB0aGUgYnV0dG9uIGdyb3VwIGRpc2FibGVkPyBXaGVuIGRpc2FibGVkLCB0aGUgYnV0dG9uIGdyb3VwIGhhcyBhIGxvd2VyIGFscGhhIHZhbHVlXG4gICAgICogICAgIGFuZCBjYW5ub3QgYmUgY2xpY2tlZCAoaW50ZXJhY3RpdmUgb2YgZXZlcnkgYnV0dG9uIGlzIHNldCB0byBmYWxzZSkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLnR5cGU9ZGVmYXVsdF0gLSBUaGUgdHlwZSBvZiB0aGUgYnV0dG9uIGdyb3VwLiBDYW4gYmUgZGVmYXVsdCwgY2hlY2tib3ggb3IgcmFkaW8uIFdoZW4gdGhlIHR5cGUgaXNcbiAgICAgKiAgICAgY2hlY2tib3gsIHRoZSBhY3RpdmUgc3RhdGUgaXMgdG9nZ2xlZCBmb3IgZWFjaCBidXR0b24gYXV0b21hdGljYWxseS4gV2hlbiB0aGUgdHlwZSBpcyByYWRpbywgb25seSBvbmUgYnV0dG9uIGNhblxuICAgICAqICAgICBiZSBhY3RpdmF0ZWQgYXQgdGhlIHNhbWUgdGltZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdHMub3JpZW50YXRpb249aG9yaXpvbnRhbF0gLSBUaGUgb3JpZW50YXRpb24gb2YgdGhlIGJ1dHRvbiBncm91cC4gQ2FuIGJlIGhvcml6b250YWwgb3IgdmVydGljYWwuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLmFsaWduPWNlbnRlcl0gLSBCdXR0b246IFRoZSBob3Jpem9udGFsIHBvc2l0aW9uIG9mIHRoZSBsYWJlbCBhbmQgdGhlIGljb24uIFBvc3NpYmxlIHZhbHVlcyBhcmVcbiAgICAgKiAgICAgbGVmdCwgY2VudGVyIGFuZCByaWdodC4gT25seSBhZmZlY3RzIHRoZSBzdHlsZSB3aGVuIHRoZSBtaW5XaWR0aCBpcyBiaWdnZXIgdGhhbiB0aGUgd2lkdGggb2YgdGhlIGljb24gYW5kIGxhYmVsLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy52ZXJ0aWNhbEFsaWduPW1pZGRsZV0gLSBCdXR0b246IFRoZSB2ZXJ0aWNhbCBwb3NpdGlvbiBvZiB0aGUgbGFiZWwgYW5kIHRoZSBpY29uLiBQb3NzaWJsZSB2YWx1ZXMgYXJlXG4gICAgICogICAgIHRvcCwgbWlkZGxlIGFuZCBidXR0b24uIE9ubHkgYWZmZWN0cyB0aGUgc3R5bGUgd2hlbiB0aGUgbWluSGVpZ2h0IGlzIGJpZ2dlciB0aGFuIHRoZSBoZWlnaHQgb2YgdGhlIGljb24gYW5kIGxhYmVsLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdHMudmlzaWJsZT10cnVlXSAtIElzIHRoZSBidXR0b24gZ3JvdXAgaW5pdGlhbGx5IHZpc2libGUgKHByb3BlcnR5IHZpc2libGUpP1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdHMgPSB7fSkge1xuXG4gICAgICAgIHN1cGVyKClcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHRoZW1lID0gVGhlbWUuZnJvbVN0cmluZyhvcHRzLnRoZW1lKVxuICAgICAgICB0aGlzLnRoZW1lID0gdGhlbWVcblxuICAgICAgICB0aGlzLm9wdHMgPSBPYmplY3QuYXNzaWduKHt9LCB7XG4gICAgICAgICAgICBpZDogUElYSS51dGlscy51aWQoKSxcbiAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICB5OiAwLFxuICAgICAgICAgICAgYnV0dG9uczogW10sXG4gICAgICAgICAgICBtaW5XaWR0aDogNDQsXG4gICAgICAgICAgICBtaW5IZWlnaHQ6IDQ0LFxuICAgICAgICAgICAgcGFkZGluZzogdGhlbWUucGFkZGluZyxcbiAgICAgICAgICAgIG1hcmdpbjogdGhlbWUubWFyZ2luLFxuICAgICAgICAgICAgaWNvblBvc2l0aW9uOiAnbGVmdCcsICAgICAgICAgICAgIC8vIGxlZnQsIHJpZ2h0XG4gICAgICAgICAgICBpY29uQ29sb3I6IHRoZW1lLmljb25Db2xvcixcbiAgICAgICAgICAgIGljb25Db2xvckFjdGl2ZTogdGhlbWUuaWNvbkNvbG9yQWN0aXZlLFxuICAgICAgICAgICAgZmlsbDogdGhlbWUuZmlsbCxcbiAgICAgICAgICAgIGZpbGxBbHBoYTogdGhlbWUuZmlsbEFscGhhLFxuICAgICAgICAgICAgZmlsbEFjdGl2ZTogdGhlbWUuZmlsbEFjdGl2ZSxcbiAgICAgICAgICAgIGZpbGxBY3RpdmVBbHBoYTogdGhlbWUuZmlsbEFjdGl2ZUFscGhhLFxuICAgICAgICAgICAgc3Ryb2tlOiB0aGVtZS5zdHJva2UsXG4gICAgICAgICAgICBzdHJva2VXaWR0aDogdGhlbWUuc3Ryb2tlV2lkdGgsXG4gICAgICAgICAgICBzdHJva2VBbHBoYTogdGhlbWUuc3Ryb2tlQWxwaGEsXG4gICAgICAgICAgICBzdHJva2VBY3RpdmU6IHRoZW1lLnN0cm9rZUFjdGl2ZSxcbiAgICAgICAgICAgIHN0cm9rZUFjdGl2ZVdpZHRoOiB0aGVtZS5zdHJva2VBY3RpdmVXaWR0aCxcbiAgICAgICAgICAgIHN0cm9rZUFjdGl2ZUFscGhhOiB0aGVtZS5zdHJva2VBY3RpdmVBbHBoYSxcbiAgICAgICAgICAgIHRleHRTdHlsZTogdGhlbWUudGV4dFN0eWxlLFxuICAgICAgICAgICAgdGV4dFN0eWxlQWN0aXZlOiB0aGVtZS50ZXh0U3R5bGVBY3RpdmUsXG4gICAgICAgICAgICBzdHlsZTogJ2RlZmF1bHQnLFxuICAgICAgICAgICAgcmFkaXVzOiB0aGVtZS5yYWRpdXMsXG4gICAgICAgICAgICBkaXNhYmxlZDogbnVsbCxcbiAgICAgICAgICAgIHR5cGU6ICdkZWZhdWx0JywgICAgICAgICAgICAgICAgICAgLy8gZGVmYXVsdCwgY2hlY2tib3gsIHJhZGlvXG4gICAgICAgICAgICBvcmllbnRhdGlvbjogJ2hvcml6b250YWwnLFxuICAgICAgICAgICAgYWxpZ246ICdjZW50ZXInLCAgICAgICAgICAgICAgICAgICAvLyBsZWZ0LCBjZW50ZXIsIHJpZ2h0XG4gICAgICAgICAgICB2ZXJ0aWNhbEFsaWduOiAnbWlkZGxlJywgICAgICAgICAgIC8vIHRvcCwgbWlkZGxlLCBib3R0b21cbiAgICAgICAgICAgIHZpc2libGU6IHRydWVcbiAgICAgICAgfSwgb3B0cylcblxuICAgICAgICB0aGlzLmJ1dHRvbnMgPSBbXVxuXG4gICAgICAgIHRoaXMuX2Rpc2FibGVkID0gbnVsbFxuICAgICAgICBcbiAgICAgICAgdGhpcy52aXNpYmxlID0gdGhpcy5vcHRzLnZpc2libGVcblxuICAgICAgICAvLyBzZXR1cFxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIHRoaXMuc2V0dXAoKVxuXG4gICAgICAgIC8vIGxheW91dFxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIHRoaXMubGF5b3V0KClcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBjaGlsZHJlbiBhbmQgaW5zdGFudGlhdGVzIGV2ZXJ5dGhpbmcuXG4gICAgICogXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtCdXR0b25Hcm91cH0gQSByZWZlcmVuY2UgdG8gdGhlIGJ1dHRvbiBncm91cCBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgc2V0dXAoKSB7XG5cbiAgICAgICAgLy8gQnV0dG9uc1xuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIGxldCBwb3NpdGlvbiA9IDBcblxuICAgICAgICBmb3IgKGxldCBpdCBvZiB0aGlzLm9wdHMuYnV0dG9ucykge1xuXG4gICAgICAgICAgICBkZWxldGUgaXQueFxuICAgICAgICAgICAgZGVsZXRlIGl0LnlcblxuICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5vcmllbnRhdGlvbiA9PT0gJ2hvcml6b250YWwnKSB7XG4gICAgICAgICAgICAgICAgaXQueCA9IHBvc2l0aW9uXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGl0LnkgPSBwb3NpdGlvblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpdC50aGVtZSA9IGl0LnRoZW1lIHx8IHRoaXMub3B0cy50aGVtZVxuICAgICAgICAgICAgaXQubWluV2lkdGggPSBpdC5taW5XaWR0aCB8fCB0aGlzLm9wdHMubWluV2lkdGhcbiAgICAgICAgICAgIGl0Lm1pbkhlaWdodCA9IGl0Lm1pbkhlaWdodCB8fCB0aGlzLm9wdHMubWluSGVpZ2h0XG4gICAgICAgICAgICBpdC5wYWRkaW5nID0gaXQucGFkZGluZyB8fCB0aGlzLm9wdHMucGFkZGluZ1xuICAgICAgICAgICAgaXQuaWNvblBvc2l0aW9uID0gaXQuaWNvblBvc2l0aW9uIHx8IHRoaXMub3B0cy5pY29uUG9zaXRpb25cbiAgICAgICAgICAgIGl0Lmljb25Db2xvciA9IGl0Lmljb25Db2xvciB8fCB0aGlzLm9wdHMuaWNvbkNvbG9yXG4gICAgICAgICAgICBpdC5pY29uQ29sb3JBY3RpdmUgPSBpdC5pY29uQ29sb3JBY3RpdmUgfHwgdGhpcy5vcHRzLmljb25Db2xvckFjdGl2ZVxuICAgICAgICAgICAgaXQuZmlsbCA9IGl0LmZpbGwgfHwgdGhpcy5vcHRzLmZpbGxcbiAgICAgICAgICAgIGl0LmZpbGxBbHBoYSA9IGl0LmZpbGxBbHBoYSB8fCB0aGlzLm9wdHMuZmlsbEFscGhhXG4gICAgICAgICAgICBpdC5maWxsQWN0aXZlID0gaXQuZmlsbEFjdGl2ZSB8fCB0aGlzLm9wdHMuZmlsbEFjdGl2ZVxuICAgICAgICAgICAgaXQuZmlsbEFjdGl2ZUFscGhhID0gaXQuZmlsbEFjdGl2ZUFscGhhIHx8IHRoaXMub3B0cy5maWxsQWN0aXZlQWxwaGFcbiAgICAgICAgICAgIGl0LnN0cm9rZSA9IGl0LnN0cm9rZSB8fCB0aGlzLm9wdHMuc3Ryb2tlXG4gICAgICAgICAgICBpdC5zdHJva2VXaWR0aCA9IGl0LnN0cm9rZVdpZHRoICE9IG51bGwgPyBpdC5zdHJva2VXaWR0aCA6IHRoaXMub3B0cy5zdHJva2VXaWR0aFxuICAgICAgICAgICAgaXQuc3Ryb2tlQWxwaGEgPSBpdC5zdHJva2VBbHBoYSAhPSBudWxsID8gaXQuc3Ryb2tlQWxwaGEgOiB0aGlzLm9wdHMuc3Ryb2tlQWxwaGFcbiAgICAgICAgICAgIGl0LnN0cm9rZUFjdGl2ZSA9IGl0LnN0cm9rZUFjdGl2ZSB8fCB0aGlzLm9wdHMuc3Ryb2tlQWN0aXZlXG4gICAgICAgICAgICBpdC5zdHJva2VBY3RpdmVXaWR0aCA9IGl0LnN0cm9rZUFjdGl2ZVdpZHRoICE9IG51bGwgPyBpdC5zdHJva2VBY3RpdmVXaWR0aCA6IHRoaXMub3B0cy5zdHJva2VBY3RpdmVXaWR0aFxuICAgICAgICAgICAgaXQuc3Ryb2tlQWN0aXZlQWxwaGEgPSBpdC5zdHJva2VBY3RpdmVBbHBoYSAhPSBudWxsID8gaXQuc3Ryb2tlQWN0aXZlQWxwaGEgOiB0aGlzLm9wdHMuc3Ryb2tlQWN0aXZlQWxwaGFcbiAgICAgICAgICAgIGl0LnRleHRTdHlsZSA9IGl0LnRleHRTdHlsZSB8fCB0aGlzLm9wdHMudGV4dFN0eWxlXG4gICAgICAgICAgICBpdC50ZXh0U3R5bGVBY3RpdmUgPSBpdC50ZXh0U3R5bGVBY3RpdmUgfHwgdGhpcy5vcHRzLnRleHRTdHlsZUFjdGl2ZVxuICAgICAgICAgICAgaXQuc3R5bGUgPSBpdC5zdHlsZSB8fCB0aGlzLm9wdHMuc3R5bGVcbiAgICAgICAgICAgIGl0LnJhZGl1cyA9IGl0LnJhZGl1cyAhPSBudWxsID8gaXQucmFkaXVzIDogdGhpcy5vcHRzLnJhZGl1c1xuICAgICAgICAgICAgaWYgKCFpdC50eXBlKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoICh0aGlzLm9wdHMudHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdjaGVja2JveCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBpdC50eXBlID0gdGhpcy5vcHRzLnR5cGVcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBpdC50eXBlID0gJ2RlZmF1bHQnXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vaXQudHlwZSA9IGl0LnR5cGUgfHwgdGhpcy5vcHRzLnR5cGUgfHwgJ2RlZmF1bHQnXG4gICAgICAgICAgICBpdC5hbGlnbiA9IGl0LmFsaWduIHx8IHRoaXMub3B0cy5hbGlnblxuICAgICAgICAgICAgaXQudmVydGljYWxBbGlnbiA9IGl0LnZlcnRpY2FsQWxpZ24gfHwgdGhpcy5vcHRzLnZlcnRpY2FsQWxpZ25cbiAgICAgICAgICAgIGl0LmFmdGVyQWN0aW9uID0gKGV2ZW50LCBidXR0b24pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRzLnR5cGUgPT09ICdyYWRpbycgJiYgYnV0dG9uLm9wdHMudHlwZSA9PT0gJ2RlZmF1bHQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYnV0dG9ucy5mb3JFYWNoKGl0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdC5vcHRzLnR5cGUgPT09ICdkZWZhdWx0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0LmFjdGl2ZSA9IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGJ1dHRvbi5vcHRzLnR5cGUgPT09ICdkZWZhdWx0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uLmFjdGl2ZSA9IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGl0LnRvb2x0aXApIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGl0LnRvb2x0aXAgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIGl0LnRvb2x0aXAgPSB7Y29udGVudDogaXQudG9vbHRpcCwgY29udGFpbmVyOiB0aGlzfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGl0LnRvb2x0aXAgPSBPYmplY3QuYXNzaWduKHt9LCB7Y29udGFpbmVyOiB0aGlzfSwgaXQudG9vbHRpcClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGxldCBidXR0b24gPSBuZXcgQnV0dG9uKGl0KVxuXG4gICAgICAgICAgICB0aGlzLmFkZENoaWxkKGJ1dHRvbilcbiAgICAgICAgICAgIHRoaXMuYnV0dG9ucy5wdXNoKGJ1dHRvbilcblxuICAgICAgICAgICAgcG9zaXRpb24gKz0gKHRoaXMub3B0cy5vcmllbnRhdGlvbiA9PT0gJ2hvcml6b250YWwnID8gYnV0dG9uLndpZHRoIDogYnV0dG9uLmhlaWdodCkgKyB0aGlzLm9wdHMubWFyZ2luXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5vcHRzLm9yaWVudGF0aW9uID09PSAndmVydGljYWwnKSB7XG4gICAgICAgICAgICBjb25zdCBtYXhXaWR0aCA9IHRoaXMuZ2V0TWF4QnV0dG9uV2lkdGgoKVxuXG4gICAgICAgICAgICB0aGlzLmJ1dHRvbnMuZm9yRWFjaChpdCA9PiB7XG4gICAgICAgICAgICAgICAgaXQub3B0cy5taW5XaWR0aCA9IG1heFdpZHRoXG4gICAgICAgICAgICAgICAgaXQubGF5b3V0KClcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgICAgICAvLyBkaXNhYmxlZFxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIGlmICh0aGlzLm9wdHMuZGlzYWJsZWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5kaXNhYmxlZCA9IHRoaXMub3B0cy5kaXNhYmxlZFxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogU2hvdWxkIGJlIGNhbGxlZCB0byByZWZyZXNoIHRoZSBsYXlvdXQgb2YgdGhlIGJ1dHRvbiBncm91cC4gQ2FuIGJlIHVzZWQgYWZ0ZXIgcmVzaXppbmcuXG4gICAgICogXG4gICAgICogQHJldHVybiB7QnV0dG9uR3JvdXB9IEEgcmVmZXJlbmNlIHRvIHRoZSBidXR0b24gZ3JvdXAgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIGxheW91dCgpIHtcbiAgICAgICAgXG4gICAgICAgIC8vIHNldCBwb3NpdGlvblxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIHRoaXMucG9zaXRpb24uc2V0KHRoaXMub3B0cy54LCB0aGlzLm9wdHMueSlcblxuICAgICAgICAvLyBkcmF3XG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgdGhpcy5kcmF3KClcblxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBEcmF3cyB0aGUgY2FudmFzLlxuICAgICAqIFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7QnV0dG9uR3JvdXB9IEEgcmVmZXJlbmNlIHRvIHRoZSBidXR0b24gZ3JvdXAgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIGRyYXcoKSB7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0cy5tYXJnaW4gPT09IDApIHtcblxuICAgICAgICAgICAgdGhpcy5idXR0b25zLmZvckVhY2goaXQgPT4gaXQuaGlkZSgpKVxuXG4gICAgICAgICAgICB0aGlzLmNsZWFyKClcbiAgICAgICAgICAgIHRoaXMubGluZVN0eWxlKHRoaXMub3B0cy5zdHJva2VXaWR0aCwgdGhpcy5vcHRzLnN0cm9rZSwgdGhpcy5vcHRzLnN0cm9rZUFscGhhKVxuICAgICAgICAgICAgdGhpcy5iZWdpbkZpbGwodGhpcy5vcHRzLmZpbGwsIHRoaXMub3B0cy5maWxsQWxwaGEpXG4gICAgICAgICAgICB0aGlzLmRyYXdSb3VuZGVkUmVjdCgwLCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgdGhpcy5vcHRzLnJhZGl1cylcblxuICAgICAgICAgICAgLy8gRHJhdyBib3JkZXJzXG4gICAgICAgICAgICB0aGlzLmxpbmVTdHlsZSh0aGlzLm9wdHMuc3Ryb2tlV2lkdGgsIHRoaXMub3B0cy5zdHJva2UsIHRoaXMub3B0cy5zdHJva2VBbHBoYSAvIDIpXG5cbiAgICAgICAgICAgIHRoaXMuYnV0dG9ucy5mb3JFYWNoKChpdCwgaSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vdmVUbyhpdC54LCBpdC55KVxuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdHMub3JpZW50YXRpb24gPT09ICdob3Jpem9udGFsJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5saW5lVG8oaXQueCwgaXQuaGVpZ2h0KVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5saW5lVG8oaXQud2lkdGgsIGl0LnkpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgdGhpcy5lbmRGaWxsKClcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICAqIEdldHMgb3Igc2V0cyB0aGUgZGlzYWJsZWQgc3RhdGUuIFdoZW4gZGlzYWJsZWQsIG5vIGJ1dHRvbiBvZiB0aGUgYnV0dG9uIGdyb3VwIGNhbiBiZSBjbGlja2VkLlxuICAgICAqIFxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgZ2V0IGRpc2FibGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGlzYWJsZWRcbiAgICB9XG5cbiAgICBzZXQgZGlzYWJsZWQodmFsdWUpIHtcblxuICAgICAgICB0aGlzLl9kaXNhYmxlZCA9IHZhbHVlXG5cbiAgICAgICAgdGhpcy5idXR0b25zLmZvckVhY2goaXQgPT4gaXQuZGlzYWJsZWQgPSB2YWx1ZSlcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogU2VhcmNoZXMgYWxsIGJ1dHRvbnMgb2YgdGhlIGJ1dHRvbiBncm91cCBhbmQgcmV0dXJucyB0aGUgbWF4aW11bSB3aWR0aCBvZiBvbmUgYnV0dG9uLlxuICAgICAqIFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgbWF4aW11bSB3aXRoIG9mIGEgYnV0dG9uIG9mIHRoZSBidXR0b24gZ3JvdXAuXG4gICAgICovXG4gICAgZ2V0TWF4QnV0dG9uV2lkdGgoKSB7XG5cbiAgICAgICAgbGV0IHdpZHRocyA9IHRoaXMuYnV0dG9ucy5tYXAoaXQgPT4gaXQud2lkdGgpXG5cbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KC4uLndpZHRocylcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogU2hvd3MgdGhlIGJ1dHRvbiBncm91cCAoc2V0cyBoaXMgYWxwaGEgdmFsdWUgdG8gMSkuXG4gICAgICogXG4gICAgICogQHJldHVybiB7QnV0dG9uR3JvdXB9IEEgcmVmZXJlbmNlIHRvIHRoZSBidXR0b24gZ3JvdXAgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHNob3coKSB7XG5cbiAgICAgICAgdGhpcy5hbHBoYSA9IDFcblxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhpZGVzIHRoZSBidXR0b24gZ3JvdXAgKHNldHMgaGlzIGFscGhhIHZhbHVlIHRvIDApLlxuICAgICAqIFxuICAgICAqIEByZXR1cm4ge0J1dHRvbkdyb3VwfSBBIHJlZmVyZW5jZSB0byB0aGUgYnV0dG9uIGdyb3VwIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBoaWRlKCkge1xuXG4gICAgICAgIHRoaXMuYWxwaGEgPSAwXG5cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG59XG4iLCJpbXBvcnQgQWJzdHJhY3RQb3B1cCBmcm9tICcuL2Fic3RyYWN0cG9wdXAuanMnXG5pbXBvcnQgQnV0dG9uIGZyb20gJy4vYnV0dG9uLmpzJ1xuaW1wb3J0IEJ1dHRvbkdyb3VwIGZyb20gJy4vYnV0dG9uZ3JvdXAuanMnXG5cbi8qKlxuICogQ2xhc3MgdGhhdCByZXByZXNlbnRzIGEgUGl4aUpTIEludGVyYWN0aXZlUG9wdXAuXG4gKiBUaGUgY2xhc3MgaXMgdXNlZCBmb3IgdmFyaW91cyBvdGhlciBQb3B1cC1saWtlIGNsYXNzZXNcbiAqIGxpa2UgUG9wdXAsIE1lc3NhZ2UuLi5cbiAqXG4gKiBAY2xhc3NcbiAqIEBhYnN0cmFjdFxuICogQGV4dGVuZHMgQWJzdHJhY3RQb3B1cFxuICovXG5leHBvcnQgY2xhc3MgSW50ZXJhY3RpdmVQb3B1cCBleHRlbmRzIEFic3RyYWN0UG9wdXAge1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBhbiBJbnRlcmFjdGl2ZVBvcHVwIChvbmx5IGZvciBpbnRlcm5hbCB1c2UpLlxuICAgICAqXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRzXSAtIEFuIG9wdGlvbnMgb2JqZWN0IHRvIHNwZWNpZnkgdG8gc3R5bGUgYW5kIGJlaGF2aW91ciBvZiB0aGUgcG9wdXAuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5jbG9zZU9uUG9wdXA9ZmFsc2VdIC0gU2hvdWxkIHRoZSBwb3B1cCBiZSBjbG9zZWQgd2hlbiB0aGUgdXNlciBjbGlja3Mgb24gdGhlIHBvcHVwP1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdHMuY2xvc2VCdXR0b249dHJ1ZV0gLSBTaG91bGQgYSBjbG9zZSBidXR0b24gYmUgZGlzcGxheWVkIG9uIHRoZSB1cHBlciByaWdodCBjb3JuZXI/XG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRzLmJ1dHRvbl0gLSBBIEJ1dHRvbiBvYmplY3QgdG8gYmUgZGlzcGxheSBvbiB0aGUgbG93ZXIgcmlnaHQgY29ybmVyLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0cy5idXR0b25Hcm91cF0gLSBBIEJ1dHRvbkdyb3VwIG9iamVjdCB0byBiZSBkaXNwbGF5ZWQgb24gdGhlIGxvd2VyIHJpZ2h0IGNvcm5lci5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRzID0ge30pIHtcblxuICAgICAgICBvcHRzID0gT2JqZWN0LmFzc2lnbih7fSwge1xuICAgICAgICAgICAgY2xvc2VPblBvcHVwOiBmYWxzZSxcbiAgICAgICAgICAgIGNsb3NlQnV0dG9uOiB0cnVlLFxuICAgICAgICAgICAgYnV0dG9uOiBudWxsLFxuICAgICAgICAgICAgYnV0dG9uR3JvdXA6IG51bGxcbiAgICAgICAgfSwgb3B0cylcblxuICAgICAgICBzdXBlcihvcHRzKVxuXG4gICAgICAgIHRoaXMuX2Nsb3NlQnV0dG9uID0gbnVsbFxuICAgICAgICB0aGlzLl9idXR0b25zID0gbnVsbFxuXG4gICAgICAgIC8vIHBhZGRpbmdcbiAgICAgICAgdGhpcy5zbWFsbFBhZGRpbmcgPSB0aGlzLm9wdHMucGFkZGluZyAvIDJcblxuICAgICAgICAvLyBzZXR1cFxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIHRoaXMuc2V0dXAoKVxuXG4gICAgICAgIC8vIGxheW91dFxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIHRoaXMubGF5b3V0KClcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIHRoZSBmcmFtZXdvcmsgYW5kIGluc3RhbnRpYXRlcyBldmVyeXRoaW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtBYnN0cmFjdFBvcHVwfSBBIHJlZmVyZW5jZSB0byB0aGUgcG9wdXAgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHNldHVwKCkge1xuXG4gICAgICAgIHN1cGVyLnNldHVwKClcblxuICAgICAgICAvLyBpbnRlcmFjdGlvblxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIHRoaXMub24oJ3BvaW50ZXJ1cCcsIGUgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5jbG9zZU9uUG9wdXApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhpZGUoKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8gY2xvc2VCdXR0b25cbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICBpZiAodGhpcy5vcHRzLmNsb3NlQnV0dG9uKSB7XG4gICAgICAgICAgICBsZXQgY2xvc2VCdXR0b24gPSBQSVhJLlNwcml0ZS5mcm9tSW1hZ2UoJy4uLy4uL2Fzc2V0cy9pY29ucy9wbmcvZmxhdC9jbG9zZS5wbmcnLCB0cnVlKVxuICAgICAgICAgICAgY2xvc2VCdXR0b24ud2lkdGggPSB0aGlzLmhlYWRlclN0eWxlLmZvbnRTaXplXG4gICAgICAgICAgICBjbG9zZUJ1dHRvbi5oZWlnaHQgPSBjbG9zZUJ1dHRvbi53aWR0aFxuICAgICAgICAgICAgY2xvc2VCdXR0b24udGludCA9IHRoaXMudGhlbWUuY29sb3IyXG4gICAgICAgICAgICAvLyBUaGlzIGlzIG5lZWRlZCwgYmVjYXVzZSB0aGUgY2xvc2VCdXR0b24gYmVsb25ncyB0byB0aGUgY29udGVudC4gVGhlIHBvcHVwIG11c3QgcmVzaXplIHdpdGggdGhlIGNsb3NlQnV0dG9uLlxuICAgICAgICAgICAgaWYgKHRoaXMuX2hlYWRlcikge1xuICAgICAgICAgICAgICAgIGNsb3NlQnV0dG9uLnggPSB0aGlzLl9oZWFkZXIud2lkdGggKyB0aGlzLmlubmVyUGFkZGluZ1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9jb250ZW50KSB7XG4gICAgICAgICAgICAgICAgY2xvc2VCdXR0b24ueCA9IHRoaXMuX2NvbnRlbnQud2lkdGggKyB0aGlzLmlubmVyUGFkZGluZ1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjbG9zZUJ1dHRvbi5pbnRlcmFjdGl2ZSA9IHRydWVcbiAgICAgICAgICAgIGNsb3NlQnV0dG9uLmJ1dHRvbk1vZGUgPSB0cnVlXG4gICAgICAgICAgICBjbG9zZUJ1dHRvbi5vbigncG9pbnRlcmRvd24nLCBlID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmhpZGUoKVxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgdGhpcy5fY2xvc2VCdXR0b24gPSBjbG9zZUJ1dHRvblxuICAgICAgICAgICAgdGhpcy5hZGRDaGlsZChjbG9zZUJ1dHRvbilcblxuICAgICAgICAgICAgLy8gbWF4V2lkdGggaXMgc2V0IGFuZCBhIGNsb3NlQnV0dG9uIHNob3VsZCBiZSBkaXNwbGF5ZWRcbiAgICAgICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgICAgIGlmICh0aGlzLm9wdHMubWF4V2lkdGgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB3b3JkV3JhcFdpZHRoID0gdGhpcy5vcHRzLm1heFdpZHRoIC0gKDIgKiB0aGlzLm9wdHMucGFkZGluZykgLSB0aGlzLnNtYWxsUGFkZGluZyAtIHRoaXMuX2Nsb3NlQnV0dG9uLndpZHRoXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2hlYWRlcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhlYWRlclN0eWxlLndvcmRXcmFwV2lkdGggPSB3b3JkV3JhcFdpZHRoXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9jb250ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGV4dFN0eWxlLndvcmRXcmFwV2lkdGggPSB3b3JkV3JhcFdpZHRoXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gYnV0dG9uc1xuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIGlmICh0aGlzLm9wdHMuYnV0dG9uIHx8IHRoaXMub3B0cy5idXR0b25Hcm91cCkge1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5idXR0b24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9idXR0b25zID0gbmV3IEJ1dHRvbihPYmplY3QuYXNzaWduKHt0ZXh0U3R5bGU6IHRoaXMudGhlbWUudGV4dFN0eWxlU21hbGx9LCB0aGlzLm9wdHMuYnV0dG9uKSlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYnV0dG9ucyA9IG5ldyBCdXR0b25Hcm91cChPYmplY3QuYXNzaWduKHt0ZXh0U3R5bGU6IHRoaXMudGhlbWUudGV4dFN0eWxlU21hbGx9LCB0aGlzLm9wdHMuYnV0dG9uR3JvdXApKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLl9idXR0b25zKVxuXG4gICAgICAgICAgICB0aGlzLl9idXR0b25zLnkgPSB0aGlzLmlubmVyUGFkZGluZyArIHRoaXMuc3lcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2hvdWxkIGJlIGNhbGxlZCB0byByZWZyZXNoIHRoZSBsYXlvdXQgb2YgdGhlIHBvcHVwLiBDYW4gYmUgdXNlZCBhZnRlciByZXNpemluZy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0Fic3RyYWN0UG9wdXB9IEEgcmVmZXJlbmNlIHRvIHRoZSBwb3B1cCBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgbGF5b3V0KCkge1xuXG4gICAgICAgIHN1cGVyLmxheW91dCgpXG4gICAgICAgIFxuICAgICAgICAvLyBjbG9zZUJ1dHRvblxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIGlmICh0aGlzLm9wdHMuY2xvc2VCdXR0b24pIHtcbiAgICAgICAgICAgIHRoaXMuX2Nsb3NlQnV0dG9uLnggPSB0aGlzLndhbnRlZFdpZHRoIC0gdGhpcy5zbWFsbFBhZGRpbmcgLSB0aGlzLl9jbG9zZUJ1dHRvbi53aWR0aFxuICAgICAgICAgICAgdGhpcy5fY2xvc2VCdXR0b24ueSA9IHRoaXMuc21hbGxQYWRkaW5nXG4gICAgICAgIH1cblxuICAgICAgICAvLyBidXR0b25zXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgaWYgKHRoaXMuX2J1dHRvbnMpIHtcbiAgICAgICAgICAgIHRoaXMuX2J1dHRvbnMueCA9IHRoaXMud2FudGVkV2lkdGggLSB0aGlzLm9wdHMucGFkZGluZyAtIHRoaXMuX2J1dHRvbnMud2lkdGhcbiAgICAgICAgICAgIHRoaXMuX2J1dHRvbnMueSA9IHRoaXMud2FudGVkSGVpZ2h0IC0gdGhpcy5vcHRzLnBhZGRpbmcgLSB0aGlzLl9idXR0b25zLmhlaWdodFxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBzaXplIG9mIHRoZSBjaGlsZHJlbiBvZiB0aGUgQWJzdHJhY3RQb3B1cC5cbiAgICAgKiBDYW5ub3QgdXNlIGdldEJvdW5kcygpIGJlY2F1c2UgaXQgaXMgbm90IHVwZGF0ZWQgd2hlbiBjaGlsZHJlblxuICAgICAqIGFyZSByZW1vdmVkLlxuICAgICAqIFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHJldHVybnMge29iamVjdH0gQW4gSmF2YVNjcmlwdCBvYmplY3Qgd2lkdGggdGhlIGtleXMgd2lkdGggYW5kIGhlaWdodC5cbiAgICAgKi9cbiAgICBnZXRJbm5lclNpemUoKSB7XG5cbiAgICAgICAgbGV0IHNpemUgPSBzdXBlci5nZXRJbm5lclNpemUoKVxuXG4gICAgICAgIGlmICh0aGlzLl9jbG9zZUJ1dHRvbikge1xuICAgICAgICAgICAgc2l6ZS53aWR0aCArPSB0aGlzLnNtYWxsUGFkZGluZyArIHRoaXMuX2Nsb3NlQnV0dG9uLndpZHRoXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fYnV0dG9ucykge1xuICAgICAgICAgICAgc2l6ZS53aWR0aCA9IE1hdGgubWF4KHNpemUud2lkdGgsIHRoaXMuX2J1dHRvbnMueCArIHRoaXMuX2J1dHRvbnMud2lkdGgpXG4gICAgICAgICAgICBzaXplLmhlaWdodCArPSB0aGlzLmlubmVyUGFkZGluZyArIHRoaXMuX2J1dHRvbnMuaGVpZ2h0XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc2l6ZVxuICAgIH1cbn1cblxuLyoqXG4gKiBDbGFzcyB0aGF0IHJlcHJlc2VudHMgYSBQaXhpSlMgUG9wdXAuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIENyZWF0ZSB0aGUgcG9wdXBcbiAqIGNvbnN0IHBvcHVwID0gbmV3IFBvcHVwKHtcbiAqICAgICBoZWFkZXI6ICdHb2V0aGUnLFxuICogICAgIGNvbnRlbnQ6ICdNYW4ga2FubiBkaWUgRXJmYWhydW5nIG5pY2h0IGZyw7xoIGdlbnVnIG1hY2hlbiwgd2llIGVudGJlaHJsaWNoIG1hbiBpbiBkZXIgV2VsdCBpc3QuJ1xuICogfSlcbiAqXG4gKiAvLyBBZGQgdGhlIHBvcHVwIHRvIGEgRGlzcGxheU9iamVjdFxuICogYXBwLnNjZW5lLmFkZENoaWxkKHBvcHVwKVxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgSW50ZXJhY3RpdmVQb3B1cFxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuaXdtLXR1ZWJpbmdlbi5kZS9pd21icm93c2VyL2xpYi9waXhpL3BvcHVwLmh0bWx8RG9jVGVzdH1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAgZXh0ZW5kcyBJbnRlcmFjdGl2ZVBvcHVwIHtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgYSBQb3B1cC5cbiAgICAgKlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0c10gLSBBbiBvcHRpb25zIG9iamVjdCB0byBzcGVjaWZ5IHRvIHN0eWxlIGFuZCBiZWhhdmlvdXIgb2YgdGhlIHBvcHVwLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdHMuY2xvc2VCdXR0b249ZmFsc2VdIC0gU2hvdWxkIGEgY2xvc2UgYnV0dG9uIGJlIGRpc3BsYXllZCBvbiB0aGUgdXBwZXIgcmlnaHQgY29ybmVyP1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5taW5XaWR0aD0wXSAtIFRoZSBtaW5pbXVtIHdpZHRoIG9mIHRoZSBwb3B1cC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMubWluSGVpZ2h0PTBdIC0gVGhlIG1pbmltdW0gaGVpZ2h0IG9mIHRoZSBwb3B1cC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRzID0ge30pIHtcblxuICAgICAgICBvcHRzID0gT2JqZWN0LmFzc2lnbih7fSwge1xuICAgICAgICAgICAgY2xvc2VCdXR0b246IGZhbHNlLFxuICAgICAgICAgICAgbWluV2lkdGg6IDAsXG4gICAgICAgICAgICBtaW5IZWlnaHQ6IDBcbiAgICAgICAgfSwgb3B0cylcblxuICAgICAgICBzdXBlcihvcHRzKVxuICAgIH1cbn1cbiIsImltcG9ydCBUaGVtZSBmcm9tICcuL3RoZW1lLmpzJ1xuaW1wb3J0IHtJbnRlcmFjdGl2ZVBvcHVwfSBmcm9tICcuL3BvcHVwLmpzJ1xuXG4vKipcbiAqIENsYXNzIHRoYXQgcmVwcmVzZW50cyBhIFBpeGlKUyBNb2RhbC5cbiAqIFxuICogQGV4YW1wbGVcbiAqIC8vIENyZWF0ZSB0aGUgYnV0dG9uIGFuZCB0aGUgbW9kYWwgd2hlbiBjbGlja2VkXG4gKiBjb25zdCBidXR0b24gPSBuZXcgQnV0dG9uKHtcbiAqICAgICBsYWJlbDogJ1Nob3cgTW9kYWwnLFxuICogICAgIGFjdGlvbjogZSA9PiB7XG4gKiAgICAgICAgIGNvbnN0IG1vZGFsID0gbmV3IE1vZGFsKHtcbiAqICAgICAgICAgICAgIGFwcDogYXBwLFxuICogICAgICAgICAgICAgaGVhZGVyOiAnVGhpcyBpcyB0aGUgaGVhZGVyJyxcbiAqICAgICAgICAgICAgIGNvbnRlbnQ6ICdUaGlzIGlzIHRoZSB0ZXh0LidcbiAqICAgICAgICAgfSlcbiAqICAgICAgICAgYXBwLnNjZW5lLmFkZENoaWxkKG1vZGFsKVxuICogICAgIH1cbiAqIH0pXG4gKlxuICogLy8gQWRkIHRoZSBidXR0b24gdG8gYSBEaXNwbGF5T2JqZWN0XG4gKiBhcHAuc2NlbmUuYWRkQ2hpbGQoYnV0dG9uKVxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5Db250YWluZXJcbiAqIEBleHRlbmRzIEludGVyYWN0aXZlUG9wdXBcbiAqIEBzZWUge0BsaW5rIGh0dHA6Ly9waXhpanMuZG93bmxvYWQvZGV2L2RvY3MvUElYSS5Db250YWluZXIuaHRtbHxQSVhJLkNvbnRhaW5lcn1cbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3Lml3bS10dWViaW5nZW4uZGUvaXdtYnJvd3Nlci9saWIvcGl4aS9tb2RhbC5odG1sfERvY1Rlc3R9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vZGFsIGV4dGVuZHMgUElYSS5Db250YWluZXIge1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBhIE1vZGFsLlxuICAgICAqIFxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0c10gLSBBbiBvcHRpb25zIG9iamVjdCB0byBzcGVjaWZ5IHRvIHN0eWxlIGFuZCBiZWhhdmlvdXIgb2YgdGhlIG1vZGFsLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5pZD1hdXRvIGdlbmVyYXRlZF0gLSBUaGUgaWQgb2YgdGhlIG1vZGFsLlxuICAgICAqIEBwYXJhbSB7UElYSUFwcH0gW29wdHMuYXBwPXdpbmRvdy5hcHBdIC0gVGhlIGFwcCB3aGVyZSB0aGUgbW9kYWwgYmVsb25ncyB0by5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuYmFja2dyb3VuZEZpbGw9VGhlbWUuYmFja2dyb3VuZF0gLSBUaGUgY29sb3Igb2YgdGhlIGJhY2tncm91bmQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLmJhY2tncm91bmRGaWxsQWxwaGE9MC42XSAtIFRoZSBvcGFjaXR5IG9mIHRoZSBiYWNrZ3JvdW5kLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdHMuY2xvc2VPbkJhY2tncm91bmQ9dHJ1ZV0gLSBTaG91bGQgdGhlIG1vZGFsIGJlIGNsb3NlZCB3aGVuIHRoZSB1c2VyIGNsaWNrcyB0aGVcbiAgICAgKiAgICAgYmFja2dyb3VuZD9cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLnZpc2libGU9dHJ1ZV0gLSBJcyB0aGUgbW9kYWwgaW5pdGlhbGx5IHZpc2libGUgKHByb3BlcnR5IHZpc2libGUpP1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdHMgPSB7fSkge1xuXG4gICAgICAgIHN1cGVyKClcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHRoZW1lID0gVGhlbWUuZnJvbVN0cmluZyhvcHRzLnRoZW1lKVxuICAgICAgICB0aGlzLnRoZW1lID0gdGhlbWVcblxuICAgICAgICB0aGlzLm9wdHMgPSBPYmplY3QuYXNzaWduKHt9LCB7XG4gICAgICAgICAgICBpZDogUElYSS51dGlscy51aWQoKSxcbiAgICAgICAgICAgIGFwcDogd2luZG93LmFwcCxcbiAgICAgICAgICAgIGJhY2tncm91bmRGaWxsOiB0aGVtZS5iYWNrZ3JvdW5kLFxuICAgICAgICAgICAgYmFja2dyb3VuZEZpbGxBbHBoYTogLjYsXG4gICAgICAgICAgICBjbG9zZU9uQmFja2dyb3VuZDogdHJ1ZSxcbiAgICAgICAgICAgIHZpc2libGU6IHRydWVcbiAgICAgICAgfSwgb3B0cylcblxuICAgICAgICB0aGlzLmlkID0gdGhpcy5vcHRzLmlkXG5cbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kID0gbnVsbFxuICAgICAgICB0aGlzLnBvcHVwID0gbnVsbFxuXG4gICAgICAgIHRoaXMuYWxwaGEgPSAwXG4gICAgICAgIHRoaXMudmlzaWJsZSA9IHRoaXMub3B0cy52aXNpYmxlXG5cbiAgICAgICAgLy8gc2V0dXBcbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICB0aGlzLnNldHVwKClcblxuICAgICAgICAvLyBsYXlvdXRcbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICB0aGlzLmxheW91dCgpXG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgY2hpbGRyZW4gYW5kIGluc3RhbnRpYXRlcyBldmVyeXRoaW5nLlxuICAgICAqIFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7TW9kYWx9IEEgcmVmZXJlbmNlIHRvIHRoZSBtb2RhbCBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgc2V0dXAoKSB7XG5cbiAgICAgICAgLy8gaW50ZXJhY3Rpb25cbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICB0aGlzLmludGVyYWN0aXZlID0gdHJ1ZVxuICAgICAgICB0aGlzLm9uKCdhZGRlZCcsIGUgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMudmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2hvdygpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8gYmFja2dyb3VuZFxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIGxldCBiYWNrZ3JvdW5kID0gbmV3IFBJWEkuR3JhcGhpY3MoKVxuICAgICAgICB0aGlzLmJhY2tncm91bmQgPSBiYWNrZ3JvdW5kXG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy5iYWNrZ3JvdW5kKVxuXG4gICAgICAgIGlmICh0aGlzLm9wdHMuY2xvc2VPbkJhY2tncm91bmQpIHtcbiAgICAgICAgICAgIGJhY2tncm91bmQuaW50ZXJhY3RpdmUgPSB0cnVlXG4gICAgICAgICAgICBiYWNrZ3JvdW5kLm9uKCdwb2ludGVydXAnLCBlID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmhpZGUoKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHBvcHVwXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgY29uc3QgcG9wdXBPcHRzID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5vcHRzLCB7XG4gICAgICAgICAgICB2aXNpYmxlOiB0cnVlLFxuICAgICAgICAgICAgb25IaWRkZW46ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmhpZGUoKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICBsZXQgcG9wdXAgPSBuZXcgSW50ZXJhY3RpdmVQb3B1cChwb3B1cE9wdHMpXG4gICAgICAgIHRoaXMucG9wdXAgPSBwb3B1cFxuICAgICAgICB0aGlzLmFkZENoaWxkKHBvcHVwKVxuICAgICAgICBwb3B1cC5zaG93KClcblxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBTaG91bGQgYmUgY2FsbGVkIHRvIHJlZnJlc2ggdGhlIGxheW91dCBvZiB0aGUgbW9kYWwuIENhbiBiZSB1c2VkIGFmdGVyIHJlc2l6aW5nLlxuICAgICAqIFxuICAgICAqIEByZXR1cm4ge01vZGFsfSBBIHJlZmVyZW5jZSB0byB0aGUgbW9kYWwgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIGxheW91dCgpIHtcblxuICAgICAgICBjb25zdCB3aWR0aCA9IHRoaXMub3B0cy5hcHAuc2l6ZS53aWR0aFxuICAgICAgICBjb25zdCBoZWlnaHQgPSB0aGlzLm9wdHMuYXBwLnNpemUuaGVpZ2h0XG5cbiAgICAgICAgLy8gYmFja2dyb3VuZFxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIHRoaXMuYmFja2dyb3VuZC5jbGVhcigpXG4gICAgICAgIHRoaXMuYmFja2dyb3VuZC5iZWdpbkZpbGwodGhpcy5vcHRzLmJhY2tncm91bmRGaWxsLCB0aGlzLm9wdHMuYmFja2dyb3VuZEZpbGxBbHBoYSlcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kLmRyYXdSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpXG4gICAgICAgIHRoaXMuYmFja2dyb3VuZC5lbmRGaWxsKClcblxuICAgICAgICAvLyBwb3NpdGlvblxuICAgICAgICB0aGlzLnBvcHVwLnggPSB3aWR0aCAvIDIgLSB0aGlzLnBvcHVwLndpZHRoIC8gMlxuICAgICAgICB0aGlzLnBvcHVwLnkgPSBoZWlnaHQgLyAyIC0gdGhpcy5wb3B1cC5oZWlnaHQgLyAyXG5cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogU2hvd3MgdGhlIG1vZGFsIChzZXRzIGhpcyBhbHBoYSB2YWx1ZXMgdG8gMSkuXG4gICAgICogXG4gICAgICogQHJldHVybiB7TW9kYWx9IEEgcmVmZXJlbmNlIHRvIHRoZSBtb2RhbCBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgc2hvdygpIHtcbiAgICAgICAgVHdlZW5NYXgudG8odGhpcywgdGhpcy50aGVtZS5mYXN0LCB7YWxwaGE6IDEsIG9uU3RhcnQ6ICgpID0+IHRoaXMudmlzaWJsZSA9IHRydWV9KVxuXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICAqIEhpZGVzIHRoZSBtb2RhbCAoc2V0cyBoaXMgYWxwaGEgdmFsdWVzIHRvIDApLlxuICAgICAqIFxuICAgICAqIEByZXR1cm4ge01vZGFsfSBBIHJlZmVyZW5jZSB0byB0aGUgbW9kYWwgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIGhpZGUoKSB7XG4gICAgICAgIFR3ZWVuTWF4LnRvKHRoaXMsIHRoaXMudGhlbWUuZmFzdCwge2FscGhhOiAwLCBvbkNvbXBsZXRlOiAoKSA9PiB0aGlzLnZpc2libGUgPSBmYWxzZX0pXG5cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogU2V0cyBvciBnZXRzIHRoZSBoZWFkZXIuIFRoZSBnZXR0ZXIgYWx3YXlzIHJldHVybnMgYSBQSVhJLlRleHQgb2JqZWN0LiBUaGUgc2V0dGVyIGNhbiByZWNlaXZlXG4gICAgICogYSBzdHJpbmcgb3IgYSBQSVhJLlRleHQgb2JqZWN0LlxuICAgICAqIFxuICAgICAqIEBtZW1iZXIge3N0cmluZ3xQSVhJLlRleHR9XG4gICAgICovXG4gICAgZ2V0IGhlYWRlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucG9wdXAuaGVhZGVyXG4gICAgfVxuICAgIHNldCBoZWFkZXIodmFsdWUpIHtcbiAgICAgICAgdGhpcy5vcHRzLmhlYWRlciA9IHZhbHVlXG4gICAgICAgIHRoaXMuYmFja2dyb3VuZC5kZXN0cm95KClcbiAgICAgICAgdGhpcy5wb3B1cC5kZXN0cm95KClcbiAgICAgICAgdGhpcy5zZXR1cCgpLmxheW91dCgpXG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICAqIFNldHMgb3IgZ2V0cyB0aGUgY29udGVudC4gVGhlIGdldHRlciBhbHdheXMgcmV0dXJucyBhbiBQSVhJLkRpc3BsYXlPYmplY3QuIFRoZSBzZXR0ZXIgY2FuIHJlY2VpdmVcbiAgICAgKiBhIHN0cmluZyBvciBhIFBJWEkuRGlzcGxheU9iamVjdC5cbiAgICAgKiBcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd8UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAqL1xuICAgIGdldCBjb250ZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wb3B1cC5jb250ZW50XG4gICAgfVxuICAgIHNldCBjb250ZW50KHZhbHVlKSB7XG4gICAgICAgIHRoaXMub3B0cy5jb250ZW50ID0gdmFsdWVcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kLmRlc3Ryb3koKVxuICAgICAgICB0aGlzLnBvcHVwLmRlc3Ryb3koKVxuICAgICAgICB0aGlzLnNldHVwKCkubGF5b3V0KClcbiAgICB9XG59XG4iLCJpbXBvcnQgVGhlbWUgZnJvbSAnLi90aGVtZS5qcydcbmltcG9ydCB7SW50ZXJhY3RpdmVQb3B1cH0gZnJvbSAnLi9wb3B1cC5qcydcblxuLyoqXG4gKiBDbGFzcyB0aGF0IHJlcHJlc2VudHMgYSBNZXNzYWdlLiBBIG1lc3NhZ2UgcG9wcyB1cCBhbmQgZGlzYXBwZWFycyBhZnRlciBhIHNwZWNpZmljIGFtb3VudCBvZiB0aW1lLlxuICogXG4gKiBAZXhhbXBsZVxuICogLy8gQ3JlYXRlIHRoZSBQaXhpSlMgQXBwXG4gKiBjb25zdCBhcHAgPSBuZXcgUElYSUFwcCh7XG4gKiAgICAgdmlldzogY2FudmFzLFxuICogICAgIHdpZHRoOiA5MDAsXG4gKiAgICAgaGVpZ2h0OiAyNTBcbiAqIH0pLnNldHVwKCkucnVuKClcbiAqIFxuICogLy8gQ3JlYXRlIGEgYnV0dG9uXG4gKiBsZXQgYnV0dG9uID0gbmV3IEJ1dHRvbih7XG4gKiAgICAgbGFiZWw6ICdDbGljayBtZScsXG4gKiAgICAgYWN0aW9uOiBlID0+IHtcbiAqICAgICAgICAgY29uc3QgbWVzc2FnZSA9IG5ldyBNZXNzYWdlKHtcbiAqICAgICAgICAgICAgIGFwcDogYXBwLFxuICogICAgICAgICAgICAgaGVhZGVyOiAnSGVhZGVyJyxcbiAqICAgICAgICAgICAgIGNvbnRlbnQ6ICdUZXh0LidcbiAqICAgICAgICAgfSlcbiAqICAgICAgICAgYXBwLnNjZW5lLmFkZENoaWxkKG1lc3NhZ2UpXG4gKiAgICAgfVxuICogfSlcbiAqIFxuICogLy8gQWRkIHRoZSBidXR0b24gdG8gdGhlIHNjZW5lXG4gKiBhcHAuc2NlbmUuYWRkQ2hpbGQoYnV0dG9uKVxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgSW50ZXJhY3RpdmVQb3B1cFxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuaXdtLXR1ZWJpbmdlbi5kZS9pd21icm93c2VyL2xpYi9waXhpL21lc3NhZ2UuaHRtbHxEb2NUZXN0fVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNZXNzYWdlIGV4dGVuZHMgSW50ZXJhY3RpdmVQb3B1cCB7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIGEgTWVzc2FnZS5cbiAgICAgKiBcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdHNdIC0gQW4gb3B0aW9ucyBvYmplY3QgdG8gc3BlY2lmeSB0byBzdHlsZSBhbmQgYmVoYXZpb3VyIG9mIHRoZSBtZXNzYWdlLlxuICAgICAqIEBwYXJhbSB7UElYSUFwcH0gW29wdHMuYXBwPXdpbmRvdy5hcHBdIC0gVGhlIFBJWElBcHAgd2hlcmUgdGhpcyBtZXNzYWdlIGJlbG9uZ3MgdG8uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5jbG9zZUJ1dHRvbj1mYWxzZV0gLSBTaG91bGQgYSBjbG9zZSBidXR0b24gYmUgZGlzcGxheWVkIGluIHRoZSB1cHBlciByaWdodCBjb3JuZXI/XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLm1pbldpZHRoPTI4MF0gLSBUaGUgbWluaW11bSB3aWR0aCBvZiB0aGUgbWVzc2FnZSBib3guIEF1dG9tYXRpY2FsbHkgZXhwYW5kcyB3aXRoIHRoZSBjb250ZW50LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5taW5IZWlnaHQ9MTAwXSAtIFRoZSBtaW5pbXVtIGhlaWdodCBvZiB0aGUgbWVzc2FnZSBib3guIEF1dG9tYXRpY2FsbHkgZXhwYW5kcyB3aXRoIHRoZSBjb250ZW50LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5tYXJnaW49VGhlbWUubWFyZ2luXSAtIFRoZSBvdXRlciBzcGFjaW5nIG9mIHRoZSBtZXNzYWdlIGJveC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdHMuYWxpZ249cmlnaHRdIC0gVGhlIGhvcml6b250YWwgcG9zaXRpb24gb2YgdGhlIG1lc3NhZ2UgYm94IHJlbGF0aXZlIHRvIHRoZSBhcHAuIFBvc3NpYmxlXG4gICAgICogICAgIHZhbHVlcyBhcmUgbGVmdCwgY2VudGVyLCByaWdodC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdHMudmVydGljYWxBbGlnbj10b3BdIC0gVGhlIHZlcnRpY2FsIHBvc2l0aW9uIG9mIHRoZSBtZXNzYWdlIGJveCByZWxhdGl2ZSB0byB0aGUgYXBwLiBQb3NzaWJsZVxuICAgICAqICAgICB2YWx1ZXMgYXJlIHRvcCwgbWlkZGxlLCBib3R0b20uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLmR1cmF0aW9uPTVdIC0gVGhlIGR1cmF0aW9uIGluIHNlY29uZHMgd2hlbiB0aGUgbWVzc2FnZSBib3ggc2hvdWxkIGRpc2FwcGVhci5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLmF1dG9DbG9zZT10cnVlXSAtIFNob3VsZCB0aGUgbWVzc2FnZSBib3ggYmUgY2xvc2VkIGF1dG9tYXRpY2FsbHk/XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLmNsb3NlRHVyYXRpb249VGhlbWUuZmFzdF0gLSBUaGUgZHVyYXRpb24gaW4gc2Vjb25kcyBvZiB0aGUgY2xvc2luZyBvZiB0aGUgbWVzc2FnZSBib3guXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iob3B0cyA9IHt9KSB7XG4gICAgICAgIFxuICAgICAgICBjb25zdCB0aGVtZSA9IFRoZW1lLmZyb21TdHJpbmcob3B0cy50aGVtZSlcblxuICAgICAgICBvcHRzID0gT2JqZWN0LmFzc2lnbih7fSwge1xuICAgICAgICAgICAgYXBwOiB3aW5kb3cuYXBwLFxuICAgICAgICAgICAgY2xvc2VCdXR0b246IGZhbHNlLFxuICAgICAgICAgICAgbWluV2lkdGg6IDI4MCxcbiAgICAgICAgICAgIG1pbkhlaWdodDogMTAwLFxuICAgICAgICAgICAgbWFyZ2luOiB0aGVtZS5tYXJnaW4sXG4gICAgICAgICAgICBhbGlnbjogJ3JpZ2h0JywgICAgICAgICAgICAgICAgICAgICAvLyBsZWZ0LCBjZW50ZXIsIHJpZ2h0XG4gICAgICAgICAgICB2ZXJ0aWNhbEFsaWduOiAndG9wJywgICAgICAgICAgICAgICAvLyB0b3AsIG1pZGRsZSwgYm90dG9tXG4gICAgICAgICAgICBkdXJhdGlvbjogNSxcbiAgICAgICAgICAgIGF1dG9DbG9zZTogdHJ1ZSxcbiAgICAgICAgICAgIGNsb3NlRHVyYXRpb246IHRoZW1lLmZhc3RcbiAgICAgICAgfSwgb3B0cylcblxuICAgICAgICBzdXBlcihvcHRzKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbGF5b3V0cyB0aGUgcG9zaXRpb24gb2YgdGhlIG1lc3NhZ2UgYm94LlxuICAgICAqIFxuICAgICAqIEByZXR1cm4ge01lc3NhZ2V9IFJldHVybnMgdGhlIG1lc3NhZ2UgYm94IGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBsYXlvdXQoKSB7XG5cbiAgICAgICAgc3VwZXIubGF5b3V0KClcblxuICAgICAgICAvLyBob3Jpem9udGFsXG4gICAgICAgIHN3aXRjaCAodGhpcy5vcHRzLmFsaWduKSB7XG4gICAgICAgICAgICBjYXNlICdsZWZ0JzpcbiAgICAgICAgICAgICAgICB0aGlzLnggPSB0aGlzLm9wdHMubWFyZ2luXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIGNhc2UgJ2NlbnRlcic6XG4gICAgICAgICAgICAgICAgdGhpcy54ID0gKHRoaXMub3B0cy5hcHAuc2l6ZS53aWR0aCAvIDIpIC0gKHRoaXMud2lkdGggLyAyKVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICBjYXNlICdyaWdodCc6XG4gICAgICAgICAgICAgICAgdGhpcy54ID0gdGhpcy5vcHRzLmFwcC5zaXplLndpZHRoIC0gdGhpcy5vcHRzLm1hcmdpbiAtIHRoaXMud2lkdGhcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdmVydGljYWxcbiAgICAgICAgc3dpdGNoICh0aGlzLm9wdHMudmVydGljYWxBbGlnbikge1xuICAgICAgICAgICAgY2FzZSAndG9wJzpcbiAgICAgICAgICAgICAgICB0aGlzLnkgPSB0aGlzLm9wdHMubWFyZ2luXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIGNhc2UgJ21pZGRsZSc6XG4gICAgICAgICAgICAgICAgdGhpcy55ID0gKHRoaXMub3B0cy5hcHAuc2l6ZS5oZWlnaHQgLyAyKSAtICh0aGlzLmhlaWdodCAvIDIpXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgICAgICAgICAgICAgdGhpcy55ID0gdGhpcy5vcHRzLmFwcC5zaXplLmhlaWdodCAtIHRoaXMub3B0cy5tYXJnaW4gLSB0aGlzLmhlaWdodFxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTaG93cyB0aGUgbWVzc2FnZSBib3guXG4gICAgICogXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBzaG93KCkge1xuXG4gICAgICAgIHN1cGVyLnNob3coKVxuXG4gICAgICAgIGlmICh0aGlzLm9wdHMuYXV0b0Nsb3NlKSB7XG4gICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlKClcbiAgICAgICAgICAgIH0sIHRoaXMub3B0cy5kdXJhdGlvbiAqIDEwMDApXG4gICAgICAgIH1cbiAgICB9XG59XG4iLCIvKiBnbG9iYWwgYXBvbGxvLCBzdWJzY3JpcHRpb25zLCBncWwgKi9cblxuaW1wb3J0IFRoZW1lIGZyb20gJy4vdGhlbWUuanMnXG5pbXBvcnQgUHJvZ3Jlc3MgZnJvbSAnLi9wcm9ncmVzcy5qcydcbmltcG9ydCBNb2RhbCBmcm9tICcuL21vZGFsLmpzJ1xuaW1wb3J0IE1lc3NhZ2UgZnJvbSAnLi9tZXNzYWdlLmpzJ1xuXG4vKipcbiAqIEEgc3BlY2lhbCBJbnRlcmFjdGlvbk1hbmFnZXIgZm9yIGZ1bGxzY3JlZW4gYXBwcywgd2hpY2ggbWF5XG4gKiBnbyBiZXlvbmQgdGhlIGxpbWl0cyBvZiBXZWJHTCBkcmF3aW5nIGJ1ZmZlcnMuIE9uIFNhZmFyaSBhbmQgQ2hyb21lXG4gKiB0aGUgZHJhd2luZyBidWZmZXJzIGFyZSBsaW1pdGVkIHRvIDQwOTYgaW4gd2lkdGggKFNhZmFyaSkgb3IgNDA5Nng0MDk2XG4gKiBpbiB0b3RhbCBidWZmZXIgc2l6ZSAoQ2hyb21lKS4gVGhlIG9yaWdpbmFsIEludGVyYWN0aW9uTWFuYWdlci5tYXBQb3NpdGlvblRvUG9pbnRcbiAqIGRvZXMgbm90IHdvcmsgd2l0aCB0aGVzZSBleHRyZW1lIHNpemVzIHdoaWNoIG1haW5seSBvY2N1ciBpZiBsYXJnZVxuICogcmV0aW5hIGRpc3BsYXlzICg+PSA0SykgYXJlIHVzZWQgd2l0aCBkZXZpY2VQaXhlbFJhdGlvID4gMS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlclxuICogQHNlZSB7QGxpbmsgaHR0cDovL3BpeGlqcy5kb3dubG9hZC9kZXYvZG9jcy9QSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlci5odG1sfFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyfVxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMjk3MTA2OTYvd2ViZ2wtZHJhd2luZy1idWZmZXItc2l6ZS1kb2VzLW5vdC1lcXVhbC1jYW52YXMtc2l6ZX1cbiAqL1xuY2xhc3MgRnVsbHNjcmVlbkludGVyYWN0aW9uTWFuYWdlciBleHRlbmRzIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyIHtcblxuICAgIG1hcFBvc2l0aW9uVG9Qb2ludChwb2ludCwgeCwgeSkge1xuICAgICAgICBsZXQgcmVzb2x1dGlvbiA9IHRoaXMucmVuZGVyZXIucmVzb2x1dGlvblxuICAgICAgICBsZXQgZXh0ZW5kV2lkdGggPSAxLjBcbiAgICAgICAgbGV0IGV4dGVuZEhlaWdodCA9IDEuMFxuICAgICAgICBsZXQgZHkgPSAwXG4gICAgICAgIGxldCBjYW52YXMgPSB0aGlzLnJlbmRlcmVyLnZpZXdcbiAgICAgICAgbGV0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wnKVxuICAgICAgICBpZiAoY29udGV4dC5kcmF3aW5nQnVmZmVyV2lkdGggPCBjYW52YXMud2lkdGggfHxcbiAgICAgICAgICAgIGNvbnRleHQuZHJhd2luZ0J1ZmZlckhlaWdodCA8IGNhbnZhcy5oZWlnaHQpIHtcbiAgICAgICAgICAgIGV4dGVuZFdpZHRoID0gY29udGV4dC5kcmF3aW5nQnVmZmVyV2lkdGggLyBjYW52YXMud2lkdGhcbiAgICAgICAgICAgIGV4dGVuZEhlaWdodCA9IGNvbnRleHQuZHJhd2luZ0J1ZmZlckhlaWdodCAvIGNhbnZhcy5oZWlnaHRcbiAgICAgICAgICAgIC8vZHggPSB3YW50ZWRXaWR0aCAtIGNvbnRleHQuZHJhd2luZ0J1ZmZlcldpZHRoXG4gICAgICAgICAgICBkeSA9IChjYW52YXMuaGVpZ2h0IC0gY29udGV4dC5kcmF3aW5nQnVmZmVySGVpZ2h0KSAvIHJlc29sdXRpb25cbiAgICAgICAgfVxuICAgICAgICB4ICo9IGV4dGVuZFdpZHRoXG4gICAgICAgIHkgKj0gZXh0ZW5kSGVpZ2h0XG5cbiAgICAgICAgc3VwZXIubWFwUG9zaXRpb25Ub1BvaW50KHBvaW50LCB4LCB5ICsgZHkpXG4gICAgfVxufVxuXG4vKipcbiAqIFRoZSBjbGFzcyBQaXhpQXBwIGV4dGVuZHMgdGhlIGNsYXNzIFBJWEkuQXBwbGljYXRpb25cbiAqIGJ5IHNldmVyYWwgZnVuY3Rpb25zIGFuZCBtYWtlcyBtZWFuaW5nZnVsIHByZS1hc3N1bXB0aW9ucy5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQ3JlYXRlIHRoZSBhcHBcbiAqIGNvbnN0IGFwcCA9IG5ldyBQSVhJQXBwKHtcbiAqICAgICB2aWV3OiBjYW52YXMsXG4gKiAgICAgd2lkdGg6IDQ1MCxcbiAqICAgICBoZWlnaHQ6IDE1MCxcbiAqICAgICBmcHNMb2dnaW5nOiB0cnVlLFxuICogICAgIHRoZW1lOiAnbGlnaHQnLFxuICogICAgIHRyYW5zcGFyZW50OiBmYWxzZVxuICogfSkuc2V0dXAoKS5ydW4oKVxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5BcHBsaWNhdGlvblxuICogQHNlZSB7QGxpbmsgaHR0cDovL3BpeGlqcy5kb3dubG9hZC9kZXYvZG9jcy9QSVhJLkFwcGxpY2F0aW9uLmh0bWx8UElYSS5BcHBsaWNhdGlvbn1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUElYSUFwcCBleHRlbmRzIFBJWEkuQXBwbGljYXRpb24ge1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBhIFBpeGlBcHAuXG4gICAgICpcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdHM9e31dIC0gQW4gb3B0aW9ucyBvYmplY3QuIFRoZSBmb2xsb3dpbmcgb3B0aW9ucyBjYW4gYmUgc2V0OlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy53aWR0aF0gLSBUaGUgd2lkdGggb2YgdGhlIHJlbmRlcmVyLiBJZiBubyBzZXQsIHRoZSBhcHBsaWNhdGlvbiB3aWxsIHJ1biBpbiBmdWxsc2NyZWVuLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5oZWlnaHRdIC0gVGhlIGhlaWdodCBvZiB0aGUgcmVuZGVyZXIuIElmIG5vIHNldCwgdGhlIGFwcGxpY2F0aW9uIHdpbGwgcnVuIGluIGZ1bGxzY3JlZW4uXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gW29wdHMudmlld10gLSBUaGUgY2FudmFzIEhUTUwgZWxlbWVudC4gSWYgbm90IHNldCwgYSByZW5kZXItZWxlbWVudCBpcyBhZGRlZCBpbnNpZGUgdGhlIGJvZHkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy50cmFuc3BhcmVudD10cnVlXSAtIFNob3VsZCB0aGUgcmVuZGVyIHZpZXcgYmUgdHJhbnNwYXJlbnQ/XG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5hbnRpYWxpYXM9dHJ1ZV0gLSBTZXRzIGFudGlhbGlhcyAob25seSBhcHBsaWNhYmxlIGluIGNocm9tZSBhdCB0aGUgbW9tZW50KS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMucmVzb2x1dGlvbj13aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8IDFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLCByZXRpbmEgd291bGQgYmUgMi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLmF1dG9SZXNpemU9dHJ1ZV0gLSBTaG91bGQgdGhlIGNhbnZhcy1lbGVtZW50IGJlIHJlc2l6ZWQgYXV0b21hdGljYWxseSBpZiB0aGUgcmVzb2x1dGlvbiB3YXMgc2V0P1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5iYWNrZ3JvdW5kQ29sb3I9MHgyODI4MjhdIC0gVGhlIGNvbG9yIG9mIHRoZSBiYWNrZ3JvdW5kLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfFRoZW1lfSBbb3B0cy50aGVtZT1kYXJrXSAtIFRoZSBuYW1lIG9mIHRoZSB0aGVtZSAoZGFyaywgbGlnaHQsIHJlZCkgb3IgYSBUaGVtZSBvYmplY3QgdG8gdXNlIGZvciBzdHlsaW5nLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdHMuZnBzTG9nZ2luZz1mYWxzZV0gLSBJZiBzZXQgdG8gdHJ1ZSwgdGhlIGN1cnJlbnQgZnJhbWVzIHBlciBzZWNvbmQgYXJlIGRpc3BsYXllZCBpbiB0aGUgdXBwZXIgbGVmdCBjb3JuZXIuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRzLnByb2dyZXNzPXt9XSAtIENhbiBiZSB1c2VkIHRvIGFkZCBvcHRpb25zIHRvIHRoZSBwcm9ncmVzcyBiYXIuIFNlZSBjbGFzcyBQcm9ncmVzcyBmb3IgbW9yZSBpbmZvcm1hdGlvbnMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5mb3JjZUNhbnZhcz1mYWxzZV0gLSBQcmV2ZW50cyBzZWxlY3Rpb24gb2YgV2ViR0wgcmVuZGVyZXIsIGV2ZW4gaWYgc3VjaCBpcyBwcmVzZW50LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdHMucm91bmRQaXhlbHM9dHJ1ZV0gLSBBbGlnbiBQSVhJLkRpc3BsYXlPYmplY3QgY29vcmRpbmF0ZXMgdG8gc2NyZWVuIHJlc29sdXRpb24uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5tb25rZXlQYXRjaE1hcHBpbmc9dHJ1ZV0gLSBNb25rZXkgcGF0Y2ggZm9yIGNhbnZhcyBmdWxsc2NyZWVuIHN1cHBvcnQgb24gbGFyZ2UgZGlzcGxheXMuXG4gICAgICovXG4gICAgY29uc3RydWN0b3Ioe1xuICAgICAgICB3aWR0aCA9IG51bGwsIGhlaWdodCA9IG51bGwsIHZpZXcgPSBudWxsLFxuICAgICAgICB0cmFuc3BhcmVudCA9IHRydWUsIGJhY2tncm91bmRDb2xvciA9IDB4MjgyODI4LCB0aGVtZSA9ICdkYXJrJyxcbiAgICAgICAgYW50aWFsaWFzID0gdHJ1ZSwgcmVzb2x1dGlvbiA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDEsIGF1dG9SZXNpemUgPSB0cnVlLFxuICAgICAgICBmcHNMb2dnaW5nID0gZmFsc2UsIHByb2dyZXNzID0ge30sIGZvcmNlQ2FudmFzID0gZmFsc2UsIHJvdW5kUGl4ZWxzID0gdHJ1ZSwgbW9ua2V5UGF0Y2hNYXBwaW5nID0gdHJ1ZSxcbiAgICAgICAgZ3JhcGhxbCA9IGZhbHNlfSkge1xuXG4gICAgICAgIGNvbnN0IGZ1bGxTY3JlZW4gPSAhd2lkdGggfHwgIWhlaWdodFxuXG4gICAgICAgIGlmIChmdWxsU2NyZWVuKSB7XG4gICAgICAgICAgICB3aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoXG4gICAgICAgICAgICBoZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHRcbiAgICAgICAgfVxuXG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIHZpZXc6IHZpZXcsXG4gICAgICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgICAgIHRyYW5zcGFyZW50OiB0cmFuc3BhcmVudCxcbiAgICAgICAgICAgIGFudGlhbGlhczogYW50aWFsaWFzLFxuICAgICAgICAgICAgcmVzb2x1dGlvbjogcmVzb2x1dGlvbixcbiAgICAgICAgICAgIGF1dG9SZXNpemU6IGF1dG9SZXNpemUsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGJhY2tncm91bmRDb2xvcixcbiAgICAgICAgICAgIHJvdW5kUGl4ZWxzOiByb3VuZFBpeGVscyxcbiAgICAgICAgICAgIGZvcmNlQ2FudmFzOiBmb3JjZUNhbnZhc1xuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aFxuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodFxuICAgICAgICB0aGlzLnRoZW1lID0gVGhlbWUuZnJvbVN0cmluZyh0aGVtZSlcbiAgICAgICAgdGhpcy5mcHNMb2dnaW5nID0gZnBzTG9nZ2luZ1xuICAgICAgICB0aGlzLnByb2dyZXNzT3B0cyA9IHByb2dyZXNzXG4gICAgICAgIHRoaXMuZnVsbFNjcmVlbiA9IGZ1bGxTY3JlZW5cbiAgICAgICAgdGhpcy5vcmllbnQgPSBudWxsXG4gICAgICAgIHRoaXMub3JpZ2luYWxNYXBQb3NpdGlvblRvUG9pbnQgPSBudWxsXG4gICAgICAgIHRoaXMubW9ua2V5UGF0Y2hNYXBwaW5nID0gbW9ua2V5UGF0Y2hNYXBwaW5nXG4gICAgICAgIHRoaXMuZ3JhcGhxbCA9IGdyYXBocWxcbiAgICAgICAgaWYgKGZ1bGxTY3JlZW4pIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdBcHAgaXMgaW4gZnVsbFNjcmVlbiBtb2RlJylcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLnJlc2l6ZS5iaW5kKHRoaXMpKVxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdvcmllbnRhdGlvbmNoYW5nZScsIHRoaXMuY2hlY2tPcmllbnRhdGlvbi5iaW5kKHRoaXMpKVxuICAgICAgICB9XG4gICAgICAgIGlmIChtb25rZXlQYXRjaE1hcHBpbmcpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdVc2luZyBtb25rZXkgcGF0Y2hlZCBjb29yZGluYXRlIG1hcHBpbmcnKVxuICAgICAgICAgICAgLy8gUGx1Z2dpbiB0aGUgc3BlY2lhbGl6dGlvbiBkb2VzIG5vdCB3b3JrLiBNb25rZXkgcGF0Y2hpbmcgZG9lc1xuICAgICAgICAgICAgLy8gdGhpcy5yZW5kZXJlci5wbHVnaW5zLmludGVyYWN0aW9uID0gbmV3IEZ1bGxzY3JlZW5JbnRlcmFjdGlvbk1hbmFnZXIodGhpcy5yZW5kZXJlcilcbiAgICAgICAgICAgIHRoaXMubW9ua2V5UGF0Y2hQaXhpTWFwcGluZygpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeHRyYSBzZXR1cCBtZXRob2QgdG8gY29uc3RydWN0IGNvbXBsZXggc2NlbmVzLCBldGMuLi5cbiAgICAgKiBPdmVyd3JpdGUgdGhpcyBtZXRob2QgaWYgeW91IG5lZWQgYWRkaXRvbmFsIHZpZXdzIGFuZCBjb21wb25lbnRzLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSUFwcH0gQSByZWZlcmVuY2UgdG8gdGhlIFBJWElBcHAgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHNldHVwKCkge1xuICAgICAgICB0aGlzLnNjZW5lID0gdGhpcy5zY2VuZUZhY3RvcnkoKVxuICAgICAgICB0aGlzLnN0YWdlLmFkZENoaWxkKHRoaXMuc2NlbmUpXG5cbiAgICAgICAgLy8gZnBzTG9nZ2luZ1xuICAgICAgICBpZiAodGhpcy5mcHNMb2dnaW5nKSB7XG4gICAgICAgICAgICB0aGlzLmFkZEZwc0Rpc3BsYXkoKVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gR3JhcGhRTFxuICAgICAgICBpZiAodGhpcy5ncmFwaHFsICYmIHR5cGVvZiBhcG9sbG8gIT09ICd1bmRlZmluZWQnKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IG5ldHdvcmtJbnRlcmZhY2UgPSBhcG9sbG8uY3JlYXRlTmV0d29ya0ludGVyZmFjZSh7XG4gICAgICAgICAgICAgICAgdXJpOiAnL2dyYXBocWwnXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICBjb25zdCB3c0NsaWVudCA9IG5ldyBzdWJzY3JpcHRpb25zLlN1YnNjcmlwdGlvbkNsaWVudChgd3NzOi8vJHtsb2NhdGlvbi5ob3N0bmFtZX0vc3Vic2NyaXB0aW9uc2AsIHtcbiAgICAgICAgICAgICAgICByZWNvbm5lY3Q6IHRydWUsXG4gICAgICAgICAgICAgICAgY29ubmVjdGlvblBhcmFtczoge31cbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIGNvbnN0IG5ldHdvcmtJbnRlcmZhY2VXaXRoU3Vic2NyaXB0aW9ucyA9IHN1YnNjcmlwdGlvbnMuYWRkR3JhcGhRTFN1YnNjcmlwdGlvbnMoXG4gICAgICAgICAgICAgICAgbmV0d29ya0ludGVyZmFjZSxcbiAgICAgICAgICAgICAgICB3c0NsaWVudFxuICAgICAgICAgICAgKVxuXG4gICAgICAgICAgICB0aGlzLmFwb2xsb0NsaWVudCA9IG5ldyBhcG9sbG8uQXBvbGxvQ2xpZW50KHtcbiAgICAgICAgICAgICAgICBuZXR3b3JrSW50ZXJmYWNlOiBuZXR3b3JrSW50ZXJmYWNlV2l0aFN1YnNjcmlwdGlvbnNcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgICAgICAvLyBwcm9ncmVzc1xuICAgICAgICB0aGlzLl9wcm9ncmVzcyA9IG5ldyBQcm9ncmVzcyhPYmplY3QuYXNzaWduKHt0aGVtZTogdGhpcy50aGVtZX0sIHRoaXMucHJvZ3Jlc3NPcHRzLCB7YXBwOiB0aGlzfSkpXG4gICAgICAgIHRoaXMuX3Byb2dyZXNzLnZpc2libGUgPSBmYWxzZVxuICAgICAgICB0aGlzLnN0YWdlLmFkZENoaWxkKHRoaXMuX3Byb2dyZXNzKVxuXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGVzdHMgd2hldGhlciB0aGUgd2lkdGggaXMgbGFyZ2VyIHRoYW4gdGhlIGhlaWdodCBvZiB0aGUgYXBwbGljYXRpb24uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBSZXR1cm5zIHRydWUgaWYgYXBwIGlzIGluIGxhbmRzY2FwZSBtb2RlLlxuICAgICAqL1xuICAgIG9yaWVudGF0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy53aWR0aCA+IHRoaXMuaGVpZ2h0XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIG9yaWVudGF0aW9uIGFuZCBhZGFwdHMgdmlldyBzaXplIGlmIG5lY2Vzc2FyeS4gSW1wbGVtZW50cyBhXG4gICAgICogaGFuZGxlciBmb3IgdGhlIG9yaWVudGF0aW9uY2hhbmdlIGV2ZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtldmVudD19IC0gb3JpZW50YXRpb25jaGFuZ2UgZXZlbnRcbiAgICAgKi9cbiAgICBjaGVja09yaWVudGF0aW9uKGV2ZW50KSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHRoaXMub3JpZW50YXRpb24oKVxuICAgICAgICBpZiAodmFsdWUgIT0gdGhpcy5vcmllbnQpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoMTAwLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9yaWVudGF0aW9uQ2hhbmdlZCh0cnVlKVxuICAgICAgICAgICAgfS5iaW5kKHRoaXMpKVxuICAgICAgICAgICAgdGhpcy5vcmllbnQgPSB2YWx1ZVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGlmIGNoZWNrT3JpZW50YXRpb24gZGV0ZWN0cyBhbiBvcmllbnRhdGlvbiBjaGFuZ2UgZXZlbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBbZm9yY2U9ZmFsc2VdIC0gQ2FsbGVkIGlmIGNoZWNrT3JpZW50YXRpb24gZGV0ZWN0cyBhbiBvcmllbnRhdGlvbiBjaGFuZ2UgZXZlbnQuXG4gICAgICovXG4gICAgb3JpZW50YXRpb25DaGFuZ2VkKGZvcmNlPWZhbHNlKSB7XG4gICAgICAgIGlmICh0aGlzLmV4cGFuZFJlbmRlcmVyKCkgfHwgZm9yY2UpIHtcbiAgICAgICAgICAgIHRoaXMubGF5b3V0KClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBhZnRlciBhIHJlc2l6ZS4gRW1wdHkgbWV0aG9kIGJ1dCBjYW4gYmUgb3ZlcndyaXR0ZW4gdG9cbiAgICAgKiBhZGFwdCB0aGVpciBsYXlvdXQgdG8gdGhlIG5ldyBhcHAgc2l6ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbd2lkdGhdIC0gVGhlIHdpZHRoIG9mIHRoZSBhcHAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtoZWlnaHRdIC0gVGhlIGhlaWdodCBvZiB0aGUgYXBwLlxuICAgICAqL1xuICAgIGxheW91dCh3aWR0aCwgaGVpZ2h0KSB7XG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEcmF3cyB0aGUgZGlzcGxheSB0cmVlIG9mIHRoZSBhcHAuIFR5cGljYWxseSB0aGlzIGNhbiBiZSBkZWxlZ2F0ZWRcbiAgICAgKiB0byB0aGUgbGF5b3V0IG1ldGhvZC5cbiAgICAgKlxuICAgICAqL1xuICAgIGRyYXcoKSB7XG4gICAgICAgIHRoaXMubGF5b3V0KHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KVxuICAgIH1cblxuICAgIC8qXG4gICAgICogUnVuIHRoZSBhcHBsaWNhdGlvbi4gT3ZlcnJpZGUgdGhpcyBtZXRob2Qgd2l0aCBldmVyeXRoaW5nXG4gICAgICogdGhhdCBpcyBuZWVkZWQgdG8gbWFpbnRhaW4geW91ciBBcHAsIGUuZy4gc2V0dXAgY2FsbHMsIG1haW4gbG9vcHMsIGV0Yy5cbiAgICAgKlxuICAgICAqL1xuICAgIHJ1bigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICAvKlxuICAgICAqIE92ZXJ3cml0ZSB0aGlzIGZhY3RvcnkgbWV0aG9kIGlmIHlvdXIgYXBwbGljYXRpb24gbmVlZHMgYSBzcGVjaWFsXG4gICAgICogc2NlbmUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHJldHVybnMge1BJWEkuQ29udGFpbmVyfSAtIEEgbmV3IFBJWEkgQ29udGFpbmVyIGZvciB1c2UgYXMgYSBzY2VuZS5cbiAgICAgKi9cbiAgICBzY2VuZUZhY3RvcnkoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUElYSS5Db250YWluZXIoKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgdGhlIGRpc3BsYXkgb2YgdGhlIGZyYW1lcyBwZXIgc2Vjb25kIHRvIHRoZSByZW5kZXJlciBpbiB0aGUgdXBwZXIgbGVmdCBjb3JuZXIuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJQXBwfSAtIFJldHVybnMgdGhlIFBJWElBcHAgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIGFkZEZwc0Rpc3BsYXkoKSB7XG4gICAgICAgIGNvbnN0IGZwc0Rpc3BsYXkgPSBuZXcgRnBzRGlzcGxheSh0aGlzKVxuICAgICAgICB0aGlzLnN0YWdlLmFkZENoaWxkKGZwc0Rpc3BsYXkpXG5cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBzaXplIG9mIHRoZSByZW5kZXJlciBhcyBhbiBvYmplY3Qgd2l0aCB0aGUga2V5cyB3aWR0aCBhbmQgaGVpZ2h0LlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAqL1xuICAgIGdldCBzaXplKCkge1xuICAgICAgICByZXR1cm4ge3dpZHRoOiB0aGlzLndpZHRoLCBoZWlnaHQ6IHRoaXMuaGVpZ2h0fVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGNlbnRlciBvZiB0aGUgcmVuZGVyZXIgYXMgYW4gb2JqZWN0IHdpdGggdGhlIGtleXMgeCBhbmQgeS5cbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgKi9cbiAgICBnZXQgY2VudGVyKCkge1xuICAgICAgICByZXR1cm4ge3g6IHRoaXMud2lkdGggLyAyLCB5OiB0aGlzLmhlaWdodCAvIDJ9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzaXplcyB0aGUgcmVuZGVyZXIgdG8gZml0IGludG8gdGhlIHdpbmRvdyBvciBnaXZlbiB3aWR0aCBhbmQgaGVpZ2h0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtldmVudF0gLSBUaGUgZXZlbnQuXG4gICAgICogQHBhcmFtIHtvYmplY3Q9fSBbb3B0cz17fV0gLSBUaGUgZXZlbnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLndpZHRoPXdpbmRvdy5pbm5lcldpZHRoXSAtIFRoZSB3aWR0aCBvZiB0aGUgYXBwIHRvIHJlc2l6ZSB0by5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuaGVpZ2h0PXdpbmRvdy5pbm5lckhlaWdodF0gLSBUaGUgaGVpZ2h0IG9mIHRoZSBhcHAgdG8gcmVzaXplIHRvLlxuICAgICAqIEByZXR1cm4ge1BJWElBcHB9IC0gUmV0dXJucyB0aGUgUElYSUFwcCBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgcmVzaXplKGV2ZW50LCB7d2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aCwgaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0fSA9IHt9KSB7XG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aFxuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodFxuICAgICAgICB0aGlzLmV4cGFuZFJlbmRlcmVyKClcbiAgICAgICAgdGhpcy5sYXlvdXQod2lkdGgsIGhlaWdodClcbiAgICAgICAgLy8gaWYgKHRoaXMuc2NlbmUpIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJnbC5kcmF3aW5nQnVmZmVyV2lkdGhcIiwgdGhpcy5yZW5kZXJlci52aWV3LmdldENvbnRleHQoJ3dlYmdsJykuZHJhd2luZ0J1ZmZlcldpZHRoKVxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcInNjZW5lXCIsIHRoaXMuc2NlbmUuc2NhbGUsIHRoaXMucmVuZGVyZXIsIHRoaXMucmVuZGVyZXIuYXV0b1Jlc2l6ZSwgdGhpcy5yZW5kZXJlci5yZXNvbHV0aW9uKVxuICAgICAgICAvLyB9XG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHRvZG8gV3JpdGUgdGhlIGRvY3VtZW50YXRpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG1vbmtleVBhdGNoUGl4aU1hcHBpbmcoKSB7XG4gICAgICAgIGlmICh0aGlzLm9yaWdpbmFsTWFwUG9zaXRpb25Ub1BvaW50ID09PSBudWxsKSB7XG4gICAgICAgICAgICBsZXQgaW50ZXJhY3Rpb25NYW5hZ2VyID0gdGhpcy5yZW5kZXJlci5wbHVnaW5zLmludGVyYWN0aW9uXG4gICAgICAgICAgICB0aGlzLm9yaWdpbmFsTWFwUG9zaXRpb25Ub1BvaW50ID0gaW50ZXJhY3Rpb25NYW5hZ2VyLm1hcFBvc2l0aW9uVG9Qb2ludFxuICAgICAgICAgICAgaW50ZXJhY3Rpb25NYW5hZ2VyLm1hcFBvc2l0aW9uVG9Qb2ludCA9IChwb2ludCwgeCwgeSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZpeGVkTWFwUG9zaXRpb25Ub1BvaW50KHBvaW50LCB4LCB5KVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHRvZG8gV3JpdGUgdGhlIGRvY3VtZW50YXRpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7YW55fSBsb2NhbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHlcbiAgICAgKiBAcmV0dXJuIHt9IGludGVyYWN0aW9uTWFuYWdlci5tYXBQb3NpdGlvblRvUG9pbnRcbiAgICAgKi9cbiAgICBmaXhlZE1hcFBvc2l0aW9uVG9Qb2ludChsb2NhbCwgeCwgeSkge1xuICAgICAgICBsZXQgcmVzb2x1dGlvbiA9IHRoaXMucmVuZGVyZXIucmVzb2x1dGlvblxuICAgICAgICBsZXQgaW50ZXJhY3Rpb25NYW5hZ2VyID0gdGhpcy5yZW5kZXJlci5wbHVnaW5zLmludGVyYWN0aW9uXG4gICAgICAgIGxldCBleHRlbmRXaWR0aCA9IDEuMFxuICAgICAgICBsZXQgZXh0ZW5kSGVpZ2h0ID0gMS4wXG4gICAgICAgIGxldCBkeSA9IDBcbiAgICAgICAgbGV0IGNhbnZhcyA9IHRoaXMucmVuZGVyZXIudmlld1xuICAgICAgICBsZXQgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbCcpXG5cbiAgICAgICAgaWYgKGNvbnRleHQgIT09IG51bGwgJiYgKGNvbnRleHQuZHJhd2luZ0J1ZmZlcldpZHRoIDwgY2FudmFzLndpZHRoIHx8XG4gICAgICAgICAgICBjb250ZXh0LmRyYXdpbmdCdWZmZXJIZWlnaHQgPCBjYW52YXMuaGVpZ2h0KSkge1xuICAgICAgICAgICAgZXh0ZW5kV2lkdGggPSBjb250ZXh0LmRyYXdpbmdCdWZmZXJXaWR0aCAvIGNhbnZhcy53aWR0aFxuICAgICAgICAgICAgZXh0ZW5kSGVpZ2h0ID0gY29udGV4dC5kcmF3aW5nQnVmZmVySGVpZ2h0IC8gY2FudmFzLmhlaWdodFxuICAgICAgICAgICAgLy9keCA9IHdhbnRlZFdpZHRoIC0gY29udGV4dC5kcmF3aW5nQnVmZmVyV2lkdGhcbiAgICAgICAgICAgIGR5ID0gKGNhbnZhcy5oZWlnaHQgLSBjb250ZXh0LmRyYXdpbmdCdWZmZXJIZWlnaHQpIC8gcmVzb2x1dGlvblxuICAgICAgICB9XG4gICAgICAgIHggKj0gZXh0ZW5kV2lkdGhcbiAgICAgICAgeSAqPSBleHRlbmRIZWlnaHRcbiAgICAgICAgcmV0dXJuIHRoaXMub3JpZ2luYWxNYXBQb3NpdGlvblRvUG9pbnQuY2FsbChpbnRlcmFjdGlvbk1hbmFnZXIsIGxvY2FsLCB4LCB5ICsgZHkpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXhwYW5kIHRoZSByZW5kZXJlciBzdGVwLXdpc2Ugb24gcmVzaXplLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtleHBhbmRdIC0gVGhlIGFtb3VudCBvZiBhZGRpdGlvbmFsIHNwYWNlIGZvciB0aGUgcmVuZGVyZXIgW3B4XS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIHRoZSByZW5kZXJlciB3YXMgcmVzaXplZC5cbiAgICAgKi9cbiAgICBleHBhbmRSZW5kZXJlcihleHBhbmQ9MjU2KSB7XG4gICAgICAgIGxldCByZW5kZXJlciA9IHRoaXMucmVuZGVyZXJcbiAgICAgICAgbGV0IHJlc29sdXRpb24gPSB0aGlzLnJlbmRlcmVyLnJlc29sdXRpb25cbiAgICAgICAgbGV0IHd3ID0gdGhpcy53aWR0aFxuICAgICAgICBsZXQgaGggPSB0aGlzLmhlaWdodFxuICAgICAgICBsZXQgc3cgPSB0aGlzLnNjcmVlbi53aWR0aFxuICAgICAgICBsZXQgc2ggPSB0aGlzLnNjcmVlbi5oZWlnaHRcbiAgICAgICAgaWYgKHd3ID4gc3cgfHwgaGggPiBzaCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0FwcC5leHBhbmRSZW5kZXJlcicpXG4gICAgICAgICAgICByZW5kZXJlci5yZXNpemUod3cgKyBleHBhbmQsIGhoICsgZXhwYW5kKVxuICAgICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgfVxuXG4gICAgICAgIHJlbmRlcmVyLnJlc2l6ZSh3dywgaGgpXG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgbG9hZGluZyBwcm9ncmVzcyBvZiB0aGUgYXBwbGljYXRpb24uIElmIGNhbGxlZCBmb3IgdGhlIGZpcnN0IHRpbWUsIGRpc3BsYXkgdGhlIHByb2dyZXNzIGJhci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbdmFsdWVdIC0gU2hvdWxkIGJlIGEgdmFsdWUgYmV0d2VlbiAwIGFuZCAxMDAuIElmIDEwMCwgdGhlIHByb2dyZXNzIGJhciB3aWxsIGRpc2FwcGVhci5cbiAgICAgKiBAcmV0dXJuIHtQSVhJQXBwfFByb2dyZXNzfSBUaGUgUGl4aUFwcCBvYmplY3QgZm9yIGNoYWluaW5nIG9yIHRoZSBQcm9ncmVzcyBvYmplY3Qgd2hlbiB0aGUgbWV0aG9kIHdhc1xuICAgICAqICAgICBjYWxsZWQgd2l0aG91dCBhIHBhcmFtZXRlci5cbiAgICAgKi9cbiAgICBwcm9ncmVzcyh2YWx1ZSkge1xuXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcHJvZ3Jlc3NcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3Byb2dyZXNzLnZpc2libGUgPSB0cnVlXG4gICAgICAgIHRoaXMuX3Byb2dyZXNzLnByb2dyZXNzID0gdmFsdWVcblxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE9wZW5zIGEgbmV3IE1vZGFsIG9iamVjdCBiaW5kZWQgdG8gdGhpcyBhcHAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdHNdIC0gQW4gb3B0aW9ucyBvYmplY3QgZm9yIHRoZSBNb2RhbCBvYmplY3QuXG4gICAgICogQHJldHVybiB7TW9kYWx9IFJldHVybnMgdGhlIE1vZGFsIG9iamVjdC5cbiAgICAgKi9cbiAgICBtb2RhbChvcHRzID0ge30pIHtcblxuICAgICAgICBsZXQgbW9kYWwgPSBuZXcgTW9kYWwoT2JqZWN0LmFzc2lnbih7dGhlbWU6IHRoaXMudGhlbWV9LCBvcHRzLCB7YXBwOiB0aGlzfSkpXG4gICAgICAgIHRoaXMuc2NlbmUuYWRkQ2hpbGQobW9kYWwpXG5cbiAgICAgICAgcmV0dXJuIG1vZGFsXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT3BlbnMgYSBuZXcgTWVzc2FnZSBvYmplY3QgYmluZGVkIHRvIHRoaXMgYXBwLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRzXSAtIEFuIG9wdGlvbnMgb2JqZWN0IGZvciB0aGUgTWVzc2FnZSBvYmplY3QuXG4gICAgICogQHJldHVybiB7TWVzc2FnZX0gUmV0dXJucyB0aGUgTWVzc2FnZSBvYmplY3QuXG4gICAgICovXG4gICAgbWVzc2FnZShvcHRzID0ge30pIHtcblxuICAgICAgICBsZXQgbWVzc2FnZSA9IG5ldyBNZXNzYWdlKE9iamVjdC5hc3NpZ24oe3RoZW1lOiB0aGlzLnRoZW1lfSwgb3B0cywge2FwcDogdGhpc30pKVxuICAgICAgICB0aGlzLnNjZW5lLmFkZENoaWxkKG1lc3NhZ2UpXG5cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2VcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMb2FkcyBzcHJpdGVzLCBlLmcuIGltYWdlcyBpbnRvIHRoZSBQSVhJIFRleHR1cmVDYWNoZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfSByZXNvdXJjZXMgLSBBIFN0cmluZyBvciBhbiBBcnJheSBvZiB1cmxzIHRvIHRoZSBpbWFnZXMgdG8gbG9hZC5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbbG9hZGVkXSAtIEEgY2FsbGJhY2sgd2hpY2ggaXMgZXhlY3V0ZWQgYWZ0ZXIgYWxsIHJlc291cmNlcyBoYXMgYmVlbiBsb2FkZWQuXG4gICAgICogICAgIFJlY2VpdmVzIG9uZSBwYXJhbXRlciwgYSBNYXAgb2Ygc3ByaXRlcyB3aGVyZSB0aGUga2V5IGlzIHRoZSBwYXRoIG9mIHRoZSBpbWFnZSB3aGljaCB3YXNcbiAgICAgKiAgICAgbG9hZGVkIGFuZCB0aGUgdmFsdWUgaXMgdGhlIFBJWEkuU3ByaXRlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdHNdIC0gQW4gb3B0aW9ucyBvYmplY3QgZm9yIG1vcmUgc3BlY2lmaWMgcGFyYW1ldGVycy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLnJlc29sdXRpb25EZXBlbmRlbnQ9dHJ1ZV0gLSBTaG91bGQgdGhlIHNwcml0ZXMgYmUgbG9hZGVkIGRlcGVuZGVudCBvZiB0aGVcbiAgICAgKiAgICAgcmVuZGVyZXIgcmVzb2x1dGlvbj9cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLnByb2dyZXNzPWZhbHNlXSAtIFNob3VsZCBhIHByb2dyZXNzIGJhciBkaXNwbGF5IHRoZSBsb2FkaW5nIHN0YXR1cz9cbiAgICAgKiBAcmV0dXJuIHtQSVhJQXBwfSBUaGUgUElYSUFwcCBvYmplY3QgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIGxvYWRTcHJpdGVzKHJlc291cmNlcywgbG9hZGVkID0gbnVsbCwge3Jlc29sdXRpb25EZXBlbmRlbnQgPSB0cnVlLCBwcm9ncmVzcyA9IGZhbHNlfSA9IHt9KSB7XG5cbiAgICAgICAgdGhpcy5sb2FkVGV4dHVyZXMocmVzb3VyY2VzLCB0ZXh0dXJlcyA9PiB7XG5cbiAgICAgICAgICAgIGxldCBzcHJpdGVzID0gbmV3IE1hcCgpXG5cbiAgICAgICAgICAgIGZvciAobGV0IFtrZXksIHRleHR1cmVdIG9mIHRleHR1cmVzKSB7XG4gICAgICAgICAgICAgICAgc3ByaXRlcy5zZXQoa2V5LCBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSkpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChsb2FkZWQpIHtcbiAgICAgICAgICAgICAgICBsb2FkZWQuY2FsbCh0aGlzLCBzcHJpdGVzKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sIHtyZXNvbHV0aW9uRGVwZW5kZW50LCBwcm9ncmVzc30pXG5cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMb2FkcyB0ZXh0dXJlcywgZS5nLiBpbWFnZXMgaW50byB0aGUgUElYSSBUZXh0dXJlQ2FjaGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXX0gcmVzb3VyY2VzIC0gQSBTdHJpbmcgb3IgYW4gQXJyYXkgb2YgdXJscyB0byB0aGUgaW1hZ2VzIHRvIGxvYWQuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gW2xvYWRlZF0gLSBBIGNhbGxiYWNrIHdoaWNoIGlzIGV4ZWN1dGVkIGFmdGVyIGFsbCByZXNvdXJjZXMgaGFzIGJlZW4gbG9hZGVkLlxuICAgICAqICAgICBSZWNlaXZlcyBvbmUgcGFyYW10ZXIsIGEgTWFwIG9mIHNwcml0ZXMgd2hlcmUgdGhlIGtleSBpcyB0aGUgcGF0aCBvZiB0aGUgaW1hZ2Ugd2hpY2ggd2FzXG4gICAgICogICAgIGxvYWRlZCBhbmQgdGhlIHZhbHVlIGlzIHRoZSBQSVhJLlNwcml0ZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRzXSAtIEFuIG9wdGlvbnMgb2JqZWN0IGZvciBtb3JlIHNwZWNpZmljIHBhcmFtZXRlcnMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5yZXNvbHV0aW9uRGVwZW5kZW50PXRydWVdIC0gU2hvdWxkIHRoZSB0ZXh0dXJlcyBiZSBsb2FkZWQgZGVwZW5kZW50IG9mIHRoZVxuICAgICAqICAgICByZW5kZXJlciByZXNvbHV0aW9uP1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdHMucHJvZ3Jlc3M9ZmFsc2VdIC0gU2hvdWxkIGEgcHJvZ3Jlc3MgYmFyIGRpc3BsYXkgdGhlIGxvYWRpbmcgc3RhdHVzP1xuICAgICAqIEByZXR1cm4ge1BJWElBcHB9IFRoZSBQSVhJQXBwIG9iamVjdCBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgbG9hZFRleHR1cmVzKHJlc291cmNlcywgbG9hZGVkID0gbnVsbCwge3Jlc29sdXRpb25EZXBlbmRlbnQgPSB0cnVlLCBwcm9ncmVzcyA9IGZhbHNlfSA9IHt9KSB7XG5cbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHJlc291cmNlcykpIHtcbiAgICAgICAgICAgIHJlc291cmNlcyA9IFtyZXNvdXJjZXNdXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBsb2FkZXIgPSB0aGlzLmxvYWRlclxuXG4gICAgICAgIGZvciAobGV0IHJlc291cmNlIG9mIHJlc291cmNlcykge1xuXG4gICAgICAgICAgICBpZiAoIWxvYWRlci5yZXNvdXJjZXNbcmVzb3VyY2VdKSB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKHJlc29sdXRpb25EZXBlbmRlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJlc29sdXRpb24gPSBNYXRoLnJvdW5kKHRoaXMucmVuZGVyZXIucmVzb2x1dGlvbilcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChyZXNvbHV0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGVyLmFkZChyZXNvdXJjZSwgcmVzb3VyY2UucmVwbGFjZSgvXFwuKFteLl0qKSQvLCAnQDJ4LiQxJykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkZXIuYWRkKHJlc291cmNlLCByZXNvdXJjZS5yZXBsYWNlKC9cXC4oW14uXSopJC8sICdAM3guJDEnKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkZXIuYWRkKHJlc291cmNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsb2FkZXIuYWRkKHJlc291cmNlKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwcm9ncmVzcykge1xuICAgICAgICAgICAgbG9hZGVyLm9uKCdwcm9ncmVzcycsIGUgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvZ3Jlc3MoZS5wcm9ncmVzcylcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgICAgICBsb2FkZXIubG9hZCgobG9hZGVyLCByZXNvdXJjZXMpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRleHR1cmVzID0gbmV3IE1hcCgpXG5cbiAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiByZXNvdXJjZXMpIHtcbiAgICAgICAgICAgICAgICB0ZXh0dXJlcy5zZXQoa2V5LCByZXNvdXJjZXNba2V5XS50ZXh0dXJlKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobG9hZGVkKSB7XG4gICAgICAgICAgICAgICAgbG9hZGVkLmNhbGwodGhpcywgdGV4dHVyZXMpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBRdWVyaWVzIHRoZSBHcmFwaFFMIGVuZHBvaW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtxdWVyeV0gLSBUaGUgR3JhcGhRTCBxdWVyeSBzdHJpbmcuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRzPXt9XSAtIEFuIG9wdGlvbnMgb2JqZWN0LiBUaGUgZm9sbG93aW5nIG9wdGlvbnMgY2FuIGJlIHNldDpcbiAgICAgKiAgICAgaHR0cDovL2Rldi5hcG9sbG9kYXRhLmNvbS9jb3JlL2Fwb2xsby1jbGllbnQtYXBpLmh0bWwjQXBvbGxvQ2xpZW50LnF1ZXJ5XG4gICAgICogQHJldHVybiB7UHJvbWlzZX0gUmV0dXJucyBhIFByb21pc2Ugd2hpY2ggaXMgZWl0aGVyIHJlc29sdmVkIHdpdGggdGhlIHJlc3VsdGluZyBkYXRhIG9yXG4gICAgICogICAgIHJlamVjdGVkIHdpdGggYW4gZXJyb3IuXG4gICAgICovXG4gICAgcXVlcnkocXVlcnksIG9wdHMgPSB7fSkge1xuXG4gICAgICAgIGlmICh0eXBlb2YgcXVlcnkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBvcHRzID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0cywge3F1ZXJ5fSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9wdHMgPSBPYmplY3QuYXNzaWduKHt9LCBxdWVyeSlcbiAgICAgICAgfVxuXG4gICAgICAgIG9wdHMucXVlcnkgPSBvcHRzLnF1ZXJ5LnRyaW0oKVxuXG4gICAgICAgIGlmICghb3B0cy5xdWVyeS5zdGFydHNXaXRoKCdxdWVyeScpKSB7XG4gICAgICAgICAgICBpZiAob3B0cy5xdWVyeS5zdGFydHNXaXRoKCd7JykpIHtcbiAgICAgICAgICAgICAgICBvcHRzLnF1ZXJ5ID0gYHF1ZXJ5ICR7b3B0cy5xdWVyeX1gXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG9wdHMucXVlcnkgPSBgcXVlcnkgeyR7b3B0cy5xdWVyeX19YFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgb3B0cy5xdWVyeSA9IGdxbChvcHRzLnF1ZXJ5KVxuXG4gICAgICAgIHJldHVybiB0aGlzLmFwb2xsb0NsaWVudC5xdWVyeShvcHRzKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE11dGF0ZSB0aGUgR3JhcGhRTCBlbmRwb2ludC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbbXV0YXRpb25dIC0gVGhlIEdyYXBoUUwgbXV0YXRpb24gc3RyaW5nLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0cz17fV0gLSBBbiBvcHRpb25zIG9iamVjdC4gVGhlIGZvbGxvd2luZyBvcHRpb25zIGNhbiBiZSBzZXQ6XG4gICAgICogICAgIGh0dHA6Ly9kZXYuYXBvbGxvZGF0YS5jb20vY29yZS9hcG9sbG8tY2xpZW50LWFwaS5odG1sI0Fwb2xsb0NsaWVudC5tdXRhdGVcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSBSZXR1cm5zIGEgUHJvbWlzZSB3aGljaCBpcyBlaXRoZXIgcmVzb2x2ZWQgd2l0aCB0aGUgcmVzdWx0aW5nIGRhdGEgb3JcbiAgICAgKiAgICAgcmVqZWN0ZWQgd2l0aCBhbiBlcnJvci5cbiAgICAgKi9cbiAgICBtdXRhdGUobXV0YXRpb24sIG9wdHMgPSB7fSkge1xuXG4gICAgICAgIGlmICh0eXBlb2YgbXV0YXRpb24gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBvcHRzID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0cywge211dGF0aW9ufSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9wdHMgPSBPYmplY3QuYXNzaWduKHt9LCBtdXRhdGlvbilcbiAgICAgICAgfVxuXG4gICAgICAgIG9wdHMubXV0YXRpb24gPSBvcHRzLm11dGF0aW9uLnRyaW0oKVxuXG4gICAgICAgIGlmICghb3B0cy5tdXRhdGlvbi5zdGFydHNXaXRoKCdtdXRhdGlvbicpKSB7XG4gICAgICAgICAgICBpZiAob3B0cy5tdXRhdGlvbi5zdGFydHNXaXRoKCd7JykpIHtcbiAgICAgICAgICAgICAgICBvcHRzLm11dGF0aW9uID0gYG11dGF0aW9uICR7b3B0cy5tdXRhdGlvbn1gXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG9wdHMubXV0YXRpb24gPSBgbXV0YXRpb24geyR7b3B0cy5tdXRhdGlvbn19YFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgb3B0cy5tdXRhdGlvbiA9IGdxbChvcHRzLm11dGF0aW9uKVxuXG4gICAgICAgIHJldHVybiB0aGlzLmFwb2xsb0NsaWVudC5tdXRhdGUob3B0cylcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdWJzY3JpYmUgdGhlIEdyYXBoUUwgZW5kcG9pbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N1YnNjcmlwdGlvbl0gLSBUaGUgR3JhcGhRTCBzdWJzY3JpcHRpb24uXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRzPXt9XSAtIEFuIG9wdGlvbnMgb2JqZWN0LiBUaGUgZm9sbG93aW5nIG9wdGlvbnMgY2FuIGJlIHNldDpcbiAgICAgKiAgICAgaHR0cDovL2Rldi5hcG9sbG9kYXRhLmNvbS9jb3JlL2Fwb2xsby1jbGllbnQtYXBpLmh0bWwjQXBvbGxvQ2xpZW50LnF1ZXJ5XG4gICAgICogQHJldHVybiB7UHJvbWlzZX0gUmV0dXJucyBhIFByb21pc2Ugd2hpY2ggaXMgZWl0aGVyIHJlc29sdmVkIHdpdGggdGhlIHJlc3VsdGluZyBkYXRhIG9yXG4gICAgICogICAgIHJlamVjdGVkIHdpdGggYW4gZXJyb3IuXG4gICAgICovXG4gICAgc3Vic2NyaWJlKHN1YnNjcmlwdGlvbiwgb3B0cyA9IHt9KSB7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBzdWJzY3JpcHRpb24gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBvcHRzID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0cywge3N1YnNjcmlwdGlvbn0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvcHRzID0gT2JqZWN0LmFzc2lnbih7fSwgc3Vic2NyaXB0aW9uKVxuICAgICAgICB9XG5cbiAgICAgICAgb3B0cy5zdWJzY3JpcHRpb24gPSBvcHRzLnN1YnNjcmlwdGlvbi50cmltKClcblxuICAgICAgICBpZiAoIW9wdHMuc3Vic2NyaXB0aW9uLnN0YXJ0c1dpdGgoJ3N1YnNjcmlwdGlvbicpKSB7XG4gICAgICAgICAgICBpZiAob3B0cy5zdWJzY3JpcHRpb24uc3RhcnRzV2l0aCgneycpKSB7XG4gICAgICAgICAgICAgICAgb3B0cy5zdWJzY3JpcHRpb24gPSBgc3Vic2NyaXB0aW9uICR7b3B0cy5zdWJzY3JpcHRpb259YFxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvcHRzLnN1YnNjcmlwdGlvbiA9IGBzdWJzY3JpcHRpb24geyR7b3B0cy5zdWJzY3JpcHRpb259fWBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIG9wdHMucXVlcnkgPSBncWwob3B0cy5zdWJzY3JpcHRpb24pXG5cbiAgICAgICAgZGVsZXRlIG9wdHMuc3Vic2NyaXB0aW9uXG5cbiAgICAgICAgcmV0dXJuIHRoaXMuYXBvbGxvQ2xpZW50LnN1YnNjcmliZShvcHRzKVxuICAgIH1cbn1cblxuLyoqXG4gKiBUaGUgY2xhc3MgZnBzZGlzcGxheSBzaG93cyBpbiB0aGUgdXBwZXIgbGVmdCBjb3JuZXJcbiAqIG9mIHRoZSByZW5kZXJlciB0aGUgY3VycmVudCBpbWFnZSByZWZyZXNoIHJhdGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5HcmFwaGljc1xuICogQHNlZSB7QGxpbmsgaHR0cDovL3BpeGlqcy5kb3dubG9hZC9kZXYvZG9jcy9QSVhJLkdyYXBoaWNzLmh0bWx8UElYSS5HcmFwaGljc31cbiAqL1xuY2xhc3MgRnBzRGlzcGxheSBleHRlbmRzIFBJWEkuR3JhcGhpY3Mge1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBhIEZwc0Rpc3BsYXkuXG4gICAgICpcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge1BJWElBcHB9IGFwcCAtIFRoZSBQSVhJQXBwIHdoZXJlIHRoZSBmcmFtZXMgcGVyIHNlY29uZCBzaG91bGQgYmUgZGlzcGxheWVkLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGFwcCkge1xuXG4gICAgICAgIHN1cGVyKClcblxuICAgICAgICB0aGlzLmFwcCA9IGFwcFxuXG4gICAgICAgIHRoaXMubGluZVN0eWxlKDMsIDB4NDM0ZjRmLCAxKVxuICAgICAgICAgICAgLmJlZ2luRmlsbCgweDQzNGY0ZiwgLjYpXG4gICAgICAgICAgICAuZHJhd1JvdW5kZWRSZWN0KDAsIDAsIDY4LCAzMiwgNSlcbiAgICAgICAgICAgIC5lbmRGaWxsKClcbiAgICAgICAgICAgIC5wb3NpdGlvbi5zZXQoMjAsIDIwKVxuXG4gICAgICAgIHRoaXMudGV4dCA9IG5ldyBQSVhJLlRleHQodGhpcy5mcHMsIG5ldyBQSVhJLlRleHRTdHlsZSh7XG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQXJpYWwnLFxuICAgICAgICAgICAgZm9udFNpemU6IDE0LFxuICAgICAgICAgICAgZm9udFdlaWdodDogJ2JvbGQnLFxuICAgICAgICAgICAgZmlsbDogJyNmNmY2ZjYnLFxuICAgICAgICAgICAgc3Ryb2tlOiAnIzQzNGY0ZicsXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDNcbiAgICAgICAgfSkpXG4gICAgICAgIHRoaXMudGV4dC5wb3NpdGlvbi5zZXQoNiwgNilcblxuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMudGV4dClcblxuICAgICAgICB0aGlzLnJlZnJlc2hGcHMoKVxuXG4gICAgICAgIHdpbmRvdy5zZXRJbnRlcnZhbCh0aGlzLnJlZnJlc2hGcHMuYmluZCh0aGlzKSwgMTAwMClcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWZyZXNoZXMgZnBzIG51bWVyLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSUFwcH0gUmV0dXJucyB0aGUgUElYSUFwcCBvYmplY3QgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHJlZnJlc2hGcHMoKSB7XG4gICAgICAgIHRoaXMudGV4dC50ZXh0ID0gYCR7KHRoaXMuYXBwLnRpY2tlci5GUFMpLnRvRml4ZWQoMSl9IGZwc2BcblxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cbn1cbiIsImltcG9ydCBPdmVydmlldyBmcm9tICcuL292ZXJ2aWV3LmpzJ1xuaW1wb3J0IHtUaW1lbGluZSwgVGltZVNjcm9sbGJhcn0gZnJvbSAnLi90aW1lbGluZS5qcydcbmltcG9ydCBNYXBWaWV3IGZyb20gJy4vbWFwdmlldy5qcydcbmltcG9ydCBDYXRlZ29yeVZpZXcgZnJvbSAnLi9jYXRlZ29yeVZpZXcuanMnXG5pbXBvcnQgTG9jYWxMb2dnZXIgZnJvbSAnLi9pd21fbG9nZ2VybG9jYWwuanMnXG5pbXBvcnQgUGljdHVyZXMgZnJvbSAnLi9waWN0dXJlcy5qcydcbmltcG9ydCBTY2VuZSBmcm9tICcuL3NjZW5lLmpzJ1xuaW1wb3J0IFBJWElBcHAgZnJvbSAnLi4vbGliL3BpeGkvYXBwLmpzJ1xuLy9pbXBvcnQge0dsb3dGaWx0ZXJ9IGZyb20gJy4uL2xpYi8zcmRwYXJ0eS9waXhpL3BpeGktZmlsdGVycy5qcydcbmltcG9ydCB7U2NhdHRlckNvbnRhaW5lcn0gZnJvbSAnLi4vbGliL3BpeGkvc2NhdHRlci5qcydcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRXBvY2hhbEFwcCBleHRlbmRzIFBJWElBcHAge1xuICAgIHNjZW5lRmFjdG9yeSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTY2VuZSgpXG4gICAgfVxuXG4gICAgc2V0dXAoZGF0YSwgZG9tU2NhdHRlckNvbnRhaW5lcikge1xuICAgICAgICB3aW5kb3cuYXBwID0gdGhpcyAvLyBNYWtlIHRoZSBhcHAgYSBnbG9iYWwgdmFyaWFibGVcblxuICAgICAgICBzdXBlci5zZXR1cCgpXG4gICAgICAgIHRoaXMuYXVkaW8gPSBudWxsXG4gICAgICAgIHRoaXMuYWxsRGF0YSA9IFtdXG4gICAgICAgIHRoaXMud2FudGVkVGh1bWJIZWlnaHQgPSA2Ni4wXG4gICAgICAgIHRoaXMuYXVkaW9SZWYgPSBudWxsXG4gICAgICAgIHRoaXMucGljdHVyZXMgPSBuZXcgUGljdHVyZXMoKVxuICAgICAgICB0aGlzLm9yaWVudCA9IHRoaXMub3JpZW50YXRpb24oKVxuXG4gICAgICAgIHRoaXMub3ZlcnZpZXcgPSBuZXcgT3ZlcnZpZXcoKVxuICAgICAgICB0aGlzLnRpbWVsaW5lID0gbmV3IFRpbWVsaW5lKClcbiAgICAgICAgdGhpcy5tYXB2aWV3ID0gbmV3IE1hcFZpZXcoKVxuICAgICAgICB0aGlzLmNhdDFWaWV3ID0gbmV3IENhdGVnb3J5VmlldygpXG4gICAgICAgIHRoaXMuY2F0MVZpZXcuaW5pdCgnLi9HYXR0dW5nLnBuZycsICcuL3Bvc2l0aW9uczEudHh0JywgJ2NhdGVnb3J5MS54bWwnKVxuICAgICAgICB0aGlzLmNhdDJWaWV3ID0gbmV3IENhdGVnb3J5VmlldygpXG4gICAgICAgIHRoaXMuY2F0MlZpZXcuaW5pdCgnLi9FcG9jaGVuLnBuZycsICcuL3Bvc2l0aW9uczIudHh0JywgJ2NhdGVnb3J5Mi54bWwnKVxuICAgICAgICB0aGlzLmNhdDNWaWV3ID0gbmV3IENhdGVnb3J5VmlldygpXG4gICAgICAgIHRoaXMuY2F0M1ZpZXcuaW5pdChcbiAgICAgICAgICAgICcuL0hlcmt1bmZ0LnBuZycsXG4gICAgICAgICAgICAnLi9wb3NpdGlvbnMzLnR4dCcsXG4gICAgICAgICAgICAnY2F0ZWdvcnkzLnhtbCdcbiAgICAgICAgKVxuICAgICAgICB0aGlzLmNhdDRWaWV3ID0gbmV3IENhdGVnb3J5VmlldygpXG4gICAgICAgIHRoaXMuY2F0NFZpZXcuaW5pdChcbiAgICAgICAgICAgICcuL1RoZW1hdGlrLnBuZycsXG4gICAgICAgICAgICAnLi9wb3NpdGlvbnM0LnR4dCcsXG4gICAgICAgICAgICAnY2F0ZWdvcnk0LnhtbCdcbiAgICAgICAgKVxuXG4gICAgICAgIHRoaXMudmlld3MgPSBbXG4gICAgICAgICAgICB0aGlzLm92ZXJ2aWV3LFxuICAgICAgICAgICAgdGhpcy50aW1lbGluZSxcbiAgICAgICAgICAgIHRoaXMuY2F0MVZpZXcsXG4gICAgICAgICAgICB0aGlzLmNhdDJWaWV3LFxuICAgICAgICAgICAgdGhpcy5jYXQzVmlldyxcbiAgICAgICAgICAgIHRoaXMuY2F0NFZpZXdcbiAgICAgICAgXVxuICAgICAgICB0aGlzLmN1cnJlbnRWaWV3ID0gdGhpcy52aWV3c1swXVxuICAgICAgICB0aGlzLmxvYWRlZFRodW1icyA9IDBcbiAgICAgICAgdGhpcy5hbGxEYXRhID0gZGF0YVxuICAgICAgICB0aGlzLnNjZW5lLnNldHVwKHRoaXMpXG4gICAgICAgIHRoaXMudGltZWJhciA9IG5ldyBUaW1lU2Nyb2xsYmFyKClcbiAgICAgICAgdGhpcy5zdGFnZS5hZGRDaGlsZCh0aGlzLnRpbWViYXIpXG4gICAgICAgIHRoaXMucHJlbG9hZEltYWdlcygpIC8vIHByZWxvYWRJbWFnZXMgY2FsbHMgdGhlIG90aGVyIHNldHVwIG1ldGhvZHNcblxuICAgICAgICAvL2luaXQgbG9nZ2VyXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLnNldHVwTG9nZ2VyKClcbiAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0Nhbm5vdCBzZXR1cCBsb2dnZXI6ICcgKyBlLm1lc3NhZ2UpXG4gICAgICAgIH1cbiAgICAgICAgLy9pbml0IHNhdmUgbG9ncyBvbiBrZXlwcmVzc1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgJ2tleWRvd24nLFxuICAgICAgICAgICAgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlS2V5RG93bihlKVxuICAgICAgICAgICAgfS5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgKVxuICAgICAgICAvL2luaXQgc2F2ZSBsb2dzIG9uIHRvdWNoIGhvbGQgb24gaGVhZGVyXG4gICAgICAgIHRoaXMuaGVhZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZXBvY2hhbCcpLml0ZW0oMClcbiAgICAgICAgLy9jb25zb2xlLmxvZygnaGVhZGVyIGV4dHJhY3RlZCB3aXRoIG5hbWU6JywgdGhpcy5oZWFkZXIubmFtZSlcbiAgICAgICAgdGhpcy5oZWFkZXJUb3VjaExpc3RlbmVyID0gdGhpcy5oZWFkZXJUb3VjaENoYW5nZWQuYmluZCh0aGlzKVxuICAgICAgICB0aGlzLmhlYWRlci5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgJ3RvdWNoc3RhcnQnLFxuICAgICAgICAgICAgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuaGVhZGVyVG91Y2hTdGFydChlKVxuICAgICAgICAgICAgfS5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgKVxuXG4gICAgICAgIHRoaXMuZG9tU2NhdHRlckNvbnRhaW5lciA9IGRvbVNjYXR0ZXJDb250YWluZXJcblxuICAgICAgICB3aW5kb3cub25iZWZvcmV1bmxvYWQgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICB2YXIgZGlhbG9nID0gJ1dpcmtsaWNoIGJlZW5kZW4/J1xuICAgICAgICAgICAgZS5yZXR1cm5WYWx1ZSA9IGRpYWxvZ1xuICAgICAgICAgICAgcmV0dXJuIGRpYWxvZ1xuICAgICAgICB9XG5cbiAgICAgICAgd2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAnbW91c2Vkb3duJyxcbiAgICAgICAgICAgIHRoaXMuY2xvc2VPcGVuQ2FyZHMuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIHRydWVcbiAgICAgICAgKVxuICAgICAgICB3aW5kb3cuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICd0b3VjaHN0YXJ0JyxcbiAgICAgICAgICAgIHRoaXMuY2xvc2VPcGVuQ2FyZHMuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIHRydWVcbiAgICAgICAgKVxuXG5cbiAgICAgICAgLy9zZXR1cCBhY3RpdmUgdGh1bWJuYWlsXG4gICAgICAgIHRoaXMuYWN0aXZlVGh1bWJJRCA9IC0xXG4gICAgICAgIHRoaXMuc2V0dXBTb2NrZXQoKVxuICAgICAgICBcblxuICAgICAgICBjb25zb2xlLmxvZygnYXBwLnNldHVwJywgYXBwLndpZHRoLCBhcHAuaGVpZ2h0KVxuICAgIH1cblxuICAgIGNsb3NlT3BlbkNhcmRzKGV2ZW50KSB7XG4gICAgICAgIGxldCB0YXJnZXRDbGFzcyA9ICQoZXZlbnQudGFyZ2V0KS5hdHRyKCdjbGFzcycpXG4gICAgICAgIGxldCB0YXJnZXRJZCA9ICQoZXZlbnQudGFyZ2V0KS5hdHRyKCdpZCcpXG4gICAgICAgIGlmICh0YXJnZXRJZCA9PSAnY2FudmFzJykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ2Nsb3NpbmcgY3VycmVudCBwaWN0dXJlIGJlY2F1c2UgY2FudmFzIHdhcyBjbGlja2VkJylcbiAgICAgICAgICAgIHRoaXMucGljdHVyZXMucmVtb3ZlQWxsKClcbiAgICAgICAgfVxuXG4gICAgICAgIFxuICAgIH1cblxuICAgIGhhbmRsZUtleURvd24oZXZlbnQpIHtcbiAgICAgICAgY29uc3Qga2V5TmFtZSA9IGV2ZW50LmtleVxuICAgICAgICBpZiAoLypldmVudC5jdHJsS2V5ICYmKi8ga2V5TmFtZSA9PSAncycpIHtcbiAgICAgICAgICAgIGxldCB1c2VyaWRSZXRyaWV2YWwgPSBjb25maXJtKCdTYXZlIHVzZXIgbG9ncz8nKVxuICAgICAgICAgICAgaWYgKHVzZXJpZFJldHJpZXZhbCkgdGhpcy5yZXBvcnRpbmdDU1ZBY3Rpb25sb2coKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGVhZGVyVG91Y2hTdGFydChldmVudCkge1xuICAgICAgICB0aGlzLmxvZ0ZpbGVUaW1lciA9IHNldFRpbWVvdXQodGhpcy5oZWFkZXJMb25nVG91Y2guYmluZCh0aGlzKSwgMzAwMClcblxuICAgICAgICB0aGlzLmhlYWRlci5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgJ3RvdWNoZW5kJyxcbiAgICAgICAgICAgIHRoaXMuaGVhZGVyVG91Y2hMaXN0ZW5lcixcbiAgICAgICAgICAgIGZhbHNlXG4gICAgICAgIClcbiAgICAgICAgdGhpcy5oZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICd0b3VjaG1vdmUnLFxuICAgICAgICAgICAgdGhpcy5oZWFkZXJUb3VjaExpc3RlbmVyLFxuICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgKVxuICAgIH1cblxuICAgIGhlYWRlclRvdWNoQ2hhbmdlZChldmVudCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5sb2dGaWxlVGltZXIpXG5cbiAgICAgICAgdGhpcy5oZWFkZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLmhlYWRlclRvdWNoTGlzdGVuZXIpXG4gICAgICAgIHRoaXMuaGVhZGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuaGVhZGVyVG91Y2hMaXN0ZW5lcilcblxuICAgICAgICAvL2NvbnNvbGUubG9nKCdsb25nIHRvdWNoIGNhbmNlbGxlZCcpXG4gICAgfVxuXG4gICAgaGVhZGVyTG9uZ1RvdWNoKCkge1xuICAgICAgICBsZXQgdXNlcmlkUmV0cmlldmFsID0gY29uZmlybSgnU2F2ZSB1c2VyIGxvZ3M/JylcbiAgICAgICAgaWYgKHVzZXJpZFJldHJpZXZhbCkgdGhpcy5yZXBvcnRpbmdDU1ZBY3Rpb25sb2coKVxuXG4gICAgICAgIC8vd2luZG93Lm9wZW4oJ2RhdGE6YXR0YWNobWVudC9jc3Y7Y2hhcnNldD11dGYtOCwnICsgZW5jb2RlVVJJKCdoYWxsbycpKVxuXG4gICAgICAgIC8vY29uc29sZS5sb2coJ2xvb29vbmcgdG91Y2ggZGV0ZWN0ZWQnKVxuICAgIH1cblxuICAgIHNldHVwTG9nZ2VyKCkge1xuICAgICAgICB0aGlzLnVzZXJpZCA9IHByb21wdCgnUGxlYXNlIGVudGVyIHlvdXIgbmFtZScsICdYWVowMCcpXG4gICAgICAgIGNvbnNvbGUubG9nKCdsb2dnZXIgaXMgaW5pdGlhdGVkIGZvciB1c2VyJywgdGhpcy51c2VyaWQpXG4gICAgICAgIHRoaXMucnVuaWQgPSAxXG4gICAgICAgIHRoaXMuc3R1ZHlpZCA9ICdleWV2aXNpdCdcbiAgICAgICAgdGhpcy5wYWdlaWQgPSAnw5xCRVJTSUNIVCdcbiAgICAgICAgbGV0IGRhdGUgPSBuZXcgRGF0ZSgpXG4gICAgICAgIHRoaXMuc3RhcnRUaW1lID0gZGF0ZS5nZXRUaW1lKClcblxuICAgICAgICB0aGlzLmxvZ2dlciA9IG5ldyBMb2NhbExvZ2dlcigpXG4gICAgICAgIHRoaXMubG9nZ2VyLmluaXQoKVxuICAgIH1cblxuICAgIHNldHVwU29ja2V0KCl7XG4gICAgICAgIGNvbnNvbGUubG9nKCdzZXR0aW5nIHVwIHNvY2tldC5pbycpXG5cbiAgICAgICAgdGhpcy5zb2NrZXQgPSAodHlwZW9mIGlvICE9ICd1bmRlZmluZWQnKSA/IGlvKCdodHRwOi8vbG9jYWxob3N0OjgwODEnKSA6IG51bGxcblxuICAgICAgICB0aGlzLnNvY2tldC5vbignd2VsY29tZScsIGRhdGEgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ3NlcnZlciBzYXlzIGhpJywgZGF0YSlcbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLnNvY2tldC5vbigndXBkYXRlJywgZGF0YSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnc29ja2V0IHVwZGF0ZSByZWNlaXZlZCcsIGRhdGEpXG4gICAgICAgICAgICBsZXQgdXBkYXRlZFRodW1iSUQgPSBkYXRhXG4gICAgICAgICAgICB0aGlzLnBpY3R1cmVzLnJlbW92ZUFsbCgpXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUFjdGl2ZVRodW1iSUQodXBkYXRlZFRodW1iSUQpICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy9sb2dnaW5nXG4gICAgICAgICAgICB0aGlzLmxvZygnc3luYyBmcm9tIHNlcnZlcicsIHtpZDogdXBkYXRlZFRodW1iSUR9KVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHRvZ2dsZUF1ZGlvKGQpIHtcbiAgICAgICAgaWYgKHRoaXMuYXVkaW9SZWYgPT0gZC5yZWYpIHtcbiAgICAgICAgICAgIFR3ZWVuTWF4LnRvKHRoaXMuYXVkaW8sIDAuNSwge3Zpc2liaWxpdHk6ICdoaWRkZW4nfSlcbiAgICAgICAgICAgIHRoaXMuYXVkaW8uc3JjID0gbnVsbFxuICAgICAgICAgICAgdGhpcy5hdWRpb1JlZiA9IG51bGxcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIFR3ZWVuTWF4LnRvKHRoaXMuYXVkaW8sIDAuNSwge29wYWNpdHk6IDEsIHZpc2liaWxpdHk6ICd2aXNpYmxlJ30pXG4gICAgICAgICAgICB0aGlzLmF1ZGlvLnNyYyA9IGQuYXVkaW9VUkxcbiAgICAgICAgICAgIHRoaXMuYXVkaW8ucGxheSgpXG4gICAgICAgICAgICB0aGlzLmF1ZGlvUmVmID0gZC5yZWZcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlc2l6ZVN0YWdlKHcsIGgpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ3Jlc2l6ZVN0YWdlJywgdywgaClcbiAgICAgICAgdGhpcy5zY2VuZS5oaXRBcmVhID0gbmV3IFBJWEkuUmVjdGFuZ2xlKDAsIDAsIHcsIGgpXG4gICAgfVxuXG4gICAgcHJlbG9hZEltYWdlcygpIHtcbiAgICAgICAgbGV0IHByZWZpeCA9ICcuL2NhcmRzLydcbiAgICAgICAgbGV0IGxvYWRlciA9IFBJWEkubG9hZGVyXG4gICAgICAgIHRoaXMuYWxsRGF0YS5mb3JFYWNoKGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgIC8vIFVPOiBEaXNhYmxlIGF1ZGlvIGZvciB0aGUgbW9tZW50XG5cbiAgICAgICAgICAgIGQuYXVkaW8gPSBudWxsXG4gICAgICAgICAgICBkLnJlZiA9IGQubmFtZS5zcGxpdCgnICcpWzBdXG4gICAgICAgICAgICAvL2QudGh1bWJVUkwgPSAgcHJlZml4ICsgZC5yZWYgKyAnLnRodW1iLnBuZydcbiAgICAgICAgICAgIC8vZC5waWN0dXJlVVJMID0gcHJlZml4ICsgZC5yZWYgKyAnLmpwZydcbiAgICAgICAgICAgIGQudGh1bWJVUkwgPSBwcmVmaXggKyBkLnJlZiArICcvJyArIGQucmVmICsgJy50aHVtYi5wbmcnXG4gICAgICAgICAgICBkLnBpY3R1cmVVUkwgPSBwcmVmaXggKyBkLnJlZiArICcvJyArIGQucmVmICsgJy5qcGVnJ1xuICAgICAgICAgICAgLy9kLmluZm9VUkwgPSBwcmVmaXggKyAnZXhwb25hdCcgKyBwYXJzZUludChkLnJlZikgKyAnLnBkZidcblxuICAgICAgICAgICAgLy9kLmluZm9VUkwgPSAnLi4vLi4vdmFyL2V5ZXZpc2l0LycgKyBkLnJlZiArICcvJyArIGQucmVmICsgJy54bWwnXG4gICAgICAgICAgICBkLmluZm9VUkwgPSAnLi9jYXJkcy8nICsgZC5yZWYgKyAnLycgKyBkLnJlZiArICcueG1sJ1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ2QuaW5mb1VSTCcsIGQuaW5mb1VSTClcbiAgICAgICAgICAgIGQuYXVkaW9VUkwgPSBwcmVmaXggKyBkLmF1ZGlvXG4gICAgICAgICAgICBsb2FkZXIuYWRkKGQucmVmLCBkLnRodW1iVVJMKVxuXG4gICAgICAgICAgICAvLyBVTzogUHJlbG9hZCBpbWFnZXMgaW50byBjYWNoZVxuICAgICAgICAgICAgbGV0IGltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJylcbiAgICAgICAgICAgIGltYWdlLm9ubG9hZCA9IGUgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQcmVsb2FkZWQgJyArIGQucGljdHVyZVVSTClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGltYWdlLnNyYyA9IGQucGljdHVyZVVSTFxuICAgICAgICB9KVxuICAgICAgICBsb2FkZXIub25jZSgnY29tcGxldGUnLCB0aGlzLnRodW1ic0xvYWRlZC5iaW5kKHRoaXMpKVxuICAgICAgICBsb2FkZXIubG9hZCgpXG4gICAgfVxuXG4gICAgdGh1bWJuYWlsU2VsZWN0ZWQoZXZlbnQpIHtcbiAgICAgICAgLy9jb25zb2xlLmxvZygndGh1bWJuYWlsIHNlbGVjdGVkIC0tLS0+IGNhbGxpbmcgc2hvdygpJylcblxuICAgICAgICAvL2Rpc2FibGUgaW50ZXJhY3Rpb24gdW50aWwgaW1hZ2UgaXMgcHJvcGVybHkgbG9hZGVkXG4gICAgICAgIHRoaXMuYWxsRGF0YS5mb3JFYWNoKFxuICAgICAgICAgICAgZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgICAgIGQudGh1bWJuYWlsLmNsaWNrID0gbnVsbFxuICAgICAgICAgICAgICAgIGQudGh1bWJuYWlsLnRhcCA9IG51bGxcbiAgICAgICAgICAgIH0uYmluZCh0aGlzKVxuICAgICAgICApXG5cbiAgICAgICAgbGV0IGQgPSBldmVudC50YXJnZXQuZGF0YVxuXG4gICAgICAgIC8vaWYgKGQuYXVkaW8pIHtcbiAgICAgICAgLy8gICAgdGhpcy50b2dnbGVBdWRpbyhkKVxuICAgICAgICAvL31cblxuICAgICAgICB0aGlzLnBpY3R1cmVzLnNob3coZXZlbnQsIGQpXG5cbiAgICAgICAgY29uc29sZS5sb2coJ29wZW5pbmcgaW1hZ2UnLCBkLnJlZilcblxuICAgICAgICAvL3VwZGF0ZSBsb2NhbCBhbmQgcmVtb3RlIHRodW1ibmFpbCBzZWxlY3Rpb25cbiAgICAgICAgdGhpcy5zb2NrZXQuZW1pdCgndXBkYXRlJywgZC5yZWYpXG4gICAgICAgIHRoaXMudXBkYXRlQWN0aXZlVGh1bWJJRChkLnJlZilcblxuICAgICAgICAvL2xvZ2dpbmdcbiAgICAgICAgdGhpcy5sb2coJ2ltYWdlIG9wZW5lZCcsIHtpZDogZC5yZWZ9KVxuICAgIH1cblxuICAgIHVwZGF0ZUFjdGl2ZVRodW1iSUQoaWQpe1xuICAgICAgICB0aGlzLmFjdGl2ZVRodW1iSUQgPSBpZFxuXG4gICAgICAgIHRoaXMuYWxsRGF0YS5mb3JFYWNoKGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgIGlmKGQucmVmID09IGlkKXtcbiAgICAgICAgICAgICAgICBkLnRodW1ibmFpbC5maWx0ZXJzID0gW1xuICAgICAgICAgICAgICAgICAgICBuZXcgR2xvd0ZpbHRlcigxMCwgMCwgMSwgMHhGRjAwMDAsIDAuNSksXG4gICAgICAgICAgICAgICAgICAgIG5ldyBPdXRsaW5lRmlsdGVyKDksIDB4RkYwMDAwKVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgZC50aHVtYm5haWwuZmlsdGVycyA9IFtdXG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgIH1cblxuICAgIHJlc2V0QWN0aXZlVGh1bWJJRCgpe1xuICAgICAgICB0aGlzLnNvY2tldC5lbWl0KCd1cGRhdGUnLCAtMSlcbiAgICAgICAgdGhpcy51cGRhdGVBY3RpdmVUaHVtYklEKC0xKVxuICAgIH1cblxuICAgIGltYWdlTG9hZGVkKCkge1xuICAgICAgICAvL2NvbnNvbGUubG9nKCdwaWN0dXJlLnNob3cgY29tcGxldGVkIC0tLS0+IHJlLWVuYWJsZSBpbnRlcmFjdGlvbicpXG5cbiAgICAgICAgLy9yZS1lbmFibGUgaW50ZXJhY3Rpb24gd2hlbiBpbWFnZSBpcyBwcm9wZXJseSBsb2FkZWRcbiAgICAgICAgdGhpcy5hbGxEYXRhLmZvckVhY2goXG4gICAgICAgICAgICBmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICAgICAgZC50aHVtYm5haWwuY2xpY2sgPSB0aGlzLnRodW1ibmFpbFNlbGVjdGVkLmJpbmQodGhpcylcbiAgICAgICAgICAgICAgICBkLnRodW1ibmFpbC50YXAgPSB0aGlzLnRodW1ibmFpbFNlbGVjdGVkLmJpbmQodGhpcylcbiAgICAgICAgICAgIH0uYmluZCh0aGlzKVxuICAgICAgICApXG4gICAgfVxuXG4gICAgYWRkVGh1bWJuYWlsKGQpIHtcbiAgICAgICAgbGV0IHRleHR1cmUgPSBQSVhJLmxvYWRlci5yZXNvdXJjZXNbZC5yZWZdLnRleHR1cmVcbiAgICAgICAgbGV0IHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKVxuICAgICAgICBzcHJpdGUuaW50ZXJhY3RpdmUgPSB0cnVlXG4gICAgICAgIHNwcml0ZS5kYXRhID0gZFxuICAgICAgICB0aGlzLnNjZW5lLmFkZENoaWxkKHNwcml0ZSlcbiAgICAgICAgc3ByaXRlLmNsaWNrID0gdGhpcy50aHVtYm5haWxTZWxlY3RlZC5iaW5kKHRoaXMpXG4gICAgICAgIHNwcml0ZS50YXAgPSB0aGlzLnRodW1ibmFpbFNlbGVjdGVkLmJpbmQodGhpcylcbiAgICAgICAgLy8gc3ByaXRlLmFscGhhID0gKGQuYXVkaW8pID8gMS4wIDogMC41XG4gICAgICAgIHJldHVybiBzcHJpdGVcbiAgICB9XG5cbiAgICB0aHVtYnNMb2FkZWQoKSB7XG4gICAgICAgIHRoaXMuYWxsRGF0YS5mb3JFYWNoKFxuICAgICAgICAgICAgZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgICAgIGQudGh1bWJuYWlsID0gdGhpcy5hZGRUaHVtYm5haWwoZClcbiAgICAgICAgICAgIH0uYmluZCh0aGlzKVxuICAgICAgICApXG4gICAgICAgIHRoaXMucHJlcGFyZURhdGEoKVxuICAgICAgICB0aGlzLmRyYXcoKVxuICAgIH1cblxuICAgIHByZXBhcmVEYXRhKCkge1xuICAgICAgICBsZXQgc2l6ZSA9IHRoaXMuc2l6ZVxuICAgICAgICBsZXQgdyA9IHNpemUud2lkdGhcbiAgICAgICAgbGV0IGggPSBzaXplLmhlaWdodCAtIDQwMFxuICAgICAgICBsZXQgaGggPSB0aGlzLndhbnRlZFRodW1iSGVpZ2h0XG4gICAgICAgIGxldCB0b3RhbCA9IHcgKiBoICogMC43NVxuICAgICAgICBsZXQgc3VtID0gMFxuICAgICAgICB0aGlzLmFsbERhdGEuZm9yRWFjaChcbiAgICAgICAgICAgIGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgICAgICBkLm1hcFggPSBkLnhcbiAgICAgICAgICAgICAgICBkLm1hcFkgPSBkLnlcbiAgICAgICAgICAgICAgICBsZXQgd3cgPSBkLnRodW1ibmFpbC53aWR0aCAqIChoaCAvIGQudGh1bWJuYWlsLmhlaWdodCkgKyAxXG4gICAgICAgICAgICAgICAgc3VtICs9IHd3ICogaGhcbiAgICAgICAgICAgIH0uYmluZCh0aGlzKVxuICAgICAgICApXG4gICAgICAgIHRoaXMud2FudGVkVGh1bWJIZWlnaHQgKj0gTWF0aC5zcXJ0KHRvdGFsKSAvIE1hdGguc3FydChzdW0pXG5cbiAgICAgICAgdGhpcy5hbGxEYXRhLmZvckVhY2goZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgZC5zY2FsZWRIZWlnaHQgPSBoaFxuICAgICAgICAgICAgZC5zY2FsZWRXaWR0aCA9IGQudGh1bWJuYWlsLndpZHRoICogKGhoIC8gZC50aHVtYm5haWwuaGVpZ2h0KSArIDFcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBwbGFjZVRodW1icygpIHtcbiAgICAgICAgdGhpcy5hbGxEYXRhLmZvckVhY2goZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgZC50aHVtYm5haWwueCA9IGQueFxuICAgICAgICAgICAgZC50aHVtYm5haWwueSA9IGQueVxuICAgICAgICAgICAgZC50aHVtYm5haWwud2lkdGggPSBkLndpZHRoXG4gICAgICAgICAgICBkLnRodW1ibmFpbC5oZWlnaHQgPSBkLmhlaWdodFxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGFuaW1hdGVUaHVtYnMoKSB7XG4gICAgICAgIHRoaXMuYWxsRGF0YS5mb3JFYWNoKGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgIFR3ZWVuTGl0ZS50byhkLnRodW1ibmFpbCwgMC41LCB7XG4gICAgICAgICAgICAgICAgeDogZC54LFxuICAgICAgICAgICAgICAgIHk6IGQueSxcbiAgICAgICAgICAgICAgICB3aWR0aDogZC53aWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGQuaGVpZ2h0XG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGxheW91dCh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRWaWV3KSB0aGlzLmN1cnJlbnRWaWV3LmxheW91dCh3aWR0aCwgaGVpZ2h0KVxuICAgICAgICBpZiAodGhpcy5hbGxEYXRhKSB0aGlzLnBsYWNlVGh1bWJzKHdpZHRoLCBoZWlnaHQpXG4gICAgfVxuXG4gICAgc2VsZWN0TWVudUl0ZW0oZXZlbnQpIHtcbiAgICAgICAgbGV0IGl0ZW0gPSBldmVudC50YXJnZXRcbiAgICAgICAgbGV0IHRtcFZpZXcgPSB0aGlzLmN1cnJlbnRWaWV3XG4gICAgICAgIFxuICAgICAgICBpZiAoaXRlbS5pbm5lckhUTUwgPT0gJ8OcQkVSU0lDSFQnKSB7XG4gICAgICAgICAgICB0bXBWaWV3ID0gdGhpcy52aWV3c1swXVxuICAgICAgICB9IGVsc2UgaWYgKGl0ZW0uaW5uZXJIVE1MID09ICdaRUlUQUNIU0UnKSB7XG4gICAgICAgICAgICB0bXBWaWV3ID0gdGhpcy52aWV3c1sxXVxuICAgICAgICB9IGVsc2UgaWYgKGl0ZW0uaW5uZXJIVE1MID09ICdHQVRUVU5HJykge1xuICAgICAgICAgICAgdG1wVmlldyA9IHRoaXMudmlld3NbMl1cbiAgICAgICAgfSBlbHNlIGlmIChpdGVtLmlubmVySFRNTCA9PSAnRVBPQ0hFTicpIHtcbiAgICAgICAgICAgIHRtcFZpZXcgPSB0aGlzLnZpZXdzWzNdXG4gICAgICAgIH0gZWxzZSBpZiAoaXRlbS5pbm5lckhUTUwgPT0gJ0hFUktVTkZUJykge1xuICAgICAgICAgICAgdG1wVmlldyA9IHRoaXMudmlld3NbNF1cbiAgICAgICAgfSBlbHNlIGlmIChpdGVtLmlubmVySFRNTCA9PSAnVEhFTUFUSUsnKSB7XG4gICAgICAgICAgICB0bXBWaWV3ID0gdGhpcy52aWV3c1s1XVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5jdXJyZW50VmlldykgdGhpcy5jdXJyZW50Vmlldy5jbGVhcigpXG4gICAgICAgIGQzLnNlbGVjdEFsbCgnLm1lbnVpdGVtJykuY2xhc3NlZCgnc2VsZWN0ZWQnLCBmYWxzZSlcbiAgICAgICAgZDMuc2VsZWN0KGV2ZW50LnRhcmdldCkuY2xhc3NlZCgnc2VsZWN0ZWQnLCB0cnVlKVxuXG4gICAgICAgIHRoaXMuY3VycmVudFZpZXcgPSB0bXBWaWV3XG5cbiAgICAgICAgdGhpcy5jdXJyZW50Vmlldy5sYXlvdXQoYXBwLndpZHRoLCBhcHAuaGVpZ2h0KVxuICAgICAgICB0aGlzLmN1cnJlbnRWaWV3LmFkanVzdCgpXG4gICAgICAgIHRoaXMuYW5pbWF0ZVRodW1icygpXG5cbiAgICAgICAgLy9sb2dnaW5nICAgICAgICBcbiAgICAgICAgdGhpcy5sb2coJ3ZpZXcgb3BlbmVkJywge2lkOiBpdGVtLmlubmVySFRNTH0pXG5cbiAgICAgICAgdGhpcy5wYWdlaWQgPSBpdGVtLmlubmVySFRNTFxuICAgICAgICBcbiAgICB9XG5cbiAgICBsb2coYWN0aW9uLCBkYXRhKSB7XG4gICAgICAgIGxldCBkYXRlID0gbmV3IERhdGUoKVxuICAgICAgICBsZXQgY3VycmVudFRpbWUgPSBkYXRlLmdldFRpbWUoKSAtIHRoaXMuc3RhcnRUaW1lXG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZ0FjdGlvbihcbiAgICAgICAgICAgIHRoaXMuc3R1ZHlpZCxcbiAgICAgICAgICAgIHRoaXMucnVuaWQsXG4gICAgICAgICAgICB0aGlzLnVzZXJpZCxcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICB0aGlzLnBhZ2VpZCxcbiAgICAgICAgICAgIGRhdGUudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIGN1cnJlbnRUaW1lLFxuICAgICAgICAgICAgYWN0aW9uLFxuICAgICAgICAgICAgZGF0YVxuICAgICAgICApXG4gICAgfVxuXG4gICAgcmVwb3J0aW5nQ1NWQWN0aW9ubG9nKCkge1xuICAgICAgICBsZXQgZGF0YSA9IFtcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAnc3R1ZHknLFxuICAgICAgICAgICAgICAgICdydW4nLFxuICAgICAgICAgICAgICAgICd1c2VyJyxcbiAgICAgICAgICAgICAgICAncGFnZWNvdW50ZXInLFxuICAgICAgICAgICAgICAgICdwYWdlJyxcbiAgICAgICAgICAgICAgICAndGltZXN0YW1wJyxcbiAgICAgICAgICAgICAgICAnZWxhcHNlZHRpbWUnLFxuICAgICAgICAgICAgICAgICdhY3Rpb24nXG4gICAgICAgICAgICBdXG4gICAgICAgIF1cbiAgICAgICAgbGV0IGRhdGFmaWVsZHMgPSBuZXcgU2V0KClcbiAgICAgICAgY29uc29sZS5sb2coJ2NzdmFjdGlvbmxvZyByZXBvcnRpbmcgZm9yIGV5ZXZpc2l0IHN0YXJ0ZWQnKVxuICAgICAgICBsZXQgdHJhbnMgPSB0aGlzLmxvZ2dlci5kYi50cmFuc2FjdGlvbihbJ2xvZyddLCAncmVhZG9ubHknKVxuICAgICAgICBsZXQgc3RvcmUgPSB0cmFucy5vYmplY3RTdG9yZSgnbG9nJylcbiAgICAgICAgbGV0IGluZGV4ID0gc3RvcmUuaW5kZXgoJ2xvZ19pbmRleDEnKVxuICAgICAgICBsZXQgcmVxdWVzdCA9IGluZGV4Lm9wZW5DdXJzb3IoSURCS2V5UmFuZ2Uub25seSh0aGlzLnN0dWR5aWQpKVxuICAgICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9IGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICAgICAgbGV0IGN1cnNvciA9IGV2dC50YXJnZXQucmVzdWx0XG4gICAgICAgICAgICBpZiAoY3Vyc29yKSB7XG4gICAgICAgICAgICAgICAgbGV0IGxvZ2RhdGEgPSBjdXJzb3IudmFsdWVcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBrZXkgaW4gbG9nZGF0YS5kYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFmaWVsZHMuYWRkKGtleSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3Vyc29yLmNvbnRpbnVlKClcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IGRmID0gQXJyYXkuZnJvbShkYXRhZmllbGRzKVxuICAgICAgICAgICAgICAgIGRmLnNvcnQoKVxuICAgICAgICAgICAgICAgIGRhdGFbMF0gPSBkYXRhWzBdLmNvbmNhdChkZilcbiAgICAgICAgICAgICAgICBsZXQgdHJhbnMgPSB0aGlzLmxvZ2dlci5kYi50cmFuc2FjdGlvbihbJ2xvZyddLCAncmVhZG9ubHknKVxuICAgICAgICAgICAgICAgIGxldCBzdG9yZSA9IHRyYW5zLm9iamVjdFN0b3JlKCdsb2cnKVxuICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IHN0b3JlLmluZGV4KCdsb2dfaW5kZXgxJylcbiAgICAgICAgICAgICAgICBsZXQgcmVxdWVzdCA9IGluZGV4Lm9wZW5DdXJzb3IoSURCS2V5UmFuZ2Uub25seSh0aGlzLnN0dWR5aWQpKVxuICAgICAgICAgICAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjdXJzb3IgPSBldnQudGFyZ2V0LnJlc3VsdFxuICAgICAgICAgICAgICAgICAgICBpZiAoY3Vyc29yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGJpdGVtID0gY3Vyc29yLnZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGF0YXNldCA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYml0ZW0uc3R1ZHlpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYml0ZW0ucnVuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGJpdGVtLnVzZXJpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYml0ZW0ucGFnZWNvdW50ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGJpdGVtLnBhZ2VpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYml0ZW0udGltZXN0YW1wLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRiaXRlbS5lbGFwc2VkdGltZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYml0ZW0uYWN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBkZml0ZW0gb2YgZGYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGJpdGVtLmRhdGEuaGFzT3duUHJvcGVydHkoZGZpdGVtKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhc2V0LnB1c2goZGJpdGVtLmRhdGFbZGZpdGVtXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhc2V0LnB1c2goJycpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5wdXNoKGRhdGFzZXQpXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3IuY29udGludWUoKVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYCR7ZGF0YS5sZW5ndGggLVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxfSBkYXRhc2V0cyBjcmVhdGVkLCBleHBvcnRpbmcgdG8gY3N2YFxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5leHBvcnRUb0NzdihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgJHt0aGlzLnN0dWR5aWR9X2FjdGlvbmxvZy5jc3ZgLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2NzdmFjdGlvbmxvZydcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKVxuICAgICAgICAgICAgfVxuICAgICAgICB9LmJpbmQodGhpcylcbiAgICB9XG5cbiAgICBleHBvcnRUb0NzdihmaWxlbmFtZSwgcm93cywgbW9kZSkge1xuICAgICAgICBsZXQgcHJvY2Vzc1JvdyA9IGZ1bmN0aW9uKHJvdywgbmV3bGluZSA9ICdcXG4nKSB7XG4gICAgICAgICAgICBsZXQgZmluYWxWYWwgPSAnJ1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCByb3cubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgaW5uZXJWYWx1ZSA9IHJvd1tqXSA9PT0gbnVsbCA/ICcnIDogcm93W2pdLnRvU3RyaW5nKClcbiAgICAgICAgICAgICAgICBpZiAocm93W2pdIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICBpbm5lclZhbHVlID0gcm93W2pdLnRvTG9jYWxlU3RyaW5nKClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IHJlc3VsdCA9IGlubmVyVmFsdWUucmVwbGFjZSgvXCIvZywgJ1wiXCInKVxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc2VhcmNoKC8oXCJ8O3xcXG4pL2cpID49IDApIHJlc3VsdCA9ICdcIicgKyByZXN1bHQgKyAnXCInXG4gICAgICAgICAgICAgICAgaWYgKGogPiAwKSBmaW5hbFZhbCArPSAnOydcbiAgICAgICAgICAgICAgICBmaW5hbFZhbCArPSByZXN1bHRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmaW5hbFZhbCArIG5ld2xpbmVcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBjc3ZGaWxlID0gJydcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByb3dzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjc3ZGaWxlICs9IHByb2Nlc3NSb3cocm93c1tpXSlcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBjc3ZEYXRhID0gbmV3IEJsb2IoW2NzdkZpbGVdLCB7dHlwZTogJ3RleHQvY3N2O2NoYXJzZXQ9dXRmLTg7J30pXG4gICAgICAgIGlmIChuYXZpZ2F0b3IubXNTYXZlQmxvYikge1xuICAgICAgICAgICAgLy8gSUUgMTArXG4gICAgICAgICAgICBuYXZpZ2F0b3IubXNTYXZlQmxvYihjc3ZEYXRhLCBmaWxlbmFtZSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBzdXBwb3J0c0Rvd25sb2FkQXR0cmlidXRlID1cbiAgICAgICAgICAgICAgICAnZG93bmxvYWQnIGluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKVxuICAgICAgICAgICAgaWYgKHN1cHBvcnRzRG93bmxvYWRBdHRyaWJ1dGUpIHtcbiAgICAgICAgICAgICAgICBsZXQgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKVxuICAgICAgICAgICAgICAgIGxpbmsuaHJlZiA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGNzdkRhdGEpXG4gICAgICAgICAgICAgICAgbGluay5zZXRBdHRyaWJ1dGUoJ2Rvd25sb2FkJywgZmlsZW5hbWUpXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rKVxuICAgICAgICAgICAgICAgIGxpbmsuY2xpY2soKVxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobGluaylcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICAgICAgICAgICd0cnlpbmcgdG8gc2F2ZSB3aXRob3V0IHN1cHBvcnQgb2YgZG93bmxvYWQgYXR0cmlidXRlJ1xuICAgICAgICAgICAgICAgIClcblxuICAgICAgICAgICAgICAgIC8vZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsb2dfb3ZlcmxheVwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuXG4gICAgICAgICAgICAgICAgLypsZXQgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgICAgICAgICAgICBsaW5rLm9uY2xpY2sgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5vcGVuKCdkYXRhOmF0dGFjaG1lbnQvY3N2O2NoYXJzZXQ9dXRmLTgsJyArIGVuY29kZVVSSShjc3ZGaWxlKSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rKTtcbiAgICAgICAgICAgICAgICBsaW5rLmNsaWNrKCk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChsaW5rKTsqL1xuXG4gICAgICAgICAgICAgICAgLy93aW5kb3cub3BlbignZGF0YTphdHRhY2htZW50L2NzdjtjaGFyc2V0PXV0Zi04LCcgKyBlbmNvZGVVUkkoY3N2RmlsZSkpXG4gICAgICAgICAgICAgICAgc2F2ZUFzKGNzdkRhdGEsIGZpbGVuYW1lKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG4vKiFcbiAqIEBwaXhpL2ZpbHRlci1nbG93IC0gdjIuMy4wXG4gKiBDb21waWxlZCBXZWQsIDI5IE5vdiAyMDE3IDE2OjQ0OjQyIFVUQ1xuICpcbiAqIHBpeGktZmlsdGVycyBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbnZhciB2ZXJ0ZXgkOT1cImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuICAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcbn1cIjtcbnZhciBmcmFnbWVudCQ5PVwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudmFyeWluZyB2ZWM0IHZDb2xvcjtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG5cXG51bmlmb3JtIGZsb2F0IGRpc3RhbmNlO1xcbnVuaWZvcm0gZmxvYXQgb3V0ZXJTdHJlbmd0aDtcXG51bmlmb3JtIGZsb2F0IGlubmVyU3RyZW5ndGg7XFxudW5pZm9ybSB2ZWM0IGdsb3dDb2xvcjtcXG51bmlmb3JtIHZlYzQgZmlsdGVyQXJlYTtcXG51bmlmb3JtIHZlYzQgZmlsdGVyQ2xhbXA7XFxudmVjMiBweCA9IHZlYzIoMS4wIC8gZmlsdGVyQXJlYS54LCAxLjAgLyBmaWx0ZXJBcmVhLnkpO1xcblxcbnZvaWQgbWFpbih2b2lkKSB7XFxuICAgIGNvbnN0IGZsb2F0IFBJID0gMy4xNDE1OTI2NTM1ODk3OTMyMzg0NjI2NDtcXG4gICAgdmVjNCBvd25Db2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7XFxuICAgIHZlYzQgY3VyQ29sb3I7XFxuICAgIGZsb2F0IHRvdGFsQWxwaGEgPSAwLjA7XFxuICAgIGZsb2F0IG1heFRvdGFsQWxwaGEgPSAwLjA7XFxuICAgIGZsb2F0IGNvc0FuZ2xlO1xcbiAgICBmbG9hdCBzaW5BbmdsZTtcXG4gICAgdmVjMiBkaXNwbGFjZWQ7XFxuICAgIGZvciAoZmxvYXQgYW5nbGUgPSAwLjA7IGFuZ2xlIDw9IFBJICogMi4wOyBhbmdsZSArPSAlUVVBTElUWV9ESVNUJSkge1xcbiAgICAgICBjb3NBbmdsZSA9IGNvcyhhbmdsZSk7XFxuICAgICAgIHNpbkFuZ2xlID0gc2luKGFuZ2xlKTtcXG4gICAgICAgZm9yIChmbG9hdCBjdXJEaXN0YW5jZSA9IDEuMDsgY3VyRGlzdGFuY2UgPD0gJURJU1QlOyBjdXJEaXN0YW5jZSsrKSB7XFxuICAgICAgICAgICBkaXNwbGFjZWQueCA9IHZUZXh0dXJlQ29vcmQueCArIGNvc0FuZ2xlICogY3VyRGlzdGFuY2UgKiBweC54O1xcbiAgICAgICAgICAgZGlzcGxhY2VkLnkgPSB2VGV4dHVyZUNvb3JkLnkgKyBzaW5BbmdsZSAqIGN1ckRpc3RhbmNlICogcHgueTtcXG4gICAgICAgICAgIGN1ckNvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCBjbGFtcChkaXNwbGFjZWQsIGZpbHRlckNsYW1wLnh5LCBmaWx0ZXJDbGFtcC56dykpO1xcbiAgICAgICAgICAgdG90YWxBbHBoYSArPSAoZGlzdGFuY2UgLSBjdXJEaXN0YW5jZSkgKiBjdXJDb2xvci5hO1xcbiAgICAgICAgICAgbWF4VG90YWxBbHBoYSArPSAoZGlzdGFuY2UgLSBjdXJEaXN0YW5jZSk7XFxuICAgICAgIH1cXG4gICAgfVxcbiAgICBtYXhUb3RhbEFscGhhID0gbWF4KG1heFRvdGFsQWxwaGEsIDAuMDAwMSk7XFxuXFxuICAgIG93bkNvbG9yLmEgPSBtYXgob3duQ29sb3IuYSwgMC4wMDAxKTtcXG4gICAgb3duQ29sb3IucmdiID0gb3duQ29sb3IucmdiIC8gb3duQ29sb3IuYTtcXG4gICAgZmxvYXQgb3V0ZXJHbG93QWxwaGEgPSAodG90YWxBbHBoYSAvIG1heFRvdGFsQWxwaGEpICAqIG91dGVyU3RyZW5ndGggKiAoMS4gLSBvd25Db2xvci5hKTtcXG4gICAgZmxvYXQgaW5uZXJHbG93QWxwaGEgPSAoKG1heFRvdGFsQWxwaGEgLSB0b3RhbEFscGhhKSAvIG1heFRvdGFsQWxwaGEpICogaW5uZXJTdHJlbmd0aCAqIG93bkNvbG9yLmE7XFxuICAgIGZsb2F0IHJlc3VsdEFscGhhID0gKG93bkNvbG9yLmEgKyBvdXRlckdsb3dBbHBoYSk7XFxuICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQobWl4KG1peChvd25Db2xvci5yZ2IsIGdsb3dDb2xvci5yZ2IsIGlubmVyR2xvd0FscGhhIC8gb3duQ29sb3IuYSksIGdsb3dDb2xvci5yZ2IsIG91dGVyR2xvd0FscGhhIC8gcmVzdWx0QWxwaGEpICogcmVzdWx0QWxwaGEsIHJlc3VsdEFscGhhKTtcXG59XFxuXCI7XG52YXIgR2xvd0ZpbHRlcj1mdW5jdGlvbihvKXtmdW5jdGlvbiBuKG4sdCxyLGUsbCl7dm9pZCAwPT09biYmKG49MTApLHZvaWQgMD09PXQmJih0PTQpLHZvaWQgMD09PXImJihyPTApLHZvaWQgMD09PWUmJihlPTE2Nzc3MjE1KSx2b2lkIDA9PT1sJiYobD0uMSksby5jYWxsKHRoaXMsdmVydGV4JDksZnJhZ21lbnQkOS5yZXBsYWNlKC8lUVVBTElUWV9ESVNUJS9naSxcIlwiKygxL2wvbikudG9GaXhlZCg3KSkucmVwbGFjZSgvJURJU1QlL2dpLFwiXCIrbi50b0ZpeGVkKDcpKSksdGhpcy51bmlmb3Jtcy5nbG93Q29sb3I9bmV3IEZsb2F0MzJBcnJheShbMCwwLDAsMV0pLHRoaXMuZGlzdGFuY2U9bix0aGlzLmNvbG9yPWUsdGhpcy5vdXRlclN0cmVuZ3RoPXQsdGhpcy5pbm5lclN0cmVuZ3RoPXI7fW8mJihuLl9fcHJvdG9fXz1vKSwobi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShvJiZvLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yPW47dmFyIHQ9e2NvbG9yOntjb25maWd1cmFibGU6ITB9LGRpc3RhbmNlOntjb25maWd1cmFibGU6ITB9LG91dGVyU3RyZW5ndGg6e2NvbmZpZ3VyYWJsZTohMH0saW5uZXJTdHJlbmd0aDp7Y29uZmlndXJhYmxlOiEwfX07cmV0dXJuIHQuY29sb3IuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIFBJWEkudXRpbHMucmdiMmhleCh0aGlzLnVuaWZvcm1zLmdsb3dDb2xvcil9LHQuY29sb3Iuc2V0PWZ1bmN0aW9uKG8pe1BJWEkudXRpbHMuaGV4MnJnYihvLHRoaXMudW5pZm9ybXMuZ2xvd0NvbG9yKTt9LHQuZGlzdGFuY2UuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudW5pZm9ybXMuZGlzdGFuY2V9LHQuZGlzdGFuY2Uuc2V0PWZ1bmN0aW9uKG8pe3RoaXMudW5pZm9ybXMuZGlzdGFuY2U9bzt9LHQub3V0ZXJTdHJlbmd0aC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bmlmb3Jtcy5vdXRlclN0cmVuZ3RofSx0Lm91dGVyU3RyZW5ndGguc2V0PWZ1bmN0aW9uKG8pe3RoaXMudW5pZm9ybXMub3V0ZXJTdHJlbmd0aD1vO30sdC5pbm5lclN0cmVuZ3RoLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnVuaWZvcm1zLmlubmVyU3RyZW5ndGh9LHQuaW5uZXJTdHJlbmd0aC5zZXQ9ZnVuY3Rpb24obyl7dGhpcy51bmlmb3Jtcy5pbm5lclN0cmVuZ3RoPW87fSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLnByb3RvdHlwZSx0KSxufShQSVhJLkZpbHRlcik7UElYSS5maWx0ZXJzLkdsb3dGaWx0ZXI9R2xvd0ZpbHRlcjtcblxuLyohXG4gKiBAcGl4aS9maWx0ZXItb3V0bGluZSAtIHYyLjMuMFxuICogQ29tcGlsZWQgV2VkLCAyOSBOb3YgMjAxNyAxNjo0NDo0NCBVVENcbiAqXG4gKiBwaXhpLWZpbHRlcnMgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG52YXIgdmVydGV4JDExPVwiYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG4gICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XFxufVwiO1xudmFyIGZyYWdtZW50JDEwPVwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxuXFxudW5pZm9ybSBmbG9hdCB0aGlja25lc3M7XFxudW5pZm9ybSB2ZWM0IG91dGxpbmVDb2xvcjtcXG51bmlmb3JtIHZlYzQgZmlsdGVyQXJlYTtcXG51bmlmb3JtIHZlYzQgZmlsdGVyQ2xhbXA7XFxudmVjMiBweCA9IHZlYzIoMS4wIC8gZmlsdGVyQXJlYS54LCAxLjAgLyBmaWx0ZXJBcmVhLnkpO1xcblxcbnZvaWQgbWFpbih2b2lkKSB7XFxuICAgIGNvbnN0IGZsb2F0IFBJID0gMy4xNDE1OTI2NTM1ODk3OTMyMzg0NjI2NDtcXG4gICAgdmVjNCBvd25Db2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7XFxuICAgIHZlYzQgY3VyQ29sb3I7XFxuICAgIGZsb2F0IG1heEFscGhhID0gMC47XFxuICAgIHZlYzIgZGlzcGxhY2VkO1xcbiAgICBmb3IgKGZsb2F0IGFuZ2xlID0gMC47IGFuZ2xlIDwgUEkgKiAyLjsgYW5nbGUgKz0gJVRISUNLTkVTUyUgKSB7XFxuICAgICAgICBkaXNwbGFjZWQueCA9IHZUZXh0dXJlQ29vcmQueCArIHRoaWNrbmVzcyAqIHB4LnggKiBjb3MoYW5nbGUpO1xcbiAgICAgICAgZGlzcGxhY2VkLnkgPSB2VGV4dHVyZUNvb3JkLnkgKyB0aGlja25lc3MgKiBweC55ICogc2luKGFuZ2xlKTtcXG4gICAgICAgIGN1ckNvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCBjbGFtcChkaXNwbGFjZWQsIGZpbHRlckNsYW1wLnh5LCBmaWx0ZXJDbGFtcC56dykpO1xcbiAgICAgICAgbWF4QWxwaGEgPSBtYXgobWF4QWxwaGEsIGN1ckNvbG9yLmEpO1xcbiAgICB9XFxuICAgIGZsb2F0IHJlc3VsdEFscGhhID0gbWF4KG1heEFscGhhLCBvd25Db2xvci5hKTtcXG4gICAgZ2xfRnJhZ0NvbG9yID0gdmVjNCgob3duQ29sb3IucmdiICsgb3V0bGluZUNvbG9yLnJnYiAqICgxLiAtIG93bkNvbG9yLmEpKSAqIHJlc3VsdEFscGhhLCByZXN1bHRBbHBoYSk7XFxufVxcblwiO1xudmFyIE91dGxpbmVGaWx0ZXI9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gbyhvLHIpe3ZvaWQgMD09PW8mJihvPTEpLHZvaWQgMD09PXImJihyPTApLGUuY2FsbCh0aGlzLHZlcnRleCQxMSxmcmFnbWVudCQxMC5yZXBsYWNlKC8lVEhJQ0tORVNTJS9naSwoMS9vKS50b0ZpeGVkKDcpKSksdGhpcy50aGlja25lc3M9byx0aGlzLnVuaWZvcm1zLm91dGxpbmVDb2xvcj1uZXcgRmxvYXQzMkFycmF5KFswLDAsMCwxXSksdGhpcy5jb2xvcj1yO31lJiYoby5fX3Byb3RvX189ZSksKG8ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUpKS5jb25zdHJ1Y3Rvcj1vO3ZhciByPXtjb2xvcjp7Y29uZmlndXJhYmxlOiEwfSx0aGlja25lc3M6e2NvbmZpZ3VyYWJsZTohMH19O3JldHVybiByLmNvbG9yLmdldD1mdW5jdGlvbigpe3JldHVybiBQSVhJLnV0aWxzLnJnYjJoZXgodGhpcy51bmlmb3Jtcy5vdXRsaW5lQ29sb3IpfSxyLmNvbG9yLnNldD1mdW5jdGlvbihlKXtQSVhJLnV0aWxzLmhleDJyZ2IoZSx0aGlzLnVuaWZvcm1zLm91dGxpbmVDb2xvcik7fSxyLnRoaWNrbmVzcy5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bmlmb3Jtcy50aGlja25lc3N9LHIudGhpY2tuZXNzLnNldD1mdW5jdGlvbihlKXt0aGlzLnVuaWZvcm1zLnRoaWNrbmVzcz1lO30sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoby5wcm90b3R5cGUsciksb30oUElYSS5GaWx0ZXIpO1BJWEkuZmlsdGVycy5PdXRsaW5lRmlsdGVyPU91dGxpbmVGaWx0ZXI7XG4iLCJpbXBvcnQgRXBvY2hhbEFwcCBmcm9tICcuL2Vwb2NoYWwuanMnXG5pbXBvcnQge0RPTVNjYXR0ZXJDb250YWluZXJ9IGZyb20gJy4uL2xpYi9zY2F0dGVyLmpzJ1xuXG5jb25zdCBkb21TY2F0dGVyQ29udGFpbmVyID0gbmV3IERPTVNjYXR0ZXJDb250YWluZXIoZG9jdW1lbnQuYm9keSlcbmNvbnN0IGFwcCA9IG5ldyBFcG9jaGFsQXBwKHsgdmlldzogY2FudmFzLCBtb25rZXlQYXRjaE1hcHBpbmc6IGZhbHNlfSlcblxuYXBwLnNldHVwKGRhdGEsIGRvbVNjYXR0ZXJDb250YWluZXIpXG5hcHAucnVuKClcblxuXG4iXSwibmFtZXMiOlsiRWxlbWVudHMiLCJDYXJkTG9hZGVyIiwiSW1hZ2VMb2FkZXIiLCJET01GbGlwIiwiRE9NRmxpcHBhYmxlIiwiYXBwIl0sIm1hcHBpbmdzIjoiOzs7SUFBTyxNQUFNLEtBQUssQ0FBQzs7SUFFbkIsSUFBSSxXQUFXLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRTtJQUM1QyxRQUFRLElBQUksQ0FBQyxDQUFDLEdBQUcsRUFBQztJQUNsQixRQUFRLElBQUksQ0FBQyxDQUFDLEdBQUcsRUFBQztJQUNsQixRQUFRLElBQUksQ0FBQyxDQUFDLEdBQUcsRUFBQztJQUNsQixRQUFRLElBQUksQ0FBQyxDQUFDLEdBQUcsRUFBQztJQUNsQixRQUFRLElBQUksQ0FBQyxLQUFLLEdBQUcsRUFBQztJQUN0QixLQUFLO0lBQ0wsQ0FBQzs7QUFFRCxJQUFPLE1BQU0sSUFBSSxTQUFTLEtBQUssQ0FBQztJQUNoQzs7SUFFQSxJQUFJLEtBQUssR0FBRztJQUNaLFFBQVEsR0FBRyxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUU7SUFDekIsS0FBSzs7SUFFTCxJQUFJLE1BQU0sR0FBRztJQUNiLFFBQVEsSUFBSSxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsUUFBUSxJQUFJLElBQUksQ0FBQyxDQUFDLEdBQUcsRUFBQztJQUM1QyxRQUFRLElBQUksRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLFFBQVEsSUFBSSxJQUFJLENBQUMsQ0FBQyxHQUFHLEVBQUM7SUFDN0MsUUFBUSxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsTUFBSztJQUM5QixRQUFRLEdBQUcsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsS0FBSyxFQUFDO0lBQ3RDLEtBQUs7SUFDTDtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTs7SUFFQSxJQUFJLElBQUksUUFBUSxH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QyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBQztJQUMzRCxZQUFZLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBQztJQUM3QixTQUFTO0lBQ1QsS0FBSzs7SUFFTCxJQUFJLE9BQU8sQ0FBQyxDQUFDLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFO0lBQ3JDLFFBQVEsSUFBSSxLQUFLLEdBQUcsQ0FBQyxJQUFJLEdBQUcsR0FBRyxLQUFLLEVBQUM7SUFDckMsUUFBUSxPQUFPLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUM7SUFDMUMsS0FBSzs7SUFFTCxJQUFJLE9BQU8sQ0FBQyxDQUFDLEVBQUU7SUFDZixRQUFRLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFLO0lBQzlCLFFBQVEsSUFBSSxRQUFRLEdBQUcsR0FBRyxDQUFDLFlBQVc7SUFDdEMsUUFBUSxJQUFJLEtBQUssR0FBRyxRQUFRLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxFQUFDO0lBQzFDLFFBQVEsSUFBSSxHQUFHLEdBQUcsUUFBUSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUM7SUFDeEMsUUFBUSxJQUFJLENBQUMsR0FBRyxLQUFLO0lBQ3JCLFlBQVksQ0FBQyxHQUFHLE1BQUs7SUFDckIsUUFBUSxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUs7SUFDdEMsWUFBWSxDQUFDLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFLO0lBQ3RDLFFBQVEsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsRUFBQztJQUN0QixRQUFRLENBQUMsR0FBRyxDQUFDLEdBQUcsTUFBSztJQUNyQixRQUFRLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxXQUFXLElBQUksQ0FBQyxDQUFDLEtBQUssRUFBQztJQUM1QyxRQUFRLElBQUksS0FBSyxHQUFHLENBQUMsR0FB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LEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDbkQsS0FBSzs7SUFFTCxJQUFJLE9BQU8sR0FBRyxDQUFDLENBQUMsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFO0lBQ2pDLFFBQVEsT0FBTztJQUNmLFlBQVksQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsTUFBTSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDO0lBQzdDLFlBQVksQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsTUFBTSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDO0lBQzdDLFNBQVM7SUFDVCxLQUFLOztJQUVMLElBQUksT0FBTyxRQUFRLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRTtJQUMxQixRQUFRLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUM7SUFDMUIsUUFBUSxJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFDO0lBQzFCLFFBQVEsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQztJQUMzQyxLQUFLOztJQUVMLElBQUksT0FBTyxjQUFjLENBQUMsT0FBTyxFQUFFLENBQUMsRUFBRTtJQUN0QztJQUNBO0lBQ0E7SUFDQTtJQUNBLFFBQVEsT0FBTyxNQUFNLENBQUMsMEJBQTBCLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNuRSxLQUFLOztJQUVMLElBQUksT0FBTyxjQUFjLENBQUMsT0FBTyxFQUFFLENBQUMsRUFBRTtJQUN0QztJQUNBO0lBQ0E7SUFDQTtJQUNBLFFBQVEsT0FBTyxNQUFNLENBQUMsMEJBQTBCLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNuRSxLQUFLO0lBQ0wsQ0FBQzs7SUFFRDtJQUNBO0FBQ0EsSUFBTyxNQUFNLEtBQUssQ0FBQztJQUNuQixJQUFJLE9BQU8sU0FBUyxDQUFDLEtBQUssRUFBRTtJQUM1QixRQUFRLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxFQUFFLEdBQUcsSUFBRztJQUNqQyxRQUFRLE9BQU8sS0FBSyxHQUFHLElBQUksQ0FBQyxFQUFFLEVBQUU7SUFDaEMsWUFBWSxLQUFLLElBQUksTUFBSztJQUMxQixTQUFTO0lBQ1QsUUFBUSxPQUFPLEtBQUssR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFLEVBQUU7SUFDakMsWUFBWSxLQUFLLElBQUksTUFBSztJQUMxQixTQUFTO0lBQ1QsUUFBUSxPQUFPLEtBQUs7SUFDcEIsS0FBSzs7SUFFTCxJQUFJLE9BQU8sZUFBZSxDQUFDLEtBQUssRUFBRTtJQUNsQyxRQUFRLElBQUksSUFBSSxHQUFHLE1BQUs7SUFDeEIsUUFBUSxPQUFPLEtBQUssR0FBRyxLQUFLLEVBQUU7SUFDOUIsWUFBWSxLQUFLLElBQUksS0FBSTtJQUN6QixTQUFTO0lBQ1QsUUFBUSxPQUFPLEtBQUssR0FBRyxDQUFDLEtBQUssRUFBRTtJQUMvQixZQUFZLEtBQUssSUFBSSxLQUFJO0lBQ3pCLFNBQVM7SUFDVCxRQUFRLE9BQU8sS0FBSztJQUNwQixLQUFLOztJQUVMLElBQUksT0FBTyxJQUFJLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRTtJQUN0QixRQUFRLE9BQU8sS0FBSyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDNUUsS0FBSzs7SUFFTCxJQUFJLE9BQU8sYUFBYSxDQUFDLE1BQU0sRUFBRTtJQUNqQyxRQUFRLE9BQU8sSUFBSSxDQUFDLEVBQUUsR0FBRyxNQUFNLEdBQUcsS0FBSztJQUN2QyxLQUFLOztJQUVMLElBQUksT0FBTyxhQUFhLENBQUMsR0FBRyxFQUFFO0lBQzlCLFFBQVEsT0FBTyxLQUFLLEdBQUcsSUFBSSxDQUFDLEVBQUUsR0FBRyxHQUFHO0lBQ3BDLEtBQUs7SUFDTCxDQUFDOztBQUVELElBQU8sTUFBTUEsVUFBUSxDQUFDO0lBQ3RCLElBQUksT0FBTyxRQUFRLENBQUMsT0FBTyxFQUFFLE1BQU0sRUFBRTtJQUNyQyxRQUFRLEtBQUssSUFBSSxHQUFHLElBQUksTUFBTSxFQUFFO0lBQ2hDLFlBQVksT0FBTyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsR0FBRyxNQUFNLENBQUMsR0FBRyxFQUFDO0lBQzVDLFNBQVM7SUFDVCxLQUFLOztJQUVMLElBQUksT0FBTyxRQUFRLENBQUMsT0FBTyxFQUFFLFFBQVEsRUFBRTtJQUN2QyxRQUFRLE9BQU8sQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBQztJQUN2QyxLQUFLOztJQUVMLElBQUksT0FBTyxXQUFXLENBQUMsT0FBTyxFQUFFLFFBQVEsRUFBRTtJQUMxQyxRQUFRLE9BQU8sQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFFBQVEsRUFBQztJQUMxQyxLQUFLOztJQUVMLElBQUksT0FBTyxXQUFXLENBQUMsT0FBTyxFQUFFLFFBQVEsRUFBRTtJQUMxQyxRQUFRLE9BQU8sQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFFBQVEsRUFBQztJQUMxQyxLQUFLOztJQUVMLElBQUksT0FBTyxRQUFRLENBQUMsT0FBTyxFQUFFLFFBQVEsRUFBRTtJQUN2QyxRQUFRLE9BQU8sT0FBTyxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDO0lBQ25ELEtBQUs7SUFDTCxDQUFDOztBQUVELElBQU8sTUFBTSxRQUFRLENBQUM7SUFDdEI7SUFDQTs7SUFFQTtJQUNBO0lBQ0EsSUFBSSxXQUFXLEdBQUc7SUFDbEIsUUFBUSxJQUFJLENBQUMsR0FBRyxHQUFHLElBQUksR0FBRyxHQUFFO0lBQzVCLEtBQUs7O0lBRUwsSUFBSSxJQUFJLElBQUksR0FBRztJQUNmLFFBQVEsT0FBTyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUk7SUFDNUIsS0FBSzs7SUFFTCxJQUFJLEdBQUcsQ0FBQyxHQUFHLEVBQUU7SUFDYixRQUFRLE9BQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDO0lBQ2hDLEtBQUs7O0lBRUwsSUFBSSxHQUFHLENBQUMsR0FBRyxFQUFFLEtBQUssRUFBRTtJQUNwQixRQUFRLE9BQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQztJQUN2QyxLQUFLOztJQUVMLElBQUksTUFBTSxDQUFDLEdBQUcsRUFBRTtJQUNoQixRQUFRLE9BQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDO0lBQ25DLEtBQUs7O0lBRUwsSUFBSSxLQUFLLEdBQUc7SUFDWixRQUFRLE9BQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUU7SUFDL0IsS0FBSzs7SUFFTCxJQUFJLEdBQUcsQ0FBQyxHQUFHLEVBQUU7SUFDYixRQUFRLE9BQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDO0lBQ2hDLEtBQUs7O0lBRUwsSUFBSSxJQUFJLEdBQUc7SUFDWCxRQUFRLE9BQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUU7SUFDOUIsS0FBSzs7SUFFTCxJQUFJLE1BQU0sR0FBRztJQUNiLFFBQVEsT0FBTyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRTtJQUNoQyxLQUFLOztJQUVMLElBQUksT0FBTyxHQUFHO0lBQ2QsUUFBUSxPQUFPLElBQUksQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUFFO0lBQ2pDLEtBQUs7O0lBRUwsSUFBSSxPQUFPLENBQUMsSUFBSSxFQUFFO0lBQ2xCLFFBQVEsSUFBSSxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFDO0lBQzlCLEtBQUs7SUFDTCxDQUFDOztJQUVEO0FBQ0EsSUFBTyxNQUFNLE9BQU8sQ0FBQztJQUNyQjtJQUNBO0lBQ0E7SUFDQSxJQUFJLFdBQVcsQ0FBQyxNQUFNLEVBQUU7SUFDeEIsUUFBUSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksS0FBSyxHQUFFO0lBQ2pDLFFBQVEsSUFBSSxDQUFDLE1BQU0sR0FBRyxPQUFNO0lBQzVCLEtBQUs7O0lBRUw7SUFDQTtJQUNBO0lBQ0EsSUFBSSxRQUFRLENBQUMsQ0FBQyxFQUFFO0lBQ2hCLFFBQVEsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFDO0lBQzNCLEtBQUs7O0lBRUw7SUFDQTtJQUNBO0lBQ0EsSUFBSSxnQkFBZ0IsQ0FBQyxDQUFDLEVBQUU7SUFDeEIsUUFBUSxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUM7SUFDMUUsS0FBSzs7SUFFTDtJQUNBO0lBQ0E7SUFDQSxJQUFJLGdCQUFnQixHQUFHO0lBQ3ZCLFFBQVEsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU07SUFDakMsS0FBSzs7SUFFTDtJQUNBO0lBQ0E7SUFDQSxJQUFJLE1BQU0sQ0FBQyxJQUFJLEVBQUU7SUFDakIsUUFBUSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7SUFDckQsWUFBWSxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUM7SUFDcEMsWUFBWSxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUM7SUFDcEMsWUFBWSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUM7SUFDdEUsWUFBWSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUM7SUFDdEUsU0FBUztJQUNULEtBQUs7O0lBRUw7SUFDQTtJQUNBO0lBQ0E7SUFDQSxJQUFJLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQyxTQUFTLEdBQUcsQ0FBQyxFQUFFLE1BQU0sR0FBRyxTQUFTLEVBQUUsSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLEVBQUUsRUFBRTtJQUN6RSxRQUFRLE9BQU8sQ0FBQyxTQUFTLEdBQUU7SUFDM0IsUUFBUSxPQUFPLENBQUMsTUFBTTtJQUN0QixZQUFZLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUM1QyxZQUFZLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUM1QyxVQUFTO0lBQ1QsUUFBUSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7SUFDckQsWUFBWSxPQUFPLENBQUMsTUFBTTtJQUMxQixnQkFBZ0IsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ2hELGdCQUFnQixJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDaEQsY0FBYTtJQUNiLFNBQVM7SUFDVCxRQUFRLE9BQU8sQ0FBQyxTQUFTLEdBQUU7SUFDM0IsUUFBUSxPQUFPLENBQUMsU0FBUyxHQUFHLFVBQVM7SUFDckMsUUFBUSxJQUFJLE1BQU0sRUFBRTtJQUNwQixZQUFZLE9BQU8sQ0FBQyxXQUFXLEdBQUcsT0FBTTtJQUN4QyxZQUFZLE9BQU8sQ0FBQyxNQUFNLEdBQUU7SUFDNUIsU0FBUztJQUNULFFBQVEsSUFBSSxJQUFJLEVBQUU7SUFDbEIsWUFBWSxPQUFPLENBQUMsU0FBUyxHQUFHLEtBQUk7SUFDcEMsWUFBWSxPQUFPLENBQUMsSUFBSSxHQUFFO0lBQzFCLFNBQVM7SUFDVCxLQUFLOztJQUVMLElBQUksY0FBYyxHQUFHO0lBQ3JCLFFBQVEsSUFBSSxNQUFNLEdBQUcsSUFBSSxLQUFLLEdBQUU7SUFDaEMsUUFBUSxLQUFLLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUU7SUFDbkMsWUFBWSxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBQztJQUNuRCxTQUFTO0lBQ1QsUUFBUSxPQUFPLE1BQU07SUFDckIsS0FBSzs7SUFFTCxJQUFJLGtCQUFrQixHQUFHO0lBQ3pCLFFBQVEsSUFBSSxNQUFNLEdBQUcsSUFBSSxLQUFLLEdBQUU7SUFDaEMsUUFBUSxLQUFLLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUU7SUFDbkMsWUFBWSxJQUFJLENBQUMsR0FBRyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsTUFBTSxFQUFDO0lBQzlDLFlBQVksTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFDO0lBQzVCLFlBQVksTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFDO0lBQzVCLFNBQVM7SUFDVCxRQUFRLE9BQU8sTUFBTTtJQUNyQixLQUFLOztJQUVMO0lBQ0E7SUFDQTtJQUNBO0lBQ0EsSUFBSSxhQUFhLENBQUMsR0FBRyxFQUFFO0lBQ3ZCLFFBQVEsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFNO0lBQ3RDLFFBQVEsSUFBSSxLQUFLLEdBQUcsR0FBRyxDQUFDLEVBQUM7SUFDekIsUUFBUSxJQUFJLEtBQUssR0FBRyxHQUFHLENBQUMsRUFBQzs7SUFFekIsUUFBUSxJQUFJLEtBQUssR0FBRyxJQUFJLEtBQUssR0FBRTtJQUMvQixRQUFRLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtJQUNyRCxZQUFZLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUM7SUFDeEQsU0FBUzs7SUFFVCxRQUFRLElBQUksS0FBSyxHQUFHLElBQUksS0FBSyxHQUFFO0lBQy9CLFFBQVEsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO0lBQ3JELFlBQVksS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBQztJQUN4RCxTQUFTOztJQUVULFFBQVEsSUFBSSxDQUFDO0lBQ2IsWUFBWSxDQUFDLEdBQUcsRUFBQztJQUNqQixRQUFRLElBQUksQ0FBQyxHQUFHLE1BQUs7SUFDckIsUUFBUSxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUU7SUFDdkQsWUFBWTtJQUNaLGdCQUFnQixLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSyxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsR0FBRyxLQUFLO0lBQ3BELGdCQUFnQixLQUFLO0lBQ3JCLG9CQUFvQixDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDO0lBQ3hDLHlCQUF5QixLQUFLLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzFDLHlCQUF5QixLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzdDLHdCQUF3QixLQUFLLENBQUMsQ0FBQyxDQUFDO0lBQ2hDO0lBQ0EsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLEVBQUM7SUFDdEIsU0FBUztJQUNULFFBQVEsT0FBTyxDQUFDO0lBQ2hCLEtBQUs7O0lBRUwsSUFBSSxjQUFjLENBQUMsS0FBSyxFQUFFO0lBQzFCLFFBQVEsSUFBSSxNQUFNLEdBQUcsTUFBTSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBQztJQUM5RCxRQUFRLElBQUksS0FBSyxHQUFHLElBQUksT0FBTyxDQUFDLE1BQU0sRUFBQztJQUN2QyxRQUFRLEtBQUssSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRTtJQUNuQyxZQUFZLEtBQUssQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLEVBQUM7SUFDM0QsU0FBUztJQUNULFFBQVEsT0FBTyxLQUFLO0lBQ3BCLEtBQUs7O0lBRUw7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQSxJQUFJLGNBQWMsQ0FBQyxLQUFLLEVBQUU7SUFDMUIsUUFBUSxJQUFJLElBQUksR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBQztJQUMvQixRQUFRLElBQUksR0FBRyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLEtBQUk7SUFDdkMsUUFBUSxJQUFJLElBQUksRUFBRSxFQUFDO0lBQ25CLFFBQVEsSUFBSSxRQUFRLEdBQUcsS0FBSTtJQUMzQixRQUFRLElBQUksT0FBTyxHQUFHLFNBQVE7O0lBRTlCO0lBQ0EsUUFBUSxLQUFLLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFO0lBQy9EO0lBQ0EsWUFBWSxJQUFJLElBQUksSUFBSSxDQUFDLEVBQUU7SUFDM0IsZ0JBQWdCLElBQUksQ0FBQyxDQUFDO0lBQ3RCLG9CQUFvQixJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDOUQsb0JBQW9CLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBQztJQUNwQyxnQkFBZ0IsSUFBSSxDQUFDLENBQUM7SUFDdEIsb0JBQW9CLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNwQyxvQkFBb0IsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFDO0lBQzlELGFBQWEsTUFBTTtJQUNuQixnQkFBZ0IsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFDO0lBQ3RFLGdCQUFnQixJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUM7SUFDdEUsYUFBYTs7SUFFYjtJQUNBLFlBQVksR0FBRyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsRUFBQztJQUM5RCxZQUFZLElBQUksQ0FBQyxDQUFDLElBQUksSUFBRztJQUN6QixZQUFZLElBQUksQ0FBQyxDQUFDLElBQUksSUFBRzs7SUFFekI7SUFDQSxZQUFZLElBQUksR0FBRyxJQUFJLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsRUFBQztJQUMvRSxZQUFZLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUU7SUFDMUQsZ0JBQWdCLEdBQUcsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUFDO0lBQzNFLGdCQUFnQixJQUFJLEdBQUcsR0FBRyxJQUFJLEVBQUUsSUFBSSxHQUFHLElBQUc7SUFDMUMscUJBQXFCLElBQUksR0FBRyxHQUFHLElBQUksRUFBRSxJQUFJLEdBQUcsSUFBRztJQUMvQyxhQUFhO0lBQ2I7SUFDQSxZQUFZLEdBQUcsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUFDO0lBQ2pFLFlBQVksSUFBSSxJQUFJLElBQUc7SUFDdkIsWUFBWSxJQUFJLElBQUksSUFBRzs7SUFFdkI7SUFDQSxZQUFZLElBQUksR0FBRyxJQUFJO0lBQ3ZCLGdCQUFnQixLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUFDO0lBQ3ZFLFlBQVksS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsZ0JBQWdCLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRTtJQUMzRCxnQkFBZ0IsR0FBRyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUM7SUFDN0UsZ0JBQWdCLElBQUksR0FBRyxHQUFHLElBQUksRUFBRSxJQUFJLEdBQUcsSUFBRztJQUMxQyxxQkFBcUIsSUFBSSxHQUFHLEdBQUcsSUFBSSxFQUFFLElBQUksR0FBRyxJQUFHO0lBQy9DLGFBQWE7SUFDYjtJQUNBLFlBQVksR0FBRyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUM7SUFDbkUsWUFBWSxJQUFJLElBQUksSUFBRztJQUN2QixZQUFZLElBQUksSUFBSSxJQUFHOztJQUV2QjtJQUNBLFlBQVksSUFBSSxJQUFJLEdBQUcsSUFBSSxJQUFJLElBQUksR0FBRyxJQUFJLEVBQUU7SUFDNUMsZ0JBQWdCLE9BQU8sS0FBSztJQUM1QixhQUFhLE1BQU07SUFDbkIsZ0JBQWdCLElBQUksQ0FBQyxHQUFHLElBQUksR0FBRyxJQUFJLEdBQUcsSUFBSSxHQUFHLElBQUksR0FBRyxJQUFJLEdBQUcsS0FBSTtJQUMvRCxnQkFBZ0IsSUFBSSxDQUFDLEdBQUcsT0FBTyxFQUFFO0lBQ2pDLG9CQUFvQixPQUFPLEdBQUcsRUFBQztJQUMvQixvQkFBb0IsUUFBUSxHQUFHLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLEVBQUM7SUFDckQsaUJBQWlCO0lBQ2pCLGFBQWE7SUFDYixTQUFTOztJQUVUO0lBQ0EsUUFBUSxLQUFLLElBQUksR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLEtBQUssQ0FBQyxnQkFBZ0IsRUFBRSxFQUFFLElBQUksRUFBRSxFQUFFO0lBQ2hFO0lBQ0EsWUFBWSxJQUFJLElBQUksSUFBSSxDQUFDLEVBQUU7SUFDM0IsZ0JBQWdCLElBQUksQ0FBQyxDQUFDO0lBQ3RCLG9CQUFvQixLQUFLLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxnQkFBZ0IsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDaEUsb0JBQW9CLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBQztJQUNyQyxnQkFBZ0IsSUFBSSxDQUFDLENBQUM7SUFDdEIsb0JBQW9CLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNyQyxvQkFBb0IsS0FBSyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsZ0JBQWdCLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFDO0lBQ2hFLGFBQWEsTUFBTTtJQUNuQixnQkFBZ0IsSUFBSSxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLElBQUksR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFDO0lBQ3hFLGdCQUFnQixJQUFJLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUM7SUFDeEUsYUFBYTs7SUFFYjtJQUNBLFlBQVksR0FBRyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsRUFBQztJQUM5RCxZQUFZLElBQUksQ0FBQyxDQUFDLElBQUksSUFBRztJQUN6QixZQUFZLElBQUksQ0FBQyxDQUFDLElBQUksSUFBRzs7SUFFekI7SUFDQSxZQUFZLElBQUksR0FBRyxJQUFJLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsRUFBQztJQUMvRSxZQUFZLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUU7SUFDMUQsZ0JBQWdCLEdBQUcsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUFDO0lBQzNFLGdCQUFnQixJQUFJLEdBQUcsR0FBRyxJQUFJLEVBQUUsSUFBSSxHQUFHLElBQUc7SUFDMUMscUJBQXFCLElBQUksR0FBRyxHQUFHLElBQUksRUFBRSxJQUFJLEdBQUcsSUFBRztJQUMvQyxhQUFhO0lBQ2I7SUFDQSxZQUFZLEdBQUcsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUFDO0lBQ2pFLFlBQVksSUFBSSxJQUFJLElBQUc7SUFDdkIsWUFBWSxJQUFJLElBQUksSUFBRzs7SUFFdkI7SUFDQSxZQUFZLElBQUksR0FBRyxJQUFJO0lBQ3ZCLGdCQUFnQixLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUFDO0lBQ3ZFLFlBQVksS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsZ0JBQWdCLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRTtJQUMzRCxnQkFBZ0IsR0FBRyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUM7SUFDN0UsZ0JBQWdCLElBQUksR0FBRyxHQUFHLElBQUksRUFBRSxJQUFJLEdBQUcsSUFBRztJQUMxQyxxQkFBcUIsSUFBSSxHQUFHLEdBQUcsSUFBSSxFQUFFLElBQUksR0FBRyxJQUFHO0lBQy9DLGFBQWE7SUFDYjtJQUNBLFlBQVksR0FBRyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUM7SUFDbkUsWUFBWSxJQUFJLElBQUksSUFBRztJQUN2QixZQUFZLElBQUksSUFBSSxJQUFHOztJQUV2QjtJQUNBLFlBQVksSUFBSSxJQUFJLEdBQUcsSUFBSSxJQUFJLElBQUksR0FBRyxJQUFJLEVBQUU7SUFDNUMsZ0JBQWdCLE9BQU8sS0FBSztJQUM1QixhQUFhLE1BQU07SUFDbkIsZ0JBQWdCLElBQUksQ0FBQyxHQUFHLElBQUksR0FBRyxJQUFJLEdBQUcsSUFBSSxHQUFHLElBQUksR0FBRyxJQUFJLEdBQUcsS0FBSTtJQUMvRCxnQkFBZ0IsSUFBSSxDQUFDLEdBQUcsT0FBTyxFQUFFO0lBQ2pDLG9CQUFvQixPQUFPLEdBQUcsRUFBQztJQUMvQixvQkFBb0IsUUFBUSxHQUFHLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLEVBQUM7SUFDckQsaUJBQWlCO0lBQ2pCLGFBQWE7SUFDYixTQUFTO0lBQ1QsUUFBUSxPQUFPLENBQUMsT0FBTyxFQUFFLE9BQU8sR0FBRyxLQUFLLEVBQUUsSUFBSSxFQUFFLFFBQVEsQ0FBQztJQUN6RCxLQUFLOztJQUVMLElBQUksT0FBTyxVQUFVLENBQUMsTUFBTSxFQUFFO0lBQzlCLFFBQVEsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDLFNBQVMsRUFBRSxDQUFDLEVBQUUsTUFBTSxDQUFDLFNBQVMsRUFBQztJQUM1RCxRQUFRLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxTQUFTLEVBQUUsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxTQUFTLEVBQUM7SUFDNUQsUUFBUSxLQUFLLElBQUksQ0FBQyxJQUFJLE1BQU0sRUFBRTtJQUM5QixZQUFZLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEVBQUM7SUFDeEMsWUFBWSxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxFQUFDO0lBQ3hDLFlBQVksR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsRUFBQztJQUN4QyxZQUFZLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEVBQUM7SUFDeEMsU0FBUztJQUNULFFBQVEsSUFBSSxNQUFNLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFDO0lBQzFDLFFBQVEsSUFBSSxPQUFPLEdBQUcsSUFBSSxPQUFPLENBQUMsTUFBTSxFQUFDO0lBQ3pDLFFBQVEsS0FBSyxJQUFJLENBQUMsSUFBSSxNQUFNLEVBQUU7SUFDOUIsWUFBWSxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxFQUFDO0lBQ3ZDLFNBQVM7SUFDVCxRQUFRLE9BQU8sT0FBTztJQUN0QixLQUFLO0lBQ0wsQ0FBQzs7SUMvckJEOztBQUVBLElBQWUsTUFBTSxTQUFTLENBQUM7SUFDL0I7SUFDQTs7SUFFQSxJQUFJLE9BQU8sbUJBQW1CLENBQUMsS0FBSyxFQUFFO0lBQ3RDLFFBQVEsSUFBSSxhQUFhLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFDO0lBQzNELFFBQVEsSUFBSSxTQUFTLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsU0FBUyxFQUFDO0lBQ3hELFFBQVEsSUFBSSxJQUFJLEdBQUcsSUFBSSxhQUFhLEVBQUU7SUFDdEMsWUFBWSxJQUFJLGFBQWEsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsRUFBQztJQUNuRCxZQUFZLElBQUksU0FBUyxHQUFHLEtBQUssQ0FBQyxTQUFTLENBQUMsR0FBRyxFQUFDO0lBQ2hELFlBQVksSUFBSSxPQUFPLFNBQVMsQ0FBQyxJQUFJLFdBQVc7SUFDaEQsZ0JBQWdCLE9BQU8sVUFBVSxHQUFHLEdBQUc7SUFDdkMsU0FBUztJQUNULFFBQVEsT0FBTyxJQUFJO0lBQ25CLEtBQUs7O0lBRUwsSUFBSSxPQUFPLGFBQWEsQ0FBQyxLQUFLLEVBQUU7SUFDaEM7SUFDQTtJQUNBLFFBQVEsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLG1CQUFtQixDQUFDLEtBQUssRUFBQztJQUNuRCxRQUFRLE9BQU8sS0FBSyxJQUFJLElBQUk7SUFDNUIsS0FBSzs7SUFFTDtJQUNBO0lBQ0E7SUFDQTtJQUNBLENBQUM7O0lDekJEOztJQUVBO0lBQ0E7O0FBRUEsSUFBTyxNQUFNLGtCQUFrQixTQUFTLFNBQVMsQ0FBQztJQUNsRCxJQUFJLE9BQU8sQ0FBQyxLQUFLLEVBQUU7SUFDbkIsUUFBUSxPQUFPLE9BQU8sSUFBSTtJQUMxQixLQUFLOztJQUVMLElBQUksT0FBTyxDQUFDLEtBQUssRUFBRSxXQUFXLEVBQUUsRUFBRTtJQUNsQyxJQUFJLE1BQU0sQ0FBQyxLQUFLLEVBQUUsV0FBVyxFQUFFLEVBQUU7SUFDakMsSUFBSSxLQUFLLENBQUMsS0FBSyxFQUFFLFdBQVcsRUFBRSxFQUFFOztJQUVoQyxJQUFJLFlBQVksQ0FBQyxLQUFLLEVBQUUsRUFBRTtJQUMxQixDQUFDOztBQUVELElBQU8sTUFBTSx3QkFBd0IsU0FBUyxTQUFTLENBQUM7SUFDeEQsSUFBSSxPQUFPLENBQUMsS0FBSyxFQUFFO0lBQ25CLFFBQVEsT0FBTyxPQUFPLElBQUk7SUFDMUIsS0FBSzs7SUFFTCxJQUFJLFVBQVUsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRTtJQUNyQyxRQUFRLE9BQU8sa0JBQWtCO0lBQ2pDLEtBQUs7SUFDTCxDQUFDOztBQUVELElBQU8sTUFBTSxRQUFRLFNBQVMsUUFBUSxDQUFDO0lBQ3ZDO0lBQ0E7SUFDQTtJQUNBLElBQUksV0FBVyxDQUFDLE1BQU0sR0FBRyxFQUFFLEVBQUU7SUFDN0IsUUFBUSxLQUFLLEdBQUU7SUFDZixRQUFRLEtBQUssSUFBSSxHQUFHLElBQUksTUFBTSxFQUFFO0lBQ2hDLFlBQVksSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsTUFBTSxDQUFDLEdBQUcsQ0FBQyxFQUFDO0lBQ3RDLFNBQVM7SUFDVCxLQUFLOztJQUVMLElBQUksUUFBUSxHQUFHO0lBQ2YsUUFBUSxJQUFJLE1BQU0sR0FBRyxHQUFFO0lBQ3ZCLFFBQVEsS0FBSyxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsSUFBSSxFQUFFLEVBQUU7SUFDckMsWUFBWSxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBQztJQUNyQyxZQUFZLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBQztJQUM5RCxTQUFTO0lBQ1QsUUFBUSxJQUFJLEtBQUssR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksRUFBQztJQUNyQyxRQUFRLE9BQU8sQ0FBQyxVQUFVLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQztJQUNwQyxLQUFLOztJQUVMLElBQUksS0FBSyxHQUFHO0lBQ1osUUFBUSxJQUFJLE1BQU0sR0FBRyxJQUFJLFFBQVEsR0FBRTtJQUNuQyxRQUFRLEtBQUssSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLElBQUksRUFBRSxFQUFFO0lBQ3JDLFlBQVksSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUM7SUFDckMsWUFBWSxNQUFNLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUM7SUFDckQsU0FBUztJQUNULFFBQVEsT0FBTyxNQUFNO0lBQ3JCLEtBQUs7O0lBRUwsSUFBSSxTQUFTLEdBQUc7SUFDaEIsUUFBUSxJQUFJLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxFQUFFO0lBQzVCLFlBQVksT0FBTyxJQUFJO0lBQ3ZCLFNBQVM7SUFDVCxRQUFRLElBQUksS0FBSyxHQUFHLEdBQUU7SUFDdEIsUUFBUSxLQUFLLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUUsRUFBRTtJQUNyQyxZQUFZLEtBQUssSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRSxFQUFFO0lBQ3pDLGdCQUFnQixLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFDO0lBQ2xDLGFBQWE7SUFDYixTQUFTO0lBQ1QsUUFBUSxJQUFJLE1BQU0sR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSztJQUMxQyxZQUFZLE9BQU8sTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzVFLFNBQVMsRUFBQztJQUNWLFFBQVEsT0FBTyxNQUFNLENBQUMsQ0FBQyxDQUFDO0lBQ3hCLEtBQUs7O0lBRUwsSUFBSSxJQUFJLEdBQUc7SUFDWCxRQUFRLElBQUksSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLEVBQUU7SUFDNUIsWUFBWSxPQUFPLElBQUk7SUFDdkIsU0FBUztJQUNULFFBQVEsSUFBSSxDQUFDLEdBQUcsR0FBRztJQUNuQixZQUFZLENBQUMsR0FBRyxJQUFHO0lBQ25CLFFBQVEsS0FBSyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsTUFBTSxFQUFFLEVBQUU7SUFDckMsWUFBWSxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUM7SUFDcEIsWUFBWSxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUM7SUFDcEIsU0FBUztJQUNULFFBQVEsT0FBTyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7SUFDbkQsS0FBSztJQUNMLENBQUM7O0FBRUQsSUFBTyxNQUFNLGdCQUFnQixDQUFDO0lBQzlCLElBQUksV0FBVyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUU7SUFDM0MsUUFBUSxJQUFJLENBQUMsQ0FBQyxHQUFHLEVBQUM7SUFDbEIsUUFBUSxJQUFJLENBQUMsQ0FBQyxHQUFHLEVBQUM7SUFDbEIsUUFBUSxJQUFJLENBQUMsSUFBSSxHQUFHLEtBQUk7SUFDeEIsUUFBUSxJQUFJLENBQUMsTUFBTSxHQUFHLE9BQU07SUFDNUIsUUFBUSxJQUFJLENBQUMsS0FBSyxHQUFHLE1BQUs7SUFDMUIsS0FBSzs7SUFFTCxJQUFJLFFBQVEsR0FBRztJQUNmLFFBQVEsSUFBSSxNQUFNLEdBQUcsR0FBRTtJQUN2QixRQUFRLEtBQUssSUFBSSxHQUFHLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRTtJQUMzQyxZQUFZLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxHQUFHLEVBQUM7SUFDakMsWUFBWSxJQUFJLEdBQUcsSUFBSSxPQUFPLEVBQUU7SUFDaEMsZ0JBQWdCLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBQztJQUNsRSxhQUFhLE1BQU07SUFDbkIsZ0JBQWdCLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUMsRUFBQztJQUM5QyxhQUFhO0lBQ2IsU0FBUztJQUNULFFBQVEsSUFBSSxLQUFLLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUM7SUFDckMsUUFBUSxPQUFPLENBQUMsa0JBQWtCLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQztJQUM1QyxLQUFLO0lBQ0wsQ0FBQzs7QUFFRCxJQUFPLE1BQU0saUJBQWlCLENBQUM7SUFDL0IsSUFBSSxXQUFXLENBQUMsTUFBTSxHQUFHLElBQUksRUFBRTtJQUMvQixRQUFRLElBQUksQ0FBQyxNQUFNLEdBQUcsT0FBTTtJQUM1QixRQUFRLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxRQUFRLEdBQUU7SUFDckMsUUFBUSxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksUUFBUSxHQUFFO0lBQ3RDLFFBQVEsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLFFBQVEsR0FBRTtJQUNuQyxRQUFRLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxRQUFRLEdBQUU7SUFDbkMsUUFBUSxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksR0FBRyxHQUFFO0lBQ25DLEtBQUs7O0lBRUwsSUFBSSxLQUFLLENBQUMsR0FBRyxFQUFFO0lBQ2YsUUFBUSxJQUFJLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUM7SUFDM0MsUUFBUSxJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUM7SUFDN0MsUUFBUSxPQUFPLE1BQU0sQ0FBQyxRQUFRLENBQUMsT0FBTyxFQUFFLFFBQVEsQ0FBQztJQUNqRCxLQUFLOztJQUVMLElBQUksSUFBSSxHQUFHO0lBQ1gsUUFBUSxJQUFJLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksR0FBRTtJQUN6QyxRQUFRLElBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxHQUFFO0lBQzNDLFFBQVEsT0FBTyxNQUFNLENBQUMsUUFBUSxDQUFDLE9BQU8sRUFBRSxRQUFRLENBQUM7SUFDakQsS0FBSzs7SUFFTCxJQUFJLEtBQUssR0FBRztJQUNaLFFBQVEsSUFBSSxPQUFPLEdBQUcsR0FBRTtJQUN4QixRQUFRLElBQUksUUFBUSxHQUFHLEdBQUU7SUFDekIsUUFBUSxLQUFLLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLEVBQUU7SUFDN0MsWUFBWSxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUM7SUFDekMsWUFBWSxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUFFO0lBQ3hDLGdCQUFnQixJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUM7SUFDOUMsZ0JBQWdCLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFDO0lBQy9CLGdCQUFnQixRQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBQztJQUNoQyxhQUFhO0lBQ2IsU0FBUztJQUNULFFBQVEsSUFBSSxPQUFPLENBQUMsTUFBTSxJQUFJLENBQUMsRUFBRTtJQUNqQyxZQUFZLElBQUksT0FBTyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7SUFDcEMsZ0JBQWdCLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsR0FBRTtJQUNsRCxnQkFBZ0IsUUFBUSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsU0FBUyxHQUFFO0lBQ3BELGFBQWE7SUFDYixZQUFZLElBQUksRUFBRSxHQUFHLE9BQU8sQ0FBQyxDQUFDLEVBQUM7SUFDL0IsWUFBWSxJQUFJLEVBQUUsR0FBRyxPQUFPLENBQUMsQ0FBQyxFQUFDOztJQUUvQixZQUFZLElBQUksRUFBRSxHQUFHLFFBQVEsQ0FBQyxDQUFDLEVBQUM7SUFDaEMsWUFBWSxJQUFJLEVBQUUsR0FBRyxRQUFRLENBQUMsQ0FBQyxFQUFDOztJQUVoQyxZQUFZLElBQUksRUFBRSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBQztJQUN4QyxZQUFZLElBQUksRUFBRSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBQzs7SUFFeEMsWUFBWSxJQUFJLEtBQUssR0FBRyxNQUFNLENBQUMsUUFBUSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUM7SUFDL0MsWUFBWSxJQUFJLElBQUksR0FBRyxJQUFHO0lBQzFCLFlBQVksSUFBSSxTQUFTLEdBQUcsTUFBTSxDQUFDLFFBQVEsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFDO0lBQ25ELFlBQVksSUFBSSxTQUFTLEdBQUcsTUFBTSxDQUFDLFFBQVEsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFDO0lBQ25ELFlBQVksSUFBSSxTQUFTLElBQUksQ0FBQyxJQUFJLFNBQVMsSUFBSSxDQUFDLEVBQUU7SUFDbEQsZ0JBQWdCLElBQUksR0FBRyxTQUFTLEdBQUcsVUFBUztJQUM1QyxhQUFhO0lBQ2IsWUFBWSxJQUFJLE1BQU0sR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUM7SUFDN0MsWUFBWSxJQUFJLE1BQU0sR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUM7SUFDN0MsWUFBWSxJQUFJLEtBQUssR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUM7SUFDbEQsWUFBWSxPQUFPLElBQUksZ0JBQWdCLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsRUFBRSxDQUFDO0lBQzFFLFNBQVMsTUFBTSxJQUFJLE9BQU8sQ0FBQyxNQUFNLElBQUksQ0FBQyxFQUFFO0lBQ3hDLFlBQVksSUFBSSxLQUFLLEdBQUcsTUFBTSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsUUFBUSxDQUFDLENBQUMsQ0FBQyxFQUFDO0lBQ2hFLFlBQVksT0FBTyxJQUFJLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUMsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUMvRSxTQUFTO0lBQ1QsUUFBUSxPQUFPLElBQUk7SUFDbkIsS0FBSzs7SUFFTCxJQUFJLE1BQU0sQ0FBQyxHQUFHLEVBQUUsS0FBSyxFQUFFO0lBQ3ZCO0lBQ0EsUUFBUSxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsS0FBSyxFQUFDO0lBQ3BDLFFBQVEsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUFFO0lBQ2xDLFlBQVksSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLEtBQUssRUFBQztJQUN0QyxZQUFZLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUM7SUFDekMsWUFBWSxJQUFJLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsV0FBVyxDQUFDLEdBQUcsRUFBRSxFQUFDO0lBQ3ZELFlBQVksT0FBTyxJQUFJO0lBQ3ZCLFNBQVM7SUFDVCxRQUFRLE9BQU8sS0FBSztJQUNwQixLQUFLOztJQUVMLElBQUksY0FBYyxHQUFHO0lBQ3JCLFFBQVEsS0FBSyxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxFQUFFO0lBQzdDLFlBQVksSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUFDO0lBQ3pELFNBQVM7SUFDVCxLQUFLOztJQUVMLElBQUksSUFBSSxDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUU7SUFDckIsUUFBUSxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUFFO0lBQ25DLFlBQVksSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFDO0lBQ3BDLFlBQVksSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFDO0lBQ3JDLFlBQVksSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLEtBQUssRUFBQztJQUN0QyxTQUFTO0lBQ1QsS0FBSzs7SUFFTCxJQUFJLE1BQU0sQ0FBQyxHQUFHLEVBQUUsS0FBSyxFQUFFO0lBQ3ZCLFFBQVEsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFDO0lBQ2hDLFFBQVEsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFDO0lBQ2pDLFFBQVEsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFDO0lBQzlCLFFBQVEsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFDO0lBQ25DLFFBQVEsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFDO0lBQzlCLEtBQUs7O0lBRUwsSUFBSSxVQUFVLEdBQUc7SUFDakIsUUFBUSxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxJQUFJLENBQUM7SUFDckMsS0FBSzs7SUFFTCxJQUFJLG1CQUFtQixHQUFHO0lBQzFCLFFBQVEsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEdBQUcsQ0FBQztJQUM5RCxLQUFLOztJQUVMLElBQUksS0FBSyxDQUFDLEdBQUcsRUFBRTtJQUNmLFFBQVEsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUM7SUFDckMsS0FBSzs7SUFFTCxJQUFJLFdBQVcsQ0FBQyxHQUFHLEVBQUU7SUFDckIsUUFBUSxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQztJQUMzQyxLQUFLO0lBQ0wsQ0FBQzs7QUFFRCxJQUFPLE1BQU0sV0FBVyxTQUFTLGlCQUFpQixDQUFDO0lBQ25ELElBQUksV0FBVyxDQUFDLFdBQVcsR0FBRyxFQUFFLEVBQUUsYUFBYSxHQUFHLEtBQUssRUFBRTtJQUN6RCxRQUFRLEtBQUssR0FBRTtJQUNmLFFBQVEsSUFBSSxDQUFDLFdBQVcsR0FBRyxZQUFXO0lBQ3RDLFFBQVEsSUFBSSxDQUFDLGFBQWEsR0FBRyxjQUFhO0lBQzFDLFFBQVEsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLEdBQUcsR0FBRTtJQUNoQyxRQUFRLElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxHQUFHLEdBQUU7SUFDeEMsS0FBSzs7SUFFTCxJQUFJLElBQUksQ0FBQyxHQUFHLEVBQUUsS0FBSyxFQUFFO0lBQ3JCLFFBQVEsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsS0FBSyxFQUFDO0lBQzlCLFFBQVEsS0FBSyxJQUFJLE1BQU0sSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sRUFBRSxFQUFFO0lBQzFELFlBQVksTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsS0FBSyxFQUFDO0lBQ25DLFNBQVM7SUFDVCxLQUFLOztJQUVMLElBQUksU0FBUyxDQUFDLEdBQUcsRUFBRSxNQUFNLEVBQUU7SUFDM0IsUUFBUSxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsTUFBTSxFQUFDO0lBQ3JDLFFBQVEsSUFBSSxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLElBQUksaUJBQWlCLENBQUMsSUFBSSxDQUFDLEVBQUM7SUFDckUsS0FBSzs7SUFFTCxJQUFJLFlBQVksQ0FBQyxHQUFHLEVBQUU7SUFDdEIsUUFBUSxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUM7SUFDMUMsUUFBUSxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUM7SUFDaEM7SUFDQSxRQUFRLElBQUksTUFBTSxHQUFHLEtBQUk7SUFDekIsUUFBUSxLQUFLLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFLEVBQUU7SUFDN0MsWUFBWSxJQUFJLE1BQU0sS0FBSyxDQUFDLEVBQUU7SUFDOUIsZ0JBQWdCLE1BQU0sR0FBRyxNQUFLO0lBQzlCLGFBQWE7SUFDYixTQUFTO0lBQ1QsUUFBUSxJQUFJLE1BQU0sRUFBRTtJQUNwQixZQUFZLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBQztJQUMvQyxTQUFTO0lBQ1QsS0FBSzs7SUFFTCxJQUFJLE1BQU0sQ0FBQyxHQUFHLEVBQUUsS0FBSyxFQUFFO0lBQ3ZCLFFBQVEsS0FBSyxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsS0FBSyxFQUFDO0lBQ2hDLFFBQVEsSUFBSSxDQUFDLFlBQVksQ0FBQyxHQUFHLEVBQUM7SUFDOUIsS0FBSzs7SUFFTCxJQUFJLGNBQWMsQ0FBQyxNQUFNLEVBQUUsT0FBTyxFQUFFLFdBQVcsRUFBRTtJQUNqRDtJQUNBO0lBQ0EsUUFBUSxJQUFJLE1BQU0sR0FBRyxJQUFJLEdBQUcsR0FBRTtJQUM5QixRQUFRLEtBQUssSUFBSSxHQUFHLElBQUksTUFBTSxFQUFFO0lBQ2hDLFlBQVksSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFBRTtJQUN2QyxnQkFBZ0IsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFDO0lBQ2xELGdCQUFnQixJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxFQUFFO0lBQ3RELG9CQUFvQixJQUFJLFdBQVcsR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUM7SUFDdEUsb0JBQW9CLEtBQUssSUFBSSxNQUFNLElBQUksT0FBTyxFQUFFO0lBQ2hELHdCQUF3QixJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFDO0lBQ25ELHdCQUF3QixJQUFJLEtBQUssR0FBRyxRQUFRLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBQztJQUNyRCx3QkFBd0IsSUFBSSxNQUFNLEdBQUcsV0FBVyxDQUFDLEtBQUssRUFBQztJQUN2RCx3QkFBd0IsV0FBVyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsTUFBTSxFQUFDO0lBQzVELHFCQUFxQjtJQUNyQixvQkFBb0IsTUFBTSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsV0FBVyxFQUFDO0lBQ25ELGlCQUFpQjtJQUNqQixhQUFhO0lBQ2IsU0FBUztJQUNULFFBQVEsT0FBTyxNQUFNO0lBQ3JCLEtBQUs7O0lBRUwsSUFBSSxLQUFLLENBQUMsR0FBRyxFQUFFO0lBQ2YsUUFBUSxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUM7SUFDdkMsUUFBUSxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUM7SUFDdkMsUUFBUTtJQUNSLFlBQVksS0FBSztJQUNqQixZQUFZLEtBQUs7SUFDakIsWUFBWSxNQUFNLENBQUMsUUFBUSxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsR0FBRyxJQUFJLENBQUMsV0FBVztJQUM1RCxVQUFVO0lBQ1YsWUFBWSxJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUM7SUFDN0MsWUFBWSxJQUFJLFFBQVEsR0FBRyxXQUFXLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLElBQUksQ0FBQyxjQUFhO0lBQ3RFLFlBQVksSUFBSSxRQUFRLEVBQUU7SUFDMUIsZ0JBQWdCLE9BQU8sS0FBSztJQUM1QixhQUFhO0lBQ2IsWUFBWSxPQUFPLElBQUk7SUFDdkIsU0FBUztJQUNULFFBQVEsT0FBTyxLQUFLO0lBQ3BCLEtBQUs7O0lBRUwsSUFBSSxRQUFRLEdBQUc7SUFDZixRQUFRLEtBQUssSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsRUFBRTtJQUMzQyxZQUFZLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxPQUFPLElBQUk7SUFDNUMsU0FBUztJQUNULFFBQVEsT0FBTyxLQUFLO0lBQ3BCLEtBQUs7O0lBRUwsSUFBSSxXQUFXLENBQUMsR0FBRyxFQUFFO0lBQ3JCLFFBQVEsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFDO0lBQ3ZDLFFBQVEsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFDO0lBQ3ZDLFFBQVE7SUFDUixZQUFZLEtBQUs7SUFDakIsWUFBWSxLQUFLO0lBQ2pCLFlBQVksTUFBTSxDQUFDLFFBQVEsQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLEdBQUcsSUFBSSxDQUFDLFdBQVc7SUFDNUQsVUFBVTtJQUNWLFlBQVksSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFDO0lBQzdDLFlBQVksSUFBSSxRQUFRLEdBQUcsV0FBVyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxJQUFJLENBQUMsY0FBYTtJQUN0RSxZQUFZLElBQUksUUFBUSxFQUFFO0lBQzFCLGdCQUFnQixPQUFPLElBQUk7SUFDM0IsYUFBYTtJQUNiLFlBQVksT0FBTyxLQUFLO0lBQ3hCLFNBQVM7SUFDVCxRQUFRLE9BQU8sS0FBSztJQUNwQixLQUFLOztJQUVMLElBQUksY0FBYyxHQUFHO0lBQ3JCLFFBQVEsS0FBSyxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxFQUFFO0lBQzNDLFlBQVksSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxFQUFFLE9BQU8sSUFBSTtJQUNsRCxTQUFTO0lBQ1QsUUFBUSxPQUFPLEtBQUs7SUFDcEIsS0FBSzs7SUFFTCxJQUFJLFFBQVEsQ0FBQyxHQUFHLEVBQUU7SUFDbEIsUUFBUSxPQUFPLEdBQUcsS0FBSyxRQUFRO0lBQy9CLEtBQUs7SUFDTCxDQUFDOztBQUVELElBQU8sTUFBTSxtQkFBbUIsQ0FBQztJQUNqQztJQUNBOztJQUVBLElBQUksV0FBVztJQUNmLFFBQVEsT0FBTztJQUNmLFFBQVEsTUFBTTtJQUNkLFFBQVEsQ0FBQyxpQkFBaUIsR0FBRyxJQUFJLEVBQUUsS0FBSyxHQUFHLEtBQUssQ0FBQyxHQUFHLEVBQUU7SUFDdEQsTUFBTTtJQUNOLFFBQVEsSUFBSSxDQUFDLEtBQUssR0FBRyxNQUFLO0lBQzFCLFFBQVEsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLFdBQVcsR0FBRTtJQUM1QyxRQUFRLElBQUksQ0FBQyxPQUFPLEdBQUcsUUFBTztJQUM5QixRQUFRLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxpQkFBaUIsSUFBSSxRQUFPO0lBQzdELFFBQVEsSUFBSSxDQUFDLE1BQU0sR0FBRyxPQUFNO0lBQzVCLFFBQVEsSUFBSSxDQUFDLGdCQUFnQixHQUFFO0lBQy9CLEtBQUs7O0lBRUwsSUFBSSxnQkFBZ0IsR0FBRztJQUN2QixRQUFRLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRTtJQUN4QixZQUFZLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsbUJBQW1CO0lBQ2hFLGdCQUFnQixJQUFJLENBQUMsTUFBTSxDQUFDLFdBQVc7SUFDdkMsY0FBYTtJQUNiLFlBQVksSUFBSSxLQUFLLElBQUksSUFBSSxFQUFFO0lBQy9CLGdCQUFnQixNQUFNLElBQUksS0FBSyxDQUFDLCtCQUErQixHQUFHLEtBQUssQ0FBQztJQUN4RSxhQUFhO0lBQ2IsU0FBUztJQUNULFFBQVEsSUFBSSxDQUFDLHFCQUFxQixHQUFFO0lBQ3BDLFFBQVEsSUFBSSxDQUFDLDBCQUEwQixHQUFFO0lBQ3pDLEtBQUs7O0lBRUwsSUFBSSxJQUFJLGVBQWUsR0FBRztJQUMxQixRQUFRLE9BQU8sa0JBQWtCO0lBQ2pDLEtBQUs7O0lBRUwsSUFBSSxxQkFBcUIsR0FBRztJQUM1QixRQUFRLElBQUksT0FBTyxHQUFHLElBQUksQ0FBQyxRQUFPO0lBQ2xDLFFBQVEsSUFBSSxVQUFVLEdBQUcsS0FBSTtJQUM3QixRQUFRLElBQUksTUFBTSxDQUFDLFlBQVksRUFBRTtJQUNqQyxZQUFZLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLGFBQWEsR0FBRyxNQUFNLENBQUMsWUFBWSxFQUFDO0lBQzVFLFlBQVksT0FBTyxDQUFDLGdCQUFnQjtJQUNwQyxnQkFBZ0IsYUFBYTtJQUM3QixnQkFBZ0IsQ0FBQyxJQUFJO0lBQ3JCLG9CQUFvQixJQUFJLElBQUksQ0FBQyxLQUFLLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxhQUFhLEVBQUUsQ0FBQyxDQUFDLFNBQVMsRUFBQztJQUMzRSxvQkFBb0IsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFO0lBQ3pDLHdCQUF3QixPQUFPLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDLFNBQVMsRUFBQztJQUM5RCx3QkFBd0IsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUM7SUFDdkMscUJBQXFCO0lBQ3JCLGlCQUFpQjtJQUNqQixnQkFBZ0IsVUFBVTtJQUMxQixjQUFhO0lBQ2IsWUFBWSxPQUFPLENBQUMsZ0JBQWdCO0lBQ3BDLGdCQUFnQixhQUFhO0lBQzdCLGdCQUFnQixDQUFDLElBQUk7SUFDckIsb0JBQW9CLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLGFBQWEsRUFBRSxDQUFDLENBQUMsU0FBUyxFQUFDO0lBQzNFLG9CQUFvQjtJQUNwQix3QkFBd0IsQ0FBQyxDQUFDLFdBQVcsSUFBSSxPQUFPO0lBQ2hELHlCQUF5QixDQUFDLENBQUMsV0FBVyxJQUFJLE9BQU8sSUFBSSxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzNFLHNCQUFzQjtJQUN0QjtJQUNBLHdCQUF3QixJQUFJLElBQUksQ0FBQyxLQUFLO0lBQ3RDLDRCQUE0QixPQUFPLENBQUMsR0FBRyxDQUFDLHNCQUFzQixFQUFFLENBQUMsQ0FBQyxTQUFTLEVBQUM7SUFDNUUsd0JBQXdCLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFDO0lBQ3RDLHFCQUFxQjtJQUNyQixpQkFBaUI7SUFDakIsZ0JBQWdCLFVBQVU7SUFDMUIsY0FBYTtJQUNiLFlBQVksT0FBTyxDQUFDLGdCQUFnQjtJQUNwQyxnQkFBZ0IsV0FBVztJQUMzQixnQkFBZ0IsQ0FBQyxJQUFJO0lBQ3JCLG9CQUFvQixJQUFJLElBQUksQ0FBQyxLQUFLLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQUM7SUFDNUQsb0JBQW9CLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFDO0lBQ2pDLG9CQUFvQixPQUFPLENBQUMscUJBQXFCLENBQUMsQ0FBQyxDQUFDLFNBQVMsRUFBQztJQUM5RCxpQkFBaUI7SUFDakIsZ0JBQWdCLFVBQVU7SUFDMUIsY0FBYTtJQUNiLFlBQVksT0FBTyxDQUFDLGdCQUFnQjtJQUNwQyxnQkFBZ0IsZUFBZTtJQUMvQixnQkFBZ0IsQ0FBQyxJQUFJO0lBQ3JCLG9CQUFvQixJQUFJLElBQUksQ0FBQyxLQUFLLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxlQUFlLEVBQUM7SUFDaEUsb0JBQW9CLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFDO0lBQ2pDLG9CQUFvQixPQUFPLENBQUMscUJBQXFCLENBQUMsQ0FBQyxDQUFDLFNBQVMsRUFBQztJQUM5RCxpQkFBaUI7SUFDakIsZ0JBQWdCLFVBQVU7SUFDMUIsY0FBYTtJQUNiLFlBQVksT0FBTyxDQUFDLGdCQUFnQjtJQUNwQyxnQkFBZ0IsY0FBYztJQUM5QixnQkFBZ0IsQ0FBQyxJQUFJO0lBQ3JCLG9CQUFvQixJQUFJLElBQUksQ0FBQyxLQUFLLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxjQUFjLEVBQUM7SUFDL0Qsb0JBQW9CLElBQUksQ0FBQyxDQUFDLE1BQU0sSUFBSSxPQUFPLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUM7SUFDMUQsaUJBQWlCO0lBQ2pCLGdCQUFnQixVQUFVO0lBQzFCLGNBQWE7SUFDYixTQUFTLE1BQU0sSUFBSSxNQUFNLENBQUMsVUFBVSxFQUFFO0lBQ3RDLFlBQVksSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFDO0lBQ3BELFlBQVksT0FBTyxDQUFDLGdCQUFnQjtJQUNwQyxnQkFBZ0IsWUFBWTtJQUM1QixnQkFBZ0IsQ0FBQyxJQUFJO0lBQ3JCLG9CQUFvQixJQUFJLElBQUksQ0FBQyxLQUFLO0lBQ2xDLHdCQUF3QixPQUFPLENBQUMsR0FBRyxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUFDO0lBQ3RFLG9CQUFvQixJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUU7SUFDekMsd0JBQXdCLEtBQUssSUFBSSxLQUFLLElBQUksQ0FBQyxDQUFDLGNBQWMsRUFBRTtJQUM1RCw0QkFBNEIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUM7SUFDL0MseUJBQXlCO0lBQ3pCLHFCQUFxQjtJQUNyQixpQkFBaUI7SUFDakIsZ0JBQWdCLFVBQVU7SUFDMUIsY0FBYTtJQUNiLFlBQVksT0FBTyxDQUFDLGdCQUFnQjtJQUNwQyxnQkFBZ0IsV0FBVztJQUMzQixnQkFBZ0IsQ0FBQyxJQUFJO0lBQ3JCLG9CQUFvQixJQUFJLElBQUksQ0FBQyxLQUFLO0lBQ2xDLHdCQUF3QixPQUFPLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBQztJQUN4RSxvQkFBb0IsS0FBSyxJQUFJLEtBQUssSUFBSSxDQUFDLENBQUMsY0FBYyxFQUFFO0lBQ3hELHdCQUF3QixJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBQztJQUMxQyxxQkFBcUI7SUFDckIsb0JBQW9CLEtBQUssSUFBSSxLQUFLLElBQUksQ0FBQyxDQUFDLGFBQWEsRUFBRTtJQUN2RCx3QkFBd0IsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUM7SUFDMUMscUJBQXFCO0lBQ3JCLGlCQUFpQjtJQUNqQixnQkFBZ0IsVUFBVTtJQUMxQixjQUFhO0lBQ2IsWUFBWSxPQUFPLENBQUMsZ0JBQWdCO0lBQ3BDLGdCQUFnQixVQUFVO0lBQzFCLGdCQUFnQixDQUFDLElBQUk7SUFDckIsb0JBQW9CLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUFDO0lBQ2hGLG9CQUFvQixLQUFLLElBQUksS0FBSyxJQUFJLENBQUMsQ0FBQyxjQUFjLEVBQUU7SUFDeEQsd0JBQXdCLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxFQUFDO0lBQ3pDLHFCQUFxQjtJQUNyQixpQkFBaUI7SUFDakIsZ0JBQWdCLFVBQVU7SUFDMUIsY0FBYTtJQUNiLFlBQVksT0FBTyxDQUFDLGdCQUFnQjtJQUNwQyxnQkFBZ0IsYUFBYTtJQUM3QixnQkFBZ0IsQ0FBQyxJQUFJO0lBQ3JCLG9CQUFvQixJQUFJLElBQUksQ0FBQyxLQUFLO0lBQ2xDLHdCQUF3QixPQUFPLENBQUMsR0FBRztJQUNuQyw0QkFBNEIsYUFBYTtJQUN6Qyw0QkFBNEIsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxNQUFNO0lBQ2xELDRCQUE0QixDQUFDLENBQUMsY0FBYyxDQUFDLE1BQU07SUFDbkQsMEJBQXlCO0lBQ3pCLG9CQUFvQixLQUFLLElBQUksS0FBSyxJQUFJLENBQUMsQ0FBQyxjQUFjLEVBQUU7SUFDeEQsd0JBQXdCLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxFQUFDO0lBQ3pDLHFCQUFxQjtJQUNyQixpQkFBaUI7SUFDakIsZ0JBQWdCLFVBQVU7SUFDMUIsY0FBYTtJQUNiLFNBQVMsTUFBTTtJQUNmLFlBQVksSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFDOztJQUVwRCxZQUFZLE9BQU8sQ0FBQyxnQkFBZ0I7SUFDcEMsZ0JBQWdCLFdBQVc7SUFDM0IsZ0JBQWdCLENBQUMsSUFBSTtJQUNyQixvQkFBb0IsSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFFLENBQUMsRUFBQztJQUMvRCxvQkFBb0IsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFDO0lBQ3hELGlCQUFpQjtJQUNqQixnQkFBZ0IsVUFBVTtJQUMxQixjQUFhO0lBQ2IsWUFBWSxPQUFPLENBQUMsZ0JBQWdCO0lBQ3BDLGdCQUFnQixXQUFXO0lBQzNCLGdCQUFnQixDQUFDLElBQUk7SUFDckI7SUFDQTtJQUNBOztJQUVBLG9CQUFvQixJQUFJLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO0lBQzdDLHdCQUF3QixJQUFJLElBQUksQ0FBQyxLQUFLO0lBQ3RDO0lBQ0EsNEJBQTRCLE9BQU8sQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFFLENBQUMsRUFBQztJQUN2RCxvQkFBb0IsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUM7SUFDbEMsaUJBQWlCO0lBQ2pCLGdCQUFnQixVQUFVO0lBQzFCLGNBQWE7SUFDYixZQUFZLE9BQU8sQ0FBQyxnQkFBZ0I7SUFDcEMsZ0JBQWdCLFNBQVM7SUFDekIsZ0JBQWdCLENBQUMsSUFBSTtJQUNyQixvQkFBb0IsSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFFLENBQUMsRUFBQztJQUM3RCxvQkFBb0IsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUM7SUFDakMsaUJBQWlCO0lBQ2pCLGdCQUFnQixJQUFJO0lBQ3BCLGNBQWE7SUFDYixZQUFZLE9BQU8sQ0FBQyxnQkFBZ0I7SUFDcEMsZ0JBQWdCLFVBQVU7SUFDMUIsZ0JBQWdCLENBQUMsSUFBSTtJQUNyQixvQkFBb0IsSUFBSSxDQUFDLENBQUMsTUFBTSxJQUFJLE9BQU8sRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBQztJQUMxRCxpQkFBaUI7SUFDakIsZ0JBQWdCLFVBQVU7SUFDMUIsY0FBYTtJQUNiLFNBQVM7SUFDVCxLQUFLOztJQUVMLElBQUksV0FBVyxDQUFDLEtBQUssRUFBRTtJQUN2QixRQUFRLElBQUksTUFBTSxHQUFHLEdBQUU7SUFDdkIsUUFBUSxLQUFLLElBQUksS0FBSyxJQUFJLEtBQUssQ0FBQyxjQUFjLEVBQUU7SUFDaEQsWUFBWSxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLEVBQUM7SUFDakQsU0FBUztJQUNULFFBQVEsT0FBTyxNQUFNO0lBQ3JCLEtBQUs7O0lBRUwsSUFBSSwwQkFBMEIsR0FBRztJQUNqQyxRQUFRLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxnQkFBZ0I7SUFDL0MsWUFBWSxZQUFZO0lBQ3hCLFlBQVksSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO0lBQ3hDLFlBQVksSUFBSTtJQUNoQixVQUFTO0lBQ1QsUUFBUSxJQUFJLENBQUMsaUJBQWlCLENBQUMsZ0JBQWdCO0lBQy9DLFlBQVksZ0JBQWdCO0lBQzVCLFlBQVksSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO0lBQ3hDLFlBQVksSUFBSTtJQUNoQixVQUFTO0lBQ1QsS0FBSzs7SUFFTCxJQUFJLFlBQVksQ0FBQyxLQUFLLEVBQUU7SUFDeEIsUUFBUSxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxZQUFZLEVBQUU7SUFDN0QsWUFBWSxJQUFJLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxLQUFLLEVBQUM7SUFDM0MsU0FBUyxBQUVBO0lBQ1QsS0FBSzs7SUFFTCxJQUFJLE9BQU8sQ0FBQyxLQUFLLEVBQUU7SUFDbkIsUUFBUSxJQUFJLFNBQVMsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssRUFBQztJQUNoRCxRQUFRLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxLQUFLLEVBQUUsU0FBUyxFQUFDO0lBQ2hELFFBQVEsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxXQUFXLEVBQUM7SUFDcEQsS0FBSzs7SUFFTCxJQUFJLE1BQU0sQ0FBQyxLQUFLLEVBQUU7SUFDbEIsUUFBUSxJQUFJLFNBQVMsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUM7SUFDdkQsUUFBUSxJQUFJLENBQUMsaUJBQWlCLENBQUMsS0FBSyxFQUFFLFNBQVMsRUFBQztJQUNoRCxRQUFRLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsV0FBVyxFQUFDO0lBQ25ELFFBQVEsSUFBSSxDQUFDLFdBQVcsQ0FBQyxjQUFjLEdBQUU7SUFDekMsS0FBSzs7SUFFTCxJQUFJLEtBQUssQ0FBQyxLQUFLLEVBQUU7SUFDakIsUUFBUSxJQUFJLFNBQVMsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssRUFBRSxnQkFBZ0IsRUFBQztJQUNsRSxRQUFRLElBQUksQ0FBQyxjQUFjLENBQUMsS0FBSyxFQUFFLFNBQVMsRUFBQztJQUM3QyxRQUFRLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsV0FBVyxFQUFDO0lBQ2xELFFBQVEsSUFBSSxDQUFDLGlCQUFpQixDQUFDLEtBQUssRUFBRSxTQUFTLEVBQUM7SUFDaEQsS0FBSzs7SUFFTCxJQUFJLE9BQU8sQ0FBQyxLQUFLLEVBQUU7SUFDbkIsUUFBUSxJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUM7SUFDakQsUUFBUSxPQUFPLFFBQVE7SUFDdkIsS0FBSzs7SUFFTCxJQUFJLFdBQVcsQ0FBQyxLQUFLLEVBQUU7SUFDdkIsUUFBUSxPQUFPLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxPQUFPLEVBQUUsQ0FBQyxFQUFFLEtBQUssQ0FBQyxPQUFPLENBQUM7SUFDbkQsS0FBSzs7SUFFTCxJQUFJLFlBQVksQ0FBQyxLQUFLLEVBQUUsYUFBYSxHQUFHLEtBQUssRUFBRTtJQUMvQztJQUNBLFFBQVEsSUFBSSxNQUFNLEdBQUcsR0FBRTtJQUN2QixRQUFRLFFBQVEsS0FBSyxDQUFDLFdBQVcsQ0FBQyxJQUFJO0lBQ3RDLFlBQVksS0FBSyxZQUFZO0lBQzdCLGdCQUFnQixJQUFJLE9BQU8sR0FBRyxLQUFLLENBQUMsT0FBTyxJQUFJLEtBQUssQ0FBQyxNQUFLO0lBQzFELGdCQUFnQixJQUFJLE9BQU8sRUFBRSxNQUFNLENBQUMsT0FBTyxDQUFDLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUM7SUFDdEUsZ0JBQWdCLEtBQUs7SUFDckIsWUFBWSxLQUFLLGNBQWM7SUFDL0IsZ0JBQWdCLE1BQU0sQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLFFBQVEsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUM7SUFDNUUsZ0JBQWdCLEtBQUs7SUFDckIsWUFBWSxLQUFLLE9BQU87SUFDeEIsZ0JBQWdCLElBQUksRUFBRTtJQUN0QixvQkFBb0IsS0FBSyxDQUFDLFNBQVMsS0FBSyxRQUFRO0lBQ2hELDBCQUEwQixRQUFRO0lBQ2xDLDBCQUEwQixLQUFLLENBQUMsVUFBVSxDQUFDLFFBQVEsR0FBRTtJQUNyRCxnQkFBZ0IsTUFBTSxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxFQUFDO0lBQ3BELGdCQUFnQixLQUFLO0lBQ3JCO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQSxZQUFZO0lBQ1osZ0JBQWdCLEtBQUs7SUFDckIsU0FBUztJQUNULFFBQVEsT0FBTyxNQUFNO0lBQ3JCLEtBQUs7O0lBRUwsSUFBSSxrQkFBa0IsQ0FBQyxLQUFLLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRTtJQUMxQztJQUNBLEtBQUs7O0lBRUwsSUFBSSxnQkFBZ0IsQ0FBQyxLQUFLLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRTtJQUN4QztJQUNBLEtBQUs7O0lBRUwsSUFBSSxtQkFBbUIsQ0FBQyxLQUFLLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxFQUFFOztJQUU3QyxJQUFJLGlCQUFpQixDQUFDLEtBQUssRUFBRSxTQUFTLEVBQUU7SUFDeEMsUUFBUSxLQUFLLElBQUksR0FBRyxJQUFJLFNBQVMsRUFBRTtJQUNuQyxZQUFZLElBQUksS0FBSyxHQUFHLFNBQVMsQ0FBQyxHQUFHLEVBQUM7SUFDdEMsWUFBWSxJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsRUFBRTtJQUNyRCxnQkFBZ0IsSUFBSSxDQUFDLGtCQUFrQixDQUFDLEtBQUssRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFDO0lBQzFELGFBQWE7SUFDYixTQUFTO0lBQ1QsS0FBSzs7SUFFTCxJQUFJLGNBQWMsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFO0lBQ2pDLFFBQVEsS0FBSyxJQUFJLEdBQUcsSUFBSSxLQUFLLEVBQUU7SUFDL0IsWUFBWSxJQUFJLEtBQUssR0FBRyxLQUFLLENBQUMsR0FBRyxFQUFDO0lBQ2xDLFlBQVksSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLEtBQUssRUFBQztJQUM3QyxZQUFZLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBQztJQUNwRCxTQUFTO0lBQ1QsS0FBSzs7SUFFTCxJQUFJLGlCQUFpQixDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUU7SUFDcEMsUUFBUSxLQUFLLElBQUksR0FBRyxJQUFJLEtBQUssRUFBRTtJQUMvQixZQUFZLElBQUksS0FBSyxHQUFHLEtBQUssQ0FBQyxHQUFHLEVBQUM7SUFDbEMsWUFBWSxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsS0FBSyxFQUFDO0lBQy9DLFlBQVksSUFBSSxDQUFDLG1CQUFtQixDQUFDLEtBQUssRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFDO0lBQ3ZELFNBQVM7SUFDVCxLQUFLO0lBQ0wsQ0FBQzs7QUFFRCxJQUFPLE1BQU0saUJBQWlCLFNBQVMsbUJBQW1CLENBQUM7SUFDM0Q7SUFDQTtJQUNBOztJQUVBO0lBQ0E7O0lBRUE7SUFDQTtJQUNBOztJQUVBLElBQUksV0FBVztJQUNmLFFBQVEsT0FBTztJQUNmLFFBQVEsTUFBTTtJQUNkLFFBQVEsQ0FBQyxXQUFXLEdBQUcsRUFBRSxFQUFFLGFBQWEsR0FBRyxLQUFLLEVBQUUsaUJBQWlCLEdBQUcsSUFBSSxDQUFDLEdBQUcsRUFBRTtJQUNoRixNQUFNO0lBQ04sUUFBUSxLQUFLLENBQUMsT0FBTyxFQUFFLE1BQU0sRUFBRSxDQUFDLFdBQVcsRUFBRSxhQUFhLEVBQUUsaUJBQWlCLENBQUMsRUFBQztJQUMvRSxLQUFLOztJQUVMLElBQUksSUFBSSxlQUFlLEdBQUc7SUFDMUIsUUFBUSxPQUFPLHdCQUF3QjtJQUN2QyxLQUFLOztJQUVMLElBQUksa0JBQWtCLENBQUMsS0FBSyxFQUFFO0lBQzlCLFFBQVEsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLGtCQUFrQixFQUFFO0lBQzVDLFlBQVksT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLGtCQUFrQixDQUFDLEtBQUssQ0FBQztJQUN4RCxTQUFTO0lBQ1QsUUFBUSxPQUFPLEtBQUs7SUFDcEIsS0FBSzs7SUFFTCxJQUFJLGtCQUFrQixDQUFDLEtBQUssRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFO0lBQzFDLFFBQVEsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsRUFBRTtJQUNwQyxZQUFZLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxLQUFLLEVBQUM7SUFDdEQsWUFBWSxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBQztJQUNuRSxZQUFZLElBQUksS0FBSyxJQUFJLElBQUksRUFBRTtJQUMvQixnQkFBZ0IsSUFBSSxDQUFDLFdBQVcsQ0FBQyxTQUFTLENBQUMsR0FBRyxFQUFFLEtBQUssRUFBQztJQUN0RCxhQUFhO0lBQ2IsU0FBUztJQUNULEtBQUs7O0lBRUwsSUFBSSxZQUFZLENBQUMsS0FBSyxFQUFFO0lBQ3hCLFFBQVEsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxFQUFFO0lBQ2pDLFlBQVksSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsRUFBRTtJQUN4QyxnQkFBZ0IsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUM7SUFDbkQsZ0JBQWdCLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxLQUFLLEVBQUM7SUFDMUQsZ0JBQWdCLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFDO0lBQ3ZFLGdCQUFnQixJQUFJLEtBQUssSUFBSSxJQUFJLElBQUksS0FBSyxDQUFDLFlBQVksRUFBRTtJQUN6RCxvQkFBb0IsS0FBSyxDQUFDLFlBQVksQ0FBQyxLQUFLLEVBQUM7SUFDN0Msb0JBQW9CLE1BQU07SUFDMUIsaUJBQWlCO0lBQ2pCLGFBQWE7SUFDYixZQUFZLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxZQUFZLEVBQUU7SUFDMUMsZ0JBQWdCLElBQUksQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLEtBQUssRUFBQztJQUMvQyxhQUFhLEFBRUE7SUFDYixTQUFTO0lBQ1QsS0FBSzs7SUFFTCxJQUFJLE9BQU8sQ0FBQyxLQUFLLEVBQUU7SUFDbkIsUUFBUSxJQUFJLFNBQVMsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssRUFBQztJQUNoRCxRQUFRLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxLQUFLLEVBQUUsU0FBUyxFQUFDO0lBQ2hELFFBQVEsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxjQUFjO0lBQ3BELFlBQVksU0FBUztJQUNyQixZQUFZLENBQUMsU0FBUyxFQUFFLE9BQU8sQ0FBQztJQUNoQyxZQUFZLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO0lBQzlDLFVBQVM7SUFDVCxRQUFRLEtBQUssSUFBSSxDQUFDLE1BQU0sRUFBRSxXQUFXLENBQUMsSUFBSSxNQUFNLENBQUMsT0FBTyxFQUFFLEVBQUU7SUFDNUQsWUFBWSxNQUFNLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxXQUFXLEVBQUM7SUFDOUMsU0FBUztJQUNULEtBQUs7O0lBRUwsSUFBSSxNQUFNLENBQUMsS0FBSyxFQUFFO0lBQ2xCLFFBQVEsSUFBSSxTQUFTLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFDOztJQUV2RCxRQUFRLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxLQUFLLEVBQUUsU0FBUyxFQUFDO0lBQ2hELFFBQVEsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxjQUFjO0lBQ3BELFlBQVksU0FBUztJQUNyQixZQUFZLENBQUMsU0FBUyxFQUFFLFVBQVUsQ0FBQztJQUNuQyxZQUFZLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO0lBQzlDLFVBQVM7SUFDVCxRQUFRLEtBQUssSUFBSSxDQUFDLE1BQU0sRUFBRSxXQUFXLENBQUMsSUFBSSxNQUFNLENBQUMsT0FBTyxFQUFFLEVBQUU7SUFDNUQsWUFBWSxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxXQUFXLEVBQUM7SUFDN0MsWUFBWSxXQUFXLENBQUMsY0FBYyxHQUFFO0lBQ3hDLFNBQVM7SUFDVCxRQUFRLElBQUksQ0FBQyxXQUFXLENBQUMsY0FBYyxHQUFFO0lBQ3pDLEtBQUs7O0lBRUwsSUFBSSxLQUFLLENBQUMsS0FBSyxFQUFFO0lBQ2pCLFFBQVEsSUFBSSxTQUFTLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxLQUFLLEVBQUUsZ0JBQWdCLEVBQUM7SUFDbEUsUUFBUSxJQUFJLENBQUMsY0FBYyxDQUFDLEtBQUssRUFBRSxTQUFTLEVBQUM7SUFDN0MsUUFBUSxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLGNBQWM7SUFDcEQsWUFBWSxTQUFTO0lBQ3JCLFlBQVksQ0FBQyxPQUFPLENBQUM7SUFDckIsWUFBWSxJQUFJLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQztJQUM5QyxVQUFTO0lBQ1QsUUFBUSxLQUFLLElBQUksQ0FBQyxNQUFNLEVBQUUsV0FBVyxDQUFDLElBQUksTUFBTSxDQUFDLE9BQU8sRUFBRSxFQUFFO0lBQzVELFlBQVksTUFBTSxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUUsV0FBVyxFQUFDO0lBQzVDLFNBQVM7SUFDVCxRQUFRLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxLQUFLLEVBQUUsU0FBUyxFQUFDO0lBQ2hELEtBQUs7SUFDTCxDQUFDOztJQUVELE1BQU0sQ0FBQyxpQkFBaUIsR0FBRyxpQkFBaUI7O0lDMXdCNUM7SUFDQTtBQUNBLElBQU8sTUFBTSxZQUFZLENBQUM7O0lBRTFCO0lBQ0E7SUFDQTtJQUNBLElBQUksV0FBVyxTQUFTLEdBQUc7SUFDM0IsUUFBUSxPQUFPLFNBQVMsQ0FBQyxTQUFTLElBQUksZUFBZTtJQUNyRCxLQUFLOztJQUVMO0lBQ0E7SUFDQTtJQUNBO0lBQ0EsSUFBSSxXQUFXLFFBQVEsR0FBRztJQUMxQixRQUFRLFFBQVEsTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDakQsS0FBSzs7SUFFTDtJQUNBO0lBQ0E7SUFDQTtJQUNBLElBQUksV0FBVyxLQUFLLEdBQUc7SUFDdkIsUUFBUSxPQUFPLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxRQUFRO0lBQ2pGLEtBQUs7O0lBRUw7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBLElBQUksV0FBVyxRQUFRLEdBQUc7SUFDMUIsUUFBUSxPQUFPLFNBQVMsQ0FBQyxNQUFNLElBQUksU0FBUyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3pFLGVBQWUsU0FBUyxDQUFDLFNBQVMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQztJQUN6RSxLQUFLOzs7SUFHTDtJQUNBO0lBQ0E7SUFDQSxJQUFJLFdBQVcsZ0JBQWdCLEdBQUc7SUFDbEMsUUFBUSxPQUFPLE1BQU0sQ0FBQyxnQkFBZ0IsSUFBSSxDQUFDO0lBQzNDLEtBQUs7O0lBRUw7SUFDQTtJQUNBO0lBQ0EsSUFBSSxXQUFXLGlCQUFpQixHQUFHO0lBQ25DLFFBQVEsT0FBTyxZQUFZLENBQUMsZ0JBQWdCLEdBQUcsQ0FBQyxJQUFJLFlBQVksQ0FBQyxRQUFRLEtBQUssS0FBSyxJQUFJLFVBQVUsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQztJQUM5SCxLQUFLOztJQUVMO0lBQ0E7SUFDQTtJQUNBLElBQUksT0FBTyxtQkFBbUIsR0FBRztJQUNqQyxRQUFRLE9BQU8sT0FBTyxNQUFNLENBQUMsVUFBVSxDQUFDLElBQUksV0FBVztJQUN2RCxLQUFLOztJQUVMO0lBQ0E7SUFDQTtJQUNBLElBQUksT0FBTyxtQkFBbUIsR0FBRztJQUNqQyxRQUFRLE9BQU8sT0FBTyxNQUFNLENBQUMsVUFBVSxDQUFDLElBQUksV0FBVztJQUN2RCxLQUFLOztJQUVMO0lBQ0E7SUFDQTtJQUNBLElBQUksT0FBTyxxQkFBcUIsR0FBRztJQUNuQyxRQUFRLE9BQU8sT0FBTyxNQUFNLENBQUMsWUFBWSxDQUFDLElBQUksV0FBVztJQUN6RCxLQUFLOztJQUVMO0lBQ0E7SUFDQTtJQUNBLElBQUksT0FBTyxnQkFBZ0IsR0FBRztJQUM5QixRQUFRLE9BQU8sU0FBUyxJQUFJLFFBQVEsQ0FBQyxhQUFhLENBQUMsVUFBVSxDQUFDLENBQUM7SUFDL0QsS0FBSztJQUNMLENBQUM7O0lBRUQ7SUFDQTtBQUNBLElBQU8sTUFBTSxpQkFBaUIsQ0FBQzs7SUFFL0IsSUFBSSxPQUFPLFdBQVcsR0FBRztJQUN6QixRQUFRLElBQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxnQkFBZ0IsRUFBQztJQUM1QyxRQUFRLFFBQVEsQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLENBQUMsU0FBUyxHQUFHLENBQUMsSUFBSSxJQUFJLFdBQVcsR0FBRyxnQkFBZTtJQUMxRixLQUFLOztJQUVMLElBQUksT0FBTyxVQUFVLEdBQUc7SUFDeEIsUUFBUSxJQUFJLE1BQU0sR0FBRyxNQUFNLENBQUMsd0JBQXdCLEVBQUUsY0FBYyxFQUFDO0lBQ3JFLFFBQVEsSUFBSSxNQUFNLElBQUksSUFBSSxFQUFFO0lBQzVCLFlBQVksSUFBSSxDQUFDLFNBQVM7SUFDMUIsWUFBWSxRQUFRLEdBQUcsTUFBTSxHQUFHLHVCQUFzQjtJQUN0RCxTQUFTO0lBQ1QsS0FBSzs7SUFFTCxJQUFJLE9BQU8sYUFBYSxHQUFHO0lBQzNCLFFBQVEsSUFBSSxLQUFLLEdBQUcsY0FBYyxHQUFHLFlBQVksQ0FBQyxVQUFTO0lBQzNELFFBQVEsVUFBVSxDQUFDLFNBQVMsR0FBRyxNQUFLO0lBQ3BDLEtBQUs7O0lBRUwsSUFBSSxPQUFPLG9CQUFvQixHQUFHO0lBQ2xDLFFBQVEsSUFBSSxLQUFLLEdBQUcsc0JBQXNCLEdBQUcsWUFBWSxDQUFDLGlCQUFnQjtJQUMxRSxRQUFRLGtCQUFrQixDQUFDLFNBQVMsR0FBRyxNQUFLO0lBQzVDLEtBQUs7O0lBRUwsSUFBSSxPQUFPLG1CQUFtQixHQUFHO0lBQ2pDLFFBQVEsSUFBSSxLQUFLLEdBQUcscUNBQXFDLEdBQUcsWUFBWSxDQUFDLGtCQUFpQjtJQUMxRixRQUFRLGlCQUFpQixDQUFDLFNBQVMsR0FBRyxNQUFLO0lBQzNDLEtBQUs7O0lBRUwsSUFBSSxPQUFPLG1CQUFtQixHQUFHO0lBQ2pDLFFBQVEsSUFBSSxNQUFNLEdBQUcsR0FBRTtJQUN2QixRQUFRLElBQUksWUFBWSxDQUFDLG1CQUFtQixFQUFFLEVBQUU7SUFDaEQsWUFBWSxNQUFNLENBQUMsSUFBSSxDQUFDLGFBQWEsRUFBQztJQUN0QyxTQUFTO0lBQ1QsUUFBUSxJQUFJLFlBQVksQ0FBQyxtQkFBbUIsRUFBRSxFQUFFO0lBQ2hELFlBQVksTUFBTSxDQUFDLElBQUksQ0FBQyxhQUFhLEVBQUM7SUFDdEMsU0FBUztJQUNULFFBQVEsSUFBSSxZQUFZLENBQUMscUJBQXFCLEVBQUUsRUFBRTtJQUNsRCxZQUFZLE1BQU0sQ0FBQyxJQUFJLENBQUMsZUFBZSxFQUFDO0lBQ3hDLFNBQVM7SUFDVCxRQUFRLGdCQUFnQixDQUFDLFNBQVMsR0FBRyxvQkFBb0IsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksRUFBQztJQUM3RSxLQUFLOztJQUVMLElBQUksT0FBTyxPQUFPLEdBQUc7SUFDckIsUUFBUSxJQUFJLENBQUMsYUFBYSxHQUFFO0lBQzVCLFFBQVEsSUFBSSxDQUFDLG9CQUFvQixHQUFFO0lBQ25DLFFBQVEsSUFBSSxDQUFDLG1CQUFtQixHQUFFO0lBQ2xDLFFBQVEsSUFBSSxDQUFDLG1CQUFtQixHQUFFO0lBQ2xDLEtBQUs7SUFDTCxDQUFDOztJQUVEO0lBQ0EsTUFBTSxDQUFDLFlBQVksR0FBRyxhQUFZO0lBQ2xDLE1BQU0sQ0FBQyxpQkFBaUIsR0FBRyxpQkFBaUI7O0lDcEk1QztJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtBQUNBLElBQU8sTUFBTSxTQUFTLENBQUM7SUFDdkIsSUFBSSxXQUFXLENBQUMsSUFBSSxFQUFFLE1BQU0sRUFBRTtJQUM5QixRQUFRLElBQUksQ0FBQyxJQUFJLEdBQUcsS0FBSTtJQUN4QixRQUFRLElBQUksQ0FBQyxNQUFNLEdBQUcsT0FBTTtJQUM1QixLQUFLO0lBQ0wsQ0FBQzs7SUFFRDtJQUNBLE1BQU0sS0FBSyxHQUFHLFVBQVM7SUFDdkIsTUFBTSxNQUFNLEdBQUcsV0FBVTtJQUN6QixNQUFNLEdBQUcsR0FBRyxRQUFPO0lBQ25CLE1BQU0sSUFBSSxHQUFHLFNBQVE7QUFDckIsQUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0FBQ0EsSUFBTyxNQUFNLFlBQVksU0FBUyxTQUFTLENBQUM7SUFDNUMsSUFBSSxXQUFXO0lBQ2YsUUFBUSxNQUFNO0lBQ2QsUUFBUTtJQUNSLFlBQVksU0FBUyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQ3BDLFlBQVksS0FBSyxHQUFHLElBQUk7SUFDeEIsWUFBWSxNQUFNLEdBQUcsQ0FBQztJQUN0QixZQUFZLEtBQUssR0FBRyxJQUFJO0lBQ3hCLFlBQVksSUFBSSxHQUFHLEtBQUs7SUFDeEIsWUFBWSxJQUFJLEdBQUcsSUFBSTtJQUN2QixTQUFTLEdBQUcsRUFBRTtJQUNkLE1BQU07SUFDTixRQUFRLEtBQUssQ0FBQyxvQkFBb0IsRUFBRSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsRUFBQztJQUNyRCxRQUFRLElBQUksQ0FBQyxTQUFTLEdBQUcsVUFBUztJQUNsQyxRQUFRLElBQUksQ0FBQyxLQUFLLEdBQUcsTUFBSztJQUMxQixRQUFRLElBQUksQ0FBQyxNQUFNLEdBQUcsT0FBTTtJQUM1QixRQUFRLElBQUksQ0FBQyxLQUFLLEdBQUcsTUFBSztJQUMxQixRQUFRLElBQUksQ0FBQyxJQUFJLEdBQUcsS0FBSTtJQUN4QixRQUFRLElBQUksQ0FBQyxJQUFJLEdBQUcsS0FBSTtJQUN4QixLQUFLOztJQUVMLElBQUksUUFBUSxHQUFHO0lBQ2YsUUFBUTtJQUNSLFlBQVkscUNBQXFDO0lBQ2pELFlBQVksSUFBSSxDQUFDLEtBQUs7SUFDdEIsWUFBWSxVQUFVO0lBQ3RCLFlBQVksSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3hCLFlBQVksSUFBSTtJQUNoQixZQUFZLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUN4QixZQUFZLEdBQUc7SUFDZixTQUFTO0lBQ1QsS0FBSztJQUNMLENBQUM7O0lBRUQ7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7QUFDQSxJQUFPLE1BQU0sV0FBVyxTQUFTLFNBQVMsQ0FBQztJQUMzQyxJQUFJLFdBQVcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxFQUFFLE1BQU0sR0FBRyxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUU7SUFDdEQsUUFBUSxLQUFLLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxNQUFNLENBQUMsRUFBQztJQUMvRCxRQUFRLElBQUksQ0FBQyxLQUFLLEdBQUcsTUFBSztJQUMxQixRQUFRLElBQUksQ0FBQyxNQUFNLEdBQUcsT0FBTTtJQUM1QixLQUFLOztJQUVMLElBQUksUUFBUSxHQUFHO0lBQ2YsUUFBUTtJQUNSLFlBQVksOEJBQThCO0lBQzFDLFlBQVksSUFBSSxDQUFDLEtBQUs7SUFDdEIsWUFBWSxVQUFVO0lBQ3RCLFlBQVksSUFBSSxDQUFDLE1BQU07SUFDdkIsWUFBWSxHQUFHO0lBQ2YsU0FBUztJQUNULEtBQUs7SUFDTCxDQUFDOztJQUVEO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBLE1BQU0sU0FBUyxDQUFDO0lBQ2hCLElBQUksV0FBVyxDQUFDO0lBQ2hCLFFBQVEsUUFBUSxHQUFHLElBQUk7SUFDdkIsUUFBUSxRQUFRLEdBQUcsSUFBSTtJQUN2QixRQUFRLGVBQWUsR0FBRyxFQUFFO0lBQzVCLFFBQVEsWUFBWSxHQUFHLElBQUk7SUFDM0IsUUFBUSxTQUFTLEdBQUcsSUFBSTtJQUN4QixLQUFLLEdBQUcsRUFBRSxFQUFFO0lBQ1osUUFBUSxJQUFJLENBQUMsUUFBUSxHQUFHLFNBQVE7SUFDaEMsUUFBUSxJQUFJLENBQUMsUUFBUSxHQUFHLFNBQVE7SUFDaEMsUUFBUSxJQUFJLENBQUMsZUFBZSxHQUFHLGdCQUFlO0lBQzlDLFFBQVEsSUFBSSxDQUFDLFlBQVksR0FBRyxhQUFZO0lBQ3hDLFFBQVEsSUFBSSxDQUFDLFNBQVMsR0FBRyxVQUFTO0lBQ2xDLFFBQVEsSUFBSSxDQUFDLFVBQVUsR0FBRyxHQUFFO0lBQzVCLFFBQVEsSUFBSSxDQUFDLFFBQVEsR0FBRyxLQUFJO0lBQzVCLFFBQVEsSUFBSSxDQUFDLFNBQVMsR0FBRyxLQUFJO0lBQzdCLEtBQUs7O0lBRUwsSUFBSSxlQUFlLEdBQUc7SUFDdEIsUUFBUSxJQUFJLENBQUMsU0FBUyxHQUFHLFdBQVcsQ0FBQyxHQUFHLEdBQUU7SUFDMUMsS0FBSzs7SUFFTCxJQUFJLFdBQVcsQ0FBQyxLQUFLLEVBQUUsTUFBTSxHQUFHLENBQUMsRUFBRTtJQUNuQyxRQUFRLElBQUksQ0FBQyxHQUFHLFdBQVcsQ0FBQyxHQUFHLEdBQUU7SUFDakMsUUFBUSxJQUFJLEVBQUUsR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLFVBQVM7SUFDbkMsUUFBUSxJQUFJLENBQUMsU0FBUyxHQUFHLEVBQUM7SUFDMUIsUUFBUSxJQUFJLFFBQVEsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsS0FBSyxDQUFDLENBQUMsRUFBRSxFQUFFLEVBQUUsS0FBSyxDQUFDLENBQUMsRUFBQztJQUMvRCxRQUFRLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBQztJQUN0QyxRQUFRLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEdBQUcsTUFBTSxFQUFFO0lBQ2hELFlBQVksSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLEdBQUU7SUFDbkMsU0FBUztJQUNULEtBQUs7O0lBRUwsSUFBSSxZQUFZLENBQUMsWUFBWSxHQUFHLEVBQUUsRUFBRTtJQUNwQyxRQUFRLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBQztJQUN0QyxRQUFRLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFDO0lBQzlCLFFBQVEsSUFBSSxLQUFLLEdBQUcsRUFBQztJQUNyQixRQUFRLElBQUksQ0FBQyxHQUFHLEVBQUM7SUFDakIsUUFBUSxLQUFLLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFO0lBQzdELFlBQVksSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLEVBQUM7SUFDdEMsWUFBWSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUU7SUFDckIsWUFBWSxJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEVBQUUsRUFBQztJQUNyRCxZQUFZLEdBQUcsR0FBRyxNQUFNLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxFQUFFLEVBQUM7SUFDckMsWUFBWSxLQUFLLElBQUksRUFBQztJQUN0QixZQUFZLElBQUksQ0FBQyxHQUFHLFlBQVksRUFBRTtJQUNsQyxnQkFBZ0IsS0FBSztJQUNyQixhQUFhO0lBQ2IsU0FBUztJQUNULFFBQVEsSUFBSSxLQUFLLEtBQUssQ0FBQyxFQUFFLE9BQU8sR0FBRztJQUNuQyxRQUFRLE9BQU8sTUFBTSxDQUFDLGNBQWMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQztJQUNwRCxLQUFLOztJQUVMLElBQUksYUFBYSxHQUFHO0lBQ3BCLFFBQVEsSUFBSSxDQUFDLFFBQVEsR0FBRyxLQUFJO0lBQzVCLFFBQVEsSUFBSSxDQUFDLFVBQVUsR0FBRyxHQUFFO0lBQzVCLEtBQUs7O0lBRUwsSUFBSSxVQUFVLEdBQUc7SUFDakIsUUFBUSxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxZQUFZLEdBQUU7SUFDM0MsUUFBUSxJQUFJLElBQUksQ0FBQyxRQUFRLElBQUksSUFBSSxFQUFFO0lBQ25DO0lBQ0E7SUFDQSxZQUFZLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFDO0lBQzVELFlBQVksSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsV0FBVyxDQUFDLEdBQUcsRUFBRSxFQUFDO0lBQ3BFLFNBQVMsTUFBTTtJQUNmLFlBQVksSUFBSSxDQUFDLGNBQWMsR0FBRTtJQUNqQyxTQUFTO0lBQ1QsS0FBSzs7SUFFTCxJQUFJLFlBQVksQ0FBQyxJQUFJLEVBQUU7SUFDdkIsUUFBUSxJQUFJLElBQUksQ0FBQyxRQUFRLElBQUksSUFBSSxFQUFFO0lBQ25DLFlBQVksSUFBSSxDQUFDLEdBQUcsV0FBVyxDQUFDLEdBQUcsR0FBRTtJQUNyQyxZQUFZLElBQUksRUFBRSxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsVUFBUztJQUN2QyxZQUFZLElBQUksQ0FBQyxTQUFTLEdBQUcsRUFBQztJQUM5QjtJQUNBLFlBQVksSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFDO0lBQ3ZELFlBQVksSUFBSSxVQUFVLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFDO0lBQ3pELFlBQVksSUFBSSxVQUFVLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUM7SUFDaEQsWUFBWSxJQUFJLFVBQVUsR0FBRyxVQUFVLEVBQUU7SUFDekMsZ0JBQWdCLElBQUksTUFBTSxHQUFHLFVBQVUsR0FBRyxXQUFVO0lBQ3BELGdCQUFnQixJQUFJLEdBQUcsTUFBTSxDQUFDLGNBQWMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxHQUFHLE1BQU0sRUFBQztJQUM5RCxnQkFBZ0IsT0FBTyxDQUFDLEdBQUcsQ0FBQyxzQkFBc0IsRUFBRSxNQUFNLEVBQUUsSUFBSSxDQUFDLFFBQVEsRUFBRSxJQUFJLEVBQUM7SUFDaEYsYUFBYTtJQUNiLFlBQVksSUFBSSxDQUFDLFFBQVEsR0FBRyxLQUFJO0lBQ2hDLFlBQVksSUFBSSxDQUFDLEdBQUcsTUFBTSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLEVBQUUsRUFBQztJQUM1RCxZQUFZLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFDO0lBQ3pCLFlBQVksSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLEVBQUM7SUFDaEMsWUFBWSxJQUFJLEVBQUUsSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLGNBQWMsRUFBRSxFQUFFO0lBQ2xELGdCQUFnQixxQkFBcUIsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBQztJQUNuRSxnQkFBZ0IsTUFBTTtJQUN0QixhQUFhLE1BQU07SUFDbkIsZ0JBQWdCLElBQUksSUFBSSxDQUFDLFNBQVMsRUFBRSxFQUFFO0lBQ3RDLG9CQUFvQixxQkFBcUIsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBQztJQUN2RSxpQkFBaUI7SUFDakIsYUFBYTtJQUNiLFNBQVM7SUFDVCxRQUFRLElBQUksQ0FBQyxjQUFjLEdBQUU7SUFDN0IsS0FBSzs7SUFFTCxJQUFJLGNBQWMsR0FBRztJQUNyQixRQUFRLE9BQU8sTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsSUFBSTtJQUNsRCxLQUFLOztJQUVMLElBQUksWUFBWSxDQUFDLFFBQVEsRUFBRTtJQUMzQjtJQUNBO0lBQ0EsUUFBUSxPQUFPLE1BQU0sQ0FBQyxjQUFjLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUM7SUFDakUsS0FBSzs7SUFFTCxJQUFJLEtBQUssQ0FBQyxLQUFLLEVBQUUsRUFBRTs7SUFFbkIsSUFBSSxjQUFjLEdBQUcsRUFBRTs7SUFFdkIsSUFBSSxZQUFZLENBQUMsS0FBSyxFQUFFLEVBQUU7SUFDMUIsQ0FBQzs7QUFFRCxJQUFPLE1BQU0sZUFBZSxTQUFTLFNBQVMsQ0FBQztJQUMvQyxJQUFJLFdBQVcsQ0FBQztJQUNoQixRQUFRLFFBQVEsR0FBRyxHQUFHO0lBQ3RCLFFBQVEsUUFBUSxHQUFHLEdBQUc7SUFDdEIsUUFBUSxVQUFVLEdBQUcsR0FBRztJQUN4QixRQUFRLGdCQUFnQixHQUFHLElBQUk7SUFDL0IsUUFBUSxTQUFTLEdBQUcsSUFBSTtJQUN4QixRQUFRLFlBQVksR0FBRyxJQUFJO0lBQzNCLFFBQVEsUUFBUSxHQUFHLElBQUk7SUFDdkIsUUFBUSxTQUFTLEdBQUcsSUFBSTtJQUN4QixRQUFRLFNBQVMsR0FBRyxLQUFLO0lBQ3pCLFFBQVEsUUFBUSxHQUFHLElBQUk7SUFDdkIsUUFBUSxRQUFRLEdBQUcsSUFBSTtJQUN2QixRQUFRLGVBQWUsR0FBRyxFQUFFO0lBQzVCLFFBQVEsWUFBWSxHQUFHLElBQUk7SUFDM0IsUUFBUSxhQUFhLEdBQUcsQ0FBQztJQUN6QixRQUFRLGVBQWUsR0FBRyxHQUFHO0lBQzdCLFFBQVEsZUFBZSxHQUFHLElBQUk7SUFDOUIsUUFBUSxRQUFRLEdBQUcsSUFBSTtJQUN2QixRQUFRLFdBQVcsR0FBRyxJQUFJO0lBQzFCLEtBQUssR0FBRyxFQUFFLEVBQUU7SUFDWixRQUFRLElBQUksZUFBZSxJQUFJLElBQUksSUFBSSxRQUFRLElBQUksSUFBSSxFQUFFO0lBQ3pELFlBQVksTUFBTSxJQUFJLEtBQUssQ0FBQyw4Q0FBOEMsQ0FBQztJQUMzRSxTQUFTLE1BQU0sSUFBSSxRQUFRLElBQUksSUFBSSxFQUFFO0lBQ3JDLFlBQVksZUFBZSxHQUFHLEtBQUssQ0FBQyxhQUFhLENBQUMsUUFBUSxFQUFDO0lBQzNELFNBQVMsTUFBTSxJQUFJLGVBQWUsSUFBSSxJQUFJLEVBQUU7SUFDNUMsWUFBWSxlQUFlLEdBQUcsRUFBQztJQUMvQixTQUFTO0lBQ1QsUUFBUSxLQUFLLENBQUM7SUFDZCxZQUFZLFFBQVE7SUFDcEIsWUFBWSxRQUFRO0lBQ3BCLFlBQVksZUFBZTtJQUMzQixZQUFZLFlBQVk7SUFDeEIsWUFBWSxTQUFTO0lBQ3JCLFNBQVMsRUFBQztJQUNWLFFBQVEsSUFBSSxDQUFDLG9CQUFvQixHQUFHLGdCQUFlO0lBQ25ELFFBQVEsSUFBSSxDQUFDLFVBQVUsR0FBRyxXQUFVO0lBQ3BDLFFBQVEsSUFBSSxDQUFDLFFBQVEsR0FBRyxTQUFRO0lBQ2hDLFFBQVEsSUFBSSxDQUFDLFFBQVEsR0FBRyxTQUFRO0lBQ2hDLFFBQVEsSUFBSSxDQUFDLGFBQWEsR0FBRyxjQUFhO0lBQzFDLFFBQVEsSUFBSSxDQUFDLFlBQVksR0FBRyxhQUFZO0lBQ3hDLFFBQVEsSUFBSSxDQUFDLFFBQVEsR0FBRyxTQUFRO0lBQ2hDLFFBQVEsSUFBSSxDQUFDLFNBQVMsR0FBRyxVQUFTO0lBQ2xDLFFBQVEsSUFBSSxDQUFDLFNBQVMsR0FBRyxVQUFTO0lBQ2xDLFFBQVEsSUFBSSxDQUFDLGVBQWUsR0FBRyxnQkFBZTtJQUM5QyxRQUFRLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxpQkFBZ0I7SUFDaEQsUUFBUSxJQUFJLENBQUMsUUFBUSxHQUFHLE1BQUs7SUFDN0IsUUFBUSxJQUFJLENBQUMsV0FBVyxHQUFHLFdBQVcsSUFBSSxJQUFJLEdBQUcsQ0FBQyxXQUFXLENBQUMsR0FBRyxLQUFJO0lBQ3JFLEtBQUs7O0lBRUwsSUFBSSx5QkFBeUIsQ0FBQyxRQUFRLEVBQUU7SUFDeEMsUUFBUSxJQUFJLElBQUksQ0FBQyxXQUFXLElBQUksSUFBSSxFQUFFO0lBQ3RDLFlBQVksSUFBSSxDQUFDLFdBQVcsR0FBRyxHQUFFO0lBQ2pDLFNBQVM7SUFDVCxRQUFRLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBQztJQUN2QyxLQUFLOztJQUVMLElBQUksWUFBWSxDQUFDLFdBQVcsRUFBRTtJQUM5QixRQUFRLElBQUksQ0FBQyxZQUFZLEdBQUU7SUFDM0IsUUFBUSxJQUFJLENBQUMsYUFBYSxHQUFFO0lBQzVCLFFBQVEsSUFBSSxDQUFDLGVBQWUsR0FBRTtJQUM5QixRQUFRLE9BQU8sSUFBSTtJQUNuQixLQUFLOztJQUVMLElBQUksT0FBTyxDQUFDLFdBQVcsRUFBRTtJQUN6QixRQUFRLElBQUksS0FBSyxHQUFHLFdBQVcsQ0FBQyxLQUFLLEdBQUU7SUFDdkMsUUFBUSxJQUFJLEtBQUssSUFBSSxJQUFJLEVBQUU7SUFDM0IsWUFBWSxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBQztJQUNuQyxZQUFZLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUMsS0FBSyxFQUFDO0lBQ3hFLFlBQVksSUFBSSxLQUFLLENBQUMsSUFBSSxJQUFJLENBQUMsRUFBRSxJQUFJLENBQUMsaUJBQWlCLEdBQUcsS0FBSyxDQUFDLE1BQUs7SUFDckUsU0FBUztJQUNULEtBQUs7O0lBRUwsSUFBSSxJQUFJLE9BQU8sR0FBRztJQUNsQixRQUFRLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssR0FBRyxFQUFDO0lBQzVDLFFBQVEsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsS0FBSyxHQUFHLEVBQUM7SUFDN0MsUUFBUSxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsT0FBTTtJQUNoQyxRQUFRLElBQUksT0FBTyxHQUFHLElBQUksT0FBTyxDQUFDLE1BQU0sRUFBQztJQUN6QyxRQUFRLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUM7SUFDMUMsUUFBUSxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBQztJQUN6QyxRQUFRLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBQztJQUN4QyxRQUFRLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFDO0lBQ3pDLFFBQVEsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFDO0lBQ3JDLFFBQVEsT0FBTyxPQUFPO0lBQ3RCLEtBQUs7O0lBRUwsSUFBSSxTQUFTLEdBQUc7SUFDaEIsUUFBUSxJQUFJLFlBQVksR0FBRyxJQUFJLENBQUMsaUJBQWdCO0lBQ2hELFFBQVEsSUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLFFBQU87SUFDbEMsUUFBUSxJQUFJLE1BQU0sR0FBRyxZQUFZLENBQUMsY0FBYyxDQUFDLE9BQU8sRUFBQztJQUN6RCxRQUFRLE9BQU8sTUFBTSxLQUFLLEtBQUssSUFBSSxNQUFNLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxlQUFlO0lBQ3hFLEtBQUs7O0lBRUwsSUFBSSxRQUFRLEdBQUc7SUFDZjtJQUNBO0lBQ0EsUUFBUSxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsT0FBTTtJQUNoQyxRQUFRLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTTtJQUMxQyxRQUFRLElBQUksS0FBSyxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUMsTUFBTSxFQUFFLE1BQU0sRUFBQztJQUNuRCxRQUFRLE9BQU8sTUFBTSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUM7SUFDdEMsS0FBSzs7SUFFTCxJQUFJLFlBQVksQ0FBQyxRQUFRLEVBQUU7SUFDM0IsUUFBUSxPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDO0lBQ3pDLEtBQUs7O0lBRUwsSUFBSSxRQUFRLEdBQUc7SUFDZjtJQUNBO0lBQ0E7O0lBRUEsUUFBUSxJQUFJLFlBQVksR0FBRyxJQUFJLENBQUMsaUJBQWdCO0lBQ2hELFFBQVEsSUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLFFBQU87SUFDbEMsUUFBUSxJQUFJLE1BQU0sR0FBRyxZQUFZLENBQUMsY0FBYyxDQUFDLE9BQU8sRUFBQztJQUN6RCxRQUFRLElBQUksTUFBTSxLQUFLLEtBQUssSUFBSSxNQUFNLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxlQUFlLEVBQUU7SUFDdkUsWUFBWSxJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsUUFBUSxHQUFFO0lBQ3BDLFlBQVksSUFBSSxVQUFVLEdBQUcsTUFBSztJQUNsQyxZQUFZLE9BQU8sTUFBTSxLQUFLLEtBQUssSUFBSSxNQUFNLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxlQUFlLEVBQUU7SUFDOUUsZ0JBQWdCLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxFQUFDO0lBQ3hDLGdCQUFnQixPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsRUFBQztJQUN4QyxnQkFBZ0IsSUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFFLEVBQUM7SUFDOUIsZ0JBQWdCLE1BQU0sR0FBRyxZQUFZLENBQUMsY0FBYyxDQUFDLE9BQU8sRUFBQztJQUM3RCxnQkFBZ0IsVUFBVSxHQUFHLEtBQUk7SUFDakMsYUFBYTtJQUNiLFlBQVksT0FBTyxVQUFVO0lBQzdCLFNBQVM7SUFDVCxRQUFRLE9BQU8sS0FBSztJQUNwQixLQUFLOztJQUVMLElBQUksV0FBVyxDQUFDLFFBQVEsRUFBRSxTQUFTLEdBQUcsR0FBRyxFQUFFO0lBQzNDLFFBQVEsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFDLGlCQUFnQjtJQUNoRCxRQUFRLElBQUksQ0FBQyxZQUFZLEVBQUUsTUFBTTtJQUNqQyxRQUFRLElBQUksT0FBTyxHQUFHLElBQUksQ0FBQyxRQUFPO0lBQ2xDLFFBQVEsSUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLFFBQVEsR0FBRTtJQUNyQyxRQUFRLElBQUksT0FBTyxFQUFFO0lBQ3JCLFlBQVksSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLGdCQUFlO0lBQzVDLFlBQVksSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFDO0lBQ2pDLFlBQVksSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFDO0lBQ2pDLFlBQVksSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUMsQ0FBQyxHQUFHLEVBQUM7SUFDbkQsWUFBWSxJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQyxDQUFDLEdBQUcsRUFBQztJQUNuRCxZQUFZLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxhQUFZO0lBQzFDO0lBQ0EsWUFBWSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUU7SUFDdkIsZ0JBQWdCLEVBQUUsR0FBRyxDQUFDLEdBQUU7SUFDeEIsZ0JBQWdCLE1BQU0sR0FBRyxVQUFTO0lBQ2xDLGFBQWE7SUFDYixZQUFZLElBQUksQ0FBQyxHQUFHLEtBQUssQ0FBQyxLQUFLLEVBQUU7SUFDakMsZ0JBQWdCLEVBQUUsR0FBRyxDQUFDLEdBQUU7SUFDeEIsZ0JBQWdCLE1BQU0sR0FBRyxVQUFTO0lBQ2xDLGFBQWE7SUFDYixZQUFZLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRTtJQUN2QixnQkFBZ0IsRUFBRSxHQUFHLENBQUMsR0FBRTtJQUN4QixnQkFBZ0IsTUFBTSxHQUFHLFVBQVM7SUFDbEMsYUFBYTtJQUNiLFlBQVksSUFBSSxDQUFDLEdBQUcsS0FBSyxDQUFDLE1BQU0sRUFBRTtJQUNsQyxnQkFBZ0IsRUFBRSxHQUFHLENBQUMsR0FBRTtJQUN4QixnQkFBZ0IsTUFBTSxHQUFHLFVBQVM7SUFDbEMsYUFBYTtJQUNiO0lBQ0EsWUFBWSxPQUFPLE1BQU0sQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxNQUFNLENBQUM7SUFDaEUsU0FBUztJQUNULFFBQVEsT0FBTyxLQUFLLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQztJQUMzQyxLQUFLOztJQUVMLElBQUksVUFBVSxDQUFDLFdBQVcsRUFBRTtJQUM1QjtJQUNBLEtBQUs7O0lBRUwsSUFBSSxhQUFhLENBQUMsT0FBTyxFQUFFLE1BQU0sRUFBRTtJQUNuQyxRQUFRLElBQUksR0FBRyxHQUFHLEtBQUssQ0FBQyxhQUFhLENBQUMsT0FBTyxFQUFDO0lBQzlDLFFBQVEsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsTUFBTSxFQUFDO0lBQ2hDLEtBQUs7O0lBRUwsSUFBSSxNQUFNLENBQUMsR0FBRyxFQUFFLE1BQU0sRUFBRTtJQUN4QixRQUFRLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLE1BQU0sRUFBQztJQUN0RCxLQUFLOztJQUVMLElBQUksSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDLE9BQU8sR0FBRyxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUU7SUFDaEMsUUFBUSxJQUFJLElBQUksQ0FBQyxZQUFZLEVBQUU7SUFDL0IsWUFBWSxJQUFJLE9BQU8sR0FBRyxDQUFDLEVBQUU7SUFDN0IsZ0JBQWdCLElBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxTQUFRO0lBQzVDLGdCQUFnQixTQUFTLENBQUMsRUFBRSxDQUFDLElBQUksRUFBRSxPQUFPLEVBQUU7SUFDNUMsb0JBQW9CLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDakMsb0JBQW9CLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDakM7SUFDQSxvQkFBb0IsUUFBUSxFQUFFLENBQUMsSUFBSTtJQUNuQyx3QkFBd0IsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLFNBQVE7SUFDN0Msd0JBQXdCLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsUUFBUSxDQUFDLEVBQUM7SUFDakQsd0JBQXdCLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsUUFBUSxDQUFDLEVBQUM7SUFDakQsd0JBQXdCLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBQztJQUM1QyxxQkFBcUI7SUFDckIsaUJBQWlCLEVBQUM7SUFDbEIsYUFBYSxNQUFNO0lBQ25CLGdCQUFnQixJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBQztJQUM3QixnQkFBZ0IsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUM7SUFDdEMsYUFBYTtJQUNiLFNBQVM7SUFDVCxLQUFLOztJQUVMLElBQUksTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLE9BQU8sR0FBRyxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUU7SUFDbEMsUUFBUSxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsT0FBTTtJQUMzQixRQUFRLElBQUksS0FBSyxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBQztJQUN6QyxRQUFRLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxFQUFDO0lBQzVDLEtBQUs7O0lBRUwsSUFBSSxRQUFRLENBQUMsQ0FBQyxFQUFFLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQyxHQUFHLEVBQUUsRUFBRTtJQUNwQyxRQUFRLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxPQUFNO0lBQzNCLFFBQVEsSUFBSSxLQUFLLEdBQUcsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFDO0lBQ3pDLFFBQVEsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQyxPQUFPLEVBQUUsT0FBTyxDQUFDLEVBQUM7SUFDNUMsS0FBSzs7SUFFTCxJQUFJLElBQUk7SUFDUixRQUFRLEtBQUs7SUFDYixRQUFRO0lBQ1IsWUFBWSxPQUFPLEdBQUcsQ0FBQztJQUN2QixZQUFZLEtBQUssR0FBRyxJQUFJO0lBQ3hCLFlBQVksS0FBSyxHQUFHLENBQUM7SUFDckIsWUFBWSxDQUFDLEdBQUcsSUFBSTtJQUNwQixZQUFZLENBQUMsR0FBRyxJQUFJO0lBQ3BCLFlBQVksVUFBVSxHQUFHLElBQUk7SUFDN0IsU0FBUyxHQUFHLEVBQUU7SUFDZCxNQUFNO0lBQ04sUUFBUSxJQUFJLE1BQU0sR0FBRyxLQUFLLElBQUksSUFBSSxDQUFDLE9BQU07SUFDekMsUUFBUSxJQUFJLEtBQUssSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFO0lBQ2pDLFlBQVksSUFBSSxPQUFPLEdBQUcsQ0FBQyxFQUFFO0lBQzdCLGdCQUFnQixTQUFTLENBQUMsRUFBRSxDQUFDLElBQUksRUFBRSxPQUFPLEVBQUU7SUFDNUMsb0JBQW9CLEtBQUssRUFBRSxLQUFLO0lBQ2hDLG9CQUFvQixLQUFLLEVBQUUsS0FBSztJQUNoQyxvQkFBb0IsVUFBVSxFQUFFLFVBQVU7SUFDMUMsb0JBQW9CLFFBQVEsRUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7SUFDdEQsaUJBQWlCLEVBQUM7SUFDbEIsYUFBYSxNQUFNO0lBQ25CLGdCQUFnQixJQUFJLENBQUMsS0FBSyxHQUFHLE1BQUs7SUFDbEMsZ0JBQWdCLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxFQUFDO0lBQ3JDLGFBQWE7SUFDYixTQUFTO0lBQ1QsS0FBSzs7SUFFTCxJQUFJLEtBQUssQ0FBQyxLQUFLLEVBQUU7SUFDakIsUUFBUSxJQUFJLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDLENBQUMsR0FBRyxFQUFDO0lBQzdDLFFBQVEsSUFBSSxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQyxDQUFDLEdBQUcsRUFBQztJQUM3QyxLQUFLOztJQUVMLElBQUksU0FBUyxDQUFDLFNBQVMsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRTtJQUMvQyxRQUFRLElBQUksS0FBSyxHQUFHO0lBQ3BCLFlBQVksQ0FBQyxFQUFFLElBQUksQ0FBQyxRQUFRLEdBQUcsU0FBUyxDQUFDLENBQUMsR0FBRyxDQUFDO0lBQzlDLFlBQVksQ0FBQyxFQUFFLElBQUksQ0FBQyxRQUFRLEdBQUcsU0FBUyxDQUFDLENBQUMsR0FBRyxDQUFDO0lBQzlDLFVBQVM7SUFDVCxRQUFRLElBQUksSUFBSSxDQUFDLFNBQVMsRUFBRSxJQUFJLEtBQUssR0FBRyxLQUFJO0lBQzVDLFFBQVEsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsS0FBSyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFDO0lBQ3BELFFBQVEsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsTUFBTSxHQUFHLEVBQUM7SUFDdkMsUUFBUSxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxJQUFJLEdBQUcsSUFBRztJQUN0QyxRQUFRLElBQUksSUFBSSxJQUFJLEdBQUcsSUFBSSxNQUFNLElBQUksQ0FBQyxFQUFFO0lBQ3hDLFlBQVksSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUM7SUFDN0IsWUFBWSxJQUFJLElBQUksQ0FBQyxXQUFXLElBQUksSUFBSSxFQUFFO0lBQzFDLGdCQUFnQixJQUFJLEtBQUssR0FBRyxJQUFJLFlBQVksQ0FBQyxJQUFJLEVBQUU7SUFDbkQsb0JBQW9CLFNBQVMsRUFBRSxLQUFLO0lBQ3BDLG9CQUFvQixLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUs7SUFDckMsb0JBQW9CLE1BQU0sRUFBRSxDQUFDO0lBQzdCLG9CQUFvQixLQUFLLEVBQUUsTUFBTTtJQUNqQyxvQkFBb0IsSUFBSSxFQUFFLEtBQUs7SUFDL0Isb0JBQW9CLElBQUksRUFBRSxNQUFNO0lBQ2hDLGlCQUFpQixFQUFDO0lBQ2xCLGdCQUFnQixJQUFJLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsRUFBRTtJQUNyRCxvQkFBb0IsQ0FBQyxDQUFDLEtBQUssRUFBQztJQUM1QixpQkFBaUIsRUFBQztJQUNsQixhQUFhO0lBQ2IsWUFBWSxNQUFNO0lBQ2xCLFNBQVM7SUFDVCxRQUFRLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxlQUFjO0lBQ3hDLFFBQVEsSUFBSSxJQUFJLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUUsTUFBTSxFQUFDO0lBQy9DLFFBQVEsSUFBSSxRQUFRLEdBQUcsTUFBTSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUUsTUFBTSxFQUFDO0lBQ3RELFFBQVEsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFJOztJQUV4QyxRQUFRLElBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLGNBQWE7SUFDekQsUUFBUSxJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxjQUFhO0lBQ3pELFFBQVEsSUFBSSxRQUFRLEdBQUcsUUFBUSxFQUFFO0lBQ2pDLFlBQVksUUFBUSxHQUFHLFNBQVE7SUFDL0IsWUFBWSxJQUFJLEdBQUcsUUFBUSxHQUFHLElBQUksQ0FBQyxNQUFLO0lBQ3hDLFNBQVM7SUFDVCxRQUFRLElBQUksUUFBUSxHQUFHLFFBQVEsRUFBRTtJQUNqQyxZQUFZLFFBQVEsR0FBRyxTQUFRO0lBQy9CLFlBQVksSUFBSSxHQUFHLFFBQVEsR0FBRyxJQUFJLENBQUMsTUFBSztJQUN4QyxTQUFTOztJQUVULFFBQVEsSUFBSSxTQUFTLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsSUFBSSxHQUFHLE1BQU0sRUFBRSxRQUFRLEdBQUcsSUFBSSxFQUFDO0lBQzFFLFFBQVEsSUFBSSxLQUFLLEdBQUcsTUFBTSxDQUFDLFFBQVEsQ0FBQyxTQUFTLEVBQUUsTUFBTSxFQUFDO0lBQ3RELFFBQVEsSUFBSSxNQUFNLEdBQUcsTUFBTSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUUsTUFBTSxFQUFDO0lBQ3BELFFBQVEsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUM7SUFDMUIsUUFBUSxJQUFJLENBQUMsS0FBSyxHQUFHLFNBQVE7SUFDN0IsUUFBUSxJQUFJLENBQUMsUUFBUSxJQUFJLE9BQU07SUFDL0IsUUFBUSxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUM7SUFDdEMsUUFBUSxNQUFNLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFDO0lBQzFDLFFBQVEsTUFBTSxHQUFHLE1BQU0sQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLFNBQVMsRUFBQztJQUM5QyxRQUFRLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFDOztJQUUxQixRQUFRLElBQUksSUFBSSxDQUFDLFdBQVcsSUFBSSxJQUFJLEVBQUU7SUFDdEMsWUFBWSxJQUFJLEtBQUssR0FBRyxJQUFJLFlBQVksQ0FBQyxJQUFJLEVBQUU7SUFDL0MsZ0JBQWdCLFNBQVMsRUFBRSxLQUFLO0lBQ2hDLGdCQUFnQixLQUFLLEVBQUUsUUFBUTtJQUMvQixnQkFBZ0IsTUFBTSxFQUFFLE1BQU07SUFDOUIsZ0JBQWdCLEtBQUssRUFBRSxNQUFNO0lBQzdCLGFBQWEsRUFBQztJQUNkLFlBQVksSUFBSSxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLEVBQUU7SUFDakQsZ0JBQWdCLENBQUMsQ0FBQyxLQUFLLEVBQUM7SUFDeEIsYUFBYSxFQUFDO0lBQ2QsU0FBUztJQUNULFFBQVEsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFO0lBQzVCLFlBQVksSUFBSSxDQUFDLG9CQUFvQixDQUFDLEtBQUssRUFBQztJQUM1QyxTQUFTO0lBQ1QsS0FBSzs7SUFFTCxJQUFJLG9CQUFvQixDQUFDLElBQUksRUFBRTtJQUMvQjtJQUNBLEtBQUs7O0lBRUwsSUFBSSxVQUFVLENBQUMsS0FBSyxFQUFFO0lBQ3RCLFFBQVEsS0FBSyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxRQUFRLEVBQUM7SUFDOUMsUUFBUSxLQUFLLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLFFBQVEsRUFBQztJQUM5QyxRQUFRLE9BQU8sS0FBSztJQUNwQixLQUFLOztJQUVMLElBQUksaUJBQWlCLENBQUMsRUFBRSxHQUFHLENBQUMsRUFBRTtJQUM5QixRQUFRLElBQUksSUFBSSxDQUFDLFVBQVUsSUFBSSxJQUFJLEVBQUU7SUFDckMsWUFBWSxJQUFJLElBQUksR0FBRyxFQUFDO0lBQ3hCLFlBQVksSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsR0FBRyxHQUFHLEVBQUUsR0FBRyxRQUFRLEVBQUM7SUFDNUQsWUFBWSxJQUFJLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLFFBQVEsRUFBRSxJQUFJLEdBQUcsQ0FBQyxHQUFHLE9BQU07SUFDN0QsWUFBWSxJQUFJLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLFFBQVEsRUFBRSxJQUFJLEdBQUcsQ0FBQyxHQUFHLE9BQU07SUFDN0QsWUFBWSxJQUFJLElBQUksSUFBSSxDQUFDLEVBQUU7SUFDM0IsZ0JBQWdCLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxJQUFJLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxVQUFVLEVBQUM7SUFDdEUsZ0JBQWdCLHFCQUFxQixDQUFDLEVBQUUsSUFBSTtJQUM1QyxvQkFBb0IsSUFBSSxDQUFDLGlCQUFpQixDQUFDLEVBQUUsRUFBQztJQUM5QyxpQkFBaUIsRUFBQztJQUNsQixnQkFBZ0IsTUFBTTtJQUN0QixhQUFhO0lBQ2IsWUFBWSxJQUFJLENBQUMsVUFBVSxHQUFHLEtBQUk7SUFDbEMsU0FBUztJQUNULEtBQUs7O0lBRUwsSUFBSSxZQUFZLENBQUMsS0FBSyxFQUFFLEtBQUssR0FBRyxDQUFDLEVBQUU7SUFDbkMsUUFBUSxJQUFJLENBQUMsVUFBVSxHQUFHLE1BQUs7SUFDL0IsUUFBUSxZQUFZLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBQztJQUN2RCxRQUFRLFVBQVUsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLEtBQUssRUFBQztJQUM1RCxLQUFLOztJQUVMLElBQUksWUFBWSxDQUFDLEtBQUssRUFBRTtJQUN4QixRQUFRLElBQUksS0FBSyxDQUFDLGdCQUFnQixFQUFFO0lBQ3BDLFlBQVksSUFBSSxLQUFLLENBQUMsZ0JBQWdCLElBQUksSUFBSSxFQUFFLE1BQU07SUFDdEQsU0FBUztJQUNULFFBQVEsSUFBSSxDQUFDLGFBQWEsR0FBRTtJQUM1QixRQUFRLElBQUksQ0FBQyxXQUFXLEdBQUcsS0FBSTtJQUMvQixRQUFRLElBQUksU0FBUyxHQUFHLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxJQUFJLEtBQUssQ0FBQyxVQUFVLEdBQUcsRUFBQztJQUNoRSxRQUFRLElBQUksV0FBVyxHQUFHLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxPQUFPLEVBQUUsQ0FBQyxFQUFFLEtBQUssQ0FBQyxPQUFPLEVBQUM7SUFDOUQsUUFBUSxJQUFJLFdBQVcsR0FBRyxJQUFJLENBQUMsMkJBQTJCLENBQUMsV0FBVyxFQUFDO0lBQ3ZFLFFBQVEsSUFBSSxLQUFLLENBQUMsUUFBUSxFQUFFO0lBQzVCLFlBQVksSUFBSSxPQUFPLEdBQUcsU0FBUyxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQUM7SUFDNUMsWUFBWSxJQUFJLEdBQUcsR0FBRyxLQUFLLENBQUMsYUFBYSxDQUFDLE9BQU8sRUFBQztJQUNsRCxZQUFZLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsV0FBVyxDQUFDO0lBQ3RFLFNBQVM7SUFDVCxRQUFRLE1BQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxnQkFBZTtJQUMvQyxRQUFRLElBQUksSUFBSSxHQUFHLFNBQVMsR0FBRyxVQUFVLEdBQUcsQ0FBQyxHQUFHLFdBQVU7SUFDMUQsUUFBUSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsSUFBSSxFQUFFLENBQUMsRUFBRSxXQUFXLEVBQUM7SUFDMUQsUUFBUSxJQUFJLENBQUMsWUFBWSxDQUFDLFdBQVcsRUFBRSxHQUFHLEVBQUM7O0lBRTNDLFFBQVEsSUFBSSxJQUFJLENBQUMsV0FBVyxJQUFJLElBQUksRUFBRTtJQUN0QyxZQUFZLElBQUksS0FBSyxHQUFHLElBQUksWUFBWSxDQUFDLElBQUksRUFBRTtJQUMvQyxnQkFBZ0IsU0FBUyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQ3ZDLGdCQUFnQixLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUs7SUFDakMsZ0JBQWdCLE1BQU0sRUFBRSxDQUFDO0lBQ3pCLGdCQUFnQixLQUFLLEVBQUUsSUFBSTtJQUMzQixnQkFBZ0IsSUFBSSxFQUFFLEtBQUs7SUFDM0IsZ0JBQWdCLElBQUksRUFBRSxJQUFJO0lBQzFCLGFBQWEsRUFBQztJQUNkLFlBQVksSUFBSSxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLEVBQUU7SUFDakQsZ0JBQWdCLENBQUMsQ0FBQyxLQUFLLEVBQUM7SUFDeEIsYUFBYSxFQUFDO0lBQ2QsU0FBUztJQUNULEtBQUs7O0lBRUwsSUFBSSxPQUFPLENBQUMsS0FBSyxFQUFFLFdBQVcsRUFBRTtJQUNoQyxRQUFRLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxXQUFXLENBQUMsRUFBRTtJQUM1QyxZQUFZLElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSTtJQUNoQyxZQUFZLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxLQUFJO0lBQ3pDLFNBQVM7SUFDVCxRQUFRLElBQUksSUFBSSxDQUFDLFdBQVcsSUFBSSxJQUFJLEVBQUU7SUFDdEMsWUFBWSxJQUFJLEtBQUssR0FBRyxJQUFJLFlBQVksQ0FBQyxJQUFJLEVBQUU7SUFDL0MsZ0JBQWdCLFNBQVMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUN2QyxnQkFBZ0IsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLO0lBQ2pDLGdCQUFnQixNQUFNLEVBQUUsQ0FBQztJQUN6QixnQkFBZ0IsS0FBSyxFQUFFLElBQUk7SUFDM0IsZ0JBQWdCLElBQUksRUFBRSxLQUFLO0lBQzNCLGdCQUFnQixJQUFJLEVBQUUsS0FBSztJQUMzQixhQUFhLEVBQUM7SUFDZCxZQUFZLElBQUksQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxFQUFFO0lBQ2pELGdCQUFnQixDQUFDLENBQUMsS0FBSyxFQUFDO0lBQ3hCLGFBQWEsRUFBQztJQUNkLFNBQVM7SUFDVCxLQUFLOztJQUVMLElBQUksTUFBTSxDQUFDLEtBQUssRUFBRSxXQUFXLEVBQUU7SUFDL0IsUUFBUSxJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUU7SUFDM0IsWUFBWSxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsRUFBQztJQUNyQyxTQUFTO0lBQ1QsS0FBSzs7SUFFTCxJQUFJLEtBQUssQ0FBQyxLQUFLLEVBQUUsV0FBVyxFQUFFO0lBQzlCLFFBQVEsSUFBSSxXQUFXLENBQUMsVUFBVSxFQUFFLEVBQUU7SUFDdEMsWUFBWSxJQUFJLENBQUMsVUFBVSxDQUFDLFdBQVcsRUFBQztJQUN4QyxZQUFZLElBQUksQ0FBQyxRQUFRLEdBQUcsTUFBSztJQUNqQyxZQUFZLEtBQUssSUFBSSxHQUFHLElBQUksV0FBVyxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsRUFBRTtJQUN0RCxnQkFBZ0IsSUFBSSxXQUFXLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFO0lBQzVDLG9CQUFvQixJQUFJLEtBQUssR0FBRyxXQUFXLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUM7SUFDMUQsb0JBQW9CLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxFQUFFLFdBQVcsRUFBRSxLQUFLLEVBQUM7SUFDekQsaUJBQWlCO0lBQ2pCLGFBQWE7SUFDYixZQUFZLElBQUksSUFBSSxDQUFDLFdBQVcsSUFBSSxJQUFJLEVBQUU7SUFDMUMsZ0JBQWdCLElBQUksS0FBSyxHQUFHLElBQUksWUFBWSxDQUFDLElBQUksRUFBRTtJQUNuRCxvQkFBb0IsU0FBUyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQzNDLG9CQUFvQixLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUs7SUFDckMsb0JBQW9CLE1BQU0sRUFBRSxDQUFDO0lBQzdCLG9CQUFvQixLQUFLLEVBQUUsSUFBSTtJQUMvQixvQkFBb0IsSUFBSSxFQUFFLEtBQUs7SUFDL0Isb0JBQW9CLElBQUksRUFBRSxHQUFHO0lBQzdCLGlCQUFpQixFQUFDO0lBQ2xCLGdCQUFnQixJQUFJLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsRUFBRTtJQUNyRCxvQkFBb0IsQ0FBQyxDQUFDLEtBQUssRUFBQztJQUM1QixpQkFBaUIsRUFBQztJQUNsQixhQUFhO0lBQ2IsU0FBUztJQUNULFFBQVEsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLGtCQUFpQjtJQUMxQyxRQUFRLElBQUksS0FBSyxJQUFJLElBQUksRUFBRTtJQUMzQixZQUFZLElBQUksQ0FBQyxZQUFZLENBQUMsS0FBSyxFQUFFLEdBQUcsRUFBQztJQUN6QyxTQUFTO0lBQ1QsS0FBSzs7SUFFTCxJQUFJLEtBQUssQ0FBQyxLQUFLLEVBQUUsV0FBVyxFQUFFLEtBQUssRUFBRSxFQUFFOztJQUV2QyxJQUFJLFlBQVksQ0FBQyxLQUFLLEVBQUU7SUFDeEIsUUFBUSxJQUFJLElBQUksQ0FBQyxXQUFXLElBQUksSUFBSSxFQUFFO0lBQ3RDLFlBQVksSUFBSSxLQUFLLEdBQUcsSUFBSSxZQUFZLENBQUMsSUFBSSxFQUFFO0lBQy9DLGdCQUFnQixJQUFJLEVBQUUsSUFBSTtJQUMxQixnQkFBZ0IsU0FBUyxFQUFFLEtBQUs7SUFDaEMsZ0JBQWdCLEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSztJQUNqQyxnQkFBZ0IsS0FBSyxFQUFFLElBQUksQ0FBQyxZQUFZO0lBQ3hDLGdCQUFnQixJQUFJLEVBQUUsSUFBSTtJQUMxQixhQUFhLEVBQUM7SUFDZCxZQUFZLElBQUksQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxFQUFFO0lBQ2pELGdCQUFnQixDQUFDLENBQUMsS0FBSyxFQUFDO0lBQ3hCLGFBQWEsRUFBQztJQUNkLFNBQVM7SUFDVCxLQUFLOztJQUVMLElBQUksY0FBYyxHQUFHO0lBQ3JCLFFBQVEsSUFBSSxJQUFJLENBQUMsV0FBVyxFQUFFO0lBQzlCLFlBQVksSUFBSSxLQUFLLEdBQUcsSUFBSSxZQUFZLENBQUMsSUFBSSxFQUFFO0lBQy9DLGdCQUFnQixLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUs7SUFDakMsZ0JBQWdCLEtBQUssRUFBRSxJQUFJLENBQUMsWUFBWTtJQUN4QyxnQkFBZ0IsSUFBSSxFQUFFLEtBQUs7SUFDM0IsZ0JBQWdCLElBQUksRUFBRSxJQUFJO0lBQzFCLGFBQWEsRUFBQztJQUNkLFlBQVksSUFBSSxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLEVBQUU7SUFDakQsZ0JBQWdCLENBQUMsQ0FBQyxLQUFLLEVBQUM7SUFDeEIsYUFBYSxFQUFDO0lBQ2QsU0FBUztJQUNULEtBQUs7O0lBRUwsSUFBSSxPQUFPLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxLQUFLLEVBQUU7SUFDM0IsUUFBUSxJQUFJLElBQUksQ0FBQyxXQUFXLElBQUksSUFBSSxFQUFFO0lBQ3RDLFlBQVksSUFBSSxLQUFLLEdBQUcsSUFBSSxZQUFZLENBQUMsSUFBSSxFQUFFO0lBQy9DLGdCQUFnQixTQUFTLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUM7SUFDekMsZ0JBQWdCLEtBQUssRUFBRSxLQUFLO0lBQzVCLGdCQUFnQixJQUFJLEVBQUUsSUFBSTtJQUMxQixnQkFBZ0IsSUFBSSxFQUFFLElBQUk7SUFDMUIsYUFBYSxFQUFDO0lBQ2QsWUFBWSxJQUFJLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsRUFBRTtJQUNqRCxnQkFBZ0IsQ0FBQyxDQUFDLEtBQUssRUFBQztJQUN4QixhQUFhLEVBQUM7SUFDZCxTQUFTO0lBQ1QsS0FBSzs7SUFFTCxJQUFJLFFBQVEsQ0FBQyxLQUFLLEVBQUU7SUFDcEIsUUFBUSxJQUFJLElBQUksQ0FBQyxXQUFXLElBQUksSUFBSSxFQUFFO0lBQ3RDLFlBQVksSUFBSSxLQUFLLEdBQUcsSUFBSSxZQUFZLENBQUMsSUFBSSxFQUFFO0lBQy9DLGdCQUFnQixLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUs7SUFDakMsZ0JBQWdCLEtBQUssRUFBRSxLQUFLO0lBQzVCLGdCQUFnQixJQUFJLEVBQUUsS0FBSztJQUMzQixnQkFBZ0IsSUFBSSxFQUFFLElBQUk7SUFDMUIsYUFBYSxFQUFDO0lBQ2QsWUFBWSxJQUFJLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsRUFBRTtJQUNqRCxnQkFBZ0IsQ0FBQyxDQUFDLEtBQUssRUFBQztJQUN4QixhQUFhLEVBQUM7SUFDZCxTQUFTO0lBQ1QsS0FBSztJQUNMLENBQUM7O0lBRUQ7SUFDQTtJQUNBO0lBQ0E7SUFDQTtBQUNBLElBQU8sTUFBTSxtQkFBbUIsQ0FBQztJQUNqQztJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBLElBQUksV0FBVztJQUNmLFFBQVEsT0FBTztJQUNmLFFBQVEsQ0FBQyxVQUFVLEdBQUcsTUFBTSxFQUFFLFdBQVcsR0FBRyxJQUFJLEVBQUUsV0FBVyxHQUFHLE1BQU0sQ0FBQyxHQUFHLEVBQUU7SUFDNUUsTUFBTTtJQUNOLFFBQVEsSUFBSSxDQUFDLE9BQU8sR0FBRyxRQUFPO0lBQzlCLFFBQVEsSUFBSSxVQUFVLEtBQUssTUFBTSxFQUFFO0lBQ25DLFlBQVksSUFBSSxZQUFZLENBQUMsUUFBUSxFQUFFO0lBQ3ZDLGdCQUFnQixRQUFRLENBQUMsZ0JBQWdCO0lBQ3pDLG9CQUFvQixXQUFXO0lBQy9CLG9CQUFvQixLQUFLLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUM7SUFDckQsb0JBQW9CLEtBQUs7SUFDekIsa0JBQWlCO0lBQ2pCLGdCQUFnQixVQUFVLEdBQUcsTUFBSztJQUNsQyxhQUFhLE1BQU07SUFDbkIsZ0JBQWdCLFVBQVUsR0FBRyxLQUFJO0lBQ2pDLGFBQWE7SUFDYixTQUFTO0lBQ1QsUUFBUSxJQUFJLENBQUMsVUFBVSxHQUFHLFdBQVU7SUFDcEMsUUFBUSxJQUFJLENBQUMsV0FBVyxHQUFHLFlBQVc7SUFDdEMsUUFBUSxJQUFJLFdBQVcsS0FBSyxJQUFJLEVBQUU7SUFDbEMsWUFBWUEsVUFBUSxDQUFDLFFBQVEsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxXQUFXLENBQUMsRUFBQztJQUNyRCxTQUFTO0lBQ1QsUUFBUSxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksR0FBRyxHQUFFO0lBQ2hDLFFBQVEsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLGlCQUFpQixDQUFDLE9BQU8sRUFBRSxJQUFJLEVBQUU7SUFDN0QsWUFBWSxpQkFBaUIsRUFBRSxNQUFNO0lBQ3JDLFNBQVMsRUFBQzs7SUFFVixRQUFRLElBQUksT0FBTyxXQUFXLEtBQUssV0FBVyxFQUFFO0lBQ2hELFlBQVkscUJBQXFCLENBQUMsRUFBRSxJQUFJO0lBQ3hDLGdCQUFnQixJQUFJLENBQUMsV0FBVyxDQUFDLEVBQUUsRUFBQztJQUNwQyxhQUFhLEVBQUM7SUFDZCxTQUFTO0lBQ1QsS0FBSzs7SUFFTCxJQUFJLFdBQVcsQ0FBQyxFQUFFLEVBQUU7SUFDcEIsUUFBUSxJQUFJLFVBQVUsR0FBRyxNQUFNLENBQUMsaUJBQWdCO0lBQ2hELFFBQVEsSUFBSSxNQUFNLEdBQUcsWUFBVztJQUNoQyxRQUFRLElBQUksT0FBTyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDLFFBQU87SUFDdkQsUUFBUSxJQUFJLE9BQU8sR0FBRyxNQUFNLENBQUMsVUFBVSxDQUFDLElBQUksRUFBQztJQUM3QyxRQUFRLElBQUksTUFBTSxHQUFHLEVBQUUsR0FBRyxXQUFVO0lBQ3BDLFFBQVEsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLE1BQU0sRUFBQztJQUM1RCxRQUFRLE9BQU8sQ0FBQyxTQUFTLEdBQUcscUJBQW9CO0lBQ2hELFFBQVEsT0FBTyxDQUFDLFNBQVMsR0FBRyxFQUFDO0lBQzdCLFFBQVEsT0FBTyxDQUFDLFdBQVcsR0FBRyxVQUFTO0lBQ3ZDLFFBQVEsS0FBSyxJQUFJLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxJQUFJLE9BQU8sQ0FBQyxPQUFPLEVBQUUsRUFBRTtJQUNwRCxZQUFZLElBQUksS0FBSyxHQUFHLE1BQUs7SUFDN0IsWUFBWSxPQUFPLENBQUMsU0FBUyxHQUFFO0lBQy9CLFlBQVksT0FBTyxDQUFDLEdBQUc7SUFDdkIsZ0JBQWdCLEtBQUssQ0FBQyxDQUFDLEdBQUcsVUFBVTtJQUNwQyxnQkFBZ0IsS0FBSyxDQUFDLENBQUMsR0FBRyxVQUFVO0lBQ3BDLGdCQUFnQixNQUFNO0lBQ3RCLGdCQUFnQixDQUFDO0lBQ2pCLGdCQUFnQixDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUU7SUFDM0IsZ0JBQWdCLEtBQUs7SUFDckIsY0FBYTtJQUNiLFlBQVksT0FBTyxDQUFDLElBQUksR0FBRTtJQUMxQixZQUFZLE9BQU8sQ0FBQyxNQUFNLEdBQUU7SUFDNUIsU0FBUztJQUNULFFBQVEscUJBQXFCLENBQUMsRUFBRSxJQUFJO0lBQ3BDLFlBQVksSUFBSSxDQUFDLFdBQVcsQ0FBQyxFQUFFLEVBQUM7SUFDaEMsU0FBUyxFQUFDO0lBQ1YsS0FBSzs7SUFFTCxJQUFJLFlBQVksQ0FBQyxLQUFLLEVBQUU7SUFDeEIsUUFBUSxLQUFLLEdBQUcsS0FBSyxDQUFDLGFBQWEsSUFBSSxNQUFLO0lBQzVDLFFBQVEsSUFBSSxLQUFLLENBQUMsS0FBSyxLQUFLLENBQUMsRUFBRTtJQUMvQixZQUFZLEtBQUssQ0FBQyxjQUFjLEdBQUU7SUFDbEMsU0FBUztJQUNULEtBQUs7O0lBRUwsSUFBSSxHQUFHLENBQUMsT0FBTyxFQUFFO0lBQ2pCLFFBQVEsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLE9BQU8sRUFBRSxPQUFPLEVBQUM7SUFDbEQsS0FBSzs7SUFFTCxJQUFJLE9BQU8sQ0FBQyxLQUFLLEVBQUU7SUFDbkIsUUFBUSxJQUFJLEtBQUssQ0FBQyxNQUFNLElBQUksSUFBSSxDQUFDLE9BQU8sSUFBSSxJQUFJLENBQUMsVUFBVSxFQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFDO0lBQy9FLFFBQVEsT0FBTyxJQUFJO0lBQ25CLEtBQUs7O0lBRUwsSUFBSSxrQkFBa0IsQ0FBQyxLQUFLLEVBQUU7SUFDOUIsUUFBUSxPQUFPLE1BQU0sQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUM7SUFDekQsS0FBSzs7SUFFTCxJQUFJLFlBQVksQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLFNBQVMsR0FBRyxLQUFLLEVBQUU7SUFDbkQsUUFBUSxJQUFJLE1BQU0sSUFBSSxLQUFLLEVBQUUsT0FBTyxJQUFJO0lBQ3hDLFFBQVEsSUFBSSxJQUFJLEdBQUcsS0FBSyxDQUFDLFdBQVU7SUFDbkMsUUFBUSxPQUFPLElBQUksSUFBSSxJQUFJLEVBQUU7SUFDN0IsWUFBWSxJQUFJLENBQUMsU0FBUyxJQUFJLElBQUksQ0FBQyxPQUFPLEVBQUU7SUFDNUMsZ0JBQWdCLE9BQU8sS0FBSztJQUM1QixhQUFhO0lBQ2IsWUFBWSxJQUFJLElBQUksSUFBSSxNQUFNLEVBQUU7SUFDaEMsZ0JBQWdCLE9BQU8sSUFBSTtJQUMzQixhQUFhO0lBQ2IsWUFBWSxJQUFJLEdBQUcsSUFBSSxDQUFDLFdBQVU7SUFDbEMsU0FBUztJQUNULFFBQVEsT0FBTyxLQUFLO0lBQ3BCLEtBQUs7O0lBRUwsSUFBSSxVQUFVLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUU7SUFDckM7SUFDQTtJQUNBO0lBQ0E7SUFDQSxRQUFRLElBQUksS0FBSyxHQUFHLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxDQUFDLEVBQUM7SUFDakUsUUFBUSxLQUFLLElBQUksTUFBTSxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFLEVBQUU7SUFDbEQsWUFBWSxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsRUFBRTtJQUMxRCxnQkFBZ0IsSUFBSSxJQUFJLENBQUMsVUFBVSxFQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFDO0lBQ3ZELGdCQUFnQixJQUFJLElBQUksQ0FBQyxXQUFXLEVBQUUsS0FBSyxDQUFDLGdCQUFnQixHQUFHLE9BQU07SUFDckUsZ0JBQWdCLE9BQU8sTUFBTTtJQUM3QixhQUFhO0lBQ2IsU0FBUztJQUNULFFBQVEsT0FBTyxJQUFJO0lBQ25CLEtBQUs7O0lBRUwsSUFBSSxJQUFJLE1BQU0sR0FBRztJQUNqQixRQUFRLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxPQUFNO0lBQzNCLFFBQVEsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDLEtBQUssR0FBRyxFQUFDO0lBQzVCLFFBQVEsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDLE1BQU0sR0FBRyxFQUFDO0lBQzdCLFFBQVEsT0FBTyxDQUFDLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQztJQUM3QixLQUFLOztJQUVMLElBQUksSUFBSSxNQUFNLEdBQUc7SUFDakIsUUFBUSxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMscUJBQXFCLEVBQUU7SUFDbkQsS0FBSzs7SUFFTCxJQUFJLElBQUksT0FBTyxHQUFHO0lBQ2xCLFFBQVEsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLE9BQU07SUFDM0IsUUFBUSxJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUMsS0FBSyxHQUFHLEVBQUM7SUFDNUIsUUFBUSxJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUMsTUFBTSxHQUFHLEVBQUM7SUFDN0IsUUFBUSxJQUFJLE1BQU0sR0FBRyxDQUFDLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBQztJQUNuQyxRQUFRLElBQUksT0FBTyxHQUFHLElBQUksT0FBTyxDQUFDLE1BQU0sRUFBQztJQUN6QyxRQUFRLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUM7SUFDMUMsUUFBUSxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBQztJQUN6QyxRQUFRLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBQztJQUN4QyxRQUFRLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFDO0lBQ3pDLFFBQVEsT0FBTyxPQUFPO0lBQ3RCLEtBQUs7SUFDTCxDQUFDOztJQUVELElBQUksTUFBTSxHQUFHLEtBQUk7O0FBRWpCLElBQU8sTUFBTSxVQUFVLFNBQVMsZUFBZSxDQUFDO0lBQ2hELElBQUksV0FBVztJQUNmLFFBQVEsT0FBTztJQUNmLFFBQVEsU0FBUztJQUNqQixRQUFRO0lBQ1IsWUFBWSxVQUFVLEdBQUcsR0FBRztJQUM1QixZQUFZLFFBQVEsR0FBRyxHQUFHO0lBQzFCLFlBQVksUUFBUSxHQUFHLEdBQUc7SUFDMUIsWUFBWSxhQUFhLEdBQUcsR0FBRztJQUMvQixZQUFZLGdCQUFnQixHQUFHLElBQUk7SUFDbkMsWUFBWSxZQUFZLEdBQUcsSUFBSTtJQUMvQixZQUFZLFFBQVEsR0FBRyxJQUFJO0lBQzNCLFlBQVksU0FBUyxHQUFHLElBQUk7SUFDNUIsWUFBWSxRQUFRLEdBQUcsSUFBSTtJQUMzQixZQUFZLFFBQVEsR0FBRyxJQUFJO0lBQzNCLFlBQVksZUFBZSxHQUFHLElBQUk7SUFDbEMsWUFBWSxRQUFRLEdBQUcsSUFBSTtJQUMzQixZQUFZLFdBQVcsR0FBRyxJQUFJO0lBQzlCLFlBQVksZUFBZSxHQUFHLGVBQWU7SUFDN0M7SUFDQSxZQUFZLENBQUMsR0FBRyxDQUFDO0lBQ2pCLFlBQVksQ0FBQyxHQUFHLENBQUM7SUFDakIsWUFBWSxLQUFLLEdBQUcsSUFBSTtJQUN4QixZQUFZLE1BQU0sR0FBRyxJQUFJO0lBQ3pCLFlBQVksU0FBUyxHQUFHLEtBQUs7SUFDN0IsWUFBWSxhQUFhLEdBQUcsS0FBSztJQUNqQyxZQUFZLE9BQU8sR0FBRyxJQUFJO0lBQzFCLFlBQVksUUFBUSxHQUFHLElBQUk7SUFDM0IsWUFBWSxXQUFXLEdBQUcsTUFBTTtJQUNoQyxZQUFZLGVBQWUsR0FBRyxFQUFFO0lBQ2hDLFlBQVksWUFBWSxHQUFHLElBQUk7SUFDL0IsWUFBWSxTQUFTLEdBQUcsSUFBSTtJQUM1QixTQUFTLEdBQUcsRUFBRTtJQUNkLE1BQU07SUFDTixRQUFRLEtBQUssQ0FBQztJQUNkLFlBQVksUUFBUTtJQUNwQixZQUFZLFFBQVE7SUFDcEIsWUFBWSxVQUFVO0lBQ3RCLFlBQVksYUFBYTtJQUN6QixZQUFZLGdCQUFnQjtJQUM1QixZQUFZLFlBQVk7SUFDeEIsWUFBWSxRQUFRO0lBQ3BCLFlBQVksU0FBUztJQUNyQixZQUFZLFFBQVE7SUFDcEIsWUFBWSxRQUFRO0lBQ3BCLFlBQVksU0FBUztJQUNyQixZQUFZLGVBQWU7SUFDM0IsWUFBWSxRQUFRO0lBQ3BCLFlBQVksV0FBVztJQUN2QixZQUFZLGVBQWU7SUFDM0IsWUFBWSxZQUFZO0lBQ3hCLFlBQVksU0FBUztJQUNyQixTQUFTLEVBQUM7SUFDVixRQUFRLElBQUksU0FBUyxJQUFJLElBQUksSUFBSSxLQUFLLElBQUksSUFBSSxJQUFJLE1BQU0sSUFBSSxJQUFJLEVBQUU7SUFDbEUsWUFBWSxNQUFNLElBQUksS0FBSyxDQUFDLHFCQUFxQixDQUFDO0lBQ2xELFNBQVM7SUFDVCxRQUFRLElBQUksQ0FBQyxPQUFPLEdBQUcsUUFBTztJQUM5QixRQUFRLElBQUksQ0FBQyxDQUFDLEdBQUcsRUFBQztJQUNsQixRQUFRLElBQUksQ0FBQyxDQUFDLEdBQUcsRUFBQztJQUNsQixRQUFRLElBQUksQ0FBQyxLQUFLLEdBQUcsRUFBQztJQUN0QixRQUFRLElBQUksQ0FBQyxLQUFLLEdBQUcsRUFBQztJQUN0QixRQUFRLElBQUksQ0FBQyxLQUFLLEdBQUcsTUFBSztJQUMxQixRQUFRLElBQUksQ0FBQyxNQUFNLEdBQUcsT0FBTTtJQUM1QixRQUFRLElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsTUFBTSxFQUFFLGVBQWUsRUFBQztJQUN2RSxRQUFRLElBQUksQ0FBQyxTQUFTLEdBQUcsVUFBUztJQUNsQyxRQUFRLElBQUksQ0FBQyxhQUFhLEdBQUcsY0FBYTtJQUMxQyxRQUFRLElBQUksQ0FBQyxLQUFLLEdBQUcsV0FBVTtJQUMvQixRQUFRLElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxDQUFDLHFCQUFvQjtJQUN4RCxRQUFRLElBQUksQ0FBQyxlQUFlLEdBQUcsZ0JBQWU7SUFDOUMsUUFBUSxJQUFJLENBQUMsYUFBYSxHQUFHO0lBQzdCLFlBQVksQ0FBQyxFQUFFLENBQUM7SUFDaEIsWUFBWSxDQUFDLEVBQUUsQ0FBQztJQUNoQixZQUFZLEtBQUssRUFBRSxLQUFLO0lBQ3hCLFlBQVksTUFBTSxFQUFFLE1BQU07SUFDMUIsWUFBWSxLQUFLLEVBQUUsVUFBVTtJQUM3QixZQUFZLFFBQVEsRUFBRSxJQUFJLENBQUMsb0JBQW9CO0lBQy9DLFlBQVksZUFBZSxFQUFFLGVBQWU7SUFDNUMsVUFBUztJQUNUO0lBQ0EsUUFBUSxTQUFTLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsYUFBYSxFQUFDO0lBQ2xELFFBQVEsSUFBSSxDQUFDLFFBQVEsR0FBRyxTQUFRO0lBQ2hDLFFBQVEsSUFBSSxDQUFDLE9BQU8sR0FBRyxRQUFPO0lBQzlCLFFBQVEsSUFBSSxXQUFXLEtBQUssSUFBSSxFQUFFO0lBQ2xDLFlBQVlBLFVBQVEsQ0FBQyxRQUFRLENBQUMsT0FBTyxFQUFFLENBQUMsV0FBVyxDQUFDLEVBQUM7SUFDckQsU0FBUztJQUNULFFBQVEsU0FBUyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUM7SUFDM0IsS0FBSzs7SUFFTDtJQUNBLElBQUksUUFBUSxHQUFHO0lBQ2YsUUFBUSxPQUFPO0lBQ2YsWUFBWSxLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUs7SUFDN0IsWUFBWSxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDckIsWUFBWSxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDckIsWUFBWSxRQUFRLEVBQUUsSUFBSSxDQUFDLFFBQVE7SUFDbkMsU0FBUztJQUNULEtBQUs7O0lBRUwsSUFBSSxJQUFJLGNBQWMsR0FBRztJQUN6QixRQUFRLE9BQU8sSUFBSSxDQUFDLE1BQU07SUFDMUIsS0FBSzs7SUFFTCxJQUFJLElBQUksQ0FBQyxHQUFHO0lBQ1osUUFBUSxPQUFPLElBQUksQ0FBQyxFQUFFO0lBQ3RCLEtBQUs7O0lBRUwsSUFBSSxJQUFJLENBQUMsR0FBRztJQUNaLFFBQVEsT0FBTyxJQUFJLENBQUMsRUFBRTtJQUN0QixLQUFLOztJQUVMLElBQUksSUFBSSxDQUFDLENBQUMsS0FBSyxFQUFFO0lBQ2pCLFFBQVEsSUFBSSxDQUFDLEVBQUUsR0FBRyxNQUFLO0lBQ3ZCLFFBQVEsU0FBUyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxFQUFDO0lBQy9DLEtBQUs7O0lBRUwsSUFBSSxJQUFJLENBQUMsQ0FBQyxLQUFLLEVBQUU7SUFDakIsUUFBUSxJQUFJLENBQUMsRUFBRSxHQUFHLE1BQUs7SUFDdkIsUUFBUSxTQUFTLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLEVBQUM7SUFDL0MsS0FBSzs7SUFFTCxJQUFJLElBQUksUUFBUSxHQUFHO0lBQ25CLFFBQVEsSUFBSSxTQUFTLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxhQUFZO0lBQ2pELFFBQVEsSUFBSSxDQUFDLEdBQUcsU0FBUyxDQUFDLEVBQUM7SUFDM0IsUUFBUSxJQUFJLENBQUMsR0FBRyxTQUFTLENBQUMsRUFBQztJQUMzQixRQUFRLE9BQU8sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQ3JCLEtBQUs7O0lBRUwsSUFBSSxJQUFJLE1BQU0sR0FBRztJQUNqQixRQUFRLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBQztJQUN6QyxRQUFRLE9BQU8sTUFBTSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUM7SUFDL0QsS0FBSzs7SUFFTCxJQUFJLElBQUksTUFBTSxHQUFHO0lBQ2pCLFFBQVEsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMscUJBQXFCLEdBQUU7SUFDbEUsUUFBUSxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLHFCQUFxQixHQUFFO0lBQ3ZELFFBQVEsT0FBTztJQUNmLFlBQVksR0FBRyxFQUFFLElBQUksQ0FBQyxHQUFHLEdBQUcsS0FBSyxDQUFDLEdBQUc7SUFDckMsWUFBWSxJQUFJLEVBQUUsSUFBSSxDQUFDLElBQUksR0FBRyxLQUFLLENBQUMsSUFBSTtJQUN4QyxZQUFZLEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSztJQUM3QixZQUFZLE1BQU0sRUFBRSxJQUFJLENBQUMsTUFBTTtJQUMvQixTQUFTO0lBQ1QsS0FBSzs7SUFFTCxJQUFJLElBQUksTUFBTSxHQUFHO0lBQ2pCLFFBQVEsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLE9BQU07SUFDM0IsUUFBUSxJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUMsS0FBSyxHQUFHLEVBQUM7SUFDNUIsUUFBUSxJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUMsTUFBTSxHQUFHLEVBQUM7SUFDN0IsUUFBUSxJQUFJLElBQUksQ0FBQyxTQUFTLEVBQUU7SUFDNUIsWUFBWSxFQUFFLElBQUksSUFBSSxDQUFDLE1BQUs7SUFDNUIsWUFBWSxFQUFFLElBQUksSUFBSSxDQUFDLE1BQUs7SUFDNUIsU0FBUztJQUNULFFBQVEsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksR0FBRyxHQUFFO0lBQzNCLFFBQVEsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFFO0lBQzFCLFFBQVEsT0FBTyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDckIsS0FBSzs7SUFFTCxJQUFJLElBQUksUUFBUSxDQUFDLE9BQU8sRUFBRTtJQUMxQixRQUFRLElBQUksR0FBRyxHQUFHLFFBQU87SUFDekIsUUFBUSxJQUFJLE9BQU8sR0FBRyxLQUFLLENBQUMsYUFBYSxDQUFDLEdBQUcsRUFBQztJQUM5QyxRQUFRLFNBQVMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDLFFBQVEsRUFBRSxPQUFPLENBQUMsRUFBQztJQUN4RCxRQUFRLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBRztJQUM1QixLQUFLOztJQUVMLElBQUksSUFBSSxlQUFlLENBQUMsT0FBTyxFQUFFO0lBQ2pDLFFBQVEsSUFBSSxHQUFHLEdBQUcsUUFBTztJQUN6QixRQUFRLFNBQVMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDLFFBQVEsRUFBRSxHQUFHLENBQUMsRUFBQztJQUNwRCxRQUFRLElBQUksQ0FBQyxTQUFTLEdBQUcsS0FBSyxDQUFDLGFBQWEsQ0FBQyxHQUFHLEVBQUM7SUFDakQsS0FBSzs7SUFFTCxJQUFJLElBQUksUUFBUSxHQUFHO0lBQ25CLFFBQVEsT0FBTyxJQUFJLENBQUMsU0FBUztJQUM3QixLQUFLOztJQUVMLElBQUksSUFBSSxlQUFlLEdBQUc7SUFDMUIsUUFBUSxPQUFPLElBQUksQ0FBQyxTQUFTO0lBQzdCLEtBQUs7O0lBRUwsSUFBSSxJQUFJLEtBQUssQ0FBQyxLQUFLLEVBQUU7SUFDckIsUUFBUSxTQUFTLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUU7SUFDcEMsWUFBWSxLQUFLLEVBQUUsS0FBSztJQUN4QixZQUFZLGVBQWUsRUFBRSxJQUFJLENBQUMsZUFBZTtJQUNqRCxTQUFTLEVBQUM7SUFDVixRQUFRLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBSztJQUMzQixLQUFLOztJQUVMLElBQUksSUFBSSxLQUFLLEdBQUc7SUFDaEIsUUFBUSxPQUFPLElBQUksQ0FBQyxNQUFNO0lBQzFCLEtBQUs7O0lBRUwsSUFBSSxJQUFJLGVBQWUsR0FBRztJQUMxQixRQUFRLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNO0lBQ3BDLEtBQUs7O0lBRUwsSUFBSSxJQUFJLGdCQUFnQixHQUFHO0lBQzNCLFFBQVEsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU87SUFDckMsS0FBSzs7SUFFTCxJQUFJLDJCQUEyQixDQUFDLEtBQUssRUFBRTtJQUN2QyxRQUFRLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQyxrQkFBa0IsQ0FBQyxLQUFLLENBQUM7SUFDdkQsS0FBSzs7SUFFTCxJQUFJLE9BQU8sQ0FBQyxLQUFLLEVBQUU7SUFDbkIsUUFBUSxPQUFPLElBQUk7SUFDbkIsS0FBSzs7SUFFTCxJQUFJLEtBQUssR0FBRztJQUNaLFFBQVEsU0FBUyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxhQUFhLEVBQUM7SUFDdkQsS0FBSzs7SUFFTCxJQUFJLElBQUksR0FBRztJQUNYLFFBQVEsU0FBUyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRTtJQUN4QyxZQUFZLE9BQU8sRUFBRSxNQUFNO0lBQzNCLFlBQVksVUFBVSxFQUFFLENBQUMsSUFBSTtJQUM3QixnQkFBZ0IsSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUM7SUFDakUsYUFBYTtJQUNiLFNBQVMsRUFBQztJQUNWLEtBQUs7O0lBRUwsSUFBSSxJQUFJLEdBQUc7SUFDWCxRQUFRLFNBQVMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxPQUFPLENBQUMsRUFBQztJQUN2RCxLQUFLOztJQUVMLElBQUksTUFBTSxDQUFDLENBQUMsRUFBRSxlQUFlLEVBQUU7SUFDL0IsUUFBUSxTQUFTLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUU7SUFDcEMsWUFBWSxPQUFPLEVBQUUsT0FBTztJQUM1QixZQUFZLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNsQixZQUFZLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNsQixZQUFZLFFBQVEsRUFBRSxlQUFlO0lBQ3JDLFlBQVksZUFBZSxFQUFFLElBQUksQ0FBQyxlQUFlO0lBQ2pELFNBQVMsRUFBQztJQUNWLEtBQUs7O0lBRUwsSUFBSSxZQUFZLEdBQUc7SUFDbkI7SUFDQTtJQUNBLFFBQVEsU0FBUyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUM7SUFDdkQsS0FBSzs7SUFFTCxJQUFJLFdBQVcsQ0FBQyxPQUFPLEVBQUU7SUFDekIsUUFBUSxJQUFJLE9BQU8sQ0FBQyxNQUFNLEVBQUU7SUFDNUIsWUFBWSxPQUFPLENBQUMsSUFBSSxHQUFFO0lBQzFCLFNBQVMsTUFBTTtJQUNmLFlBQVksT0FBTyxDQUFDLEtBQUssR0FBRTtJQUMzQixTQUFTO0lBQ1QsS0FBSzs7SUFFTCxJQUFJLEtBQUssQ0FBQyxLQUFLLEVBQUUsV0FBVyxFQUFFLEtBQUssRUFBRTtJQUNyQyxRQUFRLElBQUksSUFBSSxDQUFDLGFBQWEsRUFBRTtJQUNoQyxZQUFZLElBQUksQ0FBQyxHQUFHLE1BQU0sQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxLQUFLLEVBQUM7SUFDOUQsWUFBWSxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxRQUFRLEVBQUM7SUFDN0QsWUFBWSxJQUFJLE1BQU0sRUFBRTtJQUN4QixnQkFBZ0IsSUFBSSxHQUFHLEdBQUcsTUFBTSxDQUFDLGFBQWEsQ0FBQyxTQUFRO0lBQ3ZELGdCQUFnQixJQUFJLE9BQU8sR0FBRyxHQUFHLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFDO0lBQzVELGdCQUFnQixJQUFJLE9BQU8sSUFBSSxJQUFJLEVBQUU7SUFDckMsb0JBQW9CLE1BQU07SUFDMUIsaUJBQWlCO0lBQ2pCLGdCQUFnQixRQUFRLE9BQU8sQ0FBQyxPQUFPO0lBQ3ZDLG9CQUFvQixLQUFLLE9BQU87SUFDaEMsd0JBQXdCLE9BQU8sQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLFVBQVUsRUFBQztJQUN2RCx3QkFBd0IsSUFBSSxTQUFTLEVBQUU7SUFDdkMsNEJBQTRCLFNBQVMsQ0FBQyxJQUFJO0lBQzFDLGdDQUFnQztJQUNoQyxvQ0FBb0MsVUFBVSxFQUFFO0lBQ2hELHdDQUF3QyxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUM7SUFDdkUsb0NBQW9DLElBQUksRUFBRSxNQUFNLE9BQU8sQ0FBQyxJQUFJLEVBQUU7SUFDOUQsaUNBQWlDO0lBQ2pDLGdDQUFnQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDdEMsOEJBQTZCO0lBQzdCLHlCQUF5QixNQUFNO0lBQy9CLDRCQUE0QixJQUFJLENBQUMsV0FBVyxDQUFDLE9BQU8sRUFBQztJQUNyRCx5QkFBeUI7SUFDekIsd0JBQXdCLEtBQUs7SUFDN0Isb0JBQW9CO0lBQ3BCLHdCQUF3QixPQUFPLENBQUMsS0FBSyxHQUFFO0lBQ3ZDLGlCQUFpQjtJQUNqQixhQUFhO0lBQ2IsU0FBUztJQUNULEtBQUs7O0lBRUwsSUFBSSxZQUFZLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRTtJQUNoQyxRQUFRLElBQUksSUFBSSxHQUFHLEtBQUssQ0FBQyxXQUFVO0lBQ25DLFFBQVEsT0FBTyxJQUFJLElBQUksSUFBSSxFQUFFO0lBQzdCLFlBQVksSUFBSSxJQUFJLElBQUksTUFBTSxFQUFFO0lBQ2hDLGdCQUFnQixPQUFPLElBQUk7SUFDM0IsYUFBYTtJQUNiLFlBQVksSUFBSSxHQUFHLElBQUksQ0FBQyxXQUFVO0lBQ2xDLFNBQVM7SUFDVCxRQUFRLE9BQU8sS0FBSztJQUNwQixLQUFLOztJQUVMLElBQUksY0FBYyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUU7SUFDekIsUUFBUSxPQUFPLE1BQU0sQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUMxRCxLQUFLOztJQUVMLElBQUksY0FBYyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUU7SUFDekIsUUFBUSxPQUFPLE1BQU0sQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUMxRCxLQUFLOztJQUVMLElBQUksS0FBSyxDQUFDLEtBQUssRUFBRTtJQUNqQjtJQUNBO0lBQ0EsUUFBUSxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxFQUFDO0lBQzNDLFFBQVEsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsRUFBQztJQUMzQyxRQUFRLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRTtJQUMzQixZQUFZLENBQUMsSUFBSSxLQUFLLENBQUMsRUFBQztJQUN4QixTQUFTO0lBQ1QsUUFBUSxJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUU7SUFDM0IsWUFBWSxDQUFDLElBQUksS0FBSyxDQUFDLEVBQUM7SUFDeEIsU0FBUztJQUNULFFBQVEsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFDO0lBQ25CLFFBQVEsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFDO0lBQ25CLFFBQVEsU0FBUyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUM7SUFDakQsS0FBSzs7SUFFTCxJQUFJLG9CQUFvQixDQUFDLElBQUksRUFBRTtJQUMvQixRQUFRLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLE1BQUs7SUFDdkMsUUFBUSxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFLO0lBQ3hDLFFBQVEsU0FBUyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsQ0FBQyxDQUFDLEVBQUM7SUFDMUQsUUFBUSxJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUU7SUFDM0IsWUFBWSxJQUFJLEtBQUssR0FBRyxJQUFJLFdBQVcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxDQUFDLENBQUMsRUFBQztJQUNwRSxZQUFZLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxFQUFDO0lBQ2hDLFNBQVM7SUFDVCxLQUFLO0lBQ0wsQ0FBQzs7SUNocUNEO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7QUFDQSxJQUFPLE1BQU0sZ0JBQWdCLFNBQVMsSUFBSSxDQUFDLFFBQVEsQ0FBQzs7SUFFcEQ7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0EsSUFBSSxXQUFXLENBQUMsUUFBUSxFQUFFLENBQUMsVUFBVSxHQUFHLElBQUk7SUFDNUMsNEJBQTRCLFdBQVcsR0FBRyxJQUFJO0lBQzlDLDRCQUE0QixVQUFVLEdBQUcsS0FBSztJQUM5Qyw0QkFBNEIsV0FBVyxHQUFHLEtBQUs7SUFDL0MsNEJBQTRCLFdBQVcsR0FBRyxLQUFLO0lBQy9DLDRCQUE0QixlQUFlLEdBQUcsSUFBSTtJQUNsRCw0QkFBNEIsV0FBVyxHQUFHLElBQUksQ0FBQyxHQUFHLEVBQUUsRUFBRTtJQUN0RCxRQUFRLEtBQUssR0FBRTtJQUNmLFFBQVEsSUFBSSxDQUFDLFFBQVEsR0FBRyxTQUFRO0lBQ2hDLFFBQVEsSUFBSSxDQUFDLFVBQVUsR0FBRyxXQUFVO0lBQ3BDLFFBQVEsSUFBSSxDQUFDLFdBQVcsR0FBRyxZQUFXO0lBQ3RDLFFBQVEsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLGlCQUFpQixDQUFDLElBQUksQ0FBQyxhQUFhLEVBQUUsSUFBSSxFQUFDO0lBQ3ZFLFFBQVEsSUFBSSxDQUFDLFVBQVUsR0FBRyxXQUFVO0lBQ3BDLFFBQVEsSUFBSSxDQUFDLFdBQVcsR0FBRyxZQUFXO0lBQ3RDLFFBQVEsSUFBSSxDQUFDLFdBQVcsR0FBRyxZQUFXO0lBQ3RDLFFBQVEsSUFBSSxDQUFDLGVBQWUsR0FBRyxnQkFBZTtJQUM5QyxRQUFRLElBQUksV0FBVyxLQUFLLFVBQVUsSUFBSSxXQUFXLElBQUksV0FBVyxDQUFDLEVBQUU7SUFDdkUsWUFBWSxXQUFXLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssS0FBSyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxFQUFFLElBQUksRUFBQztJQUN2RSxTQUFTO0lBQ1QsUUFBUSxJQUFJLGVBQWUsRUFBRTtJQUM3QixZQUFZLElBQUksQ0FBQyxnQkFBZ0IsR0FBRTtJQUNuQyxTQUFTO0lBQ1QsS0FBSzs7SUFFTCxJQUFJLGdCQUFnQixHQUFHO0lBQ3ZCLFFBQVEsSUFBSSxDQUFDLEtBQUssR0FBRTtJQUNwQixRQUFRLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDLEVBQUM7SUFDL0MsUUFBUSxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUM7SUFDbEUsUUFBUSxJQUFJLENBQUMsT0FBTyxHQUFFO0lBQ3RCLEtBQUs7O0lBRUwsSUFBSSxJQUFJLGFBQWEsR0FBRztJQUN4QixRQUFRLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLHFCQUFxQjtJQUN0RSxLQUFLOztJQUVMLElBQUksSUFBSSxNQUFNLEdBQUc7SUFDakI7SUFDQSxRQUFRLElBQUksQ0FBQyxHQUFHLEVBQUM7SUFDakIsUUFBUSxJQUFJLENBQUMsR0FBRyxFQUFDO0lBQ2pCLFFBQVEsSUFBSSxDQUFDLEdBQUcsR0FBRyxDQUFDLE1BQUs7SUFDekIsUUFBUSxJQUFJLENBQUMsR0FBRyxHQUFHLENBQUMsT0FBTTtJQUMxQixRQUFRLElBQUksR0FBRyxDQUFDLFVBQVUsSUFBSSxHQUFHLENBQUMsa0JBQWtCLEVBQUU7SUFDdEQsZ0JBQWdCLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFDO0lBQ2xFLFlBQVksSUFBSSxLQUFLLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRTtJQUM3QixnQkFBZ0IsQ0FBQyxHQUFHLEtBQUssQ0FBQyxFQUFDO0lBQzNCLGFBQWE7SUFDYixZQUFZLElBQUksS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUU7SUFDN0IsZ0JBQWdCLENBQUMsSUFBSSxLQUFLLENBQUMsRUFBQztJQUM1QixnQkFBZ0IsQ0FBQyxJQUFJLEtBQUssQ0FBQyxFQUFDO0lBQzVCLGFBQWE7SUFDYixTQUFTO0lBQ1QsUUFBUSxPQUFPLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDN0MsS0FBSzs7SUFFTCxJQUFJLElBQUksTUFBTSxHQUFHO0lBQ2pCLFFBQVEsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLE9BQU07SUFDM0IsUUFBUSxPQUFPLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztJQUNqRCxLQUFLOztJQUVMLElBQUksSUFBSSxPQUFPLEdBQUc7SUFDbEIsUUFBUSxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsT0FBTTtJQUMzQixRQUFRLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsRUFBQztJQUMxQixRQUFRLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsRUFBQztJQUMzQixRQUFRLElBQUksTUFBTSxHQUFHLENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFDO0lBQ25DLFFBQVEsSUFBSSxPQUFPLEdBQUcsSUFBSSxPQUFPLENBQUMsTUFBTSxFQUFDO0lBQ3pDLFFBQVEsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBQztJQUMxQyxRQUFRLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFDO0lBQ3pDLFFBQVEsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFDO0lBQ3hDLFFBQVEsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUM7SUFDekMsUUFBUSxPQUFPLE9BQU87SUFDdEIsS0FBSzs7SUFFTCxJQUFJLE1BQU0sQ0FBQyxFQUFFLEVBQUU7SUFDZixRQUFRLElBQUksQ0FBQyxLQUFLLEdBQUU7SUFDcEIsUUFBUSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxRQUFRLEVBQUM7SUFDbkMsUUFBUSxJQUFJLElBQUksQ0FBQyxVQUFVLEVBQUU7SUFDN0IsWUFBWSxJQUFJLElBQUksS0FBSyxJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUU7SUFDNUMsZ0JBQWdCLElBQUksS0FBSyxDQUFDLE9BQU8sRUFBRTtJQUNuQztJQUNBO0lBQ0Esb0JBQW9CLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxNQUFNLEVBQUM7SUFDeEQsb0JBQW9CLElBQUksTUFBTSxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsT0FBTTtJQUN0RCxvQkFBb0IsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFDO0lBQzFELG9CQUFvQixJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBQztJQUN4RSxpQkFBaUI7SUFDakIsYUFBYTtJQUNiLFlBQVksSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsUUFBUSxFQUFDO0lBQ3ZDLFlBQVksSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFDO0lBQ3ZDLFNBQVM7SUFDVCxRQUFRLElBQUksSUFBSSxDQUFDLFdBQVcsRUFBRTtJQUM5QixZQUFZLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLFFBQVEsRUFBQztJQUN2QyxZQUFZLElBQUksSUFBSSxLQUFLLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRTtJQUM1QyxnQkFBZ0IsR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDO0lBQ2pDLGdCQUFnQixJQUFJLE9BQU8sR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLFFBQU87SUFDbkQsZ0JBQWdCLElBQUksS0FBSyxHQUFHLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsa0JBQWtCLEVBQUUsRUFBQztJQUMxRSxnQkFBZ0IsS0FBSyxDQUFDLEtBQUssR0FBRTtJQUM3QixnQkFBZ0IsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLEVBQUM7SUFDckMsaUJBQWlCO0lBQ2pCLGFBQWE7SUFDYixTQUFTO0lBQ1QsUUFBUSxJQUFJLElBQUksQ0FBQyxXQUFXLEVBQUU7SUFDOUIsWUFBWSxJQUFJLE9BQU8sR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxRQUFPO0lBQzNELFlBQVksSUFBSSxJQUFJLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxJQUFJLE9BQU8sQ0FBQyxPQUFPLEVBQUUsRUFBRTtJQUN2RCxnQkFBZ0IsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLGtCQUFrQixDQUFDLEtBQUssRUFBQztJQUMxRCxnQkFBZ0IsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFDO0lBQ3JELGFBQWE7SUFDYixTQUFTO0lBQ1QsS0FBSzs7SUFFTCxJQUFJLE9BQU8sQ0FBQyxLQUFLLEVBQUU7SUFDbkIsUUFBUSxJQUFJLElBQUksQ0FBQyxVQUFVO0lBQzNCLFlBQVksTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUM7SUFDOUIsUUFBUSxPQUFPLElBQUk7SUFDbkIsS0FBSzs7SUFFTCxJQUFJLG9CQUFvQixDQUFDLEtBQUssRUFBRSxHQUFHLEVBQUU7SUFDckMsUUFBUSxPQUFPLEVBQUUsSUFBSSxFQUFFLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUM7SUFDbkQsS0FBSzs7SUFFTCxJQUFJLGNBQWMsQ0FBQyxJQUFJLEVBQUUsYUFBYSxFQUFFLEdBQUcsRUFBRTtJQUM3QztJQUNBO0lBQ0E7SUFDQSxRQUFRLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxVQUFVLEtBQUssSUFBSSxJQUFJLE9BQU8sYUFBYSxDQUFDLElBQUksU0FBUyxFQUFFO0lBQ25GLFlBQVksSUFBSSxDQUFDLFVBQVUsR0FBRyxDQUFDLGFBQWEsQ0FBQyxPQUFPLElBQUksYUFBYSxDQUFDLE9BQU8sR0FBRyxLQUFJO0lBQ3BGLFNBQVM7SUFDVCxLQUFLOztJQUVMLElBQUksa0JBQWtCLENBQUMsS0FBSyxFQUFFO0lBQzlCLFFBQVEsSUFBSSxLQUFLLEdBQUcsSUFBSSxJQUFJLENBQUMsS0FBSyxHQUFFO0lBQ3BDLFFBQVEsSUFBSSxrQkFBa0IsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxZQUFXO0lBQ2xFLFFBQVEsa0JBQWtCLENBQUMsa0JBQWtCLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUMsRUFBQztJQUN0RSxRQUFRLE9BQU8sS0FBSztJQUNwQixLQUFLOztJQUVMO0lBQ0E7SUFDQTtJQUNBO0lBQ0EsSUFBSSxVQUFVLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUU7SUFDckMsUUFBUSxJQUFJLEtBQUssQ0FBQyxnQkFBZ0IsRUFBRTtJQUNwQyxZQUFZLE9BQU8sSUFBSTtJQUN2QixTQUFTO0lBQ1QsUUFBUSxJQUFJLENBQUMsVUFBVSxHQUFHLEtBQUk7SUFDOUIsUUFBUSxJQUFJLGtCQUFrQixHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLFlBQVc7SUFDbEUsUUFBUSxJQUFJLFNBQVMsR0FBRyxJQUFJLENBQUMsb0JBQW9CLENBQUMsS0FBSyxFQUFDO0lBQ3hELFFBQVEsa0JBQWtCLENBQUMsa0JBQWtCLENBQUMsU0FBUztJQUN2RCxnQkFBZ0IsSUFBSTtJQUNwQixnQkFBZ0IsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsSUFBSSxFQUFDO0lBQ3JELFFBQVEsSUFBSSxJQUFJLENBQUMsV0FBVztJQUM1QixZQUFZLEtBQUssQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsV0FBVTtJQUNwRCxRQUFRLE9BQU8sSUFBSSxDQUFDLFVBQVU7SUFDOUIsS0FBSzs7SUFFTCxJQUFJLGFBQWEsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRTtJQUN4QztJQUNBO0lBQ0EsUUFBUSxJQUFJLEtBQUssQ0FBQyxnQkFBZ0IsRUFBRTtJQUNwQyxZQUFZLE9BQU8sSUFBSTtJQUN2QixTQUFTO0lBQ1QsUUFBUSxJQUFJLENBQUMsVUFBVSxHQUFHLEtBQUk7SUFDOUIsUUFBUSxJQUFJLGtCQUFrQixHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLFlBQVc7SUFDbEUsUUFBUSxJQUFJLGFBQWEsR0FBRyxrQkFBa0IsQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLElBQUksRUFBQztJQUNuRSxRQUFRLElBQUksYUFBYSxJQUFJLElBQUksSUFBSSxhQUFhLENBQUMsT0FBTyxJQUFJLElBQUk7SUFDbEUsWUFBWSxJQUFJLENBQUMsVUFBVSxHQUFHLGFBQWEsQ0FBQyxRQUFPO0lBQ25ELFFBQVEsSUFBSSxJQUFJLENBQUMsV0FBVztJQUM1QixZQUFZLEtBQUssQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsV0FBVTtJQUNwRCxRQUFRLE9BQU8sSUFBSSxDQUFDLFVBQVU7SUFDOUIsS0FBSzs7O0lBR0wsSUFBSSxPQUFPLENBQUMsS0FBSyxFQUFFLFdBQVcsRUFBRTs7SUFFaEMsS0FBSzs7SUFFTCxJQUFJLE1BQU0sQ0FBQyxLQUFLLEVBQUUsV0FBVyxFQUFFOztJQUUvQixLQUFLOztJQUVMLElBQUksS0FBSyxDQUFDLEtBQUssRUFBRSxXQUFXLEVBQUU7SUFDOUIsUUFBUSxJQUFJLElBQUksR0FBRyxJQUFJLFdBQVcsQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLEVBQUU7SUFDakQsWUFBWSxJQUFJLEtBQUssR0FBRyxXQUFXLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUM7SUFDbEQsWUFBWSxJQUFJLFdBQVcsQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLEVBQUU7SUFDOUMsZ0JBQWdCLElBQUksQ0FBQyxXQUFXLENBQUMsR0FBRyxFQUFFLEtBQUssRUFBQztJQUM1QyxhQUFhO0lBQ2IsWUFBWSxJQUFJLFdBQVcsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUU7SUFDeEMsZ0JBQWdCLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFFLEtBQUssRUFBQztJQUN0QyxhQUFhO0lBQ2IsU0FBUztJQUNULEtBQUs7O0lBRUwsSUFBSSxLQUFLLENBQUMsR0FBRyxFQUFFLEtBQUssRUFBRTtJQUN0QixRQUFRLE9BQU8sQ0FBQyxJQUFJLENBQUMsd0JBQXdCLEVBQUM7SUFDOUMsS0FBSzs7SUFFTCxJQUFJLFdBQVcsQ0FBQyxHQUFHLEVBQUUsS0FBSyxFQUFFO0lBQzVCLFFBQVEsT0FBTyxDQUFDLElBQUksQ0FBQyw4QkFBOEIsRUFBQztJQUNwRCxLQUFLOztJQUVMLElBQUksWUFBWSxDQUFDLGFBQWEsRUFBRTtJQUNoQyxRQUFRLElBQUksQ0FBQyxRQUFRLENBQUMsYUFBYSxFQUFDO0lBQ3BDLEtBQUs7SUFDTCxDQUFDOztJQUVEO0lBQ0E7SUFDQTtJQUNBO0FBQ0EsSUFBTyxNQUFNLG9CQUFvQixTQUFTLGVBQWUsQ0FBQzs7SUFFMUQsSUFBSSxXQUFXLENBQUMsYUFBYSxFQUFFLFFBQVE7SUFDdkMsb0JBQW9CLEVBQUUsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsSUFBSTtJQUNwQyx3QkFBd0IsUUFBUSxDQUFDLEdBQUc7SUFDcEMsd0JBQXdCLFFBQVEsQ0FBQyxHQUFHO0lBQ3BDLHdCQUF3QixVQUFVLENBQUMsR0FBRztJQUN0Qyx3QkFBd0IsZ0JBQWdCLENBQUMsSUFBSTtJQUM3Qyx3QkFBd0IsWUFBWSxDQUFDLElBQUksRUFBRSxRQUFRLENBQUMsSUFBSSxFQUFFLFNBQVMsQ0FBQyxJQUFJLEVBQUUsU0FBUyxDQUFDLEtBQUs7SUFDekYsd0JBQXdCLFFBQVEsQ0FBQyxJQUFJO0lBQ3JDLHdCQUF3QixRQUFRLENBQUMsSUFBSTtJQUNyQyx3QkFBd0IsZUFBZSxDQUFDLEVBQUU7SUFDMUMsd0JBQXdCLFlBQVksR0FBRyxJQUFJO0lBQzNDLHdCQUF3QixTQUFTLENBQUMsSUFBSTtJQUN0Qyx3QkFBd0IsZUFBZSxDQUFDLElBQUk7SUFDNUMsd0JBQXdCLFFBQVEsQ0FBQyxJQUFJO0lBQ3JDLHdCQUF3QixXQUFXLEdBQUcsSUFBSSxFQUFFLEdBQUcsRUFBRSxFQUFFO0lBQ25EO0lBQ0E7SUFDQSxRQUFRLEtBQUssQ0FBQyxFQUFFLFFBQVEsRUFBRSxRQUFRO0lBQ2xDLHdCQUF3QixVQUFVO0lBQ2xDLHdCQUF3QixnQkFBZ0I7SUFDeEMsd0JBQXdCLFlBQVksRUFBRSxRQUFRLEVBQUUsU0FBUyxFQUFFLFNBQVM7SUFDcEUsd0JBQXdCLFFBQVEsRUFBRSxRQUFRLEVBQUUsZUFBZSxFQUFFLFlBQVk7SUFDekUsd0JBQXdCLFNBQVM7SUFDakMsd0JBQXdCLGVBQWUsRUFBRSxRQUFRO0lBQ2pELHdCQUF3QixXQUFXLEVBQUUsRUFBQztJQUN0QyxRQUFRLElBQUksQ0FBQyxhQUFhLEdBQUcsY0FBYTtJQUMxQyxRQUFRLElBQUksQ0FBQyxhQUFhLENBQUMsT0FBTyxHQUFHLEtBQUk7SUFDekMsUUFBUSxJQUFJLENBQUMsUUFBUSxHQUFHLFNBQVE7SUFDaEMsUUFBUSxJQUFJLENBQUMsS0FBSyxHQUFHLFdBQVU7SUFDL0IsUUFBUSxJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQyxxQkFBb0I7SUFDeEQsUUFBUSxJQUFJLENBQUMsQ0FBQyxHQUFHLEVBQUM7SUFDbEIsUUFBUSxJQUFJLENBQUMsQ0FBQyxHQUFHLEVBQUM7SUFDbEIsS0FBSzs7SUFFTDtJQUNBLElBQUksUUFBUSxHQUFHO0lBQ2YsUUFBUSxPQUFPO0lBQ2YsWUFBWSxLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUs7SUFDN0IsWUFBWSxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDckIsWUFBWSxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDckIsWUFBWSxRQUFRLEVBQUUsSUFBSSxDQUFDLFFBQVE7SUFDbkMsU0FBUztJQUNULEtBQUs7O0lBRUwsSUFBSSxLQUFLLEdBQUc7SUFDWixRQUFRLElBQUksQ0FBQywwQkFBMEIsR0FBRTtJQUN6QyxLQUFLOztJQUVMLElBQUksVUFBVSxDQUFDLEtBQUssRUFBRTtJQUN0QjtJQUNBLFFBQVEsT0FBTyxLQUFLO0lBQ3BCLFFBQVEsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxXQUFVO0lBQzFDLFFBQVEsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHO0lBQzVDLEtBQUs7O0lBRUwsSUFBSSxJQUFJLFNBQVMsR0FBRztJQUNwQixRQUFRLE9BQU8sSUFBSSxDQUFDLGFBQWEsQ0FBQyxNQUFNO0lBQ3hDLEtBQUs7O0lBRUwsSUFBSSxJQUFJLENBQUMsR0FBRztJQUNaLFFBQVEsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDOUIsS0FBSzs7SUFFTCxJQUFJLElBQUksQ0FBQyxDQUFDLEtBQUssRUFBRTtJQUNqQixRQUFRLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLE1BQUs7SUFDL0IsS0FBSzs7SUFFTCxJQUFJLElBQUksQ0FBQyxHQUFHO0lBQ1osUUFBUSxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUM5QixLQUFLOztJQUVMLElBQUksSUFBSSxDQUFDLENBQUMsS0FBSyxFQUFFO0lBQ2pCLFFBQVEsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsTUFBSztJQUMvQixLQUFLOztJQUVMLElBQUksSUFBSSxPQUFPLEdBQUc7SUFDbEIsUUFBUSxJQUFJLE9BQU8sR0FBRyxJQUFJLE9BQU8sQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFDO0lBQzlDLFFBQVEsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLEtBQUssR0FBRyxFQUFDO0lBQy9CLFFBQVEsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLE1BQU0sR0FBRyxFQUFDO0lBQ2hDLFFBQVEsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBQztJQUMxQyxRQUFRLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFDO0lBQ3pDLFFBQVEsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFDO0lBQ3hDLFFBQVEsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUM7SUFDekMsUUFBUSxPQUFPLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUM7SUFDckMsUUFBUSxPQUFPLE9BQU87SUFDdEIsS0FBSzs7SUFFTCxJQUFJLElBQUksZUFBZSxHQUFHO0lBQzFCLFFBQVEsT0FBTyxJQUFJLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxNQUFNO0lBQy9DLEtBQUs7O0lBRUwsSUFBSSxJQUFJLGdCQUFnQixHQUFHO0lBQzNCLFFBQVEsT0FBTyxJQUFJLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxPQUFPO0lBQ2hELEtBQUs7O0lBRUwsSUFBSSxJQUFJLFFBQVEsSUFBSTtJQUNwQixRQUFRLE9BQU8sSUFBSSxDQUFDLGFBQWEsQ0FBQyxRQUFRO0lBQzFDLEtBQUs7O0lBRUwsSUFBSSxJQUFJLFFBQVEsQ0FBQyxLQUFLLEVBQUU7SUFDeEIsUUFBUSxPQUFPLENBQUMsR0FBRyxDQUFDLGNBQWMsRUFBQztJQUNuQyxRQUFRLElBQUksQ0FBQyxhQUFhLENBQUMsUUFBUSxHQUFHLE1BQUs7SUFDM0MsS0FBSzs7SUFFTCxJQUFJLElBQUksS0FBSyxJQUFJO0lBQ2pCLFFBQVEsT0FBTyxJQUFJLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3pDLEtBQUs7O0lBRUwsSUFBSSxJQUFJLEtBQUssQ0FBQyxLQUFLLEVBQUU7SUFDckIsUUFBUSxJQUFJLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsTUFBSztJQUMxQyxRQUFRLElBQUksQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxNQUFLO0lBQzFDLEtBQUs7O0lBRUwsSUFBSSxJQUFJLEtBQUssR0FBRztJQUNoQixRQUFRLE9BQU8sSUFBSSxDQUFDLGFBQWEsQ0FBQyxLQUFLO0lBQ3ZDLEtBQUs7O0lBRUwsSUFBSSxJQUFJLE1BQU0sR0FBRztJQUNqQixRQUFRLE9BQU8sSUFBSSxDQUFDLGFBQWEsQ0FBQyxNQUFNO0lBQ3hDLEtBQUs7O0lBRUwsSUFBSSxJQUFJLE1BQU0sR0FBRztJQUNqQixRQUFRLE9BQU8sSUFBSSxDQUFDLGFBQWEsQ0FBQyxTQUFTLEVBQUU7SUFDN0MsS0FBSzs7SUFFTCxJQUFJLElBQUksS0FBSyxHQUFHO0lBQ2hCLFFBQVEsT0FBTyxJQUFJLENBQUMsYUFBYSxDQUFDLEtBQUs7SUFDdkMsS0FBSzs7SUFFTCxJQUFJLElBQUksUUFBUSxJQUFJO0lBQ3BCLFFBQVEsT0FBTyxJQUFJLENBQUMsYUFBYSxDQUFDLFFBQVE7SUFDMUMsS0FBSzs7SUFFTCxJQUFJLElBQUksUUFBUSxDQUFDLEtBQUssR0FBRztJQUN6QixRQUFRLElBQUksQ0FBQyxhQUFhLENBQUMsUUFBUSxHQUFHLE1BQUs7SUFDM0MsS0FBSzs7SUFFTCxJQUFJLElBQUksZUFBZSxJQUFJO0lBQzNCLFFBQVEsT0FBTyxLQUFLLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDO0lBQy9ELEtBQUs7O0lBRUwsSUFBSSxJQUFJLGVBQWUsQ0FBQyxLQUFLLEdBQUc7SUFDaEMsUUFBUSxJQUFJLENBQUMsYUFBYSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUMsYUFBYSxDQUFDLEtBQUssRUFBQztJQUNoRSxLQUFLOztJQUVMLElBQUksSUFBSSxNQUFNLEdBQUc7SUFDakIsUUFBUSxJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUM7SUFDN0IsUUFBUSxJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUM7SUFDOUIsUUFBUSxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBQztJQUMzQyxRQUFRLElBQUksS0FBSyxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFDO0lBQzlELFFBQVEsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxFQUFDO0lBQ3BDLFFBQVEsSUFBSSxDQUFDLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSyxFQUFFLElBQUksRUFBQztJQUN0RSxRQUFRLE9BQU8sQ0FBQztJQUNoQixLQUFLOztJQUVMLElBQUksSUFBSSxjQUFjLEdBQUc7SUFDekI7SUFDQSxRQUFRLE9BQU8sSUFBSSxDQUFDLFFBQVE7SUFDNUIsS0FBSzs7SUFFTCxJQUFJLDJCQUEyQixDQUFDLEtBQUssRUFBRTtJQUN2QyxRQUFRLE9BQU8sSUFBSSxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsa0JBQWtCLENBQUMsS0FBSyxDQUFDO0lBQ2xFLEtBQUs7O0lBRUwsSUFBSSxPQUFPLENBQUMsS0FBSyxFQUFFO0lBQ25CLFFBQVEsT0FBTyxJQUFJO0lBQ25CLEtBQUs7O0lBRUwsSUFBSSxZQUFZLEdBQUc7SUFDbkIsUUFBUSxJQUFJLElBQUksQ0FBQyxnQkFBZ0IsRUFBRTtJQUNuQyxZQUFZLElBQUksZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxPQUFNO0lBQzVELFlBQVksZ0JBQWdCLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxhQUFhLEVBQUM7SUFDN0QsU0FBUztJQUNULEtBQUs7O0lBRUwsSUFBSSxVQUFVLENBQUMsS0FBSyxFQUFFO0lBQ3RCLFFBQVEsS0FBSyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxRQUFRLEVBQUM7SUFDOUMsUUFBUSxLQUFLLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLFFBQVEsRUFBQztJQUM5QyxRQUFRLE9BQU8sS0FBSztJQUNwQixLQUFLOztJQUVMLElBQUksSUFBSSxnQkFBZ0IsR0FBRztJQUMzQixRQUFRLE9BQU8sSUFBSSxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsT0FBTztJQUNoRCxLQUFLOztJQUVMLENBQUM7O0lDaGFNLE1BQU0sVUFBVSxDQUFDO0lBQ3hCLElBQUksV0FBVztJQUNmLFFBQVEsR0FBRztJQUNYLFFBQVE7SUFDUixZQUFZLENBQUMsR0FBRyxDQUFDO0lBQ2pCLFlBQVksQ0FBQyxHQUFHLENBQUM7SUFDakIsWUFBWSxLQUFLLEdBQUcsSUFBSTtJQUN4QixZQUFZLE1BQU0sR0FBRyxHQUFHO0lBQ3hCLFlBQVksUUFBUSxHQUFHLElBQUk7SUFDM0IsWUFBWSxTQUFTLEdBQUcsSUFBSTtJQUM1QixZQUFZLEtBQUssR0FBRyxDQUFDO0lBQ3JCLFlBQVksUUFBUSxHQUFHLEdBQUc7SUFDMUIsWUFBWSxRQUFRLEdBQUcsR0FBRztJQUMxQixZQUFZLFFBQVEsR0FBRyxDQUFDO0lBQ3hCLFNBQVMsR0FBRyxFQUFFO0lBQ2QsTUFBTTtJQUNOLFFBQVEsSUFBSSxDQUFDLEdBQUcsR0FBRyxJQUFHO0lBQ3RCLFFBQVEsSUFBSSxDQUFDLENBQUMsR0FBRyxFQUFDO0lBQ2xCLFFBQVEsSUFBSSxDQUFDLENBQUMsR0FBRyxFQUFDO0lBQ2xCLFFBQVEsSUFBSSxDQUFDLEtBQUssR0FBRyxNQUFLO0lBQzFCLFFBQVEsSUFBSSxDQUFDLFFBQVEsR0FBRyxFQUFDO0lBQ3pCLFFBQVEsSUFBSSxDQUFDLFFBQVEsR0FBRyxTQUFRO0lBQ2hDLFFBQVEsSUFBSSxDQUFDLFFBQVEsR0FBRyxTQUFRO0lBQ2hDLFFBQVEsSUFBSSxDQUFDLFdBQVcsR0FBRyxNQUFLO0lBQ2hDLFFBQVEsSUFBSSxDQUFDLFlBQVksR0FBRyxPQUFNO0lBQ2xDLFFBQVEsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLElBQUksSUFBSSxHQUFHLFFBQVEsR0FBRyxNQUFNLENBQUMsV0FBVTtJQUN2RSxRQUFRLElBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUyxJQUFJLElBQUksR0FBRyxTQUFTLEdBQUcsTUFBTSxDQUFDLFlBQVc7SUFDM0UsUUFBUSxJQUFJLENBQUMsU0FBUyxHQUFHLEtBQUk7SUFDN0IsS0FBSzs7SUFFTCxJQUFJLE1BQU0sR0FBRztJQUNiLFFBQVEsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFO0lBQzVCLFlBQVksSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUU7SUFDbkMsWUFBWSxJQUFJLENBQUMsU0FBUyxHQUFHLEtBQUk7SUFDakMsU0FBUztJQUNULEtBQUs7SUFDTCxDQUFDOztJQ3BDRCxTQUFTLE1BQU0sQ0FBQyxDQUFDLEVBQUU7SUFDbkIsSUFBSSxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQztJQUNyQixDQUFDO0FBQ0QsQUE4T0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBLE1BQU0sWUFBWSxDQUFDO0lBQ25CLElBQUksV0FBVyxDQUFDLEtBQUssRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRTtJQUN0QyxRQUFRLElBQUksQ0FBQyxLQUFLLEdBQUcsTUFBSztJQUMxQixRQUFRLElBQUksQ0FBQyxHQUFHLEdBQUcsSUFBRztJQUN0QixRQUFRLElBQUksQ0FBQyxHQUFHLEdBQUcsSUFBRztJQUN0QixRQUFRLElBQUksQ0FBQyxHQUFHLEdBQUcsSUFBRztJQUN0QixRQUFRLElBQUksQ0FBQyxFQUFFLEdBQUcsS0FBSTtJQUN0QixRQUFRLElBQUksQ0FBQyxFQUFFLEdBQUcsS0FBSTtJQUN0QixRQUFRLElBQUksQ0FBQyxFQUFFLEdBQUcsS0FBSTtJQUN0QixRQUFRLElBQUksQ0FBQyxFQUFFLEdBQUcsS0FBSTtJQUN0QixRQUFRLElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSTtJQUM1QixLQUFLOztJQUVMO0lBQ0E7SUFDQTtJQUNBLElBQUksT0FBTyxHQUFHO0lBQ2QsUUFBUSxJQUFJLElBQUksQ0FBQyxRQUFRLEtBQUssSUFBSSxFQUFFLE9BQU8sS0FBSztJQUNoRCxRQUFRO0lBQ1IsWUFBWSxJQUFJLENBQUMsRUFBRSxLQUFLLElBQUk7SUFDNUIsWUFBWSxJQUFJLENBQUMsRUFBRSxLQUFLLElBQUk7SUFDNUIsWUFBWSxJQUFJLENBQUMsRUFBRSxLQUFLLElBQUk7SUFDNUIsWUFBWSxJQUFJLENBQUMsRUFBRSxLQUFLLElBQUk7SUFDNUIsU0FBUztJQUNULEtBQUs7O0lBRUw7O0lBRUE7SUFDQTtJQUNBLElBQUksTUFBTSxDQUFDLElBQUksRUFBRTtJQUNqQixRQUFRLElBQUksSUFBSSxDQUFDLEVBQUUsS0FBSyxJQUFJLEVBQUUsSUFBSSxDQUFDLEVBQUUsR0FBRyxLQUFJO0lBQzVDLFFBQVEsSUFBSSxJQUFJLENBQUMsRUFBRSxLQUFLLElBQUksRUFBRSxJQUFJLENBQUMsRUFBRSxHQUFHLEtBQUk7SUFDNUMsUUFBUSxJQUFJLElBQUksQ0FBQyxFQUFFLEtBQUssSUFBSSxFQUFFLElBQUksQ0FBQyxFQUFFLEdBQUcsS0FBSTtJQUM1QyxRQUFRLElBQUksSUFBSSxDQUFDLEVBQUUsS0FBSyxJQUFJLEVBQUUsSUFBSSxDQUFDLEVBQUUsR0FB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SUFBSSxDQUFDLFFBQVEsSUFBSSxDQUFDLEVBQUU7SUFDNUIsTUFBTSxVQUFVLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyw0QkFBNEIsRUFBQztJQUN0RTtJQUNBO0lBQ0EsTUFBTSxLQUFLLEdBQUcsRUFBQztJQUNmLEtBQUs7O0lBRUwsSUFBSSxVQUFVLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLEVBQUM7SUFDckUsSUFBSSxVQUFVLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFDO0lBQzVFLElBQUksVUFBVSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxPQUFPLEdBQUcsTUFBTSxFQUFDO0lBQ3JFLElBQUksS0FBSyxJQUFJLEtBQUssR0FBRyxDQUFDLEVBQUUsS0FBSyxHQUFHLEtBQUssQ0FBQyxDQUFDLEVBQUUsS0FBSyxFQUFFLEVBQUU7O0lBRWxELE1BQU0sSUFBSSxTQUFTLEdBQUcsVUFBVSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxLQUFLLEVBQUM7SUFDbkUsTUFBTSxJQUFJLFNBQVMsR0FBRyxVQUFVLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUU7SUFDdEU7O0lBRUEsTUFBTSxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFOztJQUV6QyxRQUFRLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxHQUFHLEdBQUU7O0lBRXhDLFFBQVEsSUFBSSxJQUFJLENBQUMsSUFBSSxJQUFJLE1BQU0sRUFB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QUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0FBQ0EsSUFBZSxNQUFNLEtBQUssQ0FBQzs7SUFFM0I7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0EsSUFBSSxXQUFXLENBQUMsSUFBSSxHQUFHLEVBQUUsRUFBRTs7SUFFM0IsUUFBUSxNQUFNLFlBQVksR0FBRyxJQUFJLENBQUMsWUFBWSxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsWUFBWSxHQUFHLFNBQVE7SUFDckYsUUFBUSxNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsTUFBTSxHQUFHLFNBQVE7SUFDbkUsUUFBUSxNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsTUFBTSxHQUFHLFNBQVE7O0lBRW5FLFFBQVEsSUFBSSxDQUFDLElBQUksR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRTtJQUN0QyxZQUFZLE1BQU0sRUFBRSxFQUFFO0lBQ3RCLFlBQVksT0FBTyxFQUFFLEVBQUU7SUFDdkIsWUFBWSxNQUFNLEVBQUUsQ0FBQztJQUNyQixZQUFZLElBQUksRUFBRSxHQUFHO0lBQ3JCLFlBQVksTUFBTSxFQUFFLEVBQUU7SUFDdEIsWUFBWSxJQUFJLEVBQUUsQ0FBQztJQUNuQixZQUFZLFlBQVksRUFBRSxZQUFZO0lBQ3RDLFlBQVks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Q0FBQyxDQUFDLFlBQVksRUFBRSxRQUFRLENBQUMsRUFBQztJQUN2QyxLQUFLO0lBQ0wsQ0FBQzs7SUN6T0Q7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtBQUNBLElBQWUsTUFBTSxRQUFRLFNBQVMsSUFBSSxDQUFDLFNBQVMsQ0FBQztJQUNyRDtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBLElBQUksV0FBVyxDQUFDLElBQUksR0FBRyxFQUFFLEVBQUU7O0lBRTNCLFFBQVEsS0FBSyxHQUFFO0lBQ2Y7SUFDQSxRQUFRLE1BQU0sS0FBSyxHQUFHLEtBQUssQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBQztJQUNsRCxRQUFRLElBQUksQ0FBQyxLQUFLLEdBQUcsTUFBSzs7SUFFMUIsUUFBUSxJQUFJLENBQUMsSUFBSSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFO0lBQ3RDLFlBQVksRUFBRSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFFO0lBQ2hDLFlBQVksR0FBRyxFQUFFLE1BQU0sQ0FBQyxHQUFHO0lBQzNCLFlBQVksS0FBSyxFQUFFLElBQUk7SUFDdkIsWUFBWSxNQUFNLEVBQUUsQ0FBQztJQUNyQixZQUFZLE1BQU0sRUFBRSxHQUFHO0lBQ3ZCLFlBQVksT0FBTyxFQUFFLENBQUM7SUFDdEIsWUFBWSxJQUFJLEVBQUUsS0FBSyxDQUFDLElBQUk7SUFDNUIsWUFBWSxTQUFTLEVBQUUsS0FBSyxDQUFDLFNBQVM7SUFDdEMsWUFBWSxVQUFVLEVBQUUsS0FBSyxDQUFDLFlBQVk7SUFDMUMsWUFBWSxlQUFlLEVBQUUsS0FBSyxDQUFDLGVBQWU7SUFDbEQsWUFBWSxNQUFNLEVBQUUsS0FBSyxDQUFDLE1BQU07SUFDaEMsWUFBWSxXQUFXLEVBQUUsQ0FBQztJQUMxQixZQUFZLFdBQVcsRUFBRSxLQUFLLENBQUMsV0FBVztJQUMxQyxZQUFZLFlBQVksRUFBRSxLQUFLLENBQUMsWUFBWTtJQUM1QyxZQUFZLGlCQUFpQixFQUFFLENBQUM7SUFDaEMsWUFBWSxpQkFBaUIsRUFBRSxLQUFLLENBQUMsaUJBQWlCO0lBQ3RELFlBQVksVUFBVSxFQUFFLEtBQUs7SUFDN0IsWUFBWSxjQUFjLEVBQUUsS0FBSyxDQUFDLFVBQVU7SUFDNUMsWUFBWSxtQkFBbUIsRUFBRSxDQUFDO0lBQ2xDLFlBQVksTUFBTSxFQUFFLEtBQUssQ0FBQyxNQUFNO0lBQ2hDLFlBQVksaUJBQWlCLEVBQUUsSUFBSTtJQUNuQyxZQUFZLE9BQU8sRUFBRSxJQUFJO0lBQ3pCLFNBQVMsRUFBRSxJQUFJLEVBQUM7O0lBRWhCLFFBQVEsSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUU7O0lBRTlCLFFBQVEsSUFBSSxDQUFDLFVBQVUsR0FBRyxLQUFJO0lBQzlCLFFBQVEsSUFBSSxDQUFDLEdBQUcsR0FBRyxLQUFJO0lBQ3ZCLFFBQVEsSUFBSSxDQUFDLFNBQVMsR0FBRyxLQUFJOztJQUU3QixRQUFRLElBQUksQ0FBQyxLQUFLLEdBQUcsRUFBQztJQUN0QjtJQUNBLFFBQVEsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQU87O0lBRXhDLFFBQVEsSUFBSSxDQUFDLFNBQVMsR0FBRyxFQUFDOztJQUUxQjtJQUNBO0lBQ0EsUUFBUSxJQUFJLENBQUMsS0FBSyxHQUFFOztJQUVwQjtJQUNBO0lBQ0EsUUFBUSxJQUFJLENBQUMsTUFBTSxHQUFFO0lBQ3JCLEtBQUs7SUFDTDtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBLElBQUksS0FBSyxHQUFHOztJQUVaO0lBQ0E7SUFDQSxRQUFRLElBQUksQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsSUFBSTtJQUM5QixZQUFZLElBQUksQ0FBQyxJQUFJLEdBQUU7SUFDdkIsU0FBUyxFQUFDOztJQUVWO0lBQ0E7SUFDQSxRQUFRLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUU7SUFDbEMsWUFBWSxNQUFNLFVBQVUsR0FBRyxJQUFJLElBQUksQ0FBQyxRQUFRLEdBQUU7SUFDbEQsWUFBWSxJQUFJLENBQUMsVUFBVSxHQUFHLFdBQVU7SUFDeEMsWUFBWSxJQUFJLENBQUMsUUFBUSxDQUFDLFVBQVUsRUFBQztJQUNyQyxTQUFTOztJQUVUO0lBQ0E7SUFDQSxRQUFRLE1BQU0sR0FBRyxHQUFHLElBQUksSUFBSSxDQUFDLFFBQVEsR0FBRTtJQUN2QyxRQUFRLElBQUksQ0FBQyxHQUFHLEdBQUcsSUFBRztJQUN0QixRQUFRLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxFQUFDOztJQUUxQixRQUFRLE1BQU0sU0FBUyxHQUFHLElBQUksSUFBSSxDQUFDLFFBQVEsR0FBRTtJQUM3QyxRQUFRLElBQUksQ0FBQyxTQUFTLEdBQUcsVUFBUztJQUNsQyxRQUFRLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLFNBQVMsRUFBQzs7SUFFcEMsUUFBUSxPQUFPLElBQUk7SUFDbkIsS0FBSztJQUNMO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBLElBQUksTUFBTSxHQUFHOztJQUViLFFBQVEsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQUs7SUFDOUMsUUFBUSxNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsT0FBTTs7SUFFaEQ7SUFDQTtJQUNBLFFBQVEsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRTtJQUNsQyxZQUFZLElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxHQUFFO0lBQ25DLFlBQVksSUFB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QUFDLElBQUksRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBQztJQUNsRixTQUFTOztJQUVULFFBQVEsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRTtJQUNsQyxZQUFZLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLGVBQWUsRUFBQztJQUM1RixTQUFTO0lBQ1Q7SUFDQTtJQUNBO0lBQ0EsUUFBUSxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxhQUFhLEVBQUUsQ0FBQyxJQUFJO0lBQzNDLFlBQVksUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUMsS0FBSyxFQUFFLEdBQUcsRUFBRSxTQUFTLEVBQUUsTUFBTSxDQUFDLEVBQUM7SUFDdEcsU0FBUyxFQUFDOztJQUVWLFFBQVEsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsWUFBWSxFQUFFLENBQUMsSUFBSTtJQUMxQyxZQUFZLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLEVBQUUsU0FBUyxFQUFFLE1BQU0sQ0FBQyxFQUFDO0lBQ3BHLFNBQVMsRUFBQzs7SUFFVixRQUFRLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLGFBQWEsRUFBRSxDQUFDLElBQUk7SUFDM0MsWUFBWSxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQyxLQUFLLEVBQUUs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QUFDOztJQUVEO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0EsSUFBSSxRQUFRLENBQUMscVJBQXFSLENBQUM7SUFDblMsSUFBSSxVQUFVLENBQUMsMnNEQUEyc0QsQ0FBQztJQUMzdEQsSUFBSSxVQUFVLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLGtCQUFrQixDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLElBQUksWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsU0FBUyxDQUFDLEVBQUUsV0FBVyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUMsYUFBYSxDQUFD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
